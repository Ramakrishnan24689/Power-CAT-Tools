/*! For license information please see bundle.js.LICENSE.txt */
var pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad;(()=>{var e,t,r={7724:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLANK_URL=t.relativeFirstCharacters=t.whitespaceEscapeCharsRegex=t.urlSchemeRegex=t.ctrlCharactersRegex=t.htmlCtrlEntityRegex=t.htmlEntitiesRegex=t.invalidProtocolRegex=void 0,t.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,t.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,t.htmlCtrlEntityRegex=/&(newline|tab);/gi,t.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,t.urlSchemeRegex=/^.+(:|&colon;)/gim,t.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,t.relativeFirstCharacters=[".","/"],t.BLANK_URL="about:blank"},5397:(e,t,r)=>{"use strict";t.J=void 0;var n=r(7724);function i(e){try{return decodeURIComponent(e)}catch(t){return e}}t.J=function(e){if(!e)return n.BLANK_URL;var t,r,a=i(e.trim());do{t=(a=i(a=(r=a,r.replace(n.ctrlCharactersRegex,"").replace(n.htmlEntitiesRegex,(function(e,t){return String.fromCharCode(t)}))).replace(n.htmlCtrlEntityRegex,"").replace(n.ctrlCharactersRegex,"").replace(n.whitespaceEscapeCharsRegex,"").trim())).match(n.ctrlCharactersRegex)||a.match(n.htmlEntitiesRegex)||a.match(n.htmlCtrlEntityRegex)||a.match(n.whitespaceEscapeCharsRegex)}while(t&&t.length>0);var o=a;if(!o)return n.BLANK_URL;if(function(e){return n.relativeFirstCharacters.indexOf(e[0])>-1}(o))return o;var s=o.trimStart(),l=s.match(n.urlSchemeRegex);if(!l)return o;var u=l[0].toLowerCase().trim();if(n.invalidProtocolRegex.test(u))return n.BLANK_URL;var c=s.replace(/\\/g,"/");if("mailto:"===u||u.includes("://"))return c;if("http:"===u||"https:"===u){if(!function(e){return URL.canParse(e)}(c))return n.BLANK_URL;var h=new URL(c);return h.protocol=h.protocol.toLowerCase(),h.hostname=h.hostname.toLowerCase(),h.toString()}return c}},4131:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n="undefined"!=typeof window&&void 0!==window.document,i="object"===("undefined"==typeof self?"undefined":r(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,a="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;t.isBrowser=n,t.isWebWorker=i,t.isNode=a,t.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}},4058:function(e,t,r){var n;n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(0).FDLayoutConstants;function i(){}for(var a in n)i[a]=n[a];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=n.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TREE_REDUCTION_ON_INCREMENTAL=!1,e.exports=i},function(e,t,r){"use strict";var n=r(0).FDLayoutEdge;function i(e,t,r){n.call(this,e,t,r)}for(var a in i.prototype=Object.create(n.prototype),n)i[a]=n[a];e.exports=i},function(e,t,r){"use strict";var n=r(0).LGraph;function i(e,t,r){n.call(this,e,t,r)}for(var a in i.prototype=Object.create(n.prototype),n)i[a]=n[a];e.exports=i},function(e,t,r){"use strict";var n=r(0).LGraphManager;function i(e){n.call(this,e)}for(var a in i.prototype=Object.create(n.prototype),n)i[a]=n[a];e.exports=i},function(e,t,r){"use strict";var n=r(0).FDLayoutNode,i=r(0).IMath;function a(e,t,r,i){n.call(this,e,t,r,i)}for(var o in a.prototype=Object.create(n.prototype),n)a[o]=n[o];a.prototype.move=function(){var e=this.graphManager.getLayout();this.displacementX=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementY)),null==this.child||0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},a.prototype.propogateDisplacementToChildren=function(e,t){for(var r,n=this.getChild().getNodes(),i=0;i<n.length;i++)null==(r=n[i]).getChild()?(r.moveBy(e,t),r.displacementX+=e,r.displacementY+=t):r.propogateDisplacementToChildren(e,t)},a.prototype.setPred1=function(e){this.pred1=e},a.prototype.getPred1=function(){return pred1},a.prototype.getPred2=function(){return pred2},a.prototype.setNext=function(e){this.next=e},a.prototype.getNext=function(){return next},a.prototype.setProcessed=function(e){this.processed=e},a.prototype.isProcessed=function(){return processed},e.exports=a},function(e,t,r){"use strict";var n=r(0).FDLayout,i=r(4),a=r(3),o=r(5),s=r(2),l=r(1),u=r(0).FDLayoutConstants,c=r(0).LayoutConstants,h=r(0).Point,d=r(0).PointD,f=r(0).Layout,p=r(0).Integer,g=r(0).IGeometry,m=r(0).LGraph,y=r(0).Transform;function v(){n.call(this),this.toBeTiled={}}for(var b in v.prototype=Object.create(n.prototype),n)v[b]=n[b];v.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},v.prototype.newGraph=function(e){return new a(null,this.graphManager,e)},v.prototype.newNode=function(e){return new o(this.graphManager,e)},v.prototype.newEdge=function(e){return new s(null,null,e)},v.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.isSubLayout||(l.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=u.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=u.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/u.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=u.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},v.prototype.layout=function(){return c.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},v.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)l.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),r=this.nodesWithGravity.filter((function(e){return t.has(e)})),this.graphManager.setAllNodesToApplyGravitation(r));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),r=this.nodesWithGravity.filter((function(e){return t.has(e)}));this.graphManager.setAllNodesToApplyGravitation(r),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},v.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%u.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter((function(t){return e.has(t)}));this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var r=!this.isTreeGrowing&&!this.isGrowthFinished,n=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(r,n),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},v.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},r=0;r<e.length;r++){var n=e[r].rect,i=e[r].id;t[i]={id:i,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return t},v.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===u.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},v.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,r=[],n=this.graphManager.getGraphs(),i=n.length;for(t=0;t<i;t++)(e=n[t]).updateConnected(),e.isConnected||(r=r.concat(e.getNodes()));return r},v.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,r=new Set;for(t=0;t<e.length;t++){var n=e[t];if(!r.has(n)){var i=n.getSource(),a=n.getTarget();if(i==a)n.getBendpoints().push(new d),n.getBendpoints().push(new d),this.createDummyNodesForBendpoints(n),r.add(n);else{var o=[];if(o=(o=o.concat(i.getEdgeListToNode(a))).concat(a.getEdgeListToNode(i)),!r.has(o[0])){var s;if(o.length>1)for(s=0;s<o.length;s++){var l=o[s];l.getBendpoints().push(new d),this.createDummyNodesForBendpoints(l)}o.forEach((function(e){r.add(e)}))}}}if(r.size==e.length)break}},v.prototype.positionNodesRadially=function(e){for(var t=new h(0,0),r=Math.ceil(Math.sqrt(e.length)),n=0,i=0,a=0,o=new d(0,0),s=0;s<e.length;s++){s%r==0&&(a=0,i=n,0!=s&&(i+=l.DEFAULT_COMPONENT_SEPERATION),n=0);var u=e[s],p=f.findCenterOfTree(u);t.x=a,t.y=i,(o=v.radialLayout(u,p,t)).y>n&&(n=Math.floor(o.y)),a=Math.floor(o.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new d(c.WORLD_CENTER_X-o.x/2,c.WORLD_CENTER_Y-o.y/2))},v.radialLayout=function(e,t,r){var n=Math.max(this.maxDiagonalInTree(e),l.DEFAULT_RADIAL_SEPARATION);v.branchRadialLayout(t,null,0,359,0,n);var i=m.calculateBounds(e),a=new y;a.setDeviceOrgX(i.getMinX()),a.setDeviceOrgY(i.getMinY()),a.setWorldOrgX(r.x),a.setWorldOrgY(r.y);for(var o=0;o<e.length;o++)e[o].transform(a);var s=new d(i.getMaxX(),i.getMaxY());return a.inverseTransformPoint(s)},v.branchRadialLayout=function(e,t,r,n,i,a){var o=(n-r+1)/2;o<0&&(o+=180);var s=(o+r)%360*g.TWO_PI/360,l=(Math.cos(s),i*Math.cos(s)),u=i*Math.sin(s);e.setCenter(l,u);var c=[],h=(c=c.concat(e.getEdges())).length;null!=t&&h--;for(var d,f=0,p=c.length,m=e.getEdgesBetween(t);m.length>1;){var y=m[0];m.splice(0,1);var b=c.indexOf(y);b>=0&&c.splice(b,1),p--,h--}d=null!=t?(c.indexOf(m[0])+1)%p:0;for(var x=Math.abs(n-r)/h,w=d;f!=h;w=++w%p){var D=c[w].getOtherEnd(e);if(D!=t){var k=(r+f*x)%360,E=(k+x)%360;v.branchRadialLayout(D,e,k,E,i+a,a),f++}}},v.maxDiagonalInTree=function(e){for(var t=p.MIN_VALUE,r=0;r<e.length;r++){var n=e[r].getDiagonal();n>t&&(t=n)}return t},v.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},v.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var r=[],n=this.graphManager.getAllNodes(),i=0;i<n.length;i++){var a=(s=n[i]).getParent();0!==this.getNodeDegreeWithChildren(s)||null!=a.id&&this.getToBeTiled(a)||r.push(s)}for(i=0;i<r.length;i++){var s,l=(s=r[i]).getParent().id;void 0===t[l]&&(t[l]=[]),t[l]=t[l].concat(s)}Object.keys(t).forEach((function(r){if(t[r].length>1){var n="DummyCompound_"+r;e.memberGroups[n]=t[r];var i=t[r][0].getParent(),a=new o(e.graphManager);a.id=n,a.paddingLeft=i.paddingLeft||0,a.paddingRight=i.paddingRight||0,a.paddingBottom=i.paddingBottom||0,a.paddingTop=i.paddingTop||0,e.idToDummyNode[n]=a;var s=e.getGraphManager().add(e.newGraph(),a),l=i.getChild();l.add(a);for(var u=0;u<t[r].length;u++){var c=t[r][u];l.remove(c),s.add(c)}}}))},v.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var r=0;r<this.compoundOrder.length;r++)t[this.compoundOrder[r].id]=this.compoundOrder[r],e[this.compoundOrder[r].id]=[].concat(this.compoundOrder[r].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[r].getChild()),this.compoundOrder[r].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},v.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach((function(r){var n=e.idToDummyNode[r];t[r]=e.tileNodes(e.memberGroups[r],n.paddingLeft+n.paddingRight),n.rect.width=t[r].width,n.rect.height=t[r].height}))},v.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],r=t.id,n=t.paddingLeft,i=t.paddingTop;this.adjustLocations(this.tiledMemberPack[r],t.rect.x,t.rect.y,n,i)}},v.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach((function(r){var n=e.idToDummyNode[r],i=n.paddingLeft,a=n.paddingTop;e.adjustLocations(t[r],n.rect.x,n.rect.y,i,a)}))},v.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var r=e.getChild();if(null==r)return this.toBeTiled[t]=!1,!1;for(var n=r.getNodes(),i=0;i<n.length;i++){var a=n[i];if(this.getNodeDegree(a)>0)return this.toBeTiled[t]=!1,!1;if(null!=a.getChild()){if(!this.getToBeTiled(a))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[a.id]=!1}return this.toBeTiled[t]=!0,!0},v.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),r=0,n=0;n<t.length;n++){var i=t[n];i.getSource().id!==i.getTarget().id&&(r+=1)}return r},v.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var r=e.getChild().getNodes(),n=0;n<r.length;n++){var i=r[n];t+=this.getNodeDegreeWithChildren(i)}return t},v.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},v.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var r=e[t];null!=r.getChild()&&this.fillCompexOrderByDFS(r.getChild().getNodes()),this.getToBeTiled(r)&&this.compoundOrder.push(r)}},v.prototype.adjustLocations=function(e,t,r,n,i){r+=i;for(var a=t+=n,o=0;o<e.rows.length;o++){var s=e.rows[o];t=a;for(var l=0,u=0;u<s.length;u++){var c=s[u];c.rect.x=t,c.rect.y=r,t+=c.rect.width+e.horizontalPadding,c.rect.height>l&&(l=c.rect.height)}r+=l+e.verticalPadding}},v.prototype.tileCompoundMembers=function(e,t){var r=this;this.tiledMemberPack=[],Object.keys(e).forEach((function(n){var i=t[n];r.tiledMemberPack[n]=r.tileNodes(e[n],i.paddingLeft+i.paddingRight),i.rect.width=r.tiledMemberPack[n].width,i.rect.height=r.tiledMemberPack[n].height}))},v.prototype.tileNodes=function(e,t){var r={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:l.TILING_PADDING_VERTICAL,horizontalPadding:l.TILING_PADDING_HORIZONTAL};e.sort((function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0}));for(var n=0;n<e.length;n++){var i=e[n];0==r.rows.length?this.insertNodeToRow(r,i,0,t):this.canAddHorizontal(r,i.rect.width,i.rect.height)?this.insertNodeToRow(r,i,this.getShortestRowIndex(r),t):this.insertNodeToRow(r,i,r.rows.length,t),this.shiftToLastRow(r)}return r},v.prototype.insertNodeToRow=function(e,t,r,n){var i=n;r==e.rows.length&&(e.rows.push([]),e.rowWidth.push(i),e.rowHeight.push(0));var a=e.rowWidth[r]+t.rect.width;e.rows[r].length>0&&(a+=e.horizontalPadding),e.rowWidth[r]=a,e.width<a&&(e.width=a);var o=t.rect.height;r>0&&(o+=e.verticalPadding);var s=0;o>e.rowHeight[r]&&(s=e.rowHeight[r],e.rowHeight[r]=o,s=e.rowHeight[r]-s),e.height+=s,e.rows[r].push(t)},v.prototype.getShortestRowIndex=function(e){for(var t=-1,r=Number.MAX_VALUE,n=0;n<e.rows.length;n++)e.rowWidth[n]<r&&(t=n,r=e.rowWidth[n]);return t},v.prototype.getLongestRowIndex=function(e){for(var t=-1,r=Number.MIN_VALUE,n=0;n<e.rows.length;n++)e.rowWidth[n]>r&&(t=n,r=e.rowWidth[n]);return t},v.prototype.canAddHorizontal=function(e,t,r){var n=this.getShortestRowIndex(e);if(n<0)return!0;var i=e.rowWidth[n];if(i+e.horizontalPadding+t<=e.width)return!0;var a,o,s=0;return e.rowHeight[n]<r&&n>0&&(s=r+e.verticalPadding-e.rowHeight[n]),a=e.width-i>=t+e.horizontalPadding?(e.height+s)/(i+t+e.horizontalPadding):(e.height+s)/e.width,s=r+e.verticalPadding,(o=e.width<t?(e.height+s)/t:(e.height+s)/e.width)<1&&(o=1/o),a<1&&(a=1/a),a<o},v.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),r=e.rowWidth.length-1,n=e.rows[t],i=n[n.length-1],a=i.width+e.horizontalPadding;if(e.width-e.rowWidth[r]>a&&t!=r){n.splice(-1,1),e.rows[r].push(i),e.rowWidth[t]=e.rowWidth[t]-a,e.rowWidth[r]=e.rowWidth[r]+a,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var o=Number.MIN_VALUE,s=0;s<n.length;s++)n[s].height>o&&(o=n[s].height);t>0&&(o+=e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[r];e.rowHeight[t]=o,e.rowHeight[r]<i.height+e.verticalPadding&&(e.rowHeight[r]=i.height+e.verticalPadding);var u=e.rowHeight[t]+e.rowHeight[r];e.height+=u-l,this.shiftToLastRow(e)}},v.prototype.tilingPreLayout=function(){l.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},v.prototype.tilingPostLayout=function(){l.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},v.prototype.reduceTrees=function(){for(var e,t=[],r=!0;r;){var n=this.graphManager.getAllNodes(),i=[];r=!1;for(var a=0;a<n.length;a++)1!=(e=n[a]).getEdges().length||e.getEdges()[0].isInterGraph||null!=e.getChild()||(i.push([e,e.getEdges()[0],e.getOwner()]),r=!0);if(1==r){for(var o=[],s=0;s<i.length;s++)1==i[s][0].getEdges().length&&(o.push(i[s]),i[s][0].getOwner().remove(i[s][0]));t.push(o),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},v.prototype.growTree=function(e){for(var t,r=e[e.length-1],n=0;n<r.length;n++)t=r[n],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},v.prototype.findPlaceforPrunedNode=function(e){var t,r,n=e[0],i=(r=n==e[1].source?e[1].target:e[1].source).startX,a=r.finishX,o=r.startY,s=r.finishY,l=[0,0,0,0];if(o>0)for(var c=i;c<=a;c++)l[0]+=this.grid[c][o-1].length+this.grid[c][o].length-1;if(a<this.grid.length-1)for(c=o;c<=s;c++)l[1]+=this.grid[a+1][c].length+this.grid[a][c].length-1;if(s<this.grid[0].length-1)for(c=i;c<=a;c++)l[2]+=this.grid[c][s+1].length+this.grid[c][s].length-1;if(i>0)for(c=o;c<=s;c++)l[3]+=this.grid[i-1][c].length+this.grid[i][c].length-1;for(var h,d,f=p.MAX_VALUE,g=0;g<l.length;g++)l[g]<f?(f=l[g],h=1,d=g):l[g]==f&&h++;if(3==h&&0==f)0==l[0]&&0==l[1]&&0==l[2]?t=1:0==l[0]&&0==l[1]&&0==l[3]?t=0:0==l[0]&&0==l[2]&&0==l[3]?t=3:0==l[1]&&0==l[2]&&0==l[3]&&(t=2);else if(2==h&&0==f){var m=Math.floor(2*Math.random());t=0==l[0]&&0==l[1]?0==m?0:1:0==l[0]&&0==l[2]?0==m?0:2:0==l[0]&&0==l[3]?0==m?0:3:0==l[1]&&0==l[2]?0==m?1:2:0==l[1]&&0==l[3]?0==m?1:3:0==m?2:3}else t=4==h&&0==f?m=Math.floor(4*Math.random()):d;0==t?n.setCenter(r.getCenterX(),r.getCenterY()-r.getHeight()/2-u.DEFAULT_EDGE_LENGTH-n.getHeight()/2):1==t?n.setCenter(r.getCenterX()+r.getWidth()/2+u.DEFAULT_EDGE_LENGTH+n.getWidth()/2,r.getCenterY()):2==t?n.setCenter(r.getCenterX(),r.getCenterY()+r.getHeight()/2+u.DEFAULT_EDGE_LENGTH+n.getHeight()/2):n.setCenter(r.getCenterX()-r.getWidth()/2-u.DEFAULT_EDGE_LENGTH-n.getWidth()/2,r.getCenterY())},e.exports=v},function(e,t,r){"use strict";var n={};n.layoutBase=r(0),n.CoSEConstants=r(1),n.CoSEEdge=r(2),n.CoSEGraph=r(3),n.CoSEGraphManager=r(4),n.CoSELayout=r(6),n.CoSENode=r(5),e.exports=n}])},e.exports=n(r(8794))},1220:function(e,t,r){var n;n=function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=r(0).layoutBase.LayoutConstants,i=r(0).layoutBase.FDLayoutConstants,a=r(0).CoSEConstants,o=r(0).CoSELayout,s=r(0).CoSENode,l=r(0).layoutBase.PointD,u=r(0).layoutBase.DimensionD,c={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function h(e){this.options=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}(c,e),d(this.options)}var d=function(e){null!=e.nodeRepulsion&&(a.DEFAULT_REPULSION_STRENGTH=i.DEFAULT_REPULSION_STRENGTH=e.nodeRepulsion),null!=e.idealEdgeLength&&(a.DEFAULT_EDGE_LENGTH=i.DEFAULT_EDGE_LENGTH=e.idealEdgeLength),null!=e.edgeElasticity&&(a.DEFAULT_SPRING_STRENGTH=i.DEFAULT_SPRING_STRENGTH=e.edgeElasticity),null!=e.nestingFactor&&(a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(a.DEFAULT_GRAVITY_STRENGTH=i.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(a.MAX_ITERATIONS=i.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(a.DEFAULT_GRAVITY_RANGE_FACTOR=i.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(a.DEFAULT_COOLING_FACTOR_INCREMENTAL=i.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),"draft"==e.quality?n.QUALITY=0:"proof"==e.quality?n.QUALITY=2:n.QUALITY=1,a.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=n.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,a.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=n.DEFAULT_INCREMENTAL=!e.randomize,a.ANIMATE=i.ANIMATE=n.ANIMATE=e.animate,a.TILE=e.tile,a.TILING_PADDING_VERTICAL="function"==typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,a.TILING_PADDING_HORIZONTAL="function"==typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal};h.prototype.run=function(){var e,t,r=this.options,n=(this.idToLNode={},this.layout=new o),i=this;i.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var a=n.newGraphManager();this.gm=a;var s=this.options.eles.nodes(),l=this.options.eles.edges();this.root=a.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(s),n);for(var u=0;u<l.length;u++){var c=l[u],h=this.idToLNode[c.data("source")],d=this.idToLNode[c.data("target")];h!==d&&0==h.getEdgesBetween(d).length&&(a.add(n.newEdge(),h,d).id=c.id())}var f=function(e,t){"number"==typeof e&&(e=t);var r=e.data("id"),n=i.idToLNode[r];return{x:n.getRect().getCenterX(),y:n.getRect().getCenterY()}},p=function a(){for(var o,s=function(){r.fit&&r.cy.fit(r.eles,r.padding),e||(e=!0,i.cy.one("layoutready",r.ready),i.cy.trigger({type:"layoutready",layout:i}))},l=i.options.refresh,u=0;u<l&&!o;u++)o=i.stopped||i.layout.tick();if(o)return n.checkLayoutSuccess()&&!n.isSubLayout&&n.doPostLayout(),n.tilingPostLayout&&n.tilingPostLayout(),n.isLayoutFinished=!0,i.options.eles.nodes().positions(f),s(),i.cy.one("layoutstop",i.options.stop),i.cy.trigger({type:"layoutstop",layout:i}),t&&cancelAnimationFrame(t),void(e=!1);var c=i.layout.getPositionsData();r.eles.nodes().positions((function(e,t){if("number"==typeof e&&(e=t),!e.isParent()){for(var r=e.id(),n=c[r],i=e;null==n&&(n=c[i.data("parent")]||c["DummyCompound_"+i.data("parent")],c[r]=n,null!=(i=i.parent()[0])););return null!=n?{x:n.x,y:n.y}:{x:e.position("x"),y:e.position("y")}}})),s(),t=requestAnimationFrame(a)};return n.addListener("layoutstarted",(function(){"during"===i.options.animate&&(t=requestAnimationFrame(p))})),n.runLayout(),"during"!==this.options.animate&&(i.options.eles.nodes().not(":parent").layoutPositions(i,i.options,f),e=!1),this},h.prototype.getTopMostNodes=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].id()]=!0;var n=e.filter((function(e,r){"number"==typeof e&&(e=r);for(var n=e.parent()[0];null!=n;){if(t[n.id()])return!1;n=n.parent()[0]}return!0}));return n},h.prototype.processChildrenList=function(e,t,r){for(var n=t.length,i=0;i<n;i++){var a,o,c=t[i],h=c.children(),d=c.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((a=null!=c.outerWidth()&&null!=c.outerHeight()?e.add(new s(r.graphManager,new l(c.position("x")-d.w/2,c.position("y")-d.h/2),new u(parseFloat(d.w),parseFloat(d.h)))):e.add(new s(this.graphManager))).id=c.data("id"),a.paddingLeft=parseInt(c.css("padding")),a.paddingTop=parseInt(c.css("padding")),a.paddingRight=parseInt(c.css("padding")),a.paddingBottom=parseInt(c.css("padding")),this.options.nodeDimensionsIncludeLabels&&c.isParent()){var f=c.boundingBox({includeLabels:!0,includeNodes:!1}).w,p=c.boundingBox({includeLabels:!0,includeNodes:!1}).h,g=c.css("text-halign");a.labelWidth=f,a.labelHeight=p,a.labelPos=g}this.idToLNode[c.data("id")]=a,isNaN(a.rect.x)&&(a.rect.x=0),isNaN(a.rect.y)&&(a.rect.y=0),null!=h&&h.length>0&&(o=r.getGraphManager().add(r.newGraph(),a),this.processChildrenList(o,h,r))}},h.prototype.stop=function(){return this.stopped=!0,this};var f=function(e){e("layout","cose-bilkent",h)};"undefined"!=typeof cytoscape&&f(cytoscape),e.exports=f}])},e.exports=n(r(4058))},7138:function(e,t,r){var n;n=function(e){return(()=>{"use strict";var t={658:e=>{e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach((function(t){Object.keys(t).forEach((function(r){return e[r]=t[r]}))})),e}},548:(e,t,r)=>{var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=r(140).layoutBase.LinkedList,a={getTopMostNodes:function(e){for(var t={},r=0;r<e.length;r++)t[e[r].id()]=!0;var n=e.filter((function(e,r){"number"==typeof e&&(e=r);for(var n=e.parent()[0];null!=n;){if(t[n.id()])return!1;n=n.parent()[0]}return!0}));return n},connectComponents:function(e,t,r,n){var a=new i,o=new Set,s=[],l=void 0,u=void 0,c=void 0,h=!1,d=1,f=[],p=[],g=function(){var n=e.collection();p.push(n);var i=r[0],g=e.collection();g.merge(i).merge(i.descendants().intersection(t)),s.push(i),g.forEach((function(e){a.push(e),o.add(e),n.merge(e)}));for(var m=function(){i=a.shift();var u=e.collection();i.neighborhood().nodes().forEach((function(e){t.intersection(i.edgesWith(e)).length>0&&u.merge(e)}));for(var c=0;c<u.length;c++){var h=u[c];null==(l=r.intersection(h.union(h.ancestors())))||o.has(l[0])||l.union(l.descendants()).forEach((function(e){a.push(e),o.add(e),n.merge(e),r.has(e)&&s.push(e)}))}};0!=a.length;)m();if(n.forEach((function(e){t.intersection(e.connectedEdges()).forEach((function(e){n.has(e.source())&&n.has(e.target())&&n.merge(e)}))})),s.length==r.length&&(h=!0),!h||h&&d>1){u=s[0],c=u.connectedEdges().length,s.forEach((function(e){e.connectedEdges().length<c&&(c=e.connectedEdges().length,u=e)})),f.push(u.id());var y=e.collection();y.merge(s[0]),s.forEach((function(e){y.merge(e)})),s=[],r=r.difference(y),d++}};do{g()}while(!h);return n&&f.length>0&&n.set("dummy"+(n.size+1),f),p},relocateComponent:function(e,t,r){if(!r.fixedNodeConstraint){var i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;if("draft"==r.quality){var l=!0,u=!1,c=void 0;try{for(var h,d=t.nodeIndexes[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value,p=n(f,2),g=p[0],m=p[1],y=r.cy.getElementById(g);if(y){var v=y.boundingBox(),b=t.xCoords[m]-v.w/2,x=t.xCoords[m]+v.w/2,w=t.yCoords[m]-v.h/2,D=t.yCoords[m]+v.h/2;b<i&&(i=b),x>a&&(a=x),w<o&&(o=w),D>s&&(s=D)}}}catch(e){u=!0,c=e}finally{try{!l&&d.return&&d.return()}finally{if(u)throw c}}var k=e.x-(a+i)/2,E=e.y-(s+o)/2;t.xCoords=t.xCoords.map((function(e){return e+k})),t.yCoords=t.yCoords.map((function(e){return e+E}))}else{Object.keys(t).forEach((function(e){var r=t[e],n=r.getRect().x,l=r.getRect().x+r.getRect().width,u=r.getRect().y,c=r.getRect().y+r.getRect().height;n<i&&(i=n),l>a&&(a=l),u<o&&(o=u),c>s&&(s=c)}));var A=e.x-(a+i)/2,C=e.y-(s+o)/2;Object.keys(t).forEach((function(e){var r=t[e];r.setCenter(r.getCenterX()+A,r.getCenterY()+C)}))}}},calcBoundingBox:function(e,t,r,n){for(var i=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=void 0,u=void 0,c=void 0,h=void 0,d=e.descendants().not(":parent"),f=d.length,p=0;p<f;p++){var g=d[p];i>(l=t[n.get(g.id())]-g.width()/2)&&(i=l),a<(u=t[n.get(g.id())]+g.width()/2)&&(a=u),o>(c=r[n.get(g.id())]-g.height()/2)&&(o=c),s<(h=r[n.get(g.id())]+g.height()/2)&&(s=h)}var m={};return m.topLeftX=i,m.topLeftY=o,m.width=a-i,m.height=s-o,m},calcParentsWithoutChildren:function(e,t){var r=e.collection();return t.nodes(":parent").forEach((function(e){var t=!1;e.children().forEach((function(e){"none"!=e.css("display")&&(t=!0)})),t||r.merge(e)})),r}};e.exports=a},816:(e,t,r)=>{var n=r(548),i=r(140).CoSELayout,a=r(140).CoSENode,o=r(140).layoutBase.PointD,s=r(140).layoutBase.DimensionD,l=r(140).layoutBase.LayoutConstants,u=r(140).layoutBase.FDLayoutConstants,c=r(140).CoSEConstants;e.exports={coseLayout:function(e,t){var r=e.cy,h=e.eles,d=h.nodes(),f=h.edges(),p=void 0,g=void 0,m=void 0,y={};e.randomize&&(p=t.nodeIndexes,g=t.xCoords,m=t.yCoords);var v=function(e){return"function"==typeof e},b=function(e,t){return v(e)?e(t):e},x=n.calcParentsWithoutChildren(r,h);null!=e.nestingFactor&&(c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(c.DEFAULT_GRAVITY_STRENGTH=u.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(c.MAX_ITERATIONS=u.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(c.DEFAULT_GRAVITY_RANGE_FACTOR=u.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(c.DEFAULT_COMPOUND_GRAVITY_STRENGTH=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(c.DEFAULT_COOLING_FACTOR_INCREMENTAL=u.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),null!=e.tilingCompareBy&&(c.TILING_COMPARE_BY=e.tilingCompareBy),"proof"==e.quality?l.QUALITY=2:l.QUALITY=0,c.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,c.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!e.randomize,c.ANIMATE=u.ANIMATE=l.ANIMATE=e.animate,c.TILE=e.tile,c.TILING_PADDING_VERTICAL="function"==typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,c.TILING_PADDING_HORIZONTAL="function"==typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal,c.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=!0,c.PURE_INCREMENTAL=!e.randomize,l.DEFAULT_UNIFORM_LEAF_NODE_SIZES=e.uniformNodeDimensions,"transformed"==e.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,c.ENFORCE_CONSTRAINTS=!1,c.APPLY_LAYOUT=!1),"enforced"==e.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!1),"cose"==e.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!1,c.APPLY_LAYOUT=!0),"all"==e.step&&(e.randomize?c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!0),e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint?c.TREE_REDUCTION_ON_INCREMENTAL=!1:c.TREE_REDUCTION_ON_INCREMENTAL=!0;var w=new i,D=w.newGraphManager();return function e(t,r,i,l){for(var u=r.length,c=0;c<u;c++){var h=r[c],d=null;0==h.intersection(x).length&&(d=h.children());var f=void 0,v=h.layoutDimensions({nodeDimensionsIncludeLabels:l.nodeDimensionsIncludeLabels});if(null!=h.outerWidth()&&null!=h.outerHeight())if(l.randomize)if(h.isParent()){var w=n.calcBoundingBox(h,g,m,p);f=0==h.intersection(x).length?t.add(new a(i.graphManager,new o(w.topLeftX,w.topLeftY),new s(w.width,w.height))):t.add(new a(i.graphManager,new o(w.topLeftX,w.topLeftY),new s(parseFloat(v.w),parseFloat(v.h))))}else f=t.add(new a(i.graphManager,new o(g[p.get(h.id())]-v.w/2,m[p.get(h.id())]-v.h/2),new s(parseFloat(v.w),parseFloat(v.h))));else f=t.add(new a(i.graphManager,new o(h.position("x")-v.w/2,h.position("y")-v.h/2),new s(parseFloat(v.w),parseFloat(v.h))));else f=t.add(new a(this.graphManager));f.id=h.data("id"),f.nodeRepulsion=b(l.nodeRepulsion,h),f.paddingLeft=parseInt(h.css("padding")),f.paddingTop=parseInt(h.css("padding")),f.paddingRight=parseInt(h.css("padding")),f.paddingBottom=parseInt(h.css("padding")),l.nodeDimensionsIncludeLabels&&(f.labelWidth=h.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,f.labelHeight=h.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,f.labelPosVertical=h.css("text-valign"),f.labelPosHorizontal=h.css("text-halign")),y[h.data("id")]=f,isNaN(f.rect.x)&&(f.rect.x=0),isNaN(f.rect.y)&&(f.rect.y=0),null!=d&&d.length>0&&e(i.getGraphManager().add(i.newGraph(),f),d,i,l)}}(D.addRoot(),n.getTopMostNodes(d),w,e),function(t,r,n){for(var i=0,a=0,o=0;o<n.length;o++){var s=n[o],l=y[s.data("source")],h=y[s.data("target")];if(l&&h&&l!==h&&0==l.getEdgesBetween(h).length){var d=r.add(t.newEdge(),l,h);d.id=s.id(),d.idealLength=b(e.idealEdgeLength,s),d.edgeElasticity=b(e.edgeElasticity,s),i+=d.idealLength,a++}}null!=e.idealEdgeLength&&(a>0?c.DEFAULT_EDGE_LENGTH=u.DEFAULT_EDGE_LENGTH=i/a:v(e.idealEdgeLength)?c.DEFAULT_EDGE_LENGTH=u.DEFAULT_EDGE_LENGTH=50:c.DEFAULT_EDGE_LENGTH=u.DEFAULT_EDGE_LENGTH=e.idealEdgeLength,c.MIN_REPULSION_DIST=u.MIN_REPULSION_DIST=u.DEFAULT_EDGE_LENGTH/10,c.DEFAULT_RADIAL_SEPARATION=u.DEFAULT_EDGE_LENGTH)}(w,D,f),function(e,t){t.fixedNodeConstraint&&(e.constraints.fixedNodeConstraint=t.fixedNodeConstraint),t.alignmentConstraint&&(e.constraints.alignmentConstraint=t.alignmentConstraint),t.relativePlacementConstraint&&(e.constraints.relativePlacementConstraint=t.relativePlacementConstraint)}(w,e),w.runLayout(),y}}},212:(e,t,r)=>{var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(658),a=r(548),o=r(657).spectralLayout,s=r(816).coseLayout,l=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(e){return 4500},idealEdgeLength:function(e){return 50},edgeElasticity:function(e){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i({},l,t)}return n(e,[{key:"run",value:function(){var e=this.options,t=e.cy,r=e.eles,n=[],i=[],l=void 0,u=[];!e.fixedNodeConstraint||Array.isArray(e.fixedNodeConstraint)&&0!=e.fixedNodeConstraint.length||(e.fixedNodeConstraint=void 0),e.alignmentConstraint&&(!e.alignmentConstraint.vertical||Array.isArray(e.alignmentConstraint.vertical)&&0!=e.alignmentConstraint.vertical.length||(e.alignmentConstraint.vertical=void 0),!e.alignmentConstraint.horizontal||Array.isArray(e.alignmentConstraint.horizontal)&&0!=e.alignmentConstraint.horizontal.length||(e.alignmentConstraint.horizontal=void 0)),!e.relativePlacementConstraint||Array.isArray(e.relativePlacementConstraint)&&0!=e.relativePlacementConstraint.length||(e.relativePlacementConstraint=void 0),(e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint)&&(e.tile=!1,e.packComponents=!1);var c=void 0,h=!1;if(t.layoutUtilities&&e.packComponents&&((c=t.layoutUtilities("get"))||(c=t.layoutUtilities()),h=!0),r.nodes().length>0)if(h){var d=a.getTopMostNodes(e.eles.nodes());if((l=a.connectComponents(t,e.eles,d)).forEach((function(e){var t=e.boundingBox();u.push({x:t.x1+t.w/2,y:t.y1+t.h/2})})),e.randomize&&l.forEach((function(t){e.eles=t,n.push(o(e))})),"default"==e.quality||"proof"==e.quality){var f=t.collection();if(e.tile){var p=new Map,g=0,m={nodeIndexes:p,xCoords:[],yCoords:[]},y=[];if(l.forEach((function(e,t){0==e.edges().length&&(e.nodes().forEach((function(t,r){f.merge(e.nodes()[r]),t.isParent()||(m.nodeIndexes.set(e.nodes()[r].id(),g++),m.xCoords.push(e.nodes()[0].position().x),m.yCoords.push(e.nodes()[0].position().y))})),y.push(t))})),f.length>1){var v=f.boundingBox();u.push({x:v.x1+v.w/2,y:v.y1+v.h/2}),l.push(f),n.push(m);for(var b=y.length-1;b>=0;b--)l.splice(y[b],1),n.splice(y[b],1),u.splice(y[b],1)}}l.forEach((function(t,r){e.eles=t,i.push(s(e,n[r])),a.relocateComponent(u[r],i[r],e)}))}else l.forEach((function(t,r){a.relocateComponent(u[r],n[r],e)}));var x=new Set;if(l.length>1){var w=[],D=r.filter((function(e){return"none"==e.css("display")}));l.forEach((function(t,r){var o=void 0;if("draft"==e.quality&&(o=n[r].nodeIndexes),t.nodes().not(D).length>0){var s={edges:[],nodes:[]},l=void 0;t.nodes().not(D).forEach((function(t){if("draft"==e.quality)if(t.isParent()){var u=a.calcBoundingBox(t,n[r].xCoords,n[r].yCoords,o);s.nodes.push({x:u.topLeftX,y:u.topLeftY,width:u.width,height:u.height})}else l=o.get(t.id()),s.nodes.push({x:n[r].xCoords[l]-t.boundingbox().w/2,y:n[r].yCoords[l]-t.boundingbox().h/2,width:t.boundingbox().w,height:t.boundingbox().h});else i[r][t.id()]&&s.nodes.push({x:i[r][t.id()].getLeft(),y:i[r][t.id()].getTop(),width:i[r][t.id()].getWidth(),height:i[r][t.id()].getHeight()})})),t.edges().forEach((function(t){var l=t.source(),u=t.target();if("none"!=l.css("display")&&"none"!=u.css("display"))if("draft"==e.quality){var c=o.get(l.id()),h=o.get(u.id()),d=[],f=[];if(l.isParent()){var p=a.calcBoundingBox(l,n[r].xCoords,n[r].yCoords,o);d.push(p.topLeftX+p.width/2),d.push(p.topLeftY+p.height/2)}else d.push(n[r].xCoords[c]),d.push(n[r].yCoords[c]);if(u.isParent()){var g=a.calcBoundingBox(u,n[r].xCoords,n[r].yCoords,o);f.push(g.topLeftX+g.width/2),f.push(g.topLeftY+g.height/2)}else f.push(n[r].xCoords[h]),f.push(n[r].yCoords[h]);s.edges.push({startX:d[0],startY:d[1],endX:f[0],endY:f[1]})}else i[r][l.id()]&&i[r][u.id()]&&s.edges.push({startX:i[r][l.id()].getCenterX(),startY:i[r][l.id()].getCenterY(),endX:i[r][u.id()].getCenterX(),endY:i[r][u.id()].getCenterY()})})),s.nodes.length>0&&(w.push(s),x.add(r))}}));var k=c.packComponents(w,e.randomize).shifts;if("draft"==e.quality)n.forEach((function(e,t){var r=e.xCoords.map((function(e){return e+k[t].dx})),n=e.yCoords.map((function(e){return e+k[t].dy}));e.xCoords=r,e.yCoords=n}));else{var E=0;x.forEach((function(e){Object.keys(i[e]).forEach((function(t){var r=i[e][t];r.setCenter(r.getCenterX()+k[E].dx,r.getCenterY()+k[E].dy)})),E++}))}}}else{var A=e.eles.boundingBox();if(u.push({x:A.x1+A.w/2,y:A.y1+A.h/2}),e.randomize){var C=o(e);n.push(C)}"default"==e.quality||"proof"==e.quality?(i.push(s(e,n[0])),a.relocateComponent(u[0],i[0],e)):a.relocateComponent(u[0],n[0],e)}var _=function(t,r){if("default"==e.quality||"proof"==e.quality){"number"==typeof t&&(t=r);var a=void 0,o=void 0,s=t.data("id");return i.forEach((function(e){s in e&&(a={x:e[s].getRect().getCenterX(),y:e[s].getRect().getCenterY()},o=e[s])})),e.nodeDimensionsIncludeLabels&&(o.labelWidth&&("left"==o.labelPosHorizontal?a.x+=o.labelWidth/2:"right"==o.labelPosHorizontal&&(a.x-=o.labelWidth/2)),o.labelHeight&&("top"==o.labelPosVertical?a.y+=o.labelHeight/2:"bottom"==o.labelPosVertical&&(a.y-=o.labelHeight/2))),null==a&&(a={x:t.position("x"),y:t.position("y")}),{x:a.x,y:a.y}}var l=void 0;return n.forEach((function(e){var r=e.nodeIndexes.get(t.id());null!=r&&(l={x:e.xCoords[r],y:e.yCoords[r]})})),null==l&&(l={x:t.position("x"),y:t.position("y")}),{x:l.x,y:l.y}};if("default"==e.quality||"proof"==e.quality||e.randomize){var T=a.calcParentsWithoutChildren(t,r),S=r.filter((function(e){return"none"==e.css("display")}));e.eles=r.not(S),r.nodes().not(":parent").not(S).layoutPositions(this,e,_),T.length>0&&T.forEach((function(e){e.position(_(e))}))}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),e}();e.exports=u},657:(e,t,r)=>{var n=r(548),i=r(140).layoutBase.Matrix,a=r(140).layoutBase.SVD;e.exports={spectralLayout:function(e){var t=e.cy,r=e.eles,o=r.nodes(),s=r.nodes(":parent"),l=new Map,u=new Map,c=new Map,h=[],d=[],f=[],p=[],g=[],m=[],y=[],v=[],b=void 0,x=1e8,w=1e-9,D=e.piTol,k=e.samplingType,E=e.nodeSeparation,A=void 0,C=function(e,t,r){for(var n=[],i=0,a=0,o=0,s=void 0,l=[],c=0,d=1,f=0;f<b;f++)l[f]=x;for(n[a]=e,l[e]=0;a>=i;){o=n[i++];for(var p=h[o],y=0;y<p.length;y++)l[s=u.get(p[y])]==x&&(l[s]=l[o]+1,n[++a]=s);m[o][t]=l[o]*E}if(r){for(var v=0;v<b;v++)m[v][t]<g[v]&&(g[v]=m[v][t]);for(var w=0;w<b;w++)g[w]>c&&(c=g[w],d=w)}return d};n.connectComponents(t,r,n.getTopMostNodes(o),l),s.forEach((function(e){n.connectComponents(t,r,n.getTopMostNodes(e.descendants().intersection(r)),l)}));for(var _=0,T=0;T<o.length;T++)o[T].isParent()||u.set(o[T].id(),_++);var S=!0,F=!1,O=void 0;try{for(var B,N=l.keys()[Symbol.iterator]();!(S=(B=N.next()).done);S=!0){var L=B.value;u.set(L,_++)}}catch(e){F=!0,O=e}finally{try{!S&&N.return&&N.return()}finally{if(F)throw O}}for(var I=0;I<u.size;I++)h[I]=[];s.forEach((function(e){for(var t=e.children().intersection(r);0==t.nodes(":childless").length;)t=t.nodes()[0].children().intersection(r);var n=0,i=t.nodes(":childless")[0].connectedEdges().length;t.nodes(":childless").forEach((function(e,t){e.connectedEdges().length<i&&(i=e.connectedEdges().length,n=t)})),c.set(e.id(),t.nodes(":childless")[n].id())})),o.forEach((function(e){var t;t=e.isParent()?u.get(c.get(e.id())):u.get(e.id()),e.neighborhood().nodes().forEach((function(n){r.intersection(e.edgesWith(n)).length>0&&(n.isParent()?h[t].push(c.get(n.id())):h[t].push(n.id()))}))}));var R=function(e){var r=u.get(e),n=void 0;l.get(e).forEach((function(i){n=t.getElementById(i).isParent()?c.get(i):i,h[r].push(n),h[u.get(n)].push(e)}))},M=!0,P=!1,z=void 0;try{for(var $,j=l.keys()[Symbol.iterator]();!(M=($=j.next()).done);M=!0)R($.value)}catch(e){P=!0,z=e}finally{try{!M&&j.return&&j.return()}finally{if(P)throw z}}var K=void 0;if((b=u.size)>2){A=b<e.sampleSize?b:e.sampleSize;for(var q=0;q<b;q++)m[q]=[];for(var U=0;U<A;U++)v[U]=[];return"draft"==e.quality||"all"==e.step?(function(e){var t=void 0;if(e){t=Math.floor(Math.random()*b);for(var r=0;r<b;r++)g[r]=x;for(var n=0;n<A;n++)p[n]=t,t=C(t,n,e)}else{!function(){for(var e=0,t=0,r=!1;t<A;){e=Math.floor(Math.random()*b),r=!1;for(var n=0;n<t;n++)if(p[n]==e){r=!0;break}r||(p[t]=e,t++)}}();for(var i=0;i<A;i++)C(p[i],i,e)}for(var a=0;a<b;a++)for(var o=0;o<A;o++)m[a][o]*=m[a][o];for(var s=0;s<A;s++)y[s]=[];for(var l=0;l<A;l++)for(var u=0;u<A;u++)y[l][u]=m[p[u]][l]}(k),function(){for(var e=a.svd(y),t=e.S,r=e.U,n=e.V,o=t[0]*t[0]*t[0],s=[],l=0;l<A;l++){s[l]=[];for(var u=0;u<A;u++)s[l][u]=0,l==u&&(s[l][u]=t[l]/(t[l]*t[l]+o/(t[l]*t[l])))}v=i.multMat(i.multMat(n,s),i.transpose(r))}(),function(){for(var e=void 0,t=void 0,r=[],n=[],a=[],o=[],s=0;s<b;s++)r[s]=Math.random(),n[s]=Math.random();r=i.normalize(r),n=i.normalize(n);for(var l=w,u=w,c=void 0;;){for(var h=0;h<b;h++)a[h]=r[h];if(r=i.multGamma(i.multL(i.multGamma(a),m,v)),e=i.dotProduct(a,r),r=i.normalize(r),l=i.dotProduct(a,r),(c=Math.abs(l/u))<=1+D&&c>=1)break;u=l}for(var p=0;p<b;p++)a[p]=r[p];for(u=w;;){for(var g=0;g<b;g++)o[g]=n[g];if(o=i.minusOp(o,i.multCons(a,i.dotProduct(a,o))),n=i.multGamma(i.multL(i.multGamma(o),m,v)),t=i.dotProduct(o,n),n=i.normalize(n),l=i.dotProduct(o,n),(c=Math.abs(l/u))<=1+D&&c>=1)break;u=l}for(var y=0;y<b;y++)o[y]=n[y];d=i.multCons(a,Math.sqrt(Math.abs(e))),f=i.multCons(o,Math.sqrt(Math.abs(t)))}(),K={nodeIndexes:u,xCoords:d,yCoords:f}):(u.forEach((function(e,r){d.push(t.getElementById(r).position("x")),f.push(t.getElementById(r).position("y"))})),K={nodeIndexes:u,xCoords:d,yCoords:f}),K}var H=u.keys(),W=t.getElementById(H.next().value),G=W.position(),V=W.outerWidth();if(d.push(G.x),f.push(G.y),2==b){var Y=t.getElementById(H.next().value).outerWidth();d.push(G.x+V/2+Y/2+e.idealEdgeLength),f.push(G.y)}return{nodeIndexes:u,xCoords:d,yCoords:f}}}},579:(e,t,r)=>{var n=r(212),i=function(e){e&&e("layout","fcose",n)};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i},140:t=>{t.exports=e}},r={},n=function e(n){var i=r[n];if(void 0!==i)return i.exports;var a=r[n]={exports:{}};return t[n](a,a.exports,e),a.exports}(579);return n})()},e.exports=n(r(9850))},9850:function(e,t,r){var n;n=function(e){return(()=>{"use strict";var t={45:(e,t,r)=>{var n={};n.layoutBase=r(551),n.CoSEConstants=r(806),n.CoSEEdge=r(767),n.CoSEGraph=r(880),n.CoSEGraphManager=r(578),n.CoSELayout=r(765),n.CoSENode=r(991),n.ConstraintHandler=r(902),e.exports=n},806:(e,t,r)=>{var n=r(551).FDLayoutConstants;function i(){}for(var a in n)i[a]=n[a];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=n.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,i.ENFORCE_CONSTRAINTS=!0,i.APPLY_LAYOUT=!0,i.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,i.TREE_REDUCTION_ON_INCREMENTAL=!0,i.PURE_INCREMENTAL=i.DEFAULT_INCREMENTAL,e.exports=i},767:(e,t,r)=>{var n=r(551).FDLayoutEdge;function i(e,t,r){n.call(this,e,t,r)}for(var a in i.prototype=Object.create(n.prototype),n)i[a]=n[a];e.exports=i},880:(e,t,r)=>{var n=r(551).LGraph;function i(e,t,r){n.call(this,e,t,r)}for(var a in i.prototype=Object.create(n.prototype),n)i[a]=n[a];e.exports=i},578:(e,t,r)=>{var n=r(551).LGraphManager;function i(e){n.call(this,e)}for(var a in i.prototype=Object.create(n.prototype),n)i[a]=n[a];e.exports=i},765:(e,t,r)=>{var n=r(551).FDLayout,i=r(578),a=r(880),o=r(991),s=r(767),l=r(806),u=r(902),c=r(551).FDLayoutConstants,h=r(551).LayoutConstants,d=r(551).Point,f=r(551).PointD,p=r(551).DimensionD,g=r(551).Layout,m=r(551).Integer,y=r(551).IGeometry,v=r(551).LGraph,b=r(551).Transform,x=r(551).LinkedList;function w(){n.call(this),this.toBeTiled={},this.constraints={}}for(var D in w.prototype=Object.create(n.prototype),n)w[D]=n[D];w.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},w.prototype.newGraph=function(e){return new a(null,this.graphManager,e)},w.prototype.newNode=function(e){return new o(this.graphManager,e)},w.prototype.newEdge=function(e){return new s(null,null,e)},w.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.isSubLayout||(l.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},w.prototype.initSpringEmbedder=function(){n.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/c.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},w.prototype.layout=function(){return h.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},w.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)l.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),r=this.nodesWithGravity.filter((function(e){return t.has(e)})),this.graphManager.setAllNodesToApplyGravitation(r));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),r=this.nodesWithGravity.filter((function(e){return t.has(e)}));this.graphManager.setAllNodesToApplyGravitation(r),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(u.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),l.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},w.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter((function(t){return e.has(t)}));this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),l.PURE_INCREMENTAL?this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),l.PURE_INCREMENTAL?this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var r=!this.isTreeGrowing&&!this.isGrowthFinished,n=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(r,n),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},w.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},r=0;r<e.length;r++){var n=e[r].rect,i=e[r].id;t[i]={id:i,x:n.getCenterX(),y:n.getCenterY(),w:n.width,h:n.height}}return t},w.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===c.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},w.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),t=0;t<e.length;t++)e[t].move()},w.prototype.initConstraintVariables=function(){var e=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var t=this.graphManager.getAllNodes(),r=0;r<t.length;r++){var n=t[r];this.idToNodeMap.set(n.id,n)}var i=function t(r){for(var n,i=r.getChild().getNodes(),a=0,o=0;o<i.length;o++)null==(n=i[o]).getChild()?e.fixedNodeSet.has(n.id)&&(a+=100):a+=t(n);return a};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach((function(t){e.fixedNodeSet.add(t.nodeId)})),t=this.graphManager.getAllNodes(),r=0;r<t.length;r++)if(null!=(n=t[r]).getChild()){var a=i(n);a>0&&(n.fixedNodeWeight=a)}if(this.constraints.relativePlacementConstraint){var o=new Map,s=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach((function(t){e.fixedNodesOnHorizontal.add(t),e.fixedNodesOnVertical.add(t)})),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var u=this.constraints.alignmentConstraint.vertical;for(r=0;r<u.length;r++)this.dummyToNodeForVerticalAlignment.set("dummy"+r,[]),u[r].forEach((function(t){o.set(t,"dummy"+r),e.dummyToNodeForVerticalAlignment.get("dummy"+r).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnHorizontal.add("dummy"+r)}))}if(this.constraints.alignmentConstraint.horizontal){var c=this.constraints.alignmentConstraint.horizontal;for(r=0;r<c.length;r++)this.dummyToNodeForHorizontalAlignment.set("dummy"+r,[]),c[r].forEach((function(t){s.set(t,"dummy"+r),e.dummyToNodeForHorizontalAlignment.get("dummy"+r).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnVertical.add("dummy"+r)}))}}if(l.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(e){var t,r,n;for(n=e.length-1;n>=2*e.length/3;n--)t=Math.floor(Math.random()*(n+1)),r=e[n],e[n]=e[t],e[t]=r;return e},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach((function(t){if(t.left){var r=o.has(t.left)?o.get(t.left):t.left,n=o.has(t.right)?o.get(t.right):t.right;e.nodesInRelativeHorizontal.includes(r)||(e.nodesInRelativeHorizontal.push(r),e.nodeToRelativeConstraintMapHorizontal.set(r,[]),e.dummyToNodeForVerticalAlignment.has(r)?e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(r).getCenterX())),e.nodesInRelativeHorizontal.includes(n)||(e.nodesInRelativeHorizontal.push(n),e.nodeToRelativeConstraintMapHorizontal.set(n,[]),e.dummyToNodeForVerticalAlignment.has(n)?e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(n)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(n).getCenterX())),e.nodeToRelativeConstraintMapHorizontal.get(r).push({right:n,gap:t.gap}),e.nodeToRelativeConstraintMapHorizontal.get(n).push({left:r,gap:t.gap})}else{var i=s.has(t.top)?s.get(t.top):t.top,a=s.has(t.bottom)?s.get(t.bottom):t.bottom;e.nodesInRelativeVertical.includes(i)||(e.nodesInRelativeVertical.push(i),e.nodeToRelativeConstraintMapVertical.set(i,[]),e.dummyToNodeForHorizontalAlignment.has(i)?e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(i).getCenterY())),e.nodesInRelativeVertical.includes(a)||(e.nodesInRelativeVertical.push(a),e.nodeToRelativeConstraintMapVertical.set(a,[]),e.dummyToNodeForHorizontalAlignment.has(a)?e.nodeToTempPositionMapVertical.set(a,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(a)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(a,e.idToNodeMap.get(a).getCenterY())),e.nodeToRelativeConstraintMapVertical.get(i).push({bottom:a,gap:t.gap}),e.nodeToRelativeConstraintMapVertical.get(a).push({top:i,gap:t.gap})}}));else{var h=new Map,d=new Map;this.constraints.relativePlacementConstraint.forEach((function(e){if(e.left){var t=o.has(e.left)?o.get(e.left):e.left,r=o.has(e.right)?o.get(e.right):e.right;h.has(t)?h.get(t).push(r):h.set(t,[r]),h.has(r)?h.get(r).push(t):h.set(r,[t])}else{var n=s.has(e.top)?s.get(e.top):e.top,i=s.has(e.bottom)?s.get(e.bottom):e.bottom;d.has(n)?d.get(n).push(i):d.set(n,[i]),d.has(i)?d.get(i).push(n):d.set(i,[n])}}));var f=function(e,t){var r=[],n=[],i=new x,a=new Set,o=0;return e.forEach((function(s,l){if(!a.has(l)){r[o]=[],n[o]=!1;var u=l;for(i.push(u),a.add(u),r[o].push(u);0!=i.length;)u=i.shift(),t.has(u)&&(n[o]=!0),e.get(u).forEach((function(e){a.has(e)||(i.push(e),a.add(e),r[o].push(e))}));o++}})),{components:r,isFixed:n}},p=f(h,e.fixedNodesOnHorizontal);this.componentsOnHorizontal=p.components,this.fixedComponentsOnHorizontal=p.isFixed;var g=f(d,e.fixedNodesOnVertical);this.componentsOnVertical=g.components,this.fixedComponentsOnVertical=g.isFixed}}},w.prototype.updateDisplacements=function(){var e=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach((function(t){var r=e.idToNodeMap.get(t.nodeId);r.displacementX=0,r.displacementY=0})),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var t=this.constraints.alignmentConstraint.vertical,r=0;r<t.length;r++){for(var n=0,i=0;i<t[r].length;i++){if(this.fixedNodeSet.has(t[r][i])){n=0;break}n+=this.idToNodeMap.get(t[r][i]).displacementX}var a=n/t[r].length;for(i=0;i<t[r].length;i++)this.idToNodeMap.get(t[r][i]).displacementX=a}if(this.constraints.alignmentConstraint.horizontal){var o=this.constraints.alignmentConstraint.horizontal;for(r=0;r<o.length;r++){var s=0;for(i=0;i<o[r].length;i++){if(this.fixedNodeSet.has(o[r][i])){s=0;break}s+=this.idToNodeMap.get(o[r][i]).displacementY}var u=s/o[r].length;for(i=0;i<o[r].length;i++)this.idToNodeMap.get(o[r][i]).displacementY=u}}}if(this.constraints.relativePlacementConstraint)if(l.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach((function(t){if(!e.fixedNodesOnHorizontal.has(t)){var r=0;r=e.dummyToNodeForVerticalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(t)[0]).displacementX:e.idToNodeMap.get(t).displacementX,e.nodeToRelativeConstraintMapHorizontal.get(t).forEach((function(n){var i;n.right?(i=e.nodeToTempPositionMapHorizontal.get(n.right)-e.nodeToTempPositionMapHorizontal.get(t)-r)<n.gap&&(r-=n.gap-i):(i=e.nodeToTempPositionMapHorizontal.get(t)-e.nodeToTempPositionMapHorizontal.get(n.left)+r)<n.gap&&(r+=n.gap-i)})),e.nodeToTempPositionMapHorizontal.set(t,e.nodeToTempPositionMapHorizontal.get(t)+r),e.dummyToNodeForVerticalAlignment.has(t)?e.dummyToNodeForVerticalAlignment.get(t).forEach((function(t){e.idToNodeMap.get(t).displacementX=r})):e.idToNodeMap.get(t).displacementX=r}})),this.nodesInRelativeVertical.forEach((function(t){if(!e.fixedNodesOnHorizontal.has(t)){var r=0;r=e.dummyToNodeForHorizontalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(t)[0]).displacementY:e.idToNodeMap.get(t).displacementY,e.nodeToRelativeConstraintMapVertical.get(t).forEach((function(n){var i;n.bottom?(i=e.nodeToTempPositionMapVertical.get(n.bottom)-e.nodeToTempPositionMapVertical.get(t)-r)<n.gap&&(r-=n.gap-i):(i=e.nodeToTempPositionMapVertical.get(t)-e.nodeToTempPositionMapVertical.get(n.top)+r)<n.gap&&(r+=n.gap-i)})),e.nodeToTempPositionMapVertical.set(t,e.nodeToTempPositionMapVertical.get(t)+r),e.dummyToNodeForHorizontalAlignment.has(t)?e.dummyToNodeForHorizontalAlignment.get(t).forEach((function(t){e.idToNodeMap.get(t).displacementY=r})):e.idToNodeMap.get(t).displacementY=r}}));else{for(r=0;r<this.componentsOnHorizontal.length;r++){var c=this.componentsOnHorizontal[r];if(this.fixedComponentsOnHorizontal[r])for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?this.dummyToNodeForVerticalAlignment.get(c[i]).forEach((function(t){e.idToNodeMap.get(t).displacementX=0})):this.idToNodeMap.get(c[i]).displacementX=0;else{var h=0,d=0;for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?(h+=(p=this.dummyToNodeForVerticalAlignment.get(c[i])).length*this.idToNodeMap.get(p[0]).displacementX,d+=p.length):(h+=this.idToNodeMap.get(c[i]).displacementX,d++);var f=h/d;for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?this.dummyToNodeForVerticalAlignment.get(c[i]).forEach((function(t){e.idToNodeMap.get(t).displacementX=f})):this.idToNodeMap.get(c[i]).displacementX=f}}for(r=0;r<this.componentsOnVertical.length;r++)if(c=this.componentsOnVertical[r],this.fixedComponentsOnVertical[r])for(i=0;i<c.length;i++)this.dummyToNodeForHorizontalAlignment.has(c[i])?this.dummyToNodeForHorizontalAlignment.get(c[i]).forEach((function(t){e.idToNodeMap.get(t).displacementY=0})):this.idToNodeMap.get(c[i]).displacementY=0;else{for(h=0,d=0,i=0;i<c.length;i++){var p;this.dummyToNodeForHorizontalAlignment.has(c[i])?(h+=(p=this.dummyToNodeForHorizontalAlignment.get(c[i])).length*this.idToNodeMap.get(p[0]).displacementY,d+=p.length):(h+=this.idToNodeMap.get(c[i]).displacementY,d++)}for(f=h/d,i=0;i<c.length;i++)this.dummyToNodeForHorizontalAlignment.has(c[i])?this.dummyToNodeForHorizontalAlignment.get(c[i]).forEach((function(t){e.idToNodeMap.get(t).displacementY=f})):this.idToNodeMap.get(c[i]).displacementY=f}}},w.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,r=[],n=this.graphManager.getGraphs(),i=n.length;for(t=0;t<i;t++)(e=n[t]).updateConnected(),e.isConnected||(r=r.concat(e.getNodes()));return r},w.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,r=new Set;for(t=0;t<e.length;t++){var n=e[t];if(!r.has(n)){var i=n.getSource(),a=n.getTarget();if(i==a)n.getBendpoints().push(new f),n.getBendpoints().push(new f),this.createDummyNodesForBendpoints(n),r.add(n);else{var o=[];if(o=(o=o.concat(i.getEdgeListToNode(a))).concat(a.getEdgeListToNode(i)),!r.has(o[0])){var s;if(o.length>1)for(s=0;s<o.length;s++){var l=o[s];l.getBendpoints().push(new f),this.createDummyNodesForBendpoints(l)}o.forEach((function(e){r.add(e)}))}}}if(r.size==e.length)break}},w.prototype.positionNodesRadially=function(e){for(var t=new d(0,0),r=Math.ceil(Math.sqrt(e.length)),n=0,i=0,a=0,o=new f(0,0),s=0;s<e.length;s++){s%r==0&&(a=0,i=n,0!=s&&(i+=l.DEFAULT_COMPONENT_SEPERATION),n=0);var u=e[s],c=g.findCenterOfTree(u);t.x=a,t.y=i,(o=w.radialLayout(u,c,t)).y>n&&(n=Math.floor(o.y)),a=Math.floor(o.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new f(h.WORLD_CENTER_X-o.x/2,h.WORLD_CENTER_Y-o.y/2))},w.radialLayout=function(e,t,r){var n=Math.max(this.maxDiagonalInTree(e),l.DEFAULT_RADIAL_SEPARATION);w.branchRadialLayout(t,null,0,359,0,n);var i=v.calculateBounds(e),a=new b;a.setDeviceOrgX(i.getMinX()),a.setDeviceOrgY(i.getMinY()),a.setWorldOrgX(r.x),a.setWorldOrgY(r.y);for(var o=0;o<e.length;o++)e[o].transform(a);var s=new f(i.getMaxX(),i.getMaxY());return a.inverseTransformPoint(s)},w.branchRadialLayout=function(e,t,r,n,i,a){var o=(n-r+1)/2;o<0&&(o+=180);var s=(o+r)%360*y.TWO_PI/360,l=(Math.cos(s),i*Math.cos(s)),u=i*Math.sin(s);e.setCenter(l,u);var c=[],h=(c=c.concat(e.getEdges())).length;null!=t&&h--;for(var d,f=0,p=c.length,g=e.getEdgesBetween(t);g.length>1;){var m=g[0];g.splice(0,1);var v=c.indexOf(m);v>=0&&c.splice(v,1),p--,h--}d=null!=t?(c.indexOf(g[0])+1)%p:0;for(var b=Math.abs(n-r)/h,x=d;f!=h;x=++x%p){var D=c[x].getOtherEnd(e);if(D!=t){var k=(r+f*b)%360,E=(k+b)%360;w.branchRadialLayout(D,e,k,E,i+a,a),f++}}},w.maxDiagonalInTree=function(e){for(var t=m.MIN_VALUE,r=0;r<e.length;r++){var n=e[r].getDiagonal();n>t&&(t=n)}return t},w.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},w.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var r=[],n=this.graphManager.getAllNodes(),i=0;i<n.length;i++){var a=(s=n[i]).getParent();0!==this.getNodeDegreeWithChildren(s)||null!=a.id&&this.getToBeTiled(a)||r.push(s)}for(i=0;i<r.length;i++){var s,l=(s=r[i]).getParent().id;void 0===t[l]&&(t[l]=[]),t[l]=t[l].concat(s)}Object.keys(t).forEach((function(r){if(t[r].length>1){var n="DummyCompound_"+r;e.memberGroups[n]=t[r];var i=t[r][0].getParent(),a=new o(e.graphManager);a.id=n,a.paddingLeft=i.paddingLeft||0,a.paddingRight=i.paddingRight||0,a.paddingBottom=i.paddingBottom||0,a.paddingTop=i.paddingTop||0,e.idToDummyNode[n]=a;var s=e.getGraphManager().add(e.newGraph(),a),l=i.getChild();l.add(a);for(var u=0;u<t[r].length;u++){var c=t[r][u];l.remove(c),s.add(c)}}}))},w.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var r=0;r<this.compoundOrder.length;r++)t[this.compoundOrder[r].id]=this.compoundOrder[r],e[this.compoundOrder[r].id]=[].concat(this.compoundOrder[r].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[r].getChild()),this.compoundOrder[r].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},w.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach((function(r){var n=e.idToDummyNode[r];if(t[r]=e.tileNodes(e.memberGroups[r],n.paddingLeft+n.paddingRight),n.rect.width=t[r].width,n.rect.height=t[r].height,n.setCenter(t[r].centerX,t[r].centerY),n.labelMarginLeft=0,n.labelMarginTop=0,l.NODE_DIMENSIONS_INCLUDE_LABELS){var i=n.rect.width,a=n.rect.height;n.labelWidth&&("left"==n.labelPosHorizontal?(n.rect.x-=n.labelWidth,n.setWidth(i+n.labelWidth),n.labelMarginLeft=n.labelWidth):"center"==n.labelPosHorizontal&&n.labelWidth>i?(n.rect.x-=(n.labelWidth-i)/2,n.setWidth(n.labelWidth),n.labelMarginLeft=(n.labelWidth-i)/2):"right"==n.labelPosHorizontal&&n.setWidth(i+n.labelWidth)),n.labelHeight&&("top"==n.labelPosVertical?(n.rect.y-=n.labelHeight,n.setHeight(a+n.labelHeight),n.labelMarginTop=n.labelHeight):"center"==n.labelPosVertical&&n.labelHeight>a?(n.rect.y-=(n.labelHeight-a)/2,n.setHeight(n.labelHeight),n.labelMarginTop=(n.labelHeight-a)/2):"bottom"==n.labelPosVertical&&n.setHeight(a+n.labelHeight))}}))},w.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],r=t.id,n=t.paddingLeft,i=t.paddingTop,a=t.labelMarginLeft,o=t.labelMarginTop;this.adjustLocations(this.tiledMemberPack[r],t.rect.x,t.rect.y,n,i,a,o)}},w.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach((function(r){var n=e.idToDummyNode[r],i=n.paddingLeft,a=n.paddingTop,o=n.labelMarginLeft,s=n.labelMarginTop;e.adjustLocations(t[r],n.rect.x,n.rect.y,i,a,o,s)}))},w.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var r=e.getChild();if(null==r)return this.toBeTiled[t]=!1,!1;for(var n=r.getNodes(),i=0;i<n.length;i++){var a=n[i];if(this.getNodeDegree(a)>0)return this.toBeTiled[t]=!1,!1;if(null!=a.getChild()){if(!this.getToBeTiled(a))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[a.id]=!1}return this.toBeTiled[t]=!0,!0},w.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),r=0,n=0;n<t.length;n++){var i=t[n];i.getSource().id!==i.getTarget().id&&(r+=1)}return r},w.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var r=e.getChild().getNodes(),n=0;n<r.length;n++){var i=r[n];t+=this.getNodeDegreeWithChildren(i)}return t},w.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},w.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var r=e[t];null!=r.getChild()&&this.fillCompexOrderByDFS(r.getChild().getNodes()),this.getToBeTiled(r)&&this.compoundOrder.push(r)}},w.prototype.adjustLocations=function(e,t,r,n,i,a,o){r+=i+o;for(var s=t+=n+a,l=0;l<e.rows.length;l++){var u=e.rows[l];t=s;for(var c=0,h=0;h<u.length;h++){var d=u[h];d.rect.x=t,d.rect.y=r,t+=d.rect.width+e.horizontalPadding,d.rect.height>c&&(c=d.rect.height)}r+=c+e.verticalPadding}},w.prototype.tileCompoundMembers=function(e,t){var r=this;this.tiledMemberPack=[],Object.keys(e).forEach((function(n){var i=t[n];if(r.tiledMemberPack[n]=r.tileNodes(e[n],i.paddingLeft+i.paddingRight),i.rect.width=r.tiledMemberPack[n].width,i.rect.height=r.tiledMemberPack[n].height,i.setCenter(r.tiledMemberPack[n].centerX,r.tiledMemberPack[n].centerY),i.labelMarginLeft=0,i.labelMarginTop=0,l.NODE_DIMENSIONS_INCLUDE_LABELS){var a=i.rect.width,o=i.rect.height;i.labelWidth&&("left"==i.labelPosHorizontal?(i.rect.x-=i.labelWidth,i.setWidth(a+i.labelWidth),i.labelMarginLeft=i.labelWidth):"center"==i.labelPosHorizontal&&i.labelWidth>a?(i.rect.x-=(i.labelWidth-a)/2,i.setWidth(i.labelWidth),i.labelMarginLeft=(i.labelWidth-a)/2):"right"==i.labelPosHorizontal&&i.setWidth(a+i.labelWidth)),i.labelHeight&&("top"==i.labelPosVertical?(i.rect.y-=i.labelHeight,i.setHeight(o+i.labelHeight),i.labelMarginTop=i.labelHeight):"center"==i.labelPosVertical&&i.labelHeight>o?(i.rect.y-=(i.labelHeight-o)/2,i.setHeight(i.labelHeight),i.labelMarginTop=(i.labelHeight-o)/2):"bottom"==i.labelPosVertical&&i.setHeight(o+i.labelHeight))}}))},w.prototype.tileNodes=function(e,t){var r=this.tileNodesByFavoringDim(e,t,!0),n=this.tileNodesByFavoringDim(e,t,!1),i=this.getOrgRatio(r);return this.getOrgRatio(n)<i?n:r},w.prototype.getOrgRatio=function(e){var t=e.width/e.height;return t<1&&(t=1/t),t},w.prototype.calcIdealRowWidth=function(e,t){var r=l.TILING_PADDING_VERTICAL,n=l.TILING_PADDING_HORIZONTAL,i=e.length,a=0,o=0,s=0;e.forEach((function(e){a+=e.getWidth(),o+=e.getHeight(),e.getWidth()>s&&(s=e.getWidth())}));var u,c=a/i,h=o/i,d=Math.pow(r-n,2)+4*(c+n)*(h+r)*i,f=(n-r+Math.sqrt(d))/(2*(c+n));t?(u=Math.ceil(f))==f&&u++:u=Math.floor(f);var p=u*(c+n)-n;return s>p&&(p=s),p+2*n},w.prototype.tileNodesByFavoringDim=function(e,t,r){var n=l.TILING_PADDING_VERTICAL,i=l.TILING_PADDING_HORIZONTAL,a=l.TILING_COMPARE_BY,o={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:n,horizontalPadding:i,centerX:0,centerY:0};a&&(o.idealRowWidth=this.calcIdealRowWidth(e,r));var s=function(e){return e.rect.width*e.rect.height},u=function(e,t){return s(t)-s(e)};e.sort((function(e,t){var r=u;return o.idealRowWidth?(r=a)(e.id,t.id):r(e,t)}));for(var c=0,h=0,d=0;d<e.length;d++)c+=(f=e[d]).getCenterX(),h+=f.getCenterY();for(o.centerX=c/e.length,o.centerY=h/e.length,d=0;d<e.length;d++){var f=e[d];if(0==o.rows.length)this.insertNodeToRow(o,f,0,t);else if(this.canAddHorizontal(o,f.rect.width,f.rect.height)){var p=o.rows.length-1;o.idealRowWidth||(p=this.getShortestRowIndex(o)),this.insertNodeToRow(o,f,p,t)}else this.insertNodeToRow(o,f,o.rows.length,t);this.shiftToLastRow(o)}return o},w.prototype.insertNodeToRow=function(e,t,r,n){var i=n;r==e.rows.length&&(e.rows.push([]),e.rowWidth.push(i),e.rowHeight.push(0));var a=e.rowWidth[r]+t.rect.width;e.rows[r].length>0&&(a+=e.horizontalPadding),e.rowWidth[r]=a,e.width<a&&(e.width=a);var o=t.rect.height;r>0&&(o+=e.verticalPadding);var s=0;o>e.rowHeight[r]&&(s=e.rowHeight[r],e.rowHeight[r]=o,s=e.rowHeight[r]-s),e.height+=s,e.rows[r].push(t)},w.prototype.getShortestRowIndex=function(e){for(var t=-1,r=Number.MAX_VALUE,n=0;n<e.rows.length;n++)e.rowWidth[n]<r&&(t=n,r=e.rowWidth[n]);return t},w.prototype.getLongestRowIndex=function(e){for(var t=-1,r=Number.MIN_VALUE,n=0;n<e.rows.length;n++)e.rowWidth[n]>r&&(t=n,r=e.rowWidth[n]);return t},w.prototype.canAddHorizontal=function(e,t,r){if(e.idealRowWidth){var n=e.rows.length-1;return e.rowWidth[n]+t+e.horizontalPadding<=e.idealRowWidth}var i=this.getShortestRowIndex(e);if(i<0)return!0;var a=e.rowWidth[i];if(a+e.horizontalPadding+t<=e.width)return!0;var o,s,l=0;return e.rowHeight[i]<r&&i>0&&(l=r+e.verticalPadding-e.rowHeight[i]),o=e.width-a>=t+e.horizontalPadding?(e.height+l)/(a+t+e.horizontalPadding):(e.height+l)/e.width,l=r+e.verticalPadding,(s=e.width<t?(e.height+l)/t:(e.height+l)/e.width)<1&&(s=1/s),o<1&&(o=1/o),o<s},w.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),r=e.rowWidth.length-1,n=e.rows[t],i=n[n.length-1],a=i.width+e.horizontalPadding;if(e.width-e.rowWidth[r]>a&&t!=r){n.splice(-1,1),e.rows[r].push(i),e.rowWidth[t]=e.rowWidth[t]-a,e.rowWidth[r]=e.rowWidth[r]+a,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var o=Number.MIN_VALUE,s=0;s<n.length;s++)n[s].height>o&&(o=n[s].height);t>0&&(o+=e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[r];e.rowHeight[t]=o,e.rowHeight[r]<i.height+e.verticalPadding&&(e.rowHeight[r]=i.height+e.verticalPadding);var u=e.rowHeight[t]+e.rowHeight[r];e.height+=u-l,this.shiftToLastRow(e)}},w.prototype.tilingPreLayout=function(){l.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},w.prototype.tilingPostLayout=function(){l.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},w.prototype.reduceTrees=function(){for(var e,t=[],r=!0;r;){var n=this.graphManager.getAllNodes(),i=[];r=!1;for(var a=0;a<n.length;a++)if(1==(e=n[a]).getEdges().length&&!e.getEdges()[0].isInterGraph&&null==e.getChild()){if(l.PURE_INCREMENTAL){var o=e.getEdges()[0].getOtherEnd(e),s=new p(e.getCenterX()-o.getCenterX(),e.getCenterY()-o.getCenterY());i.push([e,e.getEdges()[0],e.getOwner(),s])}else i.push([e,e.getEdges()[0],e.getOwner()]);r=!0}if(1==r){for(var u=[],c=0;c<i.length;c++)1==i[c][0].getEdges().length&&(u.push(i[c]),i[c][0].getOwner().remove(i[c][0]));t.push(u),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},w.prototype.growTree=function(e){for(var t,r=e[e.length-1],n=0;n<r.length;n++)t=r[n],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},w.prototype.findPlaceforPrunedNode=function(e){var t,r,n=e[0];if(r=n==e[1].source?e[1].target:e[1].source,l.PURE_INCREMENTAL)n.setCenter(r.getCenterX()+e[3].getWidth(),r.getCenterY()+e[3].getHeight());else{var i=r.startX,a=r.finishX,o=r.startY,s=r.finishY,u=[0,0,0,0];if(o>0)for(var h=i;h<=a;h++)u[0]+=this.grid[h][o-1].length+this.grid[h][o].length-1;if(a<this.grid.length-1)for(h=o;h<=s;h++)u[1]+=this.grid[a+1][h].length+this.grid[a][h].length-1;if(s<this.grid[0].length-1)for(h=i;h<=a;h++)u[2]+=this.grid[h][s+1].length+this.grid[h][s].length-1;if(i>0)for(h=o;h<=s;h++)u[3]+=this.grid[i-1][h].length+this.grid[i][h].length-1;for(var d,f,p=m.MAX_VALUE,g=0;g<u.length;g++)u[g]<p?(p=u[g],d=1,f=g):u[g]==p&&d++;if(3==d&&0==p)0==u[0]&&0==u[1]&&0==u[2]?t=1:0==u[0]&&0==u[1]&&0==u[3]?t=0:0==u[0]&&0==u[2]&&0==u[3]?t=3:0==u[1]&&0==u[2]&&0==u[3]&&(t=2);else if(2==d&&0==p){var y=Math.floor(2*Math.random());t=0==u[0]&&0==u[1]?0==y?0:1:0==u[0]&&0==u[2]?0==y?0:2:0==u[0]&&0==u[3]?0==y?0:3:0==u[1]&&0==u[2]?0==y?1:2:0==u[1]&&0==u[3]?0==y?1:3:0==y?2:3}else t=4==d&&0==p?y=Math.floor(4*Math.random()):f;0==t?n.setCenter(r.getCenterX(),r.getCenterY()-r.getHeight()/2-c.DEFAULT_EDGE_LENGTH-n.getHeight()/2):1==t?n.setCenter(r.getCenterX()+r.getWidth()/2+c.DEFAULT_EDGE_LENGTH+n.getWidth()/2,r.getCenterY()):2==t?n.setCenter(r.getCenterX(),r.getCenterY()+r.getHeight()/2+c.DEFAULT_EDGE_LENGTH+n.getHeight()/2):n.setCenter(r.getCenterX()-r.getWidth()/2-c.DEFAULT_EDGE_LENGTH-n.getWidth()/2,r.getCenterY())}},e.exports=w},991:(e,t,r)=>{var n=r(551).FDLayoutNode,i=r(551).IMath;function a(e,t,r,i){n.call(this,e,t,r,i)}for(var o in a.prototype=Object.create(n.prototype),n)a[o]=n[o];a.prototype.calculateDisplacement=function(){var e=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},a.prototype.propogateDisplacementToChildren=function(e,t){for(var r,n=this.getChild().getNodes(),i=0;i<n.length;i++)null==(r=n[i]).getChild()?(r.displacementX+=e,r.displacementY+=t):r.propogateDisplacementToChildren(e,t)},a.prototype.move=function(){var e=this.graphManager.getLayout();null!=this.child&&0!=this.child.getNodes().length||(this.moveBy(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},a.prototype.setPred1=function(e){this.pred1=e},a.prototype.getPred1=function(){return pred1},a.prototype.getPred2=function(){return pred2},a.prototype.setNext=function(e){this.next=e},a.prototype.getNext=function(){return next},a.prototype.setProcessed=function(e){this.processed=e},a.prototype.isProcessed=function(){return processed},e.exports=a},902:(e,t,r)=>{function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var i=r(806),a=r(551).LinkedList,o=r(551).Matrix,s=r(551).SVD;function l(){}l.handleConstraints=function(e){var t={};t.fixedNodeConstraint=e.constraints.fixedNodeConstraint,t.alignmentConstraint=e.constraints.alignmentConstraint,t.relativePlacementConstraint=e.constraints.relativePlacementConstraint;for(var r=new Map,l=new Map,u=[],c=[],h=e.getAllNodes(),d=0,f=0;f<h.length;f++){var p=h[f];null==p.getChild()&&(l.set(p.id,d++),u.push(p.getCenterX()),c.push(p.getCenterY()),r.set(p.id,p))}t.relativePlacementConstraint&&t.relativePlacementConstraint.forEach((function(e){e.gap||0==e.gap||(e.left?e.gap=i.DEFAULT_EDGE_LENGTH+r.get(e.left).getWidth()/2+r.get(e.right).getWidth()/2:e.gap=i.DEFAULT_EDGE_LENGTH+r.get(e.top).getHeight()/2+r.get(e.bottom).getHeight()/2)}));var g=function(e){var t=0,r=0;return e.forEach((function(e){t+=u[l.get(e)],r+=c[l.get(e)]})),{x:t/e.size,y:r/e.size}},m=function(e,t,r,i,o){var s=new Map;e.forEach((function(e,t){s.set(t,0)})),e.forEach((function(e,t){e.forEach((function(e){s.set(e.id,s.get(e.id)+1)}))}));var h=new Map,d=new Map,f=new a;s.forEach((function(e,n){0==e?(f.push(n),r||("horizontal"==t?h.set(n,l.has(n)?u[l.get(n)]:i.get(n)):h.set(n,l.has(n)?c[l.get(n)]:i.get(n)))):h.set(n,Number.NEGATIVE_INFINITY),r&&d.set(n,new Set([n]))})),r&&o.forEach((function(e){var n=[];if(e.forEach((function(e){r.has(e)&&n.push(e)})),n.length>0){var a=0;n.forEach((function(e){"horizontal"==t?(h.set(e,l.has(e)?u[l.get(e)]:i.get(e)),a+=h.get(e)):(h.set(e,l.has(e)?c[l.get(e)]:i.get(e)),a+=h.get(e))})),a/=n.length,e.forEach((function(e){r.has(e)||h.set(e,a)}))}else{var o=0;e.forEach((function(e){o+="horizontal"==t?l.has(e)?u[l.get(e)]:i.get(e):l.has(e)?c[l.get(e)]:i.get(e)})),o/=e.length,e.forEach((function(e){h.set(e,o)}))}}));for(var p=function(){var n=f.shift();e.get(n).forEach((function(e){if(h.get(e.id)<h.get(n)+e.gap)if(r&&r.has(e.id)){var a;if(a="horizontal"==t?l.has(e.id)?u[l.get(e.id)]:i.get(e.id):l.has(e.id)?c[l.get(e.id)]:i.get(e.id),h.set(e.id,a),a<h.get(n)+e.gap){var o=h.get(n)+e.gap-a;d.get(n).forEach((function(e){h.set(e,h.get(e)-o)}))}}else h.set(e.id,h.get(n)+e.gap);s.set(e.id,s.get(e.id)-1),0==s.get(e.id)&&f.push(e.id),r&&d.set(e.id,function(e,t){var r=new Set(e),n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;r.add(l)}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(d.get(n),d.get(e.id)))}))};0!=f.length;)p();if(r){var g=new Set;e.forEach((function(e,t){0==e.length&&g.add(t)}));var m=[];d.forEach((function(e,t){if(g.has(t)){var i=!1,a=!0,o=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;r.has(c)&&(i=!0)}}catch(e){o=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(o)throw s}}if(!i){var h=!1,d=void 0;m.forEach((function(t,r){t.has([].concat(n(e))[0])&&(h=!0,d=r)})),h?e.forEach((function(e){m[d].add(e)})):m.push(new Set(e))}}})),m.forEach((function(e,r){var n=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,d=!0,f=!1,p=void 0;try{for(var g,m=e[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var y,v=g.value;y="horizontal"==t?l.has(v)?u[l.get(v)]:i.get(v):l.has(v)?c[l.get(v)]:i.get(v);var b=h.get(v);y<n&&(n=y),y>o&&(o=y),b<a&&(a=b),b>s&&(s=b)}}catch(e){f=!0,p=e}finally{try{!d&&m.return&&m.return()}finally{if(f)throw p}}var x=(n+o)/2-(a+s)/2,w=!0,D=!1,k=void 0;try{for(var E,A=e[Symbol.iterator]();!(w=(E=A.next()).done);w=!0){var C=E.value;h.set(C,h.get(C)+x)}}catch(e){D=!0,k=e}finally{try{!w&&A.return&&A.return()}finally{if(D)throw k}}}))}return h},y=function(e){var t=0,r=0,n=0,i=0;if(e.forEach((function(e){e.left?u[l.get(e.left)]-u[l.get(e.right)]>=0?t++:r++:c[l.get(e.top)]-c[l.get(e.bottom)]>=0?n++:i++})),t>r&&n>i)for(var a=0;a<l.size;a++)u[a]=-1*u[a],c[a]=-1*c[a];else if(t>r)for(var o=0;o<l.size;o++)u[o]=-1*u[o];else if(n>i)for(var s=0;s<l.size;s++)c[s]=-1*c[s]},v=function(e){var t=[],r=new a,n=new Set,i=0;return e.forEach((function(a,o){if(!n.has(o)){t[i]=[];var s=o;for(r.push(s),n.add(s),t[i].push(s);0!=r.length;)s=r.shift(),e.get(s).forEach((function(e){n.has(e.id)||(r.push(e.id),n.add(e.id),t[i].push(e.id))}));i++}})),t},b=function(e){var t=new Map;return e.forEach((function(e,r){t.set(r,[])})),e.forEach((function(e,r){e.forEach((function(e){t.get(r).push(e),t.get(e.id).push({id:r,gap:e.gap,direction:e.direction})}))})),t},x=function(e){var t=new Map;return e.forEach((function(e,r){t.set(r,[])})),e.forEach((function(e,r){e.forEach((function(e){t.get(e.id).push({id:r,gap:e.gap,direction:e.direction})}))})),t},w=[],D=[],k=!1,E=!1,A=new Set,C=new Map,_=new Map,T=[];if(t.fixedNodeConstraint&&t.fixedNodeConstraint.forEach((function(e){A.add(e.nodeId)})),t.relativePlacementConstraint&&(t.relativePlacementConstraint.forEach((function(e){e.left?(C.has(e.left)?C.get(e.left).push({id:e.right,gap:e.gap,direction:"horizontal"}):C.set(e.left,[{id:e.right,gap:e.gap,direction:"horizontal"}]),C.has(e.right)||C.set(e.right,[])):(C.has(e.top)?C.get(e.top).push({id:e.bottom,gap:e.gap,direction:"vertical"}):C.set(e.top,[{id:e.bottom,gap:e.gap,direction:"vertical"}]),C.has(e.bottom)||C.set(e.bottom,[]))})),_=b(C),T=v(_)),i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>1)t.fixedNodeConstraint.forEach((function(e,t){w[t]=[e.position.x,e.position.y],D[t]=[u[l.get(e.nodeId)],c[l.get(e.nodeId)]]})),k=!0;else if(t.alignmentConstraint)!function(){var e=0;if(t.alignmentConstraint.vertical){for(var r=t.alignmentConstraint.vertical,i=function(t){var i=new Set;r[t].forEach((function(e){i.add(e)}));var a,o=new Set([].concat(n(i)).filter((function(e){return A.has(e)})));a=o.size>0?u[l.get(o.values().next().value)]:g(i).x,r[t].forEach((function(t){w[e]=[a,c[l.get(t)]],D[e]=[u[l.get(t)],c[l.get(t)]],e++}))},a=0;a<r.length;a++)i(a);k=!0}if(t.alignmentConstraint.horizontal){for(var o=t.alignmentConstraint.horizontal,s=function(t){var r=new Set;o[t].forEach((function(e){r.add(e)}));var i,a=new Set([].concat(n(r)).filter((function(e){return A.has(e)})));i=a.size>0?u[l.get(a.values().next().value)]:g(r).y,o[t].forEach((function(t){w[e]=[u[l.get(t)],i],D[e]=[u[l.get(t)],c[l.get(t)]],e++}))},h=0;h<o.length;h++)s(h);k=!0}t.relativePlacementConstraint&&(E=!0)}();else if(t.relativePlacementConstraint){for(var S=0,F=0,O=0;O<T.length;O++)T[O].length>S&&(S=T[O].length,F=O);if(S<_.size/2)y(t.relativePlacementConstraint),k=!1,E=!1;else{var B=new Map,N=new Map,L=[];T[F].forEach((function(e){C.get(e).forEach((function(t){"horizontal"==t.direction?(B.has(e)?B.get(e).push(t):B.set(e,[t]),B.has(t.id)||B.set(t.id,[]),L.push({left:e,right:t.id})):(N.has(e)?N.get(e).push(t):N.set(e,[t]),N.has(t.id)||N.set(t.id,[]),L.push({top:e,bottom:t.id}))}))})),y(L),E=!1;var I=m(B,"horizontal"),R=m(N,"vertical");T[F].forEach((function(e,t){D[t]=[u[l.get(e)],c[l.get(e)]],w[t]=[],I.has(e)?w[t][0]=I.get(e):w[t][0]=u[l.get(e)],R.has(e)?w[t][1]=R.get(e):w[t][1]=c[l.get(e)]})),k=!0}}if(k){for(var M,P=o.transpose(w),z=o.transpose(D),$=0;$<P.length;$++)P[$]=o.multGamma(P[$]),z[$]=o.multGamma(z[$]);var j=o.multMat(P,o.transpose(z)),K=s.svd(j);M=o.multMat(K.V,o.transpose(K.U));for(var q=0;q<l.size;q++){var U=[u[q],c[q]],H=[M[0][0],M[1][0]],W=[M[0][1],M[1][1]];u[q]=o.dotProduct(U,H),c[q]=o.dotProduct(U,W)}E&&y(t.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>0){var G={x:0,y:0};t.fixedNodeConstraint.forEach((function(e,t){var r,n,i=(n={x:u[l.get(e.nodeId)],y:c[l.get(e.nodeId)]},{x:(r=e.position).x-n.x,y:r.y-n.y});G.x+=i.x,G.y+=i.y})),G.x/=t.fixedNodeConstraint.length,G.y/=t.fixedNodeConstraint.length,u.forEach((function(e,t){u[t]+=G.x})),c.forEach((function(e,t){c[t]+=G.y})),t.fixedNodeConstraint.forEach((function(e){u[l.get(e.nodeId)]=e.position.x,c[l.get(e.nodeId)]=e.position.y}))}if(t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var V=t.alignmentConstraint.vertical,Y=function(e){var t=new Set;V[e].forEach((function(e){t.add(e)}));var r,i=new Set([].concat(n(t)).filter((function(e){return A.has(e)})));r=i.size>0?u[l.get(i.values().next().value)]:g(t).x,t.forEach((function(e){A.has(e)||(u[l.get(e)]=r)}))},X=0;X<V.length;X++)Y(X);if(t.alignmentConstraint.horizontal)for(var Z=t.alignmentConstraint.horizontal,Q=function(e){var t=new Set;Z[e].forEach((function(e){t.add(e)}));var r,i=new Set([].concat(n(t)).filter((function(e){return A.has(e)})));r=i.size>0?c[l.get(i.values().next().value)]:g(t).y,t.forEach((function(e){A.has(e)||(c[l.get(e)]=r)}))},J=0;J<Z.length;J++)Q(J)}t.relativePlacementConstraint&&function(){var e=new Map,r=new Map,n=new Map,i=new Map,a=new Map,o=new Map,s=new Set,h=new Set;if(A.forEach((function(e){s.add(e),h.add(e)})),t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var d=t.alignmentConstraint.vertical,f=function(t){n.set("dummy"+t,[]),d[t].forEach((function(r){e.set(r,"dummy"+t),n.get("dummy"+t).push(r),A.has(r)&&s.add("dummy"+t)})),a.set("dummy"+t,u[l.get(d[t][0])])},p=0;p<d.length;p++)f(p);if(t.alignmentConstraint.horizontal)for(var g=t.alignmentConstraint.horizontal,y=function(e){i.set("dummy"+e,[]),g[e].forEach((function(t){r.set(t,"dummy"+e),i.get("dummy"+e).push(t),A.has(t)&&h.add("dummy"+e)})),o.set("dummy"+e,c[l.get(g[e][0])])},w=0;w<g.length;w++)y(w)}var D=new Map,k=new Map,E=function(t){C.get(t).forEach((function(n){var i=void 0,a=void 0;"horizontal"==n.direction?(i=e.get(t)?e.get(t):t,a=e.get(n.id)?{id:e.get(n.id),gap:n.gap,direction:n.direction}:n,D.has(i)?D.get(i).push(a):D.set(i,[a]),D.has(a.id)||D.set(a.id,[])):(i=r.get(t)?r.get(t):t,a=r.get(n.id)?{id:r.get(n.id),gap:n.gap,direction:n.direction}:n,k.has(i)?k.get(i).push(a):k.set(i,[a]),k.has(a.id)||k.set(a.id,[]))}))},_=!0,T=!1,S=void 0;try{for(var F,O=C.keys()[Symbol.iterator]();!(_=(F=O.next()).done);_=!0)E(F.value)}catch(e){T=!0,S=e}finally{try{!_&&O.return&&O.return()}finally{if(T)throw S}}var B=b(D),N=b(k),L=v(B),I=v(N),R=x(D),M=x(k),P=[],z=[];L.forEach((function(e,t){P[t]=[],e.forEach((function(e){0==R.get(e).length&&P[t].push(e)}))})),I.forEach((function(e,t){z[t]=[],e.forEach((function(e){0==M.get(e).length&&z[t].push(e)}))}));var $=m(D,"horizontal",s,a,P),j=m(k,"vertical",h,o,z),K=function(e){n.get(e)?n.get(e).forEach((function(t){u[l.get(t)]=$.get(e)})):u[l.get(e)]=$.get(e)},q=!0,U=!1,H=void 0;try{for(var W,G=$.keys()[Symbol.iterator]();!(q=(W=G.next()).done);q=!0)K(W.value)}catch(e){U=!0,H=e}finally{try{!q&&G.return&&G.return()}finally{if(U)throw H}}var V=function(e){i.get(e)?i.get(e).forEach((function(t){c[l.get(t)]=j.get(e)})):c[l.get(e)]=j.get(e)},Y=!0,X=!1,Z=void 0;try{for(var Q,J=j.keys()[Symbol.iterator]();!(Y=(Q=J.next()).done);Y=!0)V(Q.value)}catch(e){X=!0,Z=e}finally{try{!Y&&J.return&&J.return()}finally{if(X)throw Z}}}()}for(var ee=0;ee<h.length;ee++){var te=h[ee];null==te.getChild()&&te.setCenter(u[l.get(te.id)],c[l.get(te.id)])}},e.exports=l},551:t=>{t.exports=e}},r={},n=function e(n){var i=r[n];if(void 0!==i)return i.exports;var a=r[n]={exports:{}};return t[n](a,a.exports,e),a.exports}(45);return n})()},e.exports=n(r(602))},602:function(e){var t;t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=28)}([function(e,t,r){"use strict";function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(8),a=r(9);function o(e,t,r){n.call(this,r),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=r,this.bendpoints=[],this.source=e,this.target=t}for(var s in o.prototype=Object.create(n.prototype),n)o[s]=n[s];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(e,t){for(var r=this.getOtherEnd(e),n=t.getGraphManager().getRoot();;){if(r.getOwner()==t)return r;if(r.getOwner()==n)break;r=r.getOwner().getParent()}return null},o.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(13),o=r(0),s=r(16),l=r(5);function u(e,t,r,o){null==r&&null==o&&(o=t),n.call(this,o),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=o,this.edges=[],this.graphManager=e,this.rect=null!=r&&null!=t?new a(t.x,t.y,r.width,r.height):new a}for(var c in u.prototype=Object.create(n.prototype),n)u[c]=n[c];u.prototype.getEdges=function(){return this.edges},u.prototype.getChild=function(){return this.child},u.prototype.getOwner=function(){return this.owner},u.prototype.getWidth=function(){return this.rect.width},u.prototype.setWidth=function(e){this.rect.width=e},u.prototype.getHeight=function(){return this.rect.height},u.prototype.setHeight=function(e){this.rect.height=e},u.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},u.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},u.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},u.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},u.prototype.getRect=function(){return this.rect},u.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},u.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},u.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},u.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},u.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},u.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},u.prototype.getEdgeListToNode=function(e){var t=[],r=this;return r.edges.forEach((function(n){if(n.target==e){if(n.source!=r)throw"Incorrect edge source!";t.push(n)}})),t},u.prototype.getEdgesBetween=function(e){var t=[],r=this;return r.edges.forEach((function(n){if(n.source!=r&&n.target!=r)throw"Incorrect edge source and/or target";n.target!=e&&n.source!=e||t.push(n)})),t},u.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach((function(r){if(r.source==t)e.add(r.target);else{if(r.target!=t)throw"Incorrect incidency!";e.add(r.source)}})),e},u.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),r=0;r<t.length;r++)t[r].withChildren().forEach((function(t){e.add(t)}));return e},u.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),r=0;r<t.length;r++)e+=t[r].getNoOfChildren();return 0==e&&(e=1),e},u.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},u.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},u.prototype.scatter=function(){var e,t,r=-o.INITIAL_WORLD_BOUNDARY,n=o.INITIAL_WORLD_BOUNDARY;e=o.WORLD_CENTER_X+s.nextDouble()*(n-r)+r;var i=-o.INITIAL_WORLD_BOUNDARY,a=o.INITIAL_WORLD_BOUNDARY;t=o.WORLD_CENTER_Y+s.nextDouble()*(a-i)+i,this.rect.x=e,this.rect.y=t},u.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),r=e.getBottom()-e.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(t+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>t?(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(t+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(r+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>r?(this.rect.y-=(this.labelHeight-r)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(r+this.labelHeight))}}},u.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},u.prototype.transform=function(e){var t=this.rect.x;t>o.WORLD_BOUNDARY?t=o.WORLD_BOUNDARY:t<-o.WORLD_BOUNDARY&&(t=-o.WORLD_BOUNDARY);var r=this.rect.y;r>o.WORLD_BOUNDARY?r=o.WORLD_BOUNDARY:r<-o.WORLD_BOUNDARY&&(r=-o.WORLD_BOUNDARY);var n=new l(t,r),i=e.inverseTransformPoint(n);this.setLocation(i.x,i.y)},u.prototype.getLeft=function(){return this.rect.x},u.prototype.getRight=function(){return this.rect.x+this.rect.width},u.prototype.getTop=function(){return this.rect.y},u.prototype.getBottom=function(){return this.rect.y+this.rect.height},u.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=u},function(e,t,r){"use strict";var n=r(0);function i(){}for(var a in n)i[a]=n[a];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},function(e,t,r){"use strict";function n(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(e){this.x=e},n.prototype.setY=function(e){this.y=e},n.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r(7),s=r(3),l=r(1),u=r(13),c=r(12),h=r(11);function d(e,t,r){n.call(this,r),this.estimatedSize=i.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof o?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}for(var f in d.prototype=Object.create(n.prototype),n)d[f]=n[f];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(e,t,r){if(null==t&&null==r){var n=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(r)>-1))throw"Source or target not in graph!";if(t.owner!=r.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=r.owner?null:(i.source=t,i.target=r,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),r!=t&&r.edges.push(i),i)},d.prototype.remove=function(e){var t=e;if(e instanceof s){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var r=t.edges.slice(),n=r.length,i=0;i<n;i++)(a=r[i]).isInterGraph?this.graphManager.remove(a):a.source.owner.remove(a);if(-1==(o=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(o,1)}else if(e instanceof l){var a;if(null==(a=e))throw"Edge is null!";if(null==a.source||null==a.target)throw"Source and/or target is null!";if(null==a.source.owner||null==a.target.owner||a.source.owner!=this||a.target.owner!=this)throw"Source and/or target owner is invalid!";var o,u=a.source.edges.indexOf(a),c=a.target.edges.indexOf(a);if(!(u>-1&&c>-1))throw"Source and/or target doesn't know this edge!";if(a.source.edges.splice(u,1),a.target!=a.source&&a.target.edges.splice(c,1),-1==(o=a.source.owner.getEdges().indexOf(a)))throw"Not in owner's edge list!";a.source.owner.getEdges().splice(o,1)}},d.prototype.updateLeftTop=function(){for(var e,t,r,n=i.MAX_VALUE,a=i.MAX_VALUE,o=this.getNodes(),s=o.length,l=0;l<s;l++){var u=o[l];n>(e=u.getTop())&&(n=e),a>(t=u.getLeft())&&(a=t)}return n==i.MAX_VALUE?null:(r=null!=o[0].getParent().paddingLeft?o[0].getParent().paddingLeft:this.margin,this.left=a-r,this.top=n-r,new c(this.left,this.top))},d.prototype.updateBounds=function(e){for(var t,r,n,a,o,s=i.MAX_VALUE,l=-i.MAX_VALUE,c=i.MAX_VALUE,h=-i.MAX_VALUE,d=this.nodes,f=d.length,p=0;p<f;p++){var g=d[p];e&&null!=g.child&&g.updateBounds(),s>(t=g.getLeft())&&(s=t),l<(r=g.getRight())&&(l=r),c>(n=g.getTop())&&(c=n),h<(a=g.getBottom())&&(h=a)}var m=new u(s,c,l-s,h-c);s==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),o=null!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=m.x-o,this.right=m.x+m.width+o,this.top=m.y-o,this.bottom=m.y+m.height+o},d.calculateBounds=function(e){for(var t,r,n,a,o=i.MAX_VALUE,s=-i.MAX_VALUE,l=i.MAX_VALUE,c=-i.MAX_VALUE,h=e.length,d=0;d<h;d++){var f=e[d];o>(t=f.getLeft())&&(o=t),s<(r=f.getRight())&&(s=r),l>(n=f.getTop())&&(l=n),c<(a=f.getBottom())&&(c=a)}return new u(o,l,s-o,c-l)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,r=t.length,n=0;n<r;n++)e+=t[n].calcEstimatedSize();return this.estimatedSize=0==e?a.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,r,n=new h,i=new Set,a=this.nodes[0];for(a.withChildren().forEach((function(e){n.push(e),i.add(e)}));0!==n.length;)for(var o=(t=(a=n.shift()).getEdges()).length,s=0;s<o;s++)null==(r=t[s].getOtherEndInGraph(a,this))||i.has(r)||r.withChildren().forEach((function(e){n.push(e),i.add(e)}));if(this.isConnected=!1,i.size>=this.nodes.length){var l=0;i.forEach((function(t){t.owner==e&&l++})),l==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=d},function(e,t,r){"use strict";var n,i=r(1);function a(e){n=r(6),this.layout=e,this.graphs=[],this.edges=[]}a.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),r=this.add(e,t);return this.setRootGraph(r),this.rootGraph},a.prototype.add=function(e,t,r,n,i){if(null==r&&null==n&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=r,r=e;var a=(n=t).getOwner(),o=i.getOwner();if(null==a||a.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==o||o.getGraphManager()!=this)throw"Target not in this graph mgr!";if(a==o)return r.isInterGraph=!1,a.add(r,n,i);if(r.isInterGraph=!0,r.source=n,r.target=i,this.edges.indexOf(r)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(r),null==r.source||null==r.target)throw"Edge source and/or target is null!";if(-1!=r.source.edges.indexOf(r)||-1!=r.target.edges.indexOf(r))throw"Edge already in source and/or target incidency list!";return r.source.edges.push(r),r.target.edges.push(r),r},a.prototype.remove=function(e){if(e instanceof n){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var r,a=[],o=(a=a.concat(t.getEdges())).length,s=0;s<o;s++)r=a[s],t.remove(r);var l,u=[];for(o=(u=u.concat(t.getNodes())).length,s=0;s<o;s++)l=u[s],t.remove(l);t==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(t);this.graphs.splice(c,1),t.parent=null}else if(e instanceof i){if(null==(r=e))throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(null==r.source||null==r.target)throw"Source and/or target is null!";if(-1==r.source.edges.indexOf(r)||-1==r.target.edges.indexOf(r))throw"Source and/or target doesn't know this edge!";if(c=r.source.edges.indexOf(r),r.source.edges.splice(c,1),c=r.target.edges.indexOf(r),r.target.edges.splice(c,1),null==r.source.owner||null==r.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==r.source.owner.getGraphManager().edges.indexOf(r))throw"Not in owner graph manager's edge list!";c=r.source.owner.getGraphManager().edges.indexOf(r),r.source.owner.getGraphManager().edges.splice(c,1)}},a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},a.prototype.getGraphs=function(){return this.graphs},a.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),r=t.length,n=0;n<r;n++)e=e.concat(t[n].getNodes());this.allNodes=e}return this.allNodes},a.prototype.resetAllNodes=function(){this.allNodes=null},a.prototype.resetAllEdges=function(){this.allEdges=null},a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},a.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),r=(t.length,0);r<t.length;r++)e=e.concat(t[r].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},a.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},a.prototype.getRoot=function(){return this.rootGraph},a.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},a.prototype.getLayout=function(){return this.layout},a.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var r,n=e.getOwner();null!=(r=n.getParent());){if(r==t)return!0;if(null==(n=r.getOwner()))break}for(n=t.getOwner();null!=(r=n.getParent());){if(r==e)return!0;if(null==(n=r.getOwner()))break}return!1},a.prototype.calcLowestCommonAncestors=function(){for(var e,t,r,n,i,a=this.getAllEdges(),o=a.length,s=0;s<o;s++)if(t=(e=a[s]).source,r=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=r,t!=r){for(n=t.getOwner();null==e.lca;){for(e.targetInLca=r,i=r.getOwner();null==e.lca;){if(i==n){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(n==this.rootGraph)break;null==e.lca&&(e.sourceInLca=n.getParent(),n=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},a.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var r=e.getOwner();null!=r;){for(var n=t.getOwner();null!=n;){if(n==r)return n;n=n.getParent().getOwner()}r=r.getParent().getOwner()}return r},a.prototype.calcInclusionTreeDepths=function(e,t){var r;null==e&&null==t&&(e=this.rootGraph,t=1);for(var n=e.getNodes(),i=n.length,a=0;a<i;a++)(r=n[a]).inclusionTreeDepth=t,null!=r.child&&this.calcInclusionTreeDepths(r.child,t+1)},a.prototype.includesInvalidEdge=function(){for(var e,t=[],r=this.edges.length,n=0;n<r;n++)e=this.edges[n],this.isOneAncestorOfOther(e.source,e.target)&&t.push(e);for(n=0;n<t.length;n++)this.remove(t[n]);return!1},e.exports=a},function(e,t,r){"use strict";var n=r(12);function i(){}i.calcSeparationAmount=function(e,t,r,n){if(!e.intersects(t))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,i),r[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),r[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?r[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(r[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?r[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(r[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var a=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(a=1);var o=a*r[0],s=r[1]/a;r[0]<s?s=r[0]:o=r[1],r[0]=-1*i[0]*(s/2+n),r[1]=-1*i[1]*(o/2+n)},i.decideDirectionsForOverlappingNodes=function(e,t,r){e.getCenterX()<t.getCenterX()?r[0]=-1:r[0]=1,e.getCenterY()<t.getCenterY()?r[1]=-1:r[1]=1},i.getIntersection2=function(e,t,r){var n=e.getCenterX(),i=e.getCenterY(),a=t.getCenterX(),o=t.getCenterY();if(e.intersects(t))return r[0]=n,r[1]=i,r[2]=a,r[3]=o,!0;var s=e.getX(),l=e.getY(),u=e.getRight(),c=e.getX(),h=e.getBottom(),d=e.getRight(),f=e.getWidthHalf(),p=e.getHeightHalf(),g=t.getX(),m=t.getY(),y=t.getRight(),v=t.getX(),b=t.getBottom(),x=t.getRight(),w=t.getWidthHalf(),D=t.getHeightHalf(),k=!1,E=!1;if(n===a){if(i>o)return r[0]=n,r[1]=l,r[2]=a,r[3]=b,!1;if(i<o)return r[0]=n,r[1]=h,r[2]=a,r[3]=m,!1}else if(i===o){if(n>a)return r[0]=s,r[1]=i,r[2]=y,r[3]=o,!1;if(n<a)return r[0]=u,r[1]=i,r[2]=g,r[3]=o,!1}else{var A=e.height/e.width,C=t.height/t.width,_=(o-i)/(a-n),T=void 0,S=void 0,F=void 0,O=void 0,B=void 0,N=void 0;if(-A===_?n>a?(r[0]=c,r[1]=h,k=!0):(r[0]=u,r[1]=l,k=!0):A===_&&(n>a?(r[0]=s,r[1]=l,k=!0):(r[0]=d,r[1]=h,k=!0)),-C===_?a>n?(r[2]=v,r[3]=b,E=!0):(r[2]=y,r[3]=m,E=!0):C===_&&(a>n?(r[2]=g,r[3]=m,E=!0):(r[2]=x,r[3]=b,E=!0)),k&&E)return!1;if(n>a?i>o?(T=this.getCardinalDirection(A,_,4),S=this.getCardinalDirection(C,_,2)):(T=this.getCardinalDirection(-A,_,3),S=this.getCardinalDirection(-C,_,1)):i>o?(T=this.getCardinalDirection(-A,_,1),S=this.getCardinalDirection(-C,_,3)):(T=this.getCardinalDirection(A,_,2),S=this.getCardinalDirection(C,_,4)),!k)switch(T){case 1:O=l,F=n+-p/_,r[0]=F,r[1]=O;break;case 2:F=d,O=i+f*_,r[0]=F,r[1]=O;break;case 3:O=h,F=n+p/_,r[0]=F,r[1]=O;break;case 4:F=c,O=i+-f*_,r[0]=F,r[1]=O}if(!E)switch(S){case 1:N=m,B=a+-D/_,r[2]=B,r[3]=N;break;case 2:B=x,N=o+w*_,r[2]=B,r[3]=N;break;case 3:N=b,B=a+D/_,r[2]=B,r[3]=N;break;case 4:B=v,N=o+-w*_,r[2]=B,r[3]=N}}return!1},i.getCardinalDirection=function(e,t,r){return e>t?r:1+r%4},i.getIntersection=function(e,t,r,i){if(null==i)return this.getIntersection2(e,t,r);var a,o,s,l,u,c,h,d=e.x,f=e.y,p=t.x,g=t.y,m=r.x,y=r.y,v=i.x,b=i.y;return 0==(h=(a=g-f)*(l=m-v)-(o=b-y)*(s=d-p))?null:new n((s*(c=v*y-m*b)-l*(u=p*f-d*g))/h,(o*u-a*c)/h)},i.angleOfVector=function(e,t,r,n){var i=void 0;return e!==r?(i=Math.atan((n-t)/(r-e)),r<e?i+=Math.PI:n<t&&(i+=this.TWO_PI)):i=n<t?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(e,t,r,n){var i=e.x,a=e.y,o=t.x,s=t.y,l=r.x,u=r.y,c=n.x,h=n.y,d=(o-i)*(h-u)-(c-l)*(s-a);if(0===d)return!1;var f=((h-u)*(c-i)+(l-c)*(h-a))/d,p=((a-s)*(c-i)+(o-i)*(h-a))/d;return 0<f&&f<1&&0<p&&p<1},i.findCircleLineIntersections=function(e,t,r,n,i,a,o){var s=(r-e)*(r-e)+(n-t)*(n-t),l=2*((e-i)*(r-e)+(t-a)*(n-t)),u=(e-i)*(e-i)+(t-a)*(t-a)-o*o;if(l*l-4*s*u>=0){var c=(-l+Math.sqrt(l*l-4*s*u))/(2*s),h=(-l-Math.sqrt(l*l-4*s*u))/(2*s);return c>=0&&c<=1?[c]:h>=0&&h<=1?[h]:null}return null},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},function(e,t,r){"use strict";function n(){}n.sign=function(e){return e>0?1:e<0?-1:0},n.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},n.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=n},function(e,t,r){"use strict";function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,e.exports=n},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return{value:e,next:null,prev:null}},a=function(e,t,r,n){return null!==e?e.next=t:n.head=t,null!==r?r.prev=t:n.tail=t,t.prev=e,t.next=r,n.length++,t},o=function(e,t){var r=e.prev,n=e.next;return null!==r?r.next=n:t.head=n,null!==n?n.prev=r:t.tail=r,e.prev=e.next=null,t.length--,e},s=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach((function(e){return r.push(e)}))}return n(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return a(t.prev,i(e),t,this)}},{key:"insertAfter",value:function(e,t){return a(t,i(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return a(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return a(t,e,t.next,this)}},{key:"push",value:function(e){return a(this.tail,i(e),null,this)}},{key:"unshift",value:function(e){return a(null,i(e),this.head,this)}},{key:"remove",value:function(e){return o(e,this)}},{key:"pop",value:function(){return o(this.tail,this).value}},{key:"popNode",value:function(){return o(this.tail,this)}},{key:"shift",value:function(){return o(this.head,this).value}},{key:"shiftNode",value:function(){return o(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,r=this.head;t<e;)r=r.next,t++;return r.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var r=1,n=this.head;r<e;)n=n.next,r++;n.value=t}}}]),e}();e.exports=s},function(e,t,r){"use strict";function n(e,t,r){this.x=null,this.y=null,null==e&&null==t&&null==r?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==r?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==r&&(r=e,this.x=r.x,this.y=r.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(e,t,r){"Point"==e.constructor.name&&null==t&&null==r?(r=e,this.setLocation(r.x,r.y)):"number"==typeof e&&"number"==typeof t&&null==r&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},n.prototype.move=function(e,t){this.x=e,this.y=t},n.prototype.translate=function(e,t){this.x+=e,this.y+=t},n.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=r&&null!=n&&(this.x=e,this.y=t,this.width=r,this.height=n)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(e){this.x=e},n.prototype.getY=function(){return this.y},n.prototype.setY=function(e){this.y=e},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(e){this.width=e},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(e){this.height=e},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(e){return!(this.getRight()<e.x||this.getBottom()<e.y||e.getRight()<this.x||e.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},e.exports=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(){}i.lastID=0,i.createID=function(e){return i.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=i.getString(),i.lastID++),e.uniqueID)},i.getString=function(e){return null==e&&(e=i.lastID),"Object#"+e},i.isPrimitive=function(e){var t=void 0===e?"undefined":n(e);return null==e||"object"!=t&&"function"!=t},e.exports=i},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var i=r(0),a=r(7),o=r(3),s=r(1),l=r(6),u=r(5),c=r(17),h=r(29);function d(e){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}d.RANDOM_SEED=1,d.prototype=Object.create(h.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var e=new a(this);return this.graphManager=e,e},d.prototype.newGraph=function(e){return new l(null,this.graphManager,e)},d.prototype.newNode=function(e){return new o(this.graphManager,e)},d.prototype.newEdge=function(e){return new s(null,null,e)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var r=this.graphManager.getRoot().getNodes();for(t=0;t<r.length;t++)r[t];this.update(this.graphManager.getRoot())}},d.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof o){var t=e;if(null!=t.getChild())for(var r=t.getChild().getNodes(),n=0;n<r.length;n++)update(r[n]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof s){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}else if(e instanceof l){var a=e;null!=a.vGraphObject&&a.vGraphObject.update(a)}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(e){if(null==e)this.transform(new u(0,0));else{var t=new c,r=this.graphManager.getRoot().updateLeftTop();if(null!=r){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(r.x),t.setDeviceOrgY(r.y);for(var n=this.getAllNodes(),i=0;i<n.length;i++)n[i].transform(t)}}},d.prototype.positionNodesRandomly=function(e){if(null==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,r,n=e.getNodes(),i=0;i<n.length;i++)null==(r=(t=n[i]).getChild())||0==r.getNodes().length?t.scatter():(this.positionNodesRandomly(r),t.updateBounds())},d.prototype.getFlatForest=function(){for(var e=[],t=!0,r=this.graphManager.getRoot().getNodes(),i=!0,a=0;a<r.length;a++)null!=r[a].getChild()&&(i=!1);if(!i)return e;var o=new Set,s=[],l=new Map,u=[];for(u=u.concat(r);u.length>0&&t;){for(s.push(u[0]);s.length>0&&t;){var c=s[0];s.splice(0,1),o.add(c);var h=c.getEdges();for(a=0;a<h.length;a++){var d=h[a].getOtherEnd(c);if(l.get(c)!=d){if(o.has(d)){t=!1;break}s.push(d),l.set(d,c)}}}if(t){var f=[].concat(n(o));for(e.push(f),a=0;a<f.length;a++){var p=f[a],g=u.indexOf(p);g>-1&&u.splice(g,1)}o=new Set,l=new Map}else e=[]}return e},d.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],r=e.source,n=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var a=this.newNode(null);a.setRect(new Point(0,0),new Dimension(1,1)),n.add(a);var o=this.newEdge(null);this.graphManager.add(o,r,a),t.add(a),r=a}return o=this.newEdge(null),this.graphManager.add(o,r,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):n.remove(e),t},d.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(n(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var r=e[t];if(r.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(r),a=0;a<i.length;a++){var o=i[a],s=new u(o.getCenterX(),o.getCenterY()),l=r.bendpoints.get(a);l.x=s.x,l.y=s.y,o.getOwner().remove(o)}this.graphManager.add(r,r.source,r.target)}}},d.transform=function(e,t,r,n){if(null!=r&&null!=n){var i=t;return e<=50?i-=(t-t/r)/50*(50-e):i+=(t*n-t)/50*(e-50),i}var a,o;return e<=50?(a=9*t/500,o=t/10):(a=9*t/50,o=-8*t),a*e+o},d.findCenterOfTree=function(e){var t=[];t=t.concat(e);var r=[],n=new Map,i=!1,a=null;1!=t.length&&2!=t.length||(i=!0,a=t[0]);for(var o=0;o<t.length;o++){var s=(c=t[o]).getNeighborsList().size;n.set(c,c.getNeighborsList().size),1==s&&r.push(c)}var l=[];for(l=l.concat(r);!i;){var u=[];for(u=u.concat(l),l=[],o=0;o<t.length;o++){var c=t[o],h=t.indexOf(c);h>=0&&t.splice(h,1),c.getNeighborsList().forEach((function(e){if(r.indexOf(e)<0){var t=n.get(e)-1;1==t&&l.push(e),n.set(e,t)}}))}r=r.concat(l),1!=t.length&&2!=t.length||(i=!0,a=t[0])}return a},d.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=d},function(e,t,r){"use strict";function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=1e4*Math.sin(n.seed++),n.x-Math.floor(n.x)},e.exports=n},function(e,t,r){"use strict";var n=r(5);function i(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(e){this.lworldExtX=e},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(e){this.lworldExtY=e},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},i.prototype.transformX=function(e){var t=0,r=this.lworldExtX;return 0!=r&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/r),t},i.prototype.transformY=function(e){var t=0,r=this.lworldExtY;return 0!=r&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/r),t},i.prototype.inverseTransformX=function(e){var t=0,r=this.ldeviceExtX;return 0!=r&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/r),t},i.prototype.inverseTransformY=function(e){var t=0,r=this.ldeviceExtY;return 0!=r&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/r),t},i.prototype.inverseTransformPoint=function(e){return new n(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=i},function(e,t,r){"use strict";var n=r(15),i=r(4),a=r(0),o=r(8),s=r(9);function l(){n.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var u in l.prototype=Object.create(n.prototype),n)l[u]=n[u];l.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var e,t,r,n,o,s,l,u=this.getGraphManager().getAllEdges(),c=0;c<u.length;c++)t=(e=u[c]).idealLength,e.isInterGraph&&(n=e.getSource(),o=e.getTarget(),s=e.getSourceInLca().getEstimatedSize(),l=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=s+l-2*a.SIMPLE_NODE_SIZE),r=e.getLca().getInclusionTreeDepth(),e.idealLength+=t*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(n.getInclusionTreeDepth()+o.getInclusionTreeDepth()-2*r))},l.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),r=0;r<t.length;r++)e=t[r],this.calcSpringForce(e,e.idealLength)},l.prototype.calcRepulsionForces=function(){var e,t,r,n,a,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&o&&this.updateGrid(),a=new Set,e=0;e<l.length;e++)r=l[e],this.calculateRepulsionForceOfANode(r,a,o,s),a.add(r);else for(e=0;e<l.length;e++)for(r=l[e],t=e+1;t<l.length;t++)n=l[t],r.getOwner()==n.getOwner()&&this.calcRepulsionForce(r,n)},l.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),r=0;r<t.length;r++)e=t[r],this.calcGravitationalForce(e)},l.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},l.prototype.calcSpringForce=function(e,t){var r,n,i,a,o=e.getSource(),s=e.getTarget();if(this.uniformLeafNodeSizes&&null==o.getChild()&&null==s.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(r=e.getLength())&&(i=(n=e.edgeElasticity*(r-t))*(e.lengthX/r),a=n*(e.lengthY/r),o.springForceX+=i,o.springForceY+=a,s.springForceX-=i,s.springForceY-=a)},l.prototype.calcRepulsionForce=function(e,t){var r,n,a,l,u,c,h,d=e.getRect(),f=t.getRect(),p=new Array(2),g=new Array(4);if(d.intersects(f)){o.calcSeparationAmount(d,f,p,i.DEFAULT_EDGE_LENGTH/2),c=2*p[0],h=2*p[1];var m=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=m*c,e.repulsionForceY-=m*h,t.repulsionForceX+=m*c,t.repulsionForceY+=m*h}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(r=f.getCenterX()-d.getCenterX(),n=f.getCenterY()-d.getCenterY()):(o.getIntersection(d,f,g),r=g[2]-g[0],n=g[3]-g[1]),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=s.sign(r)*i.MIN_REPULSION_DIST),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=s.sign(n)*i.MIN_REPULSION_DIST),a=r*r+n*n,l=Math.sqrt(a),c=(u=(e.nodeRepulsion/2+t.nodeRepulsion/2)*e.noOfChildren*t.noOfChildren/a)*r/l,h=u*n/l,e.repulsionForceX-=c,e.repulsionForceY-=h,t.repulsionForceX+=c,t.repulsionForceY+=h},l.prototype.calcGravitationalForce=function(e){var t,r,n,i,a,o,s,l;r=((t=e.getOwner()).getRight()+t.getLeft())/2,n=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-r,a=e.getCenterY()-n,o=Math.abs(i)+e.getWidth()/2,s=Math.abs(a)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(o>(l=t.getEstimatedSize()*this.gravityRangeFactor)||s>l)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*a):(o>(l=t.getEstimatedSize()*this.compoundGravityRangeFactor)||s>l)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*a*this.compoundGravityConstant)},l.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),r=0;r<t.length;r++)(e=t[r]).noOfChildren=e.getNoOfChildren()},l.prototype.calcGrid=function(e){var t,r;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),r=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var n=new Array(t),i=0;i<t;i++)n[i]=new Array(r);for(i=0;i<t;i++)for(var a=0;a<r;a++)n[i][a]=new Array;return n},l.prototype.addNodeToGrid=function(e,t,r){var n,i,a,o;n=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().y-r)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().height+e.getRect().y-r)/this.repulsionRange));for(var s=n;s<=i;s++)for(var l=a;l<=o;l++)this.grid[s][l].push(e),e.setGridCoordinates(n,i,a,o)},l.prototype.updateGrid=function(){var e,t,r=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<r.length;e++)t=r[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(e,t,r,n){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&r||n){var a,o=new Set;e.surrounding=new Array;for(var s=this.grid,l=e.startX-1;l<e.finishX+2;l++)for(var u=e.startY-1;u<e.finishY+2;u++)if(!(l<0||u<0||l>=s.length||u>=s[0].length))for(var c=0;c<s[l][u].length;c++)if(a=s[l][u][c],e.getOwner()==a.getOwner()&&e!=a&&!t.has(a)&&!o.has(a)){var h=Math.abs(e.getCenterX()-a.getCenterX())-(e.getWidth()/2+a.getWidth()/2),d=Math.abs(e.getCenterY()-a.getCenterY())-(e.getHeight()/2+a.getHeight()/2);h<=this.repulsionRange&&d<=this.repulsionRange&&o.add(a)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(o))}for(l=0;l<e.surrounding.length;l++)this.calcRepulsionForce(e,e.surrounding[l])},l.prototype.calcRepulsionRange=function(){return 0},e.exports=l},function(e,t,r){"use strict";var n=r(1),i=r(4);function a(e,t,r){n.call(this,e,t,r),this.idealLength=i.DEFAULT_EDGE_LENGTH,this.edgeElasticity=i.DEFAULT_SPRING_STRENGTH}for(var o in a.prototype=Object.create(n.prototype),n)a[o]=n[o];e.exports=a},function(e,t,r){"use strict";var n=r(3),i=r(4);function a(e,t,r,a){n.call(this,e,t,r,a),this.nodeRepulsion=i.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var o in a.prototype=Object.create(n.prototype),n)a[o]=n[o];a.prototype.setGridCoordinates=function(e,t,r,n){this.startX=e,this.finishX=t,this.startY=r,this.finishY=n},e.exports=a},function(e,t,r){"use strict";function n(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(e){this.width=e},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(e){this.height=e},e.exports=n},function(e,t,r){"use strict";var n=r(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(e,t){var r=n.createID(e);this.contains(r)||(this.map[r]=t,this.keys.push(e))},i.prototype.contains=function(e){return n.createID(e),null!=this.map[e]},i.prototype.get=function(e){var t=n.createID(e);return this.map[t]},i.prototype.keySet=function(){return this.keys},e.exports=i},function(e,t,r){"use strict";var n=r(14);function i(){this.set={}}i.prototype.add=function(e){var t=n.createID(e);this.contains(t)||(this.set[t]=e)},i.prototype.remove=function(e){delete this.set[n.createID(e)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(e){return this.set[n.createID(e)]==e},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),r=t.length,n=0;n<r;n++)e.push(this.set[t[n]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(e){for(var t=e.length,r=0;r<t;r++){var n=e[r];this.add(n)}},e.exports=i},function(e,t,r){"use strict";function n(){}n.multMat=function(e,t){for(var r=[],n=0;n<e.length;n++){r[n]=[];for(var i=0;i<t[0].length;i++){r[n][i]=0;for(var a=0;a<e[0].length;a++)r[n][i]+=e[n][a]*t[a][i]}}return r},n.transpose=function(e){for(var t=[],r=0;r<e[0].length;r++){t[r]=[];for(var n=0;n<e.length;n++)t[r][n]=e[n][r]}return t},n.multCons=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]*t;return r},n.minusOp=function(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=e[n]-t[n];return r},n.dotProduct=function(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*t[n];return r},n.mag=function(e){return Math.sqrt(this.dotProduct(e,e))},n.normalize=function(e){for(var t=[],r=this.mag(e),n=0;n<e.length;n++)t[n]=e[n]/r;return t},n.multGamma=function(e){for(var t=[],r=0,n=0;n<e.length;n++)r+=e[n];r*=-1/e.length;for(var i=0;i<e.length;i++)t[i]=r+e[i];return t},n.multL=function(e,t,r){for(var n=[],i=[],a=[],o=0;o<t[0].length;o++){for(var s=0,l=0;l<t.length;l++)s+=-.5*t[l][o]*e[l];i[o]=s}for(var u=0;u<r.length;u++){for(var c=0,h=0;h<r.length;h++)c+=r[u][h]*i[h];a[u]=c}for(var d=0;d<t.length;d++){for(var f=0,p=0;p<t[0].length;p++)f+=t[d][p]*a[p];n[d]=f}return n},e.exports=n},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(11),a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===r&&void 0===r||(this.compareFunction=this._defaultCompareFunction);var n;n=t instanceof i?t.size():t.length,this._quicksort(t,0,n-1)}return n(e,[{key:"_quicksort",value:function(e,t,r){if(t<r){var n=this._partition(e,t,r);this._quicksort(e,t,n),this._quicksort(e,n+1,r)}}},{key:"_partition",value:function(e,t,r){for(var n=this._get(e,t),i=t,a=r;;){for(;this.compareFunction(n,this._get(e,a));)a--;for(;this.compareFunction(this._get(e,i),n);)i++;if(!(i<a))return a;this._swap(e,i,a),i++,a--}}},{key:"_get",value:function(e,t){return e instanceof i?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,r){e instanceof i?e.set_object_at(t,r):e[t]=r}},{key:"_swap",value:function(e,t,r){var n=this._get(e,t);this._set(e,t,this._get(e,r)),this._set(e,r,n)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=a},function(e,t,r){"use strict";function n(){}n.svd=function(e){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=e.length,this.n=e[0].length;var t=Math.min(this.m,this.n);this.s=function(e){for(var t=[];e-- >0;)t.push(0);return t}(Math.min(this.m+1,this.n)),this.U=function e(t){if(0==t.length)return 0;for(var r=[],n=0;n<t[0];n++)r.push(e(t.slice(1)));return r}([this.m,t]),this.V=function e(t){if(0==t.length)return 0;for(var r=[],n=0;n<t[0];n++)r.push(e(t.slice(1)));return r}([this.n,this.n]);for(var r,i,a=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.n),o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.m),s=Math.min(this.m-1,this.n),l=Math.max(0,Math.min(this.n-2,this.m)),u=0;u<Math.max(s,l);u++){if(u<s){this.s[u]=0;for(var c=u;c<this.m;c++)this.s[u]=n.hypot(this.s[u],e[c][u]);if(0!==this.s[u]){e[u][u]<0&&(this.s[u]=-this.s[u]);for(var h=u;h<this.m;h++)e[h][u]/=this.s[u];e[u][u]+=1}this.s[u]=-this.s[u]}for(var d=u+1;d<this.n;d++){if(r=u<s,i=0!==this.s[u],r&&i){for(var f=0,p=u;p<this.m;p++)f+=e[p][u]*e[p][d];f=-f/e[u][u];for(var g=u;g<this.m;g++)e[g][d]+=f*e[g][u]}a[d]=e[u][d]}if(function(e,t){return t}(0,u<s))for(var m=u;m<this.m;m++)this.U[m][u]=e[m][u];if(u<l){a[u]=0;for(var y=u+1;y<this.n;y++)a[u]=n.hypot(a[u],a[y]);if(0!==a[u]){a[u+1]<0&&(a[u]=-a[u]);for(var v=u+1;v<this.n;v++)a[v]/=a[u];a[u+1]+=1}if(a[u]=-a[u],function(e,t){return e&&t}(u+1<this.m,0!==a[u])){for(var b=u+1;b<this.m;b++)o[b]=0;for(var x=u+1;x<this.n;x++)for(var w=u+1;w<this.m;w++)o[w]+=a[x]*e[w][x];for(var D=u+1;D<this.n;D++)for(var k=-a[D]/a[u+1],E=u+1;E<this.m;E++)e[E][D]+=k*o[E]}for(var A=u+1;A<this.n;A++)this.V[A][u]=a[A]}}var C=Math.min(this.n,this.m+1);s<this.n&&(this.s[s]=e[s][s]),this.m<C&&(this.s[C-1]=0),l+1<C&&(a[l]=e[l][C-1]),a[C-1]=0;for(var _=s;_<t;_++){for(var T=0;T<this.m;T++)this.U[T][_]=0;this.U[_][_]=1}for(var S=s-1;S>=0;S--)if(0!==this.s[S]){for(var F=S+1;F<t;F++){for(var O=0,B=S;B<this.m;B++)O+=this.U[B][S]*this.U[B][F];O=-O/this.U[S][S];for(var N=S;N<this.m;N++)this.U[N][F]+=O*this.U[N][S]}for(var L=S;L<this.m;L++)this.U[L][S]=-this.U[L][S];this.U[S][S]=1+this.U[S][S];for(var I=0;I<S-1;I++)this.U[I][S]=0}else{for(var R=0;R<this.m;R++)this.U[R][S]=0;this.U[S][S]=1}for(var M=this.n-1;M>=0;M--){if(function(e,t){return e&&t}(M<l,0!==a[M]))for(var P=M+1;P<t;P++){for(var z=0,$=M+1;$<this.n;$++)z+=this.V[$][M]*this.V[$][P];z=-z/this.V[M+1][M];for(var j=M+1;j<this.n;j++)this.V[j][P]+=z*this.V[j][M]}for(var K=0;K<this.n;K++)this.V[K][M]=0;this.V[M][M]=1}for(var q=C-1,U=Math.pow(2,-52),H=Math.pow(2,-966);C>0;){var W=void 0,G=void 0;for(W=C-2;W>=-1&&-1!==W;W--)if(Math.abs(a[W])<=H+U*(Math.abs(this.s[W])+Math.abs(this.s[W+1]))){a[W]=0;break}if(W===C-2)G=4;else{var V=void 0;for(V=C-1;V>=W&&V!==W;V--){var Y=(V!==C?Math.abs(a[V]):0)+(V!==W+1?Math.abs(a[V-1]):0);if(Math.abs(this.s[V])<=H+U*Y){this.s[V]=0;break}}V===W?G=3:V===C-1?G=1:(G=2,W=V)}switch(W++,G){case 1:var X=a[C-2];a[C-2]=0;for(var Z=C-2;Z>=W;Z--){var Q=n.hypot(this.s[Z],X),J=this.s[Z]/Q,ee=X/Q;this.s[Z]=Q,Z!==W&&(X=-ee*a[Z-1],a[Z-1]=J*a[Z-1]);for(var te=0;te<this.n;te++)Q=J*this.V[te][Z]+ee*this.V[te][C-1],this.V[te][C-1]=-ee*this.V[te][Z]+J*this.V[te][C-1],this.V[te][Z]=Q}break;case 2:var re=a[W-1];a[W-1]=0;for(var ne=W;ne<C;ne++){var ie=n.hypot(this.s[ne],re),ae=this.s[ne]/ie,oe=re/ie;this.s[ne]=ie,re=-oe*a[ne],a[ne]=ae*a[ne];for(var se=0;se<this.m;se++)ie=ae*this.U[se][ne]+oe*this.U[se][W-1],this.U[se][W-1]=-oe*this.U[se][ne]+ae*this.U[se][W-1],this.U[se][ne]=ie}break;case 3:var le=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[C-1]),Math.abs(this.s[C-2])),Math.abs(a[C-2])),Math.abs(this.s[W])),Math.abs(a[W])),ue=this.s[C-1]/le,ce=this.s[C-2]/le,he=a[C-2]/le,de=this.s[W]/le,fe=a[W]/le,pe=((ce+ue)*(ce-ue)+he*he)/2,ge=ue*he*(ue*he),me=0;(function(e,t){return e||t})(0!==pe,0!==ge)&&(me=Math.sqrt(pe*pe+ge),pe<0&&(me=-me),me=ge/(pe+me));for(var ye=(de+ue)*(de-ue)+me,ve=de*fe,be=W;be<C-1;be++){var xe=n.hypot(ye,ve),we=ye/xe,De=ve/xe;be!==W&&(a[be-1]=xe),ye=we*this.s[be]+De*a[be],a[be]=we*a[be]-De*this.s[be],ve=De*this.s[be+1],this.s[be+1]=we*this.s[be+1];for(var ke=0;ke<this.n;ke++)xe=we*this.V[ke][be]+De*this.V[ke][be+1],this.V[ke][be+1]=-De*this.V[ke][be]+we*this.V[ke][be+1],this.V[ke][be]=xe;if(we=ye/(xe=n.hypot(ye,ve)),De=ve/xe,this.s[be]=xe,ye=we*a[be]+De*this.s[be+1],this.s[be+1]=-De*a[be]+we*this.s[be+1],ve=De*a[be+1],a[be+1]=we*a[be+1],be<this.m-1)for(var Ee=0;Ee<this.m;Ee++)xe=we*this.U[Ee][be]+De*this.U[Ee][be+1],this.U[Ee][be+1]=-De*this.U[Ee][be]+we*this.U[Ee][be+1],this.U[Ee][be]=xe}a[C-2]=ye;break;case 4:if(this.s[W]<=0){this.s[W]=this.s[W]<0?-this.s[W]:0;for(var Ae=0;Ae<=q;Ae++)this.V[Ae][W]=-this.V[Ae][W]}for(;W<q&&!(this.s[W]>=this.s[W+1]);){var Ce=this.s[W];if(this.s[W]=this.s[W+1],this.s[W+1]=Ce,W<this.n-1)for(var _e=0;_e<this.n;_e++)Ce=this.V[_e][W+1],this.V[_e][W+1]=this.V[_e][W],this.V[_e][W]=Ce;if(W<this.m-1)for(var Te=0;Te<this.m;Te++)Ce=this.U[Te][W+1],this.U[Te][W+1]=this.U[Te][W],this.U[Te][W]=Ce;W++}C--}}return{U:this.U,V:this.V,S:this.s}},n.hypot=function(e,t){var r=void 0;return Math.abs(e)>Math.abs(t)?(r=t/e,r=Math.abs(e)*Math.sqrt(1+r*r)):0!=t?(r=e/t,r=Math.abs(t)*Math.sqrt(1+r*r)):r=0,r},e.exports=n},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sequence1=t,this.sequence2=r,this.match_score=n,this.mismatch_penalty=i,this.gap_penalty=a,this.iMax=t.length+1,this.jMax=r.length+1,this.grid=new Array(this.iMax);for(var o=0;o<this.iMax;o++){this.grid[o]=new Array(this.jMax);for(var s=0;s<this.jMax;s++)this.grid[o][s]=0}this.tracebackGrid=new Array(this.iMax);for(var l=0;l<this.iMax;l++){this.tracebackGrid[l]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.tracebackGrid[l][u]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var r=1;r<this.iMax;r++)for(var n=1;n<this.jMax;n++){var i=[this.sequence1[r-1]===this.sequence2[n-1]?this.grid[r-1][n-1]+this.match_score:this.grid[r-1][n-1]+this.mismatch_penalty,this.grid[r-1][n]+this.gap_penalty,this.grid[r][n-1]+this.gap_penalty],a=this.arrayAllMaxIndexes(i);this.grid[r][n]=i[a[0]],this.tracebackGrid[r][n]=[a.includes(0),a.includes(1),a.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],r=this.tracebackGrid[t.pos[0]][t.pos[1]];r[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),r[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),r[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var r=[],n=-1;-1!==(n=e.indexOf(t,n+1));)r.push(n);return r}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=i},function(e,t,r){"use strict";var n=function(){};n.FDLayout=r(18),n.FDLayoutConstants=r(4),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(5),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(25),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(6),n.LEdge=r(1),n.LGraphManager=r(7),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(27),n.Matrix=r(24),n.SVD=r(26),e.exports=n},function(e,t,r){"use strict";function n(){this.listeners=[]}var i=n.prototype;i.addListener=function(e,t){this.listeners.push({event:e,callback:t})},i.removeListener=function(e,t){for(var r=this.listeners.length;r>=0;r--){var n=this.listeners[r];n.event===e&&n.callback===t&&this.listeners.splice(r,1)}},i.emit=function(e,t){for(var r=0;r<this.listeners.length;r++){var n=this.listeners[r];e===n.event&&n.callback(t)}},e.exports=n}])},e.exports=t()},8364:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,r="millisecond",n="second",i="minute",a="hour",o="day",s="week",l="month",u="quarter",c="year",h="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},m=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:m,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,l),a=r-i<0,o=t.clone().add(n+(a?-1:1),l);return+(-(n+(r-i)/(a?i-o:o-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:c,w:s,d:o,D:h,h:a,m:i,s:n,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=g;var x="$isDayjsObject",w=function(e){return e instanceof A||!(!e||!e[x])},D=function e(t,r,n){var i;if(!t)return v;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(i=a),r&&(b[a]=r,i=a);var o=t.split("-");if(!i&&o.length>1)return e(o[0])}else{var s=t.name;b[s]=t,i=s}return!n&&i&&(v=i),i||!n&&v},k=function(e,t){if(w(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new A(r)},E=y;E.l=D,E.i=w,E.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=D(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(f);if(n){var i=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!(this.$d.toString()===d)},m.isSame=function(e,t){var r=k(e);return this.startOf(t)<=r&&r<=this.endOf(t)},m.isAfter=function(e,t){return k(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<k(e)},m.$g=function(e,t,r){return E.u(e)?this[t]:this.set(r,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var r=this,u=!!E.u(t)||t,d=E.p(e),f=function(e,t){var n=E.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return u?n:n.endOf(o)},p=function(e,t){return E.w(r.toDate()[e].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case c:return u?f(1,0):f(31,11);case l:return u?f(1,m):f(0,m+1);case s:var b=this.$locale().weekStart||0,x=(g<b?g+7:g)-b;return f(u?y-x:y+(6-x),m);case o:case h:return p(v+"Hours",0);case a:return p(v+"Minutes",1);case i:return p(v+"Seconds",2);case n:return p(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var s,u=E.p(e),d="set"+(this.$u?"UTC":""),f=(s={},s[o]=d+"Date",s[h]=d+"Date",s[l]=d+"Month",s[c]=d+"FullYear",s[a]=d+"Hours",s[i]=d+"Minutes",s[n]=d+"Seconds",s[r]=d+"Milliseconds",s)[u],p=u===o?this.$D+(t-this.$W):t;if(u===l||u===c){var g=this.clone().set(h,1);g.$d[f](p),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[E.p(e)]()},m.add=function(r,u){var h,d=this;r=Number(r);var f=E.p(u),p=function(e){var t=k(d);return E.w(t.date(t.date()+Math.round(e*r)),d)};if(f===l)return this.set(l,this.$M+r);if(f===c)return this.set(c,this.$y+r);if(f===o)return p(1);if(f===s)return p(7);var g=(h={},h[i]=e,h[a]=t,h[n]=1e3,h)[f]||1,m=this.$d.getTime()+r*g;return E.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),a=this.$H,o=this.$m,s=this.$M,l=r.weekdays,u=r.months,c=r.meridiem,h=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].slice(0,a)},f=function(e){return E.s(a%12||12,e,"0")},g=c||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(p,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return E.s(t.$y,4,"0");case"M":return s+1;case"MM":return E.s(s+1,2,"0");case"MMM":return h(r.monthsShort,s,u,3);case"MMMM":return h(u,s);case"D":return t.$D;case"DD":return E.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(r.weekdaysMin,t.$W,l,2);case"ddd":return h(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return E.s(a,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return g(a,o,!0);case"A":return g(a,o,!1);case"m":return String(o);case"mm":return E.s(o,2,"0");case"s":return String(t.$s);case"ss":return E.s(t.$s,2,"0");case"SSS":return E.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,h,d){var f,p=this,g=E.p(h),m=k(r),y=(m.utcOffset()-this.utcOffset())*e,v=this-m,b=function(){return E.m(p,m)};switch(g){case c:f=b()/12;break;case l:f=b();break;case u:f=b()/3;break;case s:f=(v-y)/6048e5;break;case o:f=(v-y)/864e5;break;case a:f=v/t;break;case i:f=v/e;break;case n:f=v/1e3;break;default:f=v}return d?f:E.a(f)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return b[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=D(e,t,!0);return n&&(r.$L=n),r},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),C=A.prototype;return k.prototype=C,[["$ms",r],["$s",n],["$m",i],["$H",a],["$W",o],["$M",l],["$y",c],["$D",h]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,A,k),e.$i=!0),k},k.locale=D,k.isDayjs=w,k.unix=function(e){return k(1e3*e)},k.en=b[v],k.Ls=b,k.p={},k}()},3670:function(e){e.exports=function(){"use strict";return function(e,t){var r=t.prototype,n=r.format;r.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return n.bind(this)(e);var i=this.$utils(),a=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return r.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return r.ordinal(t.week(),"W");case"w":case"ww":return i.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return i.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return i.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return n.bind(this)(a)}}}()},282:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,n=/\d\d/,i=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,o={},s=function(e){return(e=+e)+(e>68?1900:2e3)},l=function(e){return function(t){this[e]=+t}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),r=60*t[1]+(+t[2]||0);return 0===r?0:"+"===t[0]?-r:r}(e)}],c=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},h=function(e,t){var r,n=o.meridiem;if(n){for(var i=1;i<=24;i+=1)if(e.indexOf(n(i,0,t))>-1){r=i>12;break}}else r=e===(t?"pm":"PM");return r},d={A:[a,function(e){this.afternoon=h(e,!1)}],a:[a,function(e){this.afternoon=h(e,!0)}],Q:[r,function(e){this.month=3*(e-1)+1}],S:[r,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,l("seconds")],ss:[i,l("seconds")],m:[i,l("minutes")],mm:[i,l("minutes")],H:[i,l("hours")],h:[i,l("hours")],HH:[i,l("hours")],hh:[i,l("hours")],D:[i,l("day")],DD:[n,l("day")],Do:[a,function(e){var t=o.ordinal,r=e.match(/\d+/);if(this.day=r[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,"")===e&&(this.day=n)}],w:[i,l("week")],ww:[n,l("week")],M:[i,l("month")],MM:[n,l("month")],MMM:[a,function(e){var t=c("months"),r=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(r<1)throw new Error;this.month=r%12||r}],MMMM:[a,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,l("year")],YY:[n,function(e){this.year=s(e)}],YYYY:[/\d{4}/,l("year")],Z:u,ZZ:u};function f(r){var n,i;n=r,i=o&&o.formats;for(var a=(r=n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,n){var a=n&&n.toUpperCase();return r||i[n]||e[n]||i[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,r){return t||r.slice(1)}))}))).match(t),s=a.length,l=0;l<s;l+=1){var u=a[l],c=d[u],h=c&&c[0],f=c&&c[1];a[l]=f?{regex:h,parser:f}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},r=0,n=0;r<s;r+=1){var i=a[r];if("string"==typeof i)n+=i.length;else{var o=i.regex,l=i.parser,u=e.slice(n),c=o.exec(u)[0];l.call(t,c),e=e.replace(c,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var r=e.hours;t?r<12&&(e.hours+=12):12===r&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,r){r.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var n=t.prototype,i=n.parse;n.parse=function(e){var t=e.date,n=e.utc,a=e.args;this.$u=n;var s=a[1];if("string"==typeof s){var l=!0===a[2],u=!0===a[3],c=l||u,h=a[2];u&&(h=a[2]),o=this.$locale(),!l&&h&&(o=r.Ls[h]),this.$d=function(e,t,r,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var i=f(t)(e),a=i.year,o=i.month,s=i.day,l=i.hours,u=i.minutes,c=i.seconds,h=i.milliseconds,d=i.zone,p=i.week,g=new Date,m=s||(a||o?1:g.getDate()),y=a||g.getFullYear(),v=0;a&&!o||(v=o>0?o-1:g.getMonth());var b,x=l||0,w=u||0,D=c||0,k=h||0;return d?new Date(Date.UTC(y,v,m,x,w,D,k+60*d.offset*1e3)):r?new Date(Date.UTC(y,v,m,x,w,D,k)):(b=new Date(y,v,m,x,w,D,k),p&&(b=n(b).week(p).toDate()),b)}catch(e){return new Date("")}}(t,s,n,r),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),c&&t!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var d=s.length,p=1;p<=d;p+=1){a[1]=s[p-1];var g=r.apply(this,a);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}p===d&&(this.$d=new Date(""))}else i.call(this,e)}}}()},9322:function(e){e.exports=function(){"use strict";var e="day";return function(t,r,n){var i=function(t){return t.add(4-t.isoWeekday(),e)},a=r.prototype;a.isoWeekYear=function(){return i(this).year()},a.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),e);var r,a,o,s=i(this),l=(r=this.isoWeekYear(),o=4-(a=(this.$u?n.utc:n)().year(r).startOf("year")).isoWeekday(),a.isoWeekday()>4&&(o+=7),a.add(o,e));return s.diff(l,"week")+1},a.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var o=a.startOf;a.startOf=function(e,t){var r=this.$utils(),n=!!r.u(t)||t;return"isoweek"===r.p(e)?n?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(e,t)}}}()},9464:function(e,t,r){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function t(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,r,o){var s=a.URL||a.webkitURL,l=document.createElement("a");r=r||e.name||"download",l.download=r,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?i(l):n(l.href)?t(e,r,o):i(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,a){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),r);else if(n(e))t(e,r,a);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){i(o)}))}}:function(e,r,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||o)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var h=a.URL||a.webkitURL,d=h.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?n.apply(t,[]):n)||(e.exports=i)},9112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentTypesXml=void 0,t.contentTypesXml='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="rels" ContentType=\n    "application/vnd.openxmlformats-package.relationships+xml" />\n  <Override PartName="/word/document.xml" ContentType=\n    "application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml"/>\n  <Override PartName="/word/afchunk.mht" ContentType="message/rfc822"/>\n</Types>\n'},1853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.documentXmlRels=void 0,t.documentXmlRels='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  <Relationship Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk"\n    Target="/word/afchunk.mht" Id="htmlChunk" />\n</Relationships>\n'},5063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8120);n.__exportStar(r(9112),t),n.__exportStar(r(1853),t),n.__exportStar(r(1578),t)},1578:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.relsXml=void 0,t.relsXml='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  <Relationship\n      Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument"\n      Target="/word/document.xml" Id="R09c83fafc067488e" />\n</Relationships>\n'},3173:(e,t,r)=>{"use strict";t.M=void 0;var n=r(8120),i=r(6128),a=r(2641);t.M=function(e,t){return void 0===t&&(t={}),n.__awaiter(this,void 0,void 0,(function(){var r;return n.__generator(this,(function(n){switch(n.label){case 0:return r=new a,i.addFiles(r,e,t),[4,i.generateDocument(r)];case 1:return[2,n.sent()]}}))}))}},6128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addFiles=t.generateDocument=void 0;var n=r(8120),i=r(3760),a=r(5063),o=r(3593),s=r(4131),l={orientation:"portrait",margins:{}};function u(e,t){return n.__assign(n.__assign({},e),t)}function c(e){return s.isBrowser?new Blob([e]):new Buffer(e,"utf-8")}t.generateDocument=function(e){return n.__awaiter(this,void 0,void 0,(function(){var t;return n.__generator(this,(function(r){switch(r.label){case 0:return[4,e.generateAsync({type:"arraybuffer"})];case 1:return t=r.sent(),s.isBrowser?[2,new Blob([t],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"})]:[2,new Buffer(new Uint8Array(t))]}}))}))},t.addFiles=function(e,t,r){var n=u(l,r);return e.file("[Content_Types].xml",c(a.contentTypesXml),{createFolders:!1}),e.folder("_rels").file(".rels",c(a.relsXml),{createFolders:!1}),e.folder("word").file("document.xml",function(e){var t=e.orientation,r=e.margins,n=u(o.defaultMargins,r),i=0,a=0;return"landscape"===t?(a=12240,i=15840):(i=12240,a=15840),o.documentTemplate(i,a,t,n)}(n),{createFolders:!1}).file("afchunk.mht",i.getMHTdocument(t),{createFolders:!1}).folder("_rels").file("document.xml.rels",c(a.documentXmlRels),{createFolders:!1})}},5166:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.documentTemplate=t.defaultMargins=void 0,t.defaultMargins={top:1440,right:1440,bottom:1440,left:1440,header:720,footer:720,gutter:0},t.documentTemplate=function(e,t,r,n){return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\n<w:document\n  xmlns:w="http://schemas.openxmlformats.org/wordprocessingml/2006/main"\n  xmlns:m="http://schemas.openxmlformats.org/officeDocument/2006/math"\n  xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"\n  xmlns:wp="http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing"\n  xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n  xmlns:ns6="http://schemas.openxmlformats.org/schemaLibrary/2006/main"\n  xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"\n  xmlns:ns8="http://schemas.openxmlformats.org/drawingml/2006/chartDrawing"\n  xmlns:dgm="http://schemas.openxmlformats.org/drawingml/2006/diagram"\n  xmlns:pic="http://schemas.openxmlformats.org/drawingml/2006/picture"\n  xmlns:ns11="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n  xmlns:dsp="http://schemas.microsoft.com/office/drawing/2008/diagram"\n  xmlns:ns13="urn:schemas-microsoft-com:office:excel"\n  xmlns:o="urn:schemas-microsoft-com:office:office"\n  xmlns:v="urn:schemas-microsoft-com:vml"\n  xmlns:w10="urn:schemas-microsoft-com:office:word"\n  xmlns:ns17="urn:schemas-microsoft-com:office:powerpoint"\n  xmlns:odx="http://opendope.org/xpaths"\n  xmlns:odc="http://opendope.org/conditions"\n  xmlns:odq="http://opendope.org/questions"\n  xmlns:odi="http://opendope.org/components"\n  xmlns:odgm="http://opendope.org/SmartArt/DataHierarchy"\n  xmlns:ns24="http://schemas.openxmlformats.org/officeDocument/2006/bibliography"\n  xmlns:ns25="http://schemas.openxmlformats.org/drawingml/2006/compatibility"\n  xmlns:ns26="http://schemas.openxmlformats.org/drawingml/2006/lockedCanvas">\n  <w:body>\n    <w:altChunk r:id="htmlChunk" />\n    <w:sectPr>\n      <w:pgSz w:w="'+e+'" w:h="'+t+'" w:orient="'+r+'" />\n      <w:pgMar w:top="'+n.top+'"\n               w:right="'+n.right+'"\n               w:bottom="'+n.bottom+'"\n               w:left="'+n.left+'"\n               w:header="'+n.header+'"\n               w:footer="'+n.footer+'"\n               w:gutter="'+n.gutter+'"/>\n    </w:sectPr>\n  </w:body>\n</w:document>\n'}},3593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8120);n.__exportStar(r(5166),t),n.__exportStar(r(9933),t),n.__exportStar(r(6221),t)},9933:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mhtDocumentTemplate=void 0,t.mhtDocumentTemplate=function(e,t){return'MIME-Version: 1.0\nContent-Type: multipart/related;\n    type="text/html";\n    boundary="----=mhtDocumentPart"\n\n\n------=mhtDocumentPart\nContent-Type: text/html;\n    charset="utf-8"\nContent-Transfer-Encoding: quoted-printable\nContent-Location: file:///C:/fake/document.html\n\n'+e+"\n\n"+t+"\n\n------=mhtDocumentPart--\n"}},6221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mhtPartTemplate=void 0,t.mhtPartTemplate=function(e,t,r,n){return"------=mhtDocumentPart\nContent-Type: "+e+"\nContent-Transfer-Encoding: "+t+"\nContent-Location: "+r+"\n\n"+n+"\n"}},3760:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMHTdocument=void 0;var n=r(3593);t.getMHTdocument=function(e){var t=function(e){var t=[];return/<img/g.test(e)?{htmlSource:e=e.replace(/"data:(\w+\/\w+);(\w+),(\S+)"/g,(function(e,r,i,a){var o="file:///C:/fake/image"+t.length+"."+r.split("/")[1];return t.push(n.mhtPartTemplate(r,i,o,a)),'"'+o+'"'})),imageContentParts:t}:{htmlSource:e,imageContentParts:t}}(e),r=t.imageContentParts.join("\n");return e=t.htmlSource.replace(/\=/g,"=3D"),n.mhtDocumentTemplate(e,r)}},8120:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>a,__asyncDelegator:()=>x,__asyncGenerator:()=>b,__asyncValues:()=>w,__await:()=>v,__awaiter:()=>c,__classPrivateFieldGet:()=>A,__classPrivateFieldSet:()=>C,__createBinding:()=>d,__decorate:()=>s,__exportStar:()=>f,__extends:()=>i,__generator:()=>h,__importDefault:()=>E,__importStar:()=>k,__makeTemplateObject:()=>D,__metadata:()=>u,__param:()=>l,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function o(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o}function l(e,t){return function(r,n){t(r,n,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}function h(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function d(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function f(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),a=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof v?Promise.resolve(r.value.v).then(l,u):c(a[0][2],r)}catch(e){c(a[0][3],e)}var r}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function x(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:v(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}function D(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},2641:(e,t,r)=>{e.exports=function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var a=void 0,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,o,s,l,u,c=[],h=0,d=e.length,f=d,p="string"!==n.getTypeOf(e);h<e.length;)f=d-h,i=p?(t=e[h++],r=h<d?e[h++]:0,h<d?e[h++]:0):(t=e.charCodeAt(h++),r=h<d?e.charCodeAt(h++):0,h<d?e.charCodeAt(h++):0),o=t>>2,s=(3&t)<<4|r>>4,l=1<f?(15&r)<<2|i>>6:64,u=2<f?63&i:64,c.push(a.charAt(o)+a.charAt(s)+a.charAt(l)+a.charAt(u));return c.join("")},r.decode=function(e){var t,r,n,o,s,l,u=0,c=0,h="data:";if(e.substr(0,5)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&f--,e.charAt(e.length-2)===a.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)t=a.indexOf(e.charAt(u++))<<2|(o=a.indexOf(e.charAt(u++)))>>4,r=(15&o)<<4|(s=a.indexOf(e.charAt(u++)))>>2,n=(3&s)<<6|(l=a.indexOf(e.charAt(u++))),d[c++]=t,64!==s&&(d[c++]=r),64!==l&&(d[c++]=n);return d}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r){var n=i,a=0+r;e^=-1;for(var o=0;o<a;o++)e=e>>>8^n[255&(e^t[o])];return~e}(0|t,e,e.length):function(e,t,r){var n=i,a=0+r;e^=-1;for(var o=0;o<a;o++)e=e>>>8^n[255&(e^t.charCodeAt(o))];return~e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function i(e,t,r,i,o,c){var h,d,f=e.file,p=e.compression,g=c!==s.utf8encode,m=a.transformTo("string",c(f.name)),y=a.transformTo("string",s.utf8encode(f.name)),v=f.comment,b=a.transformTo("string",c(v)),x=a.transformTo("string",s.utf8encode(v)),w=y.length!==f.name.length,D=x.length!==v.length,k="",E="",A="",C=f.dir,_=f.date,T={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(T.crc32=e.crc32,T.compressedSize=e.compressedSize,T.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),g||!w&&!D||(S|=2048);var F=0,O=0;C&&(F|=16),"UNIX"===o?(O=798,F|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(f.unixPermissions,C)):(O=20,F|=function(e){return 63&(e||0)}(f.dosPermissions)),h=_.getUTCHours(),h<<=6,h|=_.getUTCMinutes(),h<<=5,h|=_.getUTCSeconds()/2,d=_.getUTCFullYear()-1980,d<<=4,d|=_.getUTCMonth()+1,d<<=5,d|=_.getUTCDate(),w&&(E=n(1,1)+n(l(m),4)+y,k+="up"+n(E.length,2)+E),D&&(A=n(1,1)+n(l(b),4)+x,k+="uc"+n(A.length,2)+A);var B="";return B+="\n\0",B+=n(S,2),B+=p.magic,B+=n(h,2),B+=n(d,2),B+=n(T.crc32,4),B+=n(T.compressedSize,4),B+=n(T.uncompressedSize,4),B+=n(m.length,2),B+=n(k.length,2),{fileRecord:u.LOCAL_FILE_HEADER+B+m+k,dirRecord:u.CENTRAL_FILE_HEADER+n(O,2)+B+n(b.length,2)+"\0\0\0\0"+n(F,4)+n(i,4)+m+k+b}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,r,n){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(c,o),c.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=function(e,t,r,i,o){var s=a.transformTo("string",o(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},c.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),i=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var a=new i(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,r){o++;var i=function(e,t){var r=e||t,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,u=r.date;r._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new o(t);return r.load(e),r})).then((function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var a=0;a<n.length;a++)r.push(u(n[a]));return i.Promise.all(r)})).then((function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],l=s.fileNameStr,u=n.resolve(s.fileNameStr);r.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(r.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(r.comment=i.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),r&&r(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function n(e,t,r){var n,i=a.getTypeOf(t),s=a.extend(r||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(n=p(e))&&m.call(this,n,!0);var h="string"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!h),(t instanceof u&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var y;y=t instanceof u||t instanceof o?t:d.isNode&&d.isStream(t)?new f(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new c(e,y,s);this.files[e]=v}var i=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),h=e("./generate"),d=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:l.createFolders,e=g(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,r),this;if(y(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(y(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=m.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");a.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=h.generateWorker(this,r,n)}catch(e){(t=new o("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&r===a[1]&&n===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(n.transformTo("uint8array",e)):new a(n.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../utils");function a(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,n),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,n),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),s=e("../support"),l=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t,r){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=r,n.checkSupport(o),this._worker=e.pipe(new i(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}c.prototype={accumulate:function(e){return function(e,t){return new l.Promise((function(r,i){var a=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,r){a.push(e),t&&t(r)})).on("error",(function(e){a=[],i(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return o.encode(t);default:return n.transformTo(e,t)}}(l,function(e,t){var r,n=0,i=null,a=0;for(r=0;r<t.length;r++)a+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(a),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),u);r(e)}catch(e){i(e)}a=[]})).resume()}))}(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=c},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function c(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,r,n,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),a=o=0;o<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t}(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,a,o=e.length,l=new Array(2*o);for(t=r=0;t<o;)if((i=e[t++])<128)l[r++]=i;else if(4<(a=s[i]))l[r++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(u,o),u.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),l=t;o!==t.length&&(i.uint8array?(l=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(l=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:r.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,n.inherits(c,o),c.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),i=e("./base64"),a=e("./nodejsUtils"),o=e("./external");function s(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,r){var n=[],i=0,a=e.length;if(a<=r)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,a)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,a)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function h(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=c;var d={};d.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},d.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},d.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:c,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},d.nodebuffer={string:c,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:s},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return d[n][e](t)},r.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var i=t[n];"."===i||""===i&&0!==n&&n!==t.length-1||(".."===i?r.pop():r.push(i))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&a.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){setImmediate((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,a,s,u){return o.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var c=r.getTypeOf(t);return c?("arraybuffer"===c?t=r.transformTo("uint8array",t):"string"===c&&(u?t=i.decode(t):a&&!0!==s&&(t=function(e){return l(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&n&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)n.prototype[u[h]]=c;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(c),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),r=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,r=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}t.exports=function(e){1!==u.push(e)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function c(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(e,t,r){n((function(){var n;try{n=t(r)}catch(n){return a.reject(e,n)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function i(t){r||(r=!0,a.resolve(e,t))}var o=p((function(){t(i,n)}));"error"===o.status&&n(o.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(i);return this.state!==l?h(r,this.state===s?e:t,this.outcome):this.queue.push(new c(r,e,t)),r},c.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){a.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=p(d,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)f(e,n);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var o=new Array(r),s=0,l=-1,u=new this(i);++l<r;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){o[i]=e,++s!==r||n||(n=!0,a.resolve(u,o))}),(function(e){n||(n=!0,a.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var n,o=-1,s=new this(i);++o<t;)n=e[o],this.resolve(n).then((function(e){r||(r=!0,a.resolve(s,e))}),(function(e){r||(r=!0,a.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(o[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=n.deflateSetDictionary(this.strm,c)))throw new Error(o[r]);this._dict_set=!0}}function c(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}u.prototype.push=function(e,t){var r,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(r=n.deflate(s,o))&&0!==r)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===o?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=u,r.deflate=c,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK)throw new Error(s[r]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}function d(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}h.prototype.push=function(e,t){var r,s,l,u,h,d,f=this.strm,p=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?f.input=a.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(r=n.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(d="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===c.call(g)?new Uint8Array(g):g,r=n.inflateSetDictionary(this.strm,d)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&r!==o.Z_STREAM_END&&(0!==f.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(l=a.utf8border(f.output,f.next_out),u=f.next_out-l,h=a.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=h,r.inflate=d,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new n.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,r.string2buf=function(e){var t,r,i,a,o,s=e.length,l=0;for(a=0;a<s;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),a=o=0;o<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(i-56320),a++),r<128?t[o++]=r:(r<2048?t[o++]=192|r>>>6:(r<65536?t[o++]=224|r>>>12:(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63),t[o++]=128|r>>>6&63),t[o++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,a,s=t||e.length,u=new Array(2*s);for(r=n=0;r<s;)if((i=e[r++])<128)u[n++]=i;else if(4<(a=o[i]))u[n++]=65533,r+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&r<s;)i=i<<6|63&e[r++],a--;1<a?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return l(u,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e,a=e>>>16&65535,o=0;0!==r;){for(r-=o=2e3<r?2e3:r;a=a+(i=i+t[n++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var a=n,o=i+r;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return~e}},{}],46:[function(e,t,r){"use strict";var n,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=-2,c=258,h=262,d=113;function f(e,t){return e.msg=l[t],t}function p(e){return(e<<1)-(4<e?9:0)}function g(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function y(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function x(e,t){var r,n,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+c,g=u[a+o-1],m=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+o]===m&&u[r+o-1]===g&&u[r]===u[a]&&u[++r]===u[a+1]){a+=2,r++;do{}while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<p);if(n=c-(p-a),a=p-c,o<n){if(e.match_start=t,s<=(o=n))break;g=u[a+o-1],m=u[a+o]}}}while((t=f[t&d])>l&&0!=--i);return o<=e.lookahead?o:e.lookahead}function w(e){var t,r,n,a,l,u,c,d,f,p,g=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-h)){for(i.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=r=e.hash_size;n=e.head[--t],e.head[t]=g<=n?n-g:0,--r;);for(t=r=g;n=e.prev[--t],e.prev[t]=g<=n?n-g:0,--r;);a+=g}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,d=e.strstart+e.lookahead,p=void 0,(f=a)<(p=u.avail_in)&&(p=f),r=0===p?0:(u.avail_in-=p,i.arraySet(c,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=o(u.adler,c,p,d):2===u.state.wrap&&(u.adler=s(u.adler,c,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function D(e,t){for(var r,n;;){if(e.lookahead<h){if(w(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-h&&(e.match_length=x(e,r)),e.match_length>=3)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var r,n,i;;){if(e.lookahead<h){if(w(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-h&&(e.match_length=x(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function E(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function C(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):f(e,u)}function _(e){var t=C(e);return 0===t&&function(e){e.window_size=2*e.w_size,g(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function T(e,t,r,n,a,o){if(!e)return u;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),a<1||9<a||8!==r||n<8||15<n||t<0||9<t||o<0||4<o)return f(e,u);8===n&&(n=9);var l=new A;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=o,l.method=r,_(e)}n=[new E(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(w(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new E(4,4,8,4,D),new E(4,5,16,8,D),new E(4,6,32,32,D),new E(4,4,16,16,k),new E(8,16,32,32,k),new E(8,16,128,128,k),new E(8,32,128,256,k),new E(32,128,258,1024,k),new E(32,258,258,4096,k)],r.deflateInit=function(e,t){return T(e,t,8,15,8,0)},r.deflateInit2=T,r.deflateReset=_,r.deflateResetKeep=C,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},r.deflate=function(e,t){var r,i,o,l;if(!e||!e.state||5<t||t<0)return e?f(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return f(e,0===e.avail_out?-5:u);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,v(i,31),v(i,139),v(i,8),i.gzhead?(v(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),v(i,255&i.gzhead.time),v(i,i.gzhead.time>>8&255),v(i,i.gzhead.time>>16&255),v(i,i.gzhead.time>>24&255),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(v(i,255&i.gzhead.extra.length),v(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(v(i,0),v(i,0),v(i,0),v(i,0),v(i,0),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,3),i.status=d);else{var h=8+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=d,b(i,h),0!==i.strstart&&(b(i,e.adler>>>16),b(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending!==i.pending_buf_size));)v(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),m(e),o=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&m(e),i.pending+2<=i.pending_buf_size&&(v(i,255&e.adler),v(i,e.adler>>8&255),e.adler=0,i.status=d)):i.status=d),0!==i.pending){if(m(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(r)&&4!==t)return f(e,-5);if(666===i.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var x=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(w(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,n,i,o,s=e.window;;){if(e.lookahead<=c){if(w(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=e.strstart+c;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);e.match_length=c-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):n[i.level].func(i,t);if(3!==x&&4!==x||(i.status=666),1===x||3===x)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===x&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(g(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),m(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(v(i,255&e.adler),v(i,e.adler>>8&255),v(i,e.adler>>16&255),v(i,e.adler>>24&255),v(i,255&e.total_in),v(i,e.total_in>>8&255),v(i,e.total_in>>16&255),v(i,e.total_in>>24&255)):(b(i,e.adler>>>16),b(i,65535&e.adler)),m(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},r.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==d&&666!==t?f(e,u):(e.state=null,t===d?f(e,-3):0):u},r.deflateSetDictionary=function(e,t){var r,n,a,s,l,c,h,d,f=t.length;if(!e||!e.state)return u;if(2===(s=(r=e.state).wrap)||1===s&&42!==r.status||r.lookahead)return u;for(1===s&&(e.adler=o(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===s&&(g(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new i.Buf8(r.w_size),i.arraySet(d,t,f-r.w_size,r.w_size,0),t=d,f=r.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,w(r);r.lookahead>=3;){for(n=r.strstart,a=r.lookahead-2;r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--a;);r.strstart=n,r.lookahead=2,w(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,r.wrap=s,0},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,a,o,s,l,u,c,h,d,f,p,g,m,y,v,b,x,w,D,k,E,A,C;r=e.state,n=e.next_in,A=e.input,i=n+(e.avail_in-5),a=e.next_out,C=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,h=r.wnext,d=r.window,f=r.hold,p=r.bits,g=r.lencode,m=r.distcode,y=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{p<15&&(f+=A[n++]<<p,p+=8,f+=A[n++]<<p,p+=8),b=g[f&y];t:for(;;){if(f>>>=x=b>>>24,p-=x,0==(x=b>>>16&255))C[a++]=65535&b;else{if(!(16&x)){if(!(64&x)){b=g[(65535&b)+(f&(1<<x)-1)];continue t}if(32&x){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&b,(x&=15)&&(p<x&&(f+=A[n++]<<p,p+=8),w+=f&(1<<x)-1,f>>>=x,p-=x),p<15&&(f+=A[n++]<<p,p+=8,f+=A[n++]<<p,p+=8),b=m[f&v];r:for(;;){if(f>>>=x=b>>>24,p-=x,!(16&(x=b>>>16&255))){if(!(64&x)){b=m[(65535&b)+(f&(1<<x)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(D=65535&b,p<(x&=15)&&(f+=A[n++]<<p,(p+=8)<x&&(f+=A[n++]<<p,p+=8)),l<(D+=f&(1<<x)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=x,p-=x,(x=a-o)<D){if(c<(x=D-x)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(E=d,(k=0)===h){if(k+=u-x,x<w){for(w-=x;C[a++]=d[k++],--x;);k=a-D,E=C}}else if(h<x){if(k+=u+h-x,(x-=h)<w){for(w-=x;C[a++]=d[k++],--x;);if(k=0,h<w){for(w-=x=h;C[a++]=d[k++],--x;);k=a-D,E=C}}}else if(k+=h-x,x<w){for(w-=x;C[a++]=d[k++],--x;);k=a-D,E=C}for(;2<w;)C[a++]=E[k++],C[a++]=E[k++],C[a++]=E[k++],w-=3;w&&(C[a++]=E[k++],1<w&&(C[a++]=E[k++]))}else{for(k=a-D;C[a++]=C[k++],C[a++]=C[k++],C[a++]=C[k++],2<(w-=3););w&&(C[a++]=C[k++],1<w&&(C[a++]=C[k++]))}break}}break}}while(n<i&&a<s);n-=w=p>>3,f&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=f,r.bits=p}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),l=-2;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):l}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):l}function f(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,d(e))):l}function p(e,t){var r,n;return e?(n=new c,(e.state=n).window=null,0!==(r=f(e,t))&&(e.state=null),r):l}var g,m,y=!0;function v(e){if(y){var t;for(g=new n.Buf32(512),m=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),y=!1}e.lencode=g,e.lenbits=9,e.distcode=m,e.distbits=5}function b(e,t,r,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),n.arraySet(o.window,t,r-i,a,o.wnext),(i-=a)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}r.inflateReset=d,r.inflateReset2=f,r.inflateResetKeep=h,r.inflateInit=function(e){return p(e,15)},r.inflateInit2=p,r.inflate=function(e,t){var r,c,h,d,f,p,g,m,y,x,w,D,k,E,A,C,_,T,S,F,O,B,N,L,I=0,R=new n.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(r=e.state).mode&&(r.mode=13),f=e.next_out,h=e.output,g=e.avail_out,d=e.next_in,c=e.input,p=e.avail_in,m=r.hold,y=r.bits,x=p,w=g,B=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;y<16;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(2&r.wrap&&35615===m){R[r.check=0]=255&m,R[1]=m>>>8&255,r.check=a(r.check,R,2,0),y=m=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",r.mode=30;break}if(y-=4,O=8+(15&(m>>>=4)),0===r.wbits)r.wbits=O;else if(O>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<O,e.adler=r.check=1,r.mode=512&m?10:12,y=m=0;break;case 2:for(;y<16;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(r.flags=m,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=m>>8&1),512&r.flags&&(R[0]=255&m,R[1]=m>>>8&255,r.check=a(r.check,R,2,0)),y=m=0,r.mode=3;case 3:for(;y<32;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}r.head&&(r.head.time=m),512&r.flags&&(R[0]=255&m,R[1]=m>>>8&255,R[2]=m>>>16&255,R[3]=m>>>24&255,r.check=a(r.check,R,4,0)),y=m=0,r.mode=4;case 4:for(;y<16;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}r.head&&(r.head.xflags=255&m,r.head.os=m>>8),512&r.flags&&(R[0]=255&m,R[1]=m>>>8&255,r.check=a(r.check,R,2,0)),y=m=0,r.mode=5;case 5:if(1024&r.flags){for(;y<16;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}r.length=m,r.head&&(r.head.extra_len=m),512&r.flags&&(R[0]=255&m,R[1]=m>>>8&255,r.check=a(r.check,R,2,0)),y=m=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(p<(D=r.length)&&(D=p),D&&(r.head&&(O=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,c,d,D,O)),512&r.flags&&(r.check=a(r.check,c,D,d)),p-=D,d+=D,r.length-=D),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===p)break e;for(D=0;O=c[d+D++],r.head&&O&&r.length<65536&&(r.head.name+=String.fromCharCode(O)),O&&D<p;);if(512&r.flags&&(r.check=a(r.check,c,D,d)),p-=D,d+=D,O)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===p)break e;for(D=0;O=c[d+D++],r.head&&O&&r.length<65536&&(r.head.comment+=String.fromCharCode(O)),O&&D<p;);if(512&r.flags&&(r.check=a(r.check,c,D,d)),p-=D,d+=D,O)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;y<16;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(m!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}y=m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;y<32;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}e.adler=r.check=u(m),y=m=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,r.hold=m,r.bits=y,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){m>>>=7&y,y-=7&y,r.mode=27;break}for(;y<3;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}switch(r.last=1&m,y-=1,3&(m>>>=1)){case 0:r.mode=14;break;case 1:if(v(r),r.mode=20,6!==t)break;m>>>=2,y-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}m>>>=2,y-=2;break;case 14:for(m>>>=7&y,y-=7&y;y<32;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&m,y=m=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(D=r.length){if(p<D&&(D=p),g<D&&(D=g),0===D)break e;n.arraySet(h,c,d,D,f),p-=D,d+=D,g-=D,f+=D,r.length-=D;break}r.mode=12;break;case 17:for(;y<14;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(r.nlen=257+(31&m),m>>>=5,y-=5,r.ndist=1+(31&m),m>>>=5,y-=5,r.ncode=4+(15&m),m>>>=4,y-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;y<3;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}r.lens[M[r.have++]]=7&m,m>>>=3,y-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,N={bits:r.lenbits},B=s(0,r.lens,0,19,r.lencode,0,r.work,N),r.lenbits=N.bits,B){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;C=(I=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,_=65535&I,!((A=I>>>24)<=y);){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(_<16)m>>>=A,y-=A,r.lens[r.have++]=_;else{if(16===_){for(L=A+2;y<L;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(m>>>=A,y-=A,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}O=r.lens[r.have-1],D=3+(3&m),m>>>=2,y-=2}else if(17===_){for(L=A+3;y<L;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}y-=A,O=0,D=3+(7&(m>>>=A)),m>>>=3,y-=3}else{for(L=A+7;y<L;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}y-=A,O=0,D=11+(127&(m>>>=A)),m>>>=7,y-=7}if(r.have+D>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;D--;)r.lens[r.have++]=O}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,N={bits:r.lenbits},B=s(1,r.lens,0,r.nlen,r.lencode,0,r.work,N),r.lenbits=N.bits,B){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,N={bits:r.distbits},B=s(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,N),r.distbits=N.bits,B){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=p&&258<=g){e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,r.hold=m,r.bits=y,o(e,w),f=e.next_out,h=e.output,g=e.avail_out,d=e.next_in,c=e.input,p=e.avail_in,m=r.hold,y=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;C=(I=r.lencode[m&(1<<r.lenbits)-1])>>>16&255,_=65535&I,!((A=I>>>24)<=y);){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(C&&!(240&C)){for(T=A,S=C,F=_;C=(I=r.lencode[F+((m&(1<<T+S)-1)>>T)])>>>16&255,_=65535&I,!(T+(A=I>>>24)<=y);){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}m>>>=T,y-=T,r.back+=T}if(m>>>=A,y-=A,r.back+=A,r.length=_,0===C){r.mode=26;break}if(32&C){r.back=-1,r.mode=12;break}if(64&C){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&C,r.mode=22;case 22:if(r.extra){for(L=r.extra;y<L;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}r.length+=m&(1<<r.extra)-1,m>>>=r.extra,y-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;C=(I=r.distcode[m&(1<<r.distbits)-1])>>>16&255,_=65535&I,!((A=I>>>24)<=y);){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(!(240&C)){for(T=A,S=C,F=_;C=(I=r.distcode[F+((m&(1<<T+S)-1)>>T)])>>>16&255,_=65535&I,!(T+(A=I>>>24)<=y);){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}m>>>=T,y-=T,r.back+=T}if(m>>>=A,y-=A,r.back+=A,64&C){e.msg="invalid distance code",r.mode=30;break}r.offset=_,r.extra=15&C,r.mode=24;case 24:if(r.extra){for(L=r.extra;y<L;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}r.offset+=m&(1<<r.extra)-1,m>>>=r.extra,y-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===g)break e;if(D=w-g,r.offset>D){if((D=r.offset-D)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}k=D>r.wnext?(D-=r.wnext,r.wsize-D):r.wnext-D,D>r.length&&(D=r.length),E=r.window}else E=h,k=f-r.offset,D=r.length;for(g<D&&(D=g),g-=D,r.length-=D;h[f++]=E[k++],--D;);0===r.length&&(r.mode=21);break;case 26:if(0===g)break e;h[f++]=r.length,g--,r.mode=21;break;case 27:if(r.wrap){for(;y<32;){if(0===p)break e;p--,m|=c[d++]<<y,y+=8}if(w-=g,e.total_out+=w,r.total+=w,w&&(e.adler=r.check=r.flags?a(r.check,h,w,f-w):i(r.check,h,w,f-w)),w=g,(r.flags?m:u(m))!==r.check){e.msg="incorrect data check",r.mode=30;break}y=m=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;y<32;){if(0===p)break e;p--,m+=c[d++]<<y,y+=8}if(m!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}y=m=0}r.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;default:return l}return e.next_out=f,e.avail_out=g,e.next_in=d,e.avail_in=p,r.hold=m,r.bits=y,(r.wsize||w!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&b(e,e.output,e.next_out,w-e.avail_out)?(r.mode=31,-4):(x-=e.avail_in,w-=e.avail_out,e.total_in+=x,e.total_out+=w,r.total+=w,r.wrap&&w&&(e.adler=r.check=r.flags?a(r.check,h,w,e.next_out-w):i(r.check,h,w,e.next_out-w)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==x&&0===w||4===t)&&0===B&&(B=-5),B)},r.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){var r;return e&&e.state&&2&(r=e.state).wrap?((r.head=t).done=!1,0):l},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?l:11===r.mode&&i(1,t,n,0)!==r.check?-3:b(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,0):l},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,u,c,h,d){var f,p,g,m,y,v,b,x,w,D=d.bits,k=0,E=0,A=0,C=0,_=0,T=0,S=0,F=0,O=0,B=0,N=null,L=0,I=new n.Buf16(16),R=new n.Buf16(16),M=null,P=0;for(k=0;k<=15;k++)I[k]=0;for(E=0;E<l;E++)I[t[r+E]]++;for(_=D,C=15;1<=C&&0===I[C];C--);if(C<_&&(_=C),0===C)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(A=1;A<C&&0===I[A];A++);for(_<A&&(_=A),k=F=1;k<=15;k++)if(F<<=1,(F-=I[k])<0)return-1;if(0<F&&(0===e||1!==C))return-1;for(R[1]=0,k=1;k<15;k++)R[k+1]=R[k]+I[k];for(E=0;E<l;E++)0!==t[r+E]&&(h[R[t[r+E]]++]=E);if(v=0===e?(N=M=h,19):1===e?(N=i,L-=257,M=a,P-=257,256):(N=o,M=s,-1),k=A,y=c,S=E=B=0,g=-1,m=(O=1<<(T=_))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(b=k-S,w=h[E]<v?(x=0,h[E]):h[E]>v?(x=M[P+h[E]],N[L+h[E]]):(x=96,0),f=1<<k-S,A=p=1<<T;u[y+(B>>S)+(p-=f)]=b<<24|x<<16|w,0!==p;);for(f=1<<k-1;B&f;)f>>=1;if(0!==f?(B&=f-1,B+=f):B=0,E++,0==--I[k]){if(k===C)break;k=t[r+h[E]]}if(_<k&&(B&m)!==g){for(0===S&&(S=_),y+=A,F=1<<(T=k-S);T+S<C&&!((F-=I[T+S])<=0);)T++,F<<=1;if(O+=1<<T,1===e&&852<O||2===e&&592<O)return 1;u[g=B&m]=_<<24|T<<16|y-c}}return 0!==B&&(u[y+B]=k-S<<24|64<<16),d.bits=_,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var a=256,o=286,s=30,l=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],f=new Array(576);i(f);var p=new Array(60);i(p);var g=new Array(512);i(g);var m=new Array(256);i(m);var y=new Array(29);i(y);var v,b,x,w=new Array(s);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function E(e){return e<256?g[e]:g[256+(e>>>7)]}function A(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,A(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function _(e,t,r){C(e,r[2*t],r[2*t+1])}function T(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function S(e,t,r){var n,i,a=new Array(16),o=0;for(n=1;n<=l;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(a[s]++,s))}}function F(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function O(e){8<e.bi_valid?A(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function B(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function N(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&B(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!B(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function L(e,t,r){var n,i,o,s,l=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===n?_(e,i,t):(_(e,(o=m[i])+a+1,t),0!==(s=u[o])&&C(e,i-=y[o],s),_(e,o=E(--n),r),0!==(s=c[o])&&C(e,n-=w[o],s)),l<e.last_lit;);_(e,256,t)}function I(e,t){var r,n,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<u;r++)0!==a[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;1<=r;r--)N(e,a,r);for(i=u;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,N(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,o,s,u=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(a=0;a<=l;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)g<(a=u[2*u[2*(n=e.heap[r])+1]+1]+1)&&(a=g,m++),u[2*n+1]=a,c<n||(e.bl_count[a]++,o=0,p<=n&&(o=f[n-p]),s=u[2*n],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(h[2*n+1]+o)));if(0!==m){do{for(a=g-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[g]--,m-=2}while(0<m);for(a=g;0!==a;a--)for(n=e.bl_count[a];0!==n;)c<(i=e.heap[--r])||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(e,t),S(a,c,e.bl_count)}function R(e,t,r){var n,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++s<l&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4))}function M(e,t,r){var n,i,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++s<l&&i===o)){if(s<u)for(;_(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==a&&(_(e,i,e.bl_tree),s--),_(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(_(e,17,e.bl_tree),C(e,s-3,3)):(_(e,18,e.bl_tree),C(e,s-11,7));a=i,u=(s=0)===o?(l=138,3):i===o?(l=6,3):(l=7,4)}}i(w);var P=!1;function z(e,t,r,i){C(e,0+(i?1:0),3),function(e,t,r){O(e),A(e,r),A(e,~r),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}r._tr_init=function(e){P||(function(){var e,t,r,n,i,a=new Array(16);for(n=r=0;n<28;n++)for(y[n]=r,e=0;e<1<<u[n];e++)m[r++]=n;for(m[r-1]=n,n=i=0;n<16;n++)for(w[n]=i,e=0;e<1<<c[n];e++)g[i++]=n;for(i>>=7;n<s;n++)for(w[n]=i<<7,e=0;e<1<<c[n]-7;e++)g[256+i++]=n;for(t=0;t<=l;t++)a[t]=0;for(e=0;e<=143;)f[2*e+1]=8,e++,a[8]++;for(;e<=255;)f[2*e+1]=9,e++,a[9]++;for(;e<=279;)f[2*e+1]=7,e++,a[7]++;for(;e<=287;)f[2*e+1]=8,e++,a[8]++;for(S(f,287,a),e=0;e<s;e++)p[2*e+1]=5,p[2*e]=T(e,5);v=new D(f,u,257,o,l),b=new D(p,c,0,s,l),x=new D(new Array(0),h,0,19,7)}(),P=!0),e.l_desc=new k(e.dyn_ltree,v),e.d_desc=new k(e.dyn_dtree,b),e.bl_desc=new k(e.bl_tree,x),e.bi_buf=0,e.bi_valid=0,F(e)},r._tr_stored_block=z,r._tr_flush_block=function(e,t,r,n){var i,o,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),s=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==t?z(e,t,r,n):4===e.strategy||o===i?(C(e,2+(n?1:0),3),L(e,f,p)):(C(e,4+(n?1:0),3),function(e,t,r,n){var i;for(C(e,t-257,5),C(e,r-1,5),C(e,n-4,4),i=0;i<n;i++)C(e,e.bl_tree[2*d[i]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),L(e,e.dyn_ltree,e.dyn_dtree)),F(e),n&&O(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(m[r]+a+1)]++,e.dyn_dtree[2*E(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){C(e,2,3),_(e,256,f),function(e){16===e.bi_valid?(A(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e){"use strict";if(!e.setImmediate){var t,r,n,i,a=1,o={},s=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,t="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){h(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(i="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",d,!1):e.attachEvent("onmessage",d),function(t){e.postMessage(i+t,"*")}):e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){h(e.data)},function(e){n.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(h,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var r=new Array(arguments.length-1),n=0;n<r.length;n++)r[n]=arguments[n+1];var i={callback:e,args:r};return o[a]=i,t(a),a++},u.clearImmediate=c}function c(e){delete o[e]}function h(e){if(s)setTimeout(h,0,e);else{var t=o[e];if(t){s=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(undefined,r)}}(t)}finally{c(e),s=!1}}}}function d(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&h(+t.data.slice(i.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},8794:function(e){var t;t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=26)}([function(e,t,r){"use strict";function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(8),a=r(9);function o(e,t,r){n.call(this,r),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=r,this.bendpoints=[],this.source=e,this.target=t}for(var s in o.prototype=Object.create(n.prototype),n)o[s]=n[s];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(e,t){for(var r=this.getOtherEnd(e),n=t.getGraphManager().getRoot();;){if(r.getOwner()==t)return r;if(r.getOwner()==n)break;r=r.getOwner().getParent()}return null},o.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=a.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=a.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(13),o=r(0),s=r(16),l=r(4);function u(e,t,r,o){null==r&&null==o&&(o=t),n.call(this,o),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=o,this.edges=[],this.graphManager=e,this.rect=null!=r&&null!=t?new a(t.x,t.y,r.width,r.height):new a}for(var c in u.prototype=Object.create(n.prototype),n)u[c]=n[c];u.prototype.getEdges=function(){return this.edges},u.prototype.getChild=function(){return this.child},u.prototype.getOwner=function(){return this.owner},u.prototype.getWidth=function(){return this.rect.width},u.prototype.setWidth=function(e){this.rect.width=e},u.prototype.getHeight=function(){return this.rect.height},u.prototype.setHeight=function(e){this.rect.height=e},u.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},u.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},u.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},u.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},u.prototype.getRect=function(){return this.rect},u.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},u.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},u.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},u.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},u.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},u.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},u.prototype.getEdgeListToNode=function(e){var t=[],r=this;return r.edges.forEach((function(n){if(n.target==e){if(n.source!=r)throw"Incorrect edge source!";t.push(n)}})),t},u.prototype.getEdgesBetween=function(e){var t=[],r=this;return r.edges.forEach((function(n){if(n.source!=r&&n.target!=r)throw"Incorrect edge source and/or target";n.target!=e&&n.source!=e||t.push(n)})),t},u.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach((function(r){if(r.source==t)e.add(r.target);else{if(r.target!=t)throw"Incorrect incidency!";e.add(r.source)}})),e},u.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),r=0;r<t.length;r++)t[r].withChildren().forEach((function(t){e.add(t)}));return e},u.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),r=0;r<t.length;r++)e+=t[r].getNoOfChildren();return 0==e&&(e=1),e},u.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},u.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},u.prototype.scatter=function(){var e,t,r=-o.INITIAL_WORLD_BOUNDARY,n=o.INITIAL_WORLD_BOUNDARY;e=o.WORLD_CENTER_X+s.nextDouble()*(n-r)+r;var i=-o.INITIAL_WORLD_BOUNDARY,a=o.INITIAL_WORLD_BOUNDARY;t=o.WORLD_CENTER_Y+s.nextDouble()*(a-i)+i,this.rect.x=e,this.rect.y=t},u.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),r=e.getBottom()-e.getTop();this.labelWidth>t&&(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)),this.labelHeight>r&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-r)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-r),this.setHeight(this.labelHeight))}}},u.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},u.prototype.transform=function(e){var t=this.rect.x;t>o.WORLD_BOUNDARY?t=o.WORLD_BOUNDARY:t<-o.WORLD_BOUNDARY&&(t=-o.WORLD_BOUNDARY);var r=this.rect.y;r>o.WORLD_BOUNDARY?r=o.WORLD_BOUNDARY:r<-o.WORLD_BOUNDARY&&(r=-o.WORLD_BOUNDARY);var n=new l(t,r),i=e.inverseTransformPoint(n);this.setLocation(i.x,i.y)},u.prototype.getLeft=function(){return this.rect.x},u.prototype.getRight=function(){return this.rect.x+this.rect.width},u.prototype.getTop=function(){return this.rect.y},u.prototype.getBottom=function(){return this.rect.y+this.rect.height},u.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=u},function(e,t,r){"use strict";function n(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(e){this.x=e},n.prototype.setY=function(e){this.y=e},n.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=n},function(e,t,r){"use strict";var n=r(2),i=r(10),a=r(0),o=r(6),s=r(3),l=r(1),u=r(13),c=r(12),h=r(11);function d(e,t,r){n.call(this,r),this.estimatedSize=i.MIN_VALUE,this.margin=a.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof o?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}for(var f in d.prototype=Object.create(n.prototype),n)d[f]=n[f];d.prototype.getNodes=function(){return this.nodes},d.prototype.getEdges=function(){return this.edges},d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getParent=function(){return this.parent},d.prototype.getLeft=function(){return this.left},d.prototype.getRight=function(){return this.right},d.prototype.getTop=function(){return this.top},d.prototype.getBottom=function(){return this.bottom},d.prototype.isConnected=function(){return this.isConnected},d.prototype.add=function(e,t,r){if(null==t&&null==r){var n=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(n)>-1)throw"Node already in graph!";return n.owner=this,this.getNodes().push(n),n}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(r)>-1))throw"Source or target not in graph!";if(t.owner!=r.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=r.owner?null:(i.source=t,i.target=r,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),r!=t&&r.edges.push(i),i)},d.prototype.remove=function(e){var t=e;if(e instanceof s){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var r=t.edges.slice(),n=r.length,i=0;i<n;i++)(a=r[i]).isInterGraph?this.graphManager.remove(a):a.source.owner.remove(a);if(-1==(o=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(o,1)}else if(e instanceof l){var a;if(null==(a=e))throw"Edge is null!";if(null==a.source||null==a.target)throw"Source and/or target is null!";if(null==a.source.owner||null==a.target.owner||a.source.owner!=this||a.target.owner!=this)throw"Source and/or target owner is invalid!";var o,u=a.source.edges.indexOf(a),c=a.target.edges.indexOf(a);if(!(u>-1&&c>-1))throw"Source and/or target doesn't know this edge!";if(a.source.edges.splice(u,1),a.target!=a.source&&a.target.edges.splice(c,1),-1==(o=a.source.owner.getEdges().indexOf(a)))throw"Not in owner's edge list!";a.source.owner.getEdges().splice(o,1)}},d.prototype.updateLeftTop=function(){for(var e,t,r,n=i.MAX_VALUE,a=i.MAX_VALUE,o=this.getNodes(),s=o.length,l=0;l<s;l++){var u=o[l];n>(e=u.getTop())&&(n=e),a>(t=u.getLeft())&&(a=t)}return n==i.MAX_VALUE?null:(r=null!=o[0].getParent().paddingLeft?o[0].getParent().paddingLeft:this.margin,this.left=a-r,this.top=n-r,new c(this.left,this.top))},d.prototype.updateBounds=function(e){for(var t,r,n,a,o,s=i.MAX_VALUE,l=-i.MAX_VALUE,c=i.MAX_VALUE,h=-i.MAX_VALUE,d=this.nodes,f=d.length,p=0;p<f;p++){var g=d[p];e&&null!=g.child&&g.updateBounds(),s>(t=g.getLeft())&&(s=t),l<(r=g.getRight())&&(l=r),c>(n=g.getTop())&&(c=n),h<(a=g.getBottom())&&(h=a)}var m=new u(s,c,l-s,h-c);s==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),o=null!=d[0].getParent().paddingLeft?d[0].getParent().paddingLeft:this.margin,this.left=m.x-o,this.right=m.x+m.width+o,this.top=m.y-o,this.bottom=m.y+m.height+o},d.calculateBounds=function(e){for(var t,r,n,a,o=i.MAX_VALUE,s=-i.MAX_VALUE,l=i.MAX_VALUE,c=-i.MAX_VALUE,h=e.length,d=0;d<h;d++){var f=e[d];o>(t=f.getLeft())&&(o=t),s<(r=f.getRight())&&(s=r),l>(n=f.getTop())&&(l=n),c<(a=f.getBottom())&&(c=a)}return new u(o,l,s-o,c-l)},d.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},d.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},d.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,r=t.length,n=0;n<r;n++)e+=t[n].calcEstimatedSize();return this.estimatedSize=0==e?a.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},d.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,r,n=new h,i=new Set,a=this.nodes[0];for(a.withChildren().forEach((function(e){n.push(e),i.add(e)}));0!==n.length;)for(var o=(t=(a=n.shift()).getEdges()).length,s=0;s<o;s++)null==(r=t[s].getOtherEndInGraph(a,this))||i.has(r)||r.withChildren().forEach((function(e){n.push(e),i.add(e)}));if(this.isConnected=!1,i.size>=this.nodes.length){var l=0;i.forEach((function(t){t.owner==e&&l++})),l==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=d},function(e,t,r){"use strict";var n,i=r(1);function a(e){n=r(5),this.layout=e,this.graphs=[],this.edges=[]}a.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),r=this.add(e,t);return this.setRootGraph(r),this.rootGraph},a.prototype.add=function(e,t,r,n,i){if(null==r&&null==n&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=r,r=e;var a=(n=t).getOwner(),o=i.getOwner();if(null==a||a.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==o||o.getGraphManager()!=this)throw"Target not in this graph mgr!";if(a==o)return r.isInterGraph=!1,a.add(r,n,i);if(r.isInterGraph=!0,r.source=n,r.target=i,this.edges.indexOf(r)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(r),null==r.source||null==r.target)throw"Edge source and/or target is null!";if(-1!=r.source.edges.indexOf(r)||-1!=r.target.edges.indexOf(r))throw"Edge already in source and/or target incidency list!";return r.source.edges.push(r),r.target.edges.push(r),r},a.prototype.remove=function(e){if(e instanceof n){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var r,a=[],o=(a=a.concat(t.getEdges())).length,s=0;s<o;s++)r=a[s],t.remove(r);var l,u=[];for(o=(u=u.concat(t.getNodes())).length,s=0;s<o;s++)l=u[s],t.remove(l);t==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(t);this.graphs.splice(c,1),t.parent=null}else if(e instanceof i){if(null==(r=e))throw"Edge is null!";if(!r.isInterGraph)throw"Not an inter-graph edge!";if(null==r.source||null==r.target)throw"Source and/or target is null!";if(-1==r.source.edges.indexOf(r)||-1==r.target.edges.indexOf(r))throw"Source and/or target doesn't know this edge!";if(c=r.source.edges.indexOf(r),r.source.edges.splice(c,1),c=r.target.edges.indexOf(r),r.target.edges.splice(c,1),null==r.source.owner||null==r.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==r.source.owner.getGraphManager().edges.indexOf(r))throw"Not in owner graph manager's edge list!";c=r.source.owner.getGraphManager().edges.indexOf(r),r.source.owner.getGraphManager().edges.splice(c,1)}},a.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},a.prototype.getGraphs=function(){return this.graphs},a.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),r=t.length,n=0;n<r;n++)e=e.concat(t[n].getNodes());this.allNodes=e}return this.allNodes},a.prototype.resetAllNodes=function(){this.allNodes=null},a.prototype.resetAllEdges=function(){this.allEdges=null},a.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},a.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),r=(t.length,0);r<t.length;r++)e=e.concat(t[r].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},a.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},a.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},a.prototype.getRoot=function(){return this.rootGraph},a.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},a.prototype.getLayout=function(){return this.layout},a.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var r,n=e.getOwner();null!=(r=n.getParent());){if(r==t)return!0;if(null==(n=r.getOwner()))break}for(n=t.getOwner();null!=(r=n.getParent());){if(r==e)return!0;if(null==(n=r.getOwner()))break}return!1},a.prototype.calcLowestCommonAncestors=function(){for(var e,t,r,n,i,a=this.getAllEdges(),o=a.length,s=0;s<o;s++)if(t=(e=a[s]).source,r=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=r,t!=r){for(n=t.getOwner();null==e.lca;){for(e.targetInLca=r,i=r.getOwner();null==e.lca;){if(i==n){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(n==this.rootGraph)break;null==e.lca&&(e.sourceInLca=n.getParent(),n=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},a.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var r=e.getOwner();null!=r;){for(var n=t.getOwner();null!=n;){if(n==r)return n;n=n.getParent().getOwner()}r=r.getParent().getOwner()}return r},a.prototype.calcInclusionTreeDepths=function(e,t){var r;null==e&&null==t&&(e=this.rootGraph,t=1);for(var n=e.getNodes(),i=n.length,a=0;a<i;a++)(r=n[a]).inclusionTreeDepth=t,null!=r.child&&this.calcInclusionTreeDepths(r.child,t+1)},a.prototype.includesInvalidEdge=function(){for(var e,t=this.edges.length,r=0;r<t;r++)if(e=this.edges[r],this.isOneAncestorOfOther(e.source,e.target))return!0;return!1},e.exports=a},function(e,t,r){"use strict";var n=r(0);function i(){}for(var a in n)i[a]=n[a];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},function(e,t,r){"use strict";var n=r(12);function i(){}i.calcSeparationAmount=function(e,t,r,n){if(!e.intersects(t))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,i),r[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),r[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?r[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(r[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?r[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(r[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var a=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(a=1);var o=a*r[0],s=r[1]/a;r[0]<s?s=r[0]:o=r[1],r[0]=-1*i[0]*(s/2+n),r[1]=-1*i[1]*(o/2+n)},i.decideDirectionsForOverlappingNodes=function(e,t,r){e.getCenterX()<t.getCenterX()?r[0]=-1:r[0]=1,e.getCenterY()<t.getCenterY()?r[1]=-1:r[1]=1},i.getIntersection2=function(e,t,r){var n=e.getCenterX(),i=e.getCenterY(),a=t.getCenterX(),o=t.getCenterY();if(e.intersects(t))return r[0]=n,r[1]=i,r[2]=a,r[3]=o,!0;var s=e.getX(),l=e.getY(),u=e.getRight(),c=e.getX(),h=e.getBottom(),d=e.getRight(),f=e.getWidthHalf(),p=e.getHeightHalf(),g=t.getX(),m=t.getY(),y=t.getRight(),v=t.getX(),b=t.getBottom(),x=t.getRight(),w=t.getWidthHalf(),D=t.getHeightHalf(),k=!1,E=!1;if(n===a){if(i>o)return r[0]=n,r[1]=l,r[2]=a,r[3]=b,!1;if(i<o)return r[0]=n,r[1]=h,r[2]=a,r[3]=m,!1}else if(i===o){if(n>a)return r[0]=s,r[1]=i,r[2]=y,r[3]=o,!1;if(n<a)return r[0]=u,r[1]=i,r[2]=g,r[3]=o,!1}else{var A=e.height/e.width,C=t.height/t.width,_=(o-i)/(a-n),T=void 0,S=void 0,F=void 0,O=void 0,B=void 0,N=void 0;if(-A===_?n>a?(r[0]=c,r[1]=h,k=!0):(r[0]=u,r[1]=l,k=!0):A===_&&(n>a?(r[0]=s,r[1]=l,k=!0):(r[0]=d,r[1]=h,k=!0)),-C===_?a>n?(r[2]=v,r[3]=b,E=!0):(r[2]=y,r[3]=m,E=!0):C===_&&(a>n?(r[2]=g,r[3]=m,E=!0):(r[2]=x,r[3]=b,E=!0)),k&&E)return!1;if(n>a?i>o?(T=this.getCardinalDirection(A,_,4),S=this.getCardinalDirection(C,_,2)):(T=this.getCardinalDirection(-A,_,3),S=this.getCardinalDirection(-C,_,1)):i>o?(T=this.getCardinalDirection(-A,_,1),S=this.getCardinalDirection(-C,_,3)):(T=this.getCardinalDirection(A,_,2),S=this.getCardinalDirection(C,_,4)),!k)switch(T){case 1:O=l,F=n+-p/_,r[0]=F,r[1]=O;break;case 2:F=d,O=i+f*_,r[0]=F,r[1]=O;break;case 3:O=h,F=n+p/_,r[0]=F,r[1]=O;break;case 4:F=c,O=i+-f*_,r[0]=F,r[1]=O}if(!E)switch(S){case 1:N=m,B=a+-D/_,r[2]=B,r[3]=N;break;case 2:B=x,N=o+w*_,r[2]=B,r[3]=N;break;case 3:N=b,B=a+D/_,r[2]=B,r[3]=N;break;case 4:B=v,N=o+-w*_,r[2]=B,r[3]=N}}return!1},i.getCardinalDirection=function(e,t,r){return e>t?r:1+r%4},i.getIntersection=function(e,t,r,i){if(null==i)return this.getIntersection2(e,t,r);var a,o,s,l,u,c,h,d=e.x,f=e.y,p=t.x,g=t.y,m=r.x,y=r.y,v=i.x,b=i.y;return 0==(h=(a=g-f)*(l=m-v)-(o=b-y)*(s=d-p))?null:new n((s*(c=v*y-m*b)-l*(u=p*f-d*g))/h,(o*u-a*c)/h)},i.angleOfVector=function(e,t,r,n){var i=void 0;return e!==r?(i=Math.atan((n-t)/(r-e)),r<e?i+=Math.PI:n<t&&(i+=this.TWO_PI)):i=n<t?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(e,t,r,n){var i=e.x,a=e.y,o=t.x,s=t.y,l=r.x,u=r.y,c=n.x,h=n.y,d=(o-i)*(h-u)-(c-l)*(s-a);if(0===d)return!1;var f=((h-u)*(c-i)+(l-c)*(h-a))/d,p=((a-s)*(c-i)+(o-i)*(h-a))/d;return 0<f&&f<1&&0<p&&p<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},function(e,t,r){"use strict";function n(){}n.sign=function(e){return e>0?1:e<0?-1:0},n.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},n.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=n},function(e,t,r){"use strict";function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,e.exports=n},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return{value:e,next:null,prev:null}},a=function(e,t,r,n){return null!==e?e.next=t:n.head=t,null!==r?r.prev=t:n.tail=t,t.prev=e,t.next=r,n.length++,t},o=function(e,t){var r=e.prev,n=e.next;return null!==r?r.next=n:t.head=n,null!==n?n.prev=r:t.tail=r,e.prev=e.next=null,t.length--,e},s=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach((function(e){return r.push(e)}))}return n(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return a(t.prev,i(e),t,this)}},{key:"insertAfter",value:function(e,t){return a(t,i(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return a(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return a(t,e,t.next,this)}},{key:"push",value:function(e){return a(this.tail,i(e),null,this)}},{key:"unshift",value:function(e){return a(null,i(e),this.head,this)}},{key:"remove",value:function(e){return o(e,this)}},{key:"pop",value:function(){return o(this.tail,this).value}},{key:"popNode",value:function(){return o(this.tail,this)}},{key:"shift",value:function(){return o(this.head,this).value}},{key:"shiftNode",value:function(){return o(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,r=this.head;t<e;)r=r.next,t++;return r.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var r=1,n=this.head;r<e;)n=n.next,r++;n.value=t}}}]),e}();e.exports=s},function(e,t,r){"use strict";function n(e,t,r){this.x=null,this.y=null,null==e&&null==t&&null==r?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==r?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==r&&(r=e,this.x=r.x,this.y=r.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(e,t,r){"Point"==e.constructor.name&&null==t&&null==r?(r=e,this.setLocation(r.x,r.y)):"number"==typeof e&&"number"==typeof t&&null==r&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},n.prototype.move=function(e,t){this.x=e,this.y=t},n.prototype.translate=function(e,t){this.x+=e,this.y+=t},n.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},n.prototype.toString=function(){return(new n).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=n},function(e,t,r){"use strict";function n(e,t,r,n){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=r&&null!=n&&(this.x=e,this.y=t,this.width=r,this.height=n)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(e){this.x=e},n.prototype.getY=function(){return this.y},n.prototype.setY=function(e){this.y=e},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(e){this.width=e},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(e){this.height=e},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(e){return!(this.getRight()<e.x||this.getBottom()<e.y||e.getRight()<this.x||e.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},e.exports=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(){}i.lastID=0,i.createID=function(e){return i.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=i.getString(),i.lastID++),e.uniqueID)},i.getString=function(e){return null==e&&(e=i.lastID),"Object#"+e},i.isPrimitive=function(e){var t=void 0===e?"undefined":n(e);return null==e||"object"!=t&&"function"!=t},e.exports=i},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var i=r(0),a=r(6),o=r(3),s=r(1),l=r(5),u=r(4),c=r(17),h=r(27);function d(e){h.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new a(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}d.RANDOM_SEED=1,d.prototype=Object.create(h.prototype),d.prototype.getGraphManager=function(){return this.graphManager},d.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},d.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},d.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},d.prototype.newGraphManager=function(){var e=new a(this);return this.graphManager=e,e},d.prototype.newGraph=function(e){return new l(null,this.graphManager,e)},d.prototype.newNode=function(e){return new o(this.graphManager,e)},d.prototype.newEdge=function(e){return new s(null,null,e)},d.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},d.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},d.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},d.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var r=this.graphManager.getRoot().getNodes();for(t=0;t<r.length;t++)r[t];this.update(this.graphManager.getRoot())}},d.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof o){var t=e;if(null!=t.getChild())for(var r=t.getChild().getNodes(),n=0;n<r.length;n++)update(r[n]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof s){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}else if(e instanceof l){var a=e;null!=a.vGraphObject&&a.vGraphObject.update(a)}},d.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},d.prototype.transform=function(e){if(null==e)this.transform(new u(0,0));else{var t=new c,r=this.graphManager.getRoot().updateLeftTop();if(null!=r){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(r.x),t.setDeviceOrgY(r.y);for(var n=this.getAllNodes(),i=0;i<n.length;i++)n[i].transform(t)}}},d.prototype.positionNodesRandomly=function(e){if(null==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,r,n=e.getNodes(),i=0;i<n.length;i++)null==(r=(t=n[i]).getChild())||0==r.getNodes().length?t.scatter():(this.positionNodesRandomly(r),t.updateBounds())},d.prototype.getFlatForest=function(){for(var e=[],t=!0,r=this.graphManager.getRoot().getNodes(),i=!0,a=0;a<r.length;a++)null!=r[a].getChild()&&(i=!1);if(!i)return e;var o=new Set,s=[],l=new Map,u=[];for(u=u.concat(r);u.length>0&&t;){for(s.push(u[0]);s.length>0&&t;){var c=s[0];s.splice(0,1),o.add(c);var h=c.getEdges();for(a=0;a<h.length;a++){var d=h[a].getOtherEnd(c);if(l.get(c)!=d){if(o.has(d)){t=!1;break}s.push(d),l.set(d,c)}}}if(t){var f=[].concat(n(o));for(e.push(f),a=0;a<f.length;a++){var p=f[a],g=u.indexOf(p);g>-1&&u.splice(g,1)}o=new Set,l=new Map}else e=[]}return e},d.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],r=e.source,n=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var a=this.newNode(null);a.setRect(new Point(0,0),new Dimension(1,1)),n.add(a);var o=this.newEdge(null);this.graphManager.add(o,r,a),t.add(a),r=a}return o=this.newEdge(null),this.graphManager.add(o,r,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):n.remove(e),t},d.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(n(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var r=e[t];if(r.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(r),a=0;a<i.length;a++){var o=i[a],s=new u(o.getCenterX(),o.getCenterY()),l=r.bendpoints.get(a);l.x=s.x,l.y=s.y,o.getOwner().remove(o)}this.graphManager.add(r,r.source,r.target)}}},d.transform=function(e,t,r,n){if(null!=r&&null!=n){var i=t;return e<=50?i-=(t-t/r)/50*(50-e):i+=(t*n-t)/50*(e-50),i}var a,o;return e<=50?(a=9*t/500,o=t/10):(a=9*t/50,o=-8*t),a*e+o},d.findCenterOfTree=function(e){var t=[];t=t.concat(e);var r=[],n=new Map,i=!1,a=null;1!=t.length&&2!=t.length||(i=!0,a=t[0]);for(var o=0;o<t.length;o++){var s=(c=t[o]).getNeighborsList().size;n.set(c,c.getNeighborsList().size),1==s&&r.push(c)}var l=[];for(l=l.concat(r);!i;){var u=[];for(u=u.concat(l),l=[],o=0;o<t.length;o++){var c=t[o],h=t.indexOf(c);h>=0&&t.splice(h,1),c.getNeighborsList().forEach((function(e){if(r.indexOf(e)<0){var t=n.get(e)-1;1==t&&l.push(e),n.set(e,t)}}))}r=r.concat(l),1!=t.length&&2!=t.length||(i=!0,a=t[0])}return a},d.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=d},function(e,t,r){"use strict";function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=1e4*Math.sin(n.seed++),n.x-Math.floor(n.x)},e.exports=n},function(e,t,r){"use strict";var n=r(4);function i(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(e){this.lworldExtX=e},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(e){this.lworldExtY=e},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},i.prototype.transformX=function(e){var t=0,r=this.lworldExtX;return 0!=r&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/r),t},i.prototype.transformY=function(e){var t=0,r=this.lworldExtY;return 0!=r&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/r),t},i.prototype.inverseTransformX=function(e){var t=0,r=this.ldeviceExtX;return 0!=r&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/r),t},i.prototype.inverseTransformY=function(e){var t=0,r=this.ldeviceExtY;return 0!=r&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/r),t},i.prototype.inverseTransformPoint=function(e){return new n(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=i},function(e,t,r){"use strict";var n=r(15),i=r(7),a=r(0),o=r(8),s=r(9);function l(){n.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=i.DEFAULT_EDGE_LENGTH,this.springConstant=i.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=i.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var u in l.prototype=Object.create(n.prototype),n)l[u]=n[u];l.prototype.initParameters=function(){n.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var e,t,r,n,o,s,l=this.getGraphManager().getAllEdges(),u=0;u<l.length;u++)(e=l[u]).idealLength=this.idealEdgeLength,e.isInterGraph&&(r=e.getSource(),n=e.getTarget(),o=e.getSourceInLca().getEstimatedSize(),s=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=o+s-2*a.SIMPLE_NODE_SIZE),t=e.getLca().getInclusionTreeDepth(),e.idealLength+=i.DEFAULT_EDGE_LENGTH*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(r.getInclusionTreeDepth()+n.getInclusionTreeDepth()-2*t))},l.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),r=0;r<t.length;r++)e=t[r],this.calcSpringForce(e,e.idealLength)},l.prototype.calcRepulsionForces=function(){var e,t,r,n,a,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&o&&this.updateGrid(),a=new Set,e=0;e<l.length;e++)r=l[e],this.calculateRepulsionForceOfANode(r,a,o,s),a.add(r);else for(e=0;e<l.length;e++)for(r=l[e],t=e+1;t<l.length;t++)n=l[t],r.getOwner()==n.getOwner()&&this.calcRepulsionForce(r,n)},l.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),r=0;r<t.length;r++)e=t[r],this.calcGravitationalForce(e)},l.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},l.prototype.calcSpringForce=function(e,t){var r,n,i,a,o=e.getSource(),s=e.getTarget();if(this.uniformLeafNodeSizes&&null==o.getChild()&&null==s.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(r=e.getLength())&&(i=(n=this.springConstant*(r-t))*(e.lengthX/r),a=n*(e.lengthY/r),o.springForceX+=i,o.springForceY+=a,s.springForceX-=i,s.springForceY-=a)},l.prototype.calcRepulsionForce=function(e,t){var r,n,a,l,u,c,h,d=e.getRect(),f=t.getRect(),p=new Array(2),g=new Array(4);if(d.intersects(f)){o.calcSeparationAmount(d,f,p,i.DEFAULT_EDGE_LENGTH/2),c=2*p[0],h=2*p[1];var m=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=m*c,e.repulsionForceY-=m*h,t.repulsionForceX+=m*c,t.repulsionForceY+=m*h}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(r=f.getCenterX()-d.getCenterX(),n=f.getCenterY()-d.getCenterY()):(o.getIntersection(d,f,g),r=g[2]-g[0],n=g[3]-g[1]),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=s.sign(r)*i.MIN_REPULSION_DIST),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=s.sign(n)*i.MIN_REPULSION_DIST),a=r*r+n*n,l=Math.sqrt(a),c=(u=this.repulsionConstant*e.noOfChildren*t.noOfChildren/a)*r/l,h=u*n/l,e.repulsionForceX-=c,e.repulsionForceY-=h,t.repulsionForceX+=c,t.repulsionForceY+=h},l.prototype.calcGravitationalForce=function(e){var t,r,n,i,a,o,s,l;r=((t=e.getOwner()).getRight()+t.getLeft())/2,n=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-r,a=e.getCenterY()-n,o=Math.abs(i)+e.getWidth()/2,s=Math.abs(a)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(o>(l=t.getEstimatedSize()*this.gravityRangeFactor)||s>l)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*a):(o>(l=t.getEstimatedSize()*this.compoundGravityRangeFactor)||s>l)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*a*this.compoundGravityConstant)},l.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),r=0;r<t.length;r++)(e=t[r]).noOfChildren=e.getNoOfChildren()},l.prototype.calcGrid=function(e){var t,r;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),r=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var n=new Array(t),i=0;i<t;i++)n[i]=new Array(r);for(i=0;i<t;i++)for(var a=0;a<r;a++)n[i][a]=new Array;return n},l.prototype.addNodeToGrid=function(e,t,r){var n,i,a,o;n=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().y-r)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().height+e.getRect().y-r)/this.repulsionRange));for(var s=n;s<=i;s++)for(var l=a;l<=o;l++)this.grid[s][l].push(e),e.setGridCoordinates(n,i,a,o)},l.prototype.updateGrid=function(){var e,t,r=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<r.length;e++)t=r[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(e,t,r,n){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&r||n){var a,o=new Set;e.surrounding=new Array;for(var s=this.grid,l=e.startX-1;l<e.finishX+2;l++)for(var u=e.startY-1;u<e.finishY+2;u++)if(!(l<0||u<0||l>=s.length||u>=s[0].length))for(var c=0;c<s[l][u].length;c++)if(a=s[l][u][c],e.getOwner()==a.getOwner()&&e!=a&&!t.has(a)&&!o.has(a)){var h=Math.abs(e.getCenterX()-a.getCenterX())-(e.getWidth()/2+a.getWidth()/2),d=Math.abs(e.getCenterY()-a.getCenterY())-(e.getHeight()/2+a.getHeight()/2);h<=this.repulsionRange&&d<=this.repulsionRange&&o.add(a)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(o))}for(l=0;l<e.surrounding.length;l++)this.calcRepulsionForce(e,e.surrounding[l])},l.prototype.calcRepulsionRange=function(){return 0},e.exports=l},function(e,t,r){"use strict";var n=r(1),i=r(7);function a(e,t,r){n.call(this,e,t,r),this.idealLength=i.DEFAULT_EDGE_LENGTH}for(var o in a.prototype=Object.create(n.prototype),n)a[o]=n[o];e.exports=a},function(e,t,r){"use strict";var n=r(3);function i(e,t,r,i){n.call(this,e,t,r,i),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var a in i.prototype=Object.create(n.prototype),n)i[a]=n[a];i.prototype.setGridCoordinates=function(e,t,r,n){this.startX=e,this.finishX=t,this.startY=r,this.finishY=n},e.exports=i},function(e,t,r){"use strict";function n(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(e){this.width=e},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(e){this.height=e},e.exports=n},function(e,t,r){"use strict";var n=r(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(e,t){var r=n.createID(e);this.contains(r)||(this.map[r]=t,this.keys.push(e))},i.prototype.contains=function(e){return n.createID(e),null!=this.map[e]},i.prototype.get=function(e){var t=n.createID(e);return this.map[t]},i.prototype.keySet=function(){return this.keys},e.exports=i},function(e,t,r){"use strict";var n=r(14);function i(){this.set={}}i.prototype.add=function(e){var t=n.createID(e);this.contains(t)||(this.set[t]=e)},i.prototype.remove=function(e){delete this.set[n.createID(e)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(e){return this.set[n.createID(e)]==e},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),r=t.length,n=0;n<r;n++)e.push(this.set[t[n]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(e){for(var t=e.length,r=0;r<t;r++){var n=e[r];this.add(n)}},e.exports=i},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(11),a=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===r&&void 0===r||(this.compareFunction=this._defaultCompareFunction);var n;n=t instanceof i?t.size():t.length,this._quicksort(t,0,n-1)}return n(e,[{key:"_quicksort",value:function(e,t,r){if(t<r){var n=this._partition(e,t,r);this._quicksort(e,t,n),this._quicksort(e,n+1,r)}}},{key:"_partition",value:function(e,t,r){for(var n=this._get(e,t),i=t,a=r;;){for(;this.compareFunction(n,this._get(e,a));)a--;for(;this.compareFunction(this._get(e,i),n);)i++;if(!(i<a))return a;this._swap(e,i,a),i++,a--}}},{key:"_get",value:function(e,t){return e instanceof i?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,r){e instanceof i?e.set_object_at(t,r):e[t]=r}},{key:"_swap",value:function(e,t,r){var n=this._get(e,t);this._set(e,t,this._get(e,r)),this._set(e,r,n)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=a},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sequence1=t,this.sequence2=r,this.match_score=n,this.mismatch_penalty=i,this.gap_penalty=a,this.iMax=t.length+1,this.jMax=r.length+1,this.grid=new Array(this.iMax);for(var o=0;o<this.iMax;o++){this.grid[o]=new Array(this.jMax);for(var s=0;s<this.jMax;s++)this.grid[o][s]=0}this.tracebackGrid=new Array(this.iMax);for(var l=0;l<this.iMax;l++){this.tracebackGrid[l]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.tracebackGrid[l][u]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var r=1;r<this.iMax;r++)for(var n=1;n<this.jMax;n++){var i=[this.sequence1[r-1]===this.sequence2[n-1]?this.grid[r-1][n-1]+this.match_score:this.grid[r-1][n-1]+this.mismatch_penalty,this.grid[r-1][n]+this.gap_penalty,this.grid[r][n-1]+this.gap_penalty],a=this.arrayAllMaxIndexes(i);this.grid[r][n]=i[a[0]],this.tracebackGrid[r][n]=[a.includes(0),a.includes(1),a.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],r=this.tracebackGrid[t.pos[0]][t.pos[1]];r[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),r[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),r[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var r=[],n=-1;-1!==(n=e.indexOf(t,n+1));)r.push(n);return r}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=i},function(e,t,r){"use strict";var n=function(){};n.FDLayout=r(18),n.FDLayoutConstants=r(7),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(4),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(24),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(5),n.LEdge=r(1),n.LGraphManager=r(6),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(25),e.exports=n},function(e,t,r){"use strict";function n(){this.listeners=[]}var i=n.prototype;i.addListener=function(e,t){this.listeners.push({event:e,callback:t})},i.removeListener=function(e,t){for(var r=this.listeners.length;r>=0;r--){var n=this.listeners[r];n.event===e&&n.callback===t&&this.listeners.splice(r,1)}},i.emit=function(e,t){for(var r=0;r<this.listeners.length;r++){var n=this.listeners[r];e===n.event&&n.callback(t)}},e.exports=n}])},e.exports=t()},5492:(e,t,r)=>{"use strict";var n=r(8909),i=r(3493);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,r,n,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,r,n){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var R,M=Object.assign;function P(e){if(void 0===R)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function $(e,t){if(!e||z)return"";z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),a=n.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?P(e):""}function j(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 1:return $(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case D:return"Portal";case A:return"Profiler";case E:return"StrictMode";case S:return"Suspense";case F:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:K(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function V(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function X(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=U(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var r=U(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&V(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+U(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:U(r)}}function ae(e,t){var r=U(t.value),n=U(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=ge(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var De=null,ke=null,Ee=null;function Ae(e){if(e=bi(e)){if("function"!=typeof De)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),De(e.stateNode,e.type,t))}}function Ce(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function _e(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Te(e,t){return e(t)}function Se(){}var Fe=!1;function Oe(e,t,r){if(Fe)return e(t,r);Fe=!0;try{return Te(e,t,r)}finally{Fe=!1,(null!==ke||null!==Ee)&&(Se(),_e())}}function Be(e,t){var r=e.stateNode;if(null===r)return null;var n=wi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}var Ne=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Ne=!1}function Ie(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}var Re=!1,Me=null,Pe=!1,ze=null,$e={onError:function(e){Re=!0,Me=e}};function je(e,t,r,n,i,a,o,s,l){Re=!1,Me=null,Ie.apply($e,arguments)}function Ke(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ue(e){if(Ke(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Ue(i),e;if(o===n)return Ue(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ve=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ze=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,at=null,ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&r;if(0!==o){var s=o&~i;0!==s?n=ht(s):0!=(a&=o)&&(n=ht(a))}else 0!=(o=r&~i)?n=ht(o):0!==a&&(n=ht(a));if(0===n)return 0;if(0!==t&&t!==n&&!(t&i)&&((i=n&-n)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&n&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-ot(t)),n|=e[r],t&=~i;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function vt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,Dt,kt,Et,At,Ct=!1,_t=[],Tt=null,St=null,Ft=null,Ot=new Map,Bt=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Rt(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&Dt(t),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var r=Ke(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=qe(r)))return e.blockedOn=t,void At(e.priority,(function(){kt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=bi(r))&&Dt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);xe=n,r.target.dispatchEvent(n),xe=null,t.shift()}return!0}function zt(e,t,r){Pt(e)&&r.delete(t)}function $t(){Ct=!1,null!==Tt&&Pt(Tt)&&(Tt=null),null!==St&&Pt(St)&&(St=null),null!==Ft&&Pt(Ft)&&(Ft=null),Ot.forEach(zt),Bt.forEach(zt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$t)))}function Kt(e){function t(t){return jt(t,e)}if(0<_t.length){jt(_t[0],e);for(var r=1;r<_t.length;r++){var n=_t[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==St&&jt(St,e),null!==Ft&&jt(Ft,e),Ot.forEach(t),Bt.forEach(t),r=0;r<Nt.length;r++)(n=Nt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Nt.length&&null===(r=Nt[0]).blockedOn;)Mt(r),null===r.blockedOn&&Nt.shift()}var qt=x.ReactCurrentBatchConfig,Ut=!0;function Ht(e,t,r,n){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,r,n)}finally{bt=i,qt.transition=a}}function Wt(e,t,r,n){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,r,n)}finally{bt=i,qt.transition=a}}function Gt(e,t,r,n){if(Ut){var i=Yt(e,t,r,n);if(null===i)Un(e,t,n,Vt,r),It(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,r,n,i),!0;case"dragenter":return St=Rt(St,e,t,r,n,i),!0;case"mouseover":return Ft=Rt(Ft,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Rt(Ot.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Bt.set(a,Rt(Bt.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(It(e,n),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,r,n))&&Un(e,t,n,Vt,r),a===i)break;i=a}null!==i&&n.stopPropagation()}else Un(e,t,n,null,r)}}var Vt=null;function Yt(e,t,r,n){if(Vt=null,null!==(e=vi(e=we(n))))if(null===(t=Ke(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function er(){if(Jt)return Jt;var e,t,r=Qt,n=r.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,a){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var ar,or,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ir(lr),cr=M({},lr,{view:0,detail:0}),hr=ir(cr),dr=M({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(ar=e.screenX-sr.screenX,or=e.screenY-sr.screenY):or=ar=0,sr=e),ar)},movementY:function(e){return"movementY"in e?e.movementY:or}}),fr=ir(dr),pr=ir(M({},dr,{dataTransfer:0})),gr=ir(M({},cr,{relatedTarget:0})),mr=ir(M({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),yr=M({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=ir(yr),br=ir(M({},lr,{data:0})),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Dr[e])&&!!t[e]}function Er(){return kr}var Ar=M({},cr,{key:function(e){if(e.key){var t=xr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ir(Ar),_r=ir(M({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tr=ir(M({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er})),Sr=ir(M({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fr=M({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=ir(Fr),Br=[9,13,27,32],Nr=c&&"CompositionEvent"in window,Lr=null;c&&"documentMode"in document&&(Lr=document.documentMode);var Ir=c&&"TextEvent"in window&&!Lr,Rr=c&&(!Nr||Lr&&8<Lr&&11>=Lr),Mr=String.fromCharCode(32),Pr=!1;function zr(e,t){switch(e){case"keyup":return-1!==Br.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $r(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var jr=!1,Kr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kr[e.type]:"textarea"===t}function Ur(e,t,r,n){Ce(n),0<(t=Wn(t,"onChange")).length&&(r=new ur("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,Wr=null;function Gr(e){Pn(e,0)}function Vr(e){if(G(xi(e)))return e}function Yr(e,t){if("change"===e)return t}var Xr=!1;if(c){var Zr;if(c){var Qr="oninput"in document;if(!Qr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Qr="function"==typeof Jr.oninput}Zr=Qr}else Zr=!1;Xr=Zr&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),Wr=Hr=null)}function tn(e){if("value"===e.propertyName&&Vr(Wr)){var t=[];Ur(t,Wr,e,we(e)),Oe(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),Wr=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vr(Wr)}function an(e,t){if("click"===e)return Vr(t)}function on(e,t){if("input"===e||"change"===e)return Vr(t)}var sn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ln(e,t){if(sn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!h.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var r,n=un(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=V();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=V((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=dn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=void 0===n.end?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=cn(r,a);var o=cn(r,n);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gn=c&&"documentMode"in document&&11>=document.documentMode,mn=null,yn=null,vn=null,bn=!1;function xn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==mn||mn!==V(n)||(n="selectionStart"in(n=mn)&&fn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Wn(yn,"onSelect")).length&&(t=new ur("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=mn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Dn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},kn={},En={};function An(e){if(kn[e])return kn[e];if(!Dn[e])return e;var t,r=Dn[e];for(t in r)if(r.hasOwnProperty(t)&&t in En)return kn[e]=r[t];return e}c&&(En=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);var Cn=An("animationend"),_n=An("animationiteration"),Tn=An("animationstart"),Sn=An("transitionend"),Fn=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){Fn.set(e,t),l(t,[e])}for(var Nn=0;Nn<On.length;Nn++){var Ln=On[Nn];Bn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Bn(Cn,"onAnimationEnd"),Bn(_n,"onAnimationIteration"),Bn(Tn,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Sn,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rn=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Mn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,s,l,u){if(je.apply(this,arguments),Re){if(!Re)throw Error(a(198));var c=Me;Re=!1,Me=null,Pe||(Pe=!0,ze=c)}}(n,t,void 0,e),e.currentTarget=null}function Pn(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Mn(i,s,u),a=l}else for(o=0;o<n.length;o++){if(l=(s=n[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Mn(i,s,u),a=l}}}if(Pe)throw e=ze,Pe=!1,ze=null,e}function zn(e,t){var r=t[gi];void 0===r&&(r=t[gi]=new Set);var n=e+"__bubble";r.has(n)||(qn(t,e,2,!1),r.add(n))}function $n(e,t,r){var n=0;t&&(n|=4),qn(r,e,n,t)}var jn="_reactListening"+Math.random().toString(36).slice(2);function Kn(e){if(!e[jn]){e[jn]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rn.has(t)||$n(t,!1,e),$n(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jn]||(t[jn]=!0,$n("selectionchange",!1,t))}}function qn(e,t,r,n){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Gt}r=i.bind(null,t,r,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Un(e,t,r,n,i){var a=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(l=o.tag)||6===l){n=a=o;continue e}s=s.parentNode}}n=n.return}Oe((function(){var n=a,i=we(r),o=[];e:{var s=Fn.get(e);if(void 0!==s){var l=ur,u=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Cr;break;case"focusin":u="focus",l=gr;break;case"focusout":u="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tr;break;case Cn:case _n:case Tn:l=mr;break;case Sn:l=Sr;break;case"scroll":l=hr;break;case"wheel":l=Or;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_r}var c=!!(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=n;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&null!=(g=Be(p,d))&&c.push(Hn(p,g,f))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,r,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===xe||!(u=r.relatedTarget||r.fromElement)||!vi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?vi(u):null)&&(u!==(h=Ke(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=fr,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=_r,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:xi(l),f=null==u?s:xi(u),(s=new c(g,p+"leave",l,r,i)).target=h,s.relatedTarget=f,g=null,vi(i)===n&&((c=new c(d,p+"enter",u,r,i)).target=f,c.relatedTarget=h,g=c),h=g,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gn(f))p++;for(f=0,g=d;g;g=Gn(g))f++;for(;0<p-f;)c=Gn(c),p--;for(;0<f-p;)d=Gn(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gn(c),d=Gn(d)}c=null}else c=null;null!==l&&Vn(o,s,l,c,!1),null!==u&&null!==h&&Vn(o,h,u,c,!0)}if("select"===(l=(s=n?xi(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Yr;else if(qr(s))if(Xr)m=on;else{m=nn;var y=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=an);switch(m&&(m=m(e,n))?Ur(o,m,r,i):(y&&y(e,s,n),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=n?xi(n):window,e){case"focusin":(qr(y)||"true"===y.contentEditable)&&(mn=y,yn=n,vn=null);break;case"focusout":vn=yn=mn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,xn(o,r,i);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":xn(o,r,i)}var v;if(Nr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jr?zr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Rr&&"ko"!==r.locale&&(jr||"onCompositionStart"!==b?"onCompositionEnd"===b&&jr&&(v=er()):(Qt="value"in(Zt=i)?Zt.value:Zt.textContent,jr=!0)),0<(y=Wn(n,b)).length&&(b=new br(b,e,null,r,i),o.push({event:b,listeners:y}),(v||null!==(v=$r(r)))&&(b.data=v))),(v=Ir?function(e,t){switch(e){case"compositionend":return $r(t);case"keypress":return 32!==t.which?null:(Pr=!0,Mr);case"textInput":return(e=t.data)===Mr&&Pr?null:e;default:return null}}(e,r):function(e,t){if(jr)return"compositionend"===e||!Nr&&zr(e,t)?(e=er(),Jt=Qt=Zt=null,jr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&0<(n=Wn(n,"onBeforeInput")).length&&(i=new br("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=v)}Pn(o,t)}))}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,r))&&n.unshift(Hn(e,a,i)),null!=(a=Be(e,t))&&n.push(Hn(e,a,i))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vn(e,t,r,n,i){for(var a=t._reactName,o=[];null!==r&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Be(r,a))&&o.unshift(Hn(r,l,s)):i||null!=(l=Be(r,a))&&o.push(Hn(r,l,s))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Yn=/\r\n?/g,Xn=/\u0000|\uFFFD/g;function Zn(e){return("string"==typeof e?e:""+e).replace(Yn,"\n").replace(Xn,"")}function Qn(e,t,r){if(t=Zn(t),Zn(e)!==t&&r)throw Error(a(425))}function Jn(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,ai="function"==typeof Promise?Promise:void 0,oi="function"==typeof queueMicrotask?queueMicrotask:void 0!==ai?function(e){return ai.resolve(null).then(e).catch(si)}:ni;function si(e){setTimeout((function(){throw e}))}function li(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void Kt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Kt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[di]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ci(e);null!==e;){if(r=e[di])return r;e=ci(e)}return t}r=(e=r).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var Di=[],ki=-1;function Ei(e){return{current:e}}function Ai(e){0>ki||(e.current=Di[ki],Di[ki]=null,ki--)}function Ci(e,t){ki++,Di[ki]=e.current,e.current=t}var _i={},Ti=Ei(_i),Si=Ei(!1),Fi=_i;function Oi(e,t){var r=e.type.contextTypes;if(!r)return _i;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Bi(e){return null!=e.childContextTypes}function Ni(){Ai(Si),Ai(Ti)}function Li(e,t,r){if(Ti.current!==_i)throw Error(a(168));Ci(Ti,t),Ci(Si,r)}function Ii(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},r,n)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Fi=Ti.current,Ci(Ti,e),Ci(Si,Si.current),!0}function Mi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Ii(e,t,Fi),n.__reactInternalMemoizedMergedChildContext=e,Ai(Si),Ai(Ti),Ci(Ti,e)):Ai(Si),Ci(Si,r)}var Pi=null,zi=!1,$i=!1;function ji(e){null===Pi?Pi=[e]:Pi.push(e)}function Ki(){if(!$i&&null!==Pi){$i=!0;var e=0,t=bt;try{var r=Pi;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Pi=null,zi=!1}catch(t){throw null!==Pi&&(Pi=Pi.slice(e+1)),Ge(Je,Ki),t}finally{bt=t,$i=!1}}return null}var qi=[],Ui=0,Hi=null,Wi=0,Gi=[],Vi=0,Yi=null,Xi=1,Zi="";function Qi(e,t){qi[Ui++]=Wi,qi[Ui++]=Hi,Hi=e,Wi=t}function Ji(e,t,r){Gi[Vi++]=Xi,Gi[Vi++]=Zi,Gi[Vi++]=Yi,Yi=e;var n=Xi;e=Zi;var i=32-ot(n)-1;n&=~(1<<i),r+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Xi=1<<32-ot(t)+i|r<<i|n,Zi=a+e}else Xi=1<<a|r<<i|n,Zi=e}function ea(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Ui],qi[Ui]=null,Wi=qi[--Ui],qi[Ui]=null;for(;e===Yi;)Yi=Gi[--Vi],Gi[Vi]=null,Zi=Gi[--Vi],Gi[Vi]=null,Xi=Gi[--Vi],Gi[Vi]=null}var ra=null,na=null,ia=!1,aa=null;function oa(e,t){var r=Ou(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function sa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,na=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,na=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Yi?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Ou(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ra=e,na=null,!0);default:return!1}}function la(e){return!(!(1&e.mode)||128&e.flags)}function ua(e){if(ia){var t=na;if(t){var r=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(r.nextSibling);var n=ra;t&&sa(e,t)?oa(n,r):(e.flags=-4097&e.flags|2,ia=!1,ra=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,ra=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function ha(e){if(e!==ra)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=na)){if(la(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){na=ui(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}na=null}}else na=ra?ui(e.stateNode.nextSibling):null;return!0}function da(){for(var e=na;e;)e=ui(e.nextSibling)}function fa(){na=ra=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ga=x.ReactCurrentBatchConfig;function ma(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ba(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Mu(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){var a=r.type;return a===k?h(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===B&&va(a)===t.type)?((n=i(t,r.props)).ref=ma(e,t,r),n.return=e,n):((n=Lu(r.type,r.key,r.props,null,e.mode,n)).ref=ma(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Pu(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,a){return null===t||7!==t.tag?((t=Iu(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Mu(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Lu(t.type,t.key,t.props,null,e.mode,r)).ref=ma(e,null,t),r.return=e,r;case D:return(t=Pu(t,e.mode,r)).return=e,t;case B:return d(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=Iu(t,e.mode,r,null)).return=e,t;ya(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==i?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===i?u(e,t,r,n):null;case D:return r.key===i?c(e,t,r,n):null;case B:return f(e,t,(i=r._init)(r._payload),n)}if(te(r)||I(r))return null!==i?null:h(e,t,r,n,null);ya(e,r)}return null}function p(e,t,r,n,i){if("string"==typeof n&&""!==n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case D:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case B:return p(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||I(n))return h(t,e=e.get(r)||null,n,i,null);ya(t,n)}return null}function g(i,a,s,l){for(var u=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,s[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===s.length)return r(i,h),ia&&Qi(i,g),u;if(null===h){for(;g<s.length;g++)null!==(h=d(i,s[g],l))&&(a=o(h,a,g),null===c?u=h:c.sibling=h,c=h);return ia&&Qi(i,g),u}for(h=n(i,h);g<s.length;g++)null!==(m=p(h,i,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Qi(i,g),u}function m(i,s,l,u){var c=I(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,g=s,m=s=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,u);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,g=y}if(v.done)return r(i,g),ia&&Qi(i,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,u))&&(s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return ia&&Qi(i,m),c}for(g=n(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=o(v,s,m),null===h?c=v:h.sibling=v,h=v);return e&&g.forEach((function(e){return t(i,e)})),ia&&Qi(i,m),c}return function e(n,a,o,l){if("object"==typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){r(n,c.sibling),(a=i(c,o.props.children)).return=n,n=a;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===B&&va(u)===c.type){r(n,c.sibling),(a=i(c,o.props)).ref=ma(n,c,o),a.return=n,n=a;break e}r(n,c);break}t(n,c),c=c.sibling}o.type===k?((a=Iu(o.props.children,n.mode,l,o.key)).return=n,n=a):((l=Lu(o.type,o.key,o.props,null,n.mode,l)).ref=ma(n,a,o),l.return=n,n=l)}return s(n);case D:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){r(n,a.sibling),(a=i(a,o.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Pu(o,n.mode,l)).return=n,n=a}return s(n);case B:return e(n,a,(c=o._init)(o._payload),l)}if(te(o))return g(n,a,o,l);if(I(o))return m(n,a,o,l);ya(n,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==a&&6===a.tag?(r(n,a.sibling),(a=i(a,o)).return=n,n=a):(r(n,a),(a=Mu(o,n.mode,l)).return=n,n=a),s(n)):r(n,a)}}var xa=ba(!0),wa=ba(!1),Da=Ei(null),ka=null,Ea=null,Aa=null;function Ca(){Aa=Ea=ka=null}function _a(e){var t=Da.current;Ai(Da),e._currentValue=t}function Ta(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Sa(e,t){ka=e,Aa=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Fa(e){var t=e._currentValue;if(Aa!==e)if(e={context:e,memoizedValue:t,next:null},null===Ea){if(null===ka)throw Error(a(308));Ea=e,ka.dependencies={lanes:0,firstContext:e}}else Ea=Ea.next=e;return t}var Oa=null;function Ba(e){null===Oa?Oa=[e]:Oa.push(e)}function Na(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Ba(t)):(r.next=i.next,i.next=r),t.interleaved=r,La(e,n)}function La(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ia=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&Tl){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,La(e,r)}return null===(i=n.interleaved)?(t.next=t,Ba(n)):(t.next=i.next,i.next=t),n.interleaved=t,La(e,r)}function $a(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}function ja(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ka(e,t,r,n){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(o=0,c=u=l=null,s=a;;){var d=s.lane,f=s.eventTime;if((n&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(d=t,f=r,g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=g.payload)?p.call(f,h,d):p))break e;h=M({},h,d);break e;case 2:Ia=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=h}}function qa(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!=typeof i)throw Error(a(191,i));i.call(n)}}}var Ua={},Ha=Ei(Ua),Wa=Ei(Ua),Ga=Ei(Ua);function Va(e){if(e===Ua)throw Error(a(174));return e}function Ya(e,t){switch(Ci(Ga,t),Ci(Wa,e),Ci(Ha,Ua),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Ha),Ci(Ha,t)}function Xa(){Ai(Ha),Ai(Wa),Ai(Ga)}function Za(e){Va(Ga.current);var t=Va(Ha.current),r=le(t,e.type);t!==r&&(Ci(Wa,e),Ci(Ha,r))}function Qa(e){Wa.current===e&&(Ai(Ha),Ai(Wa))}var Ja=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=x.ReactCurrentDispatcher,io=x.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(a(321))}function go(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function mo(e,t,r,n,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Jo:es,e=r(n,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,no.current=ts,e=r(n,i)}while(co)}if(no.current=Qo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,uo=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"==typeof t?t(e):t}function wo(e){var t=bo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=so,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var l=s=null,u=null,c=o;do{var h=c.lane;if((ao&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=n):u=u.next=d,oo.lanes|=h,Rl|=h}c=c.next}while(null!==c&&c!==o);null===u?s=n:u.next=l,sn(n,t.memoizedState)||(bs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Do(e){var t=bo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sn(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ko(){}function Eo(e,t){var r=oo,n=bo(),i=t(),o=!sn(n.memoizedState,i);if(o&&(n.memoizedState=i,bs=!0),n=n.queue,Ro(_o.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,Oo(9,Co.bind(null,r,n,i,t),void 0,null),null===Sl)throw Error(a(349));30&ao||Ao(r,t,i)}return i}function Ao(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Co(e,t,r,n){t.value=r,t.getSnapshot=n,To(t)&&So(e)}function _o(e,t,r){return r((function(){To(t)&&So(e)}))}function To(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(e){return!0}}function So(e){var t=La(e,1);null!==t&&ru(t,e,1,-1)}function Fo(e){var t=vo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Vo.bind(null,oo,e),[t.memoizedState,e]}function Oo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Bo(){return bo().memoizedState}function No(e,t,r,n){var i=vo();oo.flags|=e,i.memoizedState=Oo(1|t,r,void 0,void 0===n?null:n)}function Lo(e,t,r,n){var i=bo();n=void 0===n?null:n;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==n&&go(n,o.deps))return void(i.memoizedState=Oo(t,r,a,n))}oo.flags|=e,i.memoizedState=Oo(1|t,r,a,n)}function Io(e,t){return No(8390656,8,e,t)}function Ro(e,t){return Lo(2048,8,e,t)}function Mo(e,t){return Lo(4,2,e,t)}function Po(e,t){return Lo(4,4,e,t)}function zo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,r){return r=null!=r?r.concat([e]):null,Lo(4,4,zo.bind(null,t,e),r)}function jo(){}function Ko(e,t){var r=bo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&go(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qo(e,t){var r=bo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&go(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Uo(e,t,r){return 21&ao?(sn(r,t)||(r=gt(),oo.lanes|=r,Rl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=r)}function Ho(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=io.transition;io.transition={};try{e(!1),t()}finally{bt=r,io.transition=n}}function Wo(){return bo().memoizedState}function Go(e,t,r){var n=tu(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yo(e)?Xo(t,r):null!==(r=Na(e,t,r,n))&&(ru(r,e,n,eu()),Zo(r,t,n))}function Vo(e,t,r){var n=tu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,sn(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ba(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(r=Na(e,t,i,n))&&(ru(r,e,n,i=eu()),Zo(r,t,n))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){co=uo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Zo(e,t,r){if(4194240&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}var Qo={readContext:Fa,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Jo={readContext:Fa,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Fa,useEffect:Io,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,No(4194308,4,zo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return No(4194308,4,e,t)},useInsertionEffect:function(e,t){return No(4,2,e,t)},useMemo:function(e,t){var r=vo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Go.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:Fo,useDebugValue:jo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Ho.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,i=vo();if(ia){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Sl)throw Error(a(349));30&ao||Ao(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Io(_o.bind(null,n,o,e),[e]),n.flags|=2048,Oo(9,Co.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=vo(),t=Sl.identifierPrefix;if(ia){var r=Zi;t=":"+t+"R"+(r=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+r),0<(r=ho++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Fa,useCallback:Ko,useContext:Fa,useEffect:Ro,useImperativeHandle:$o,useInsertionEffect:Mo,useLayoutEffect:Po,useMemo:qo,useReducer:wo,useRef:Bo,useState:function(){return wo(xo)},useDebugValue:jo,useDeferredValue:function(e){return Uo(bo(),so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Wo,unstable_isNewReconciler:!1},ts={readContext:Fa,useCallback:Ko,useContext:Fa,useEffect:Ro,useImperativeHandle:$o,useInsertionEffect:Mo,useLayoutEffect:Po,useMemo:qo,useReducer:Do,useRef:Bo,useState:function(){return Do(xo)},useDebugValue:jo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:Uo(t,so.memoizedState,e)},useTransition:function(){return[Do(xo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:Eo,useId:Wo,unstable_isNewReconciler:!1};function rs(e,t){if(e&&e.defaultProps){for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ns(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:M({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=eu(),i=tu(e),a=Pa(n,i);a.payload=t,null!=r&&(a.callback=r),null!==(t=za(e,a,i))&&(ru(t,e,i,n),$a(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=eu(),i=tu(e),a=Pa(n,i);a.tag=1,a.payload=t,null!=r&&(a.callback=r),null!==(t=za(e,a,i))&&(ru(t,e,i,n),$a(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=eu(),n=tu(e),i=Pa(r,n);i.tag=2,null!=t&&(i.callback=t),null!==(t=za(e,i,n))&&(ru(t,e,n,r),$a(t,e,n))}};function as(e,t,r,n,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&ln(r,n)&&ln(i,a))}function os(e,t,r){var n=!1,i=_i,a=t.contextType;return"object"==typeof a&&null!==a?a=Fa(a):(i=Bi(t)?Fi:Ti.current,a=(n=null!=(n=t.contextTypes))?Oi(e,i):_i),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Ra(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Fa(a):(a=Bi(t)?Fi:Ti.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(ns(e,t,a,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Ka(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var r="",n=t;do{r+=j(n),n=n.return}while(n);var i=r}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=Pa(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ul||(Ul=!0,Hl=n),hs(0,t)},r}function ps(e,t,r){(r=Pa(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(r.callback=function(){hs(0,t),"function"!=typeof n&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function gs(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ds;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Au.bind(null,e,t,r),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,r,n,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Pa(-1,1)).tag=2,za(r,t,1))),r.lanes|=1),e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,r,n){t.child=null===e?wa(t,null,r,n):xa(t,e.child,r,n)}function ws(e,t,r,n,i){r=r.render;var a=t.ref;return Sa(t,i),n=mo(e,t,r,n,a,i),r=yo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function Ds(e,t,r,n,i){if(null===e){var a=r.type;return"function"!=typeof a||Bu(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Lu(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ks(e,t,a,n,i))}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Us(e,t,i)}return t.flags|=1,(e=Nu(a,n)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,r,n,i){if(null!==e){var a=e.memoizedProps;if(ln(a,n)&&e.ref===t.ref){if(bs=!1,t.pendingProps=n=a,!(e.lanes&i))return t.lanes=e.lanes,Us(e,t,i);131072&e.flags&&(bs=!0)}}return Cs(e,t,r,n,i)}function Es(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(1&t.mode){if(!(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Nl,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Ci(Nl,Bl),Bl|=n}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Nl,Bl),Bl|=r;else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ci(Nl,Bl),Bl|=n;return xs(e,t,i,r),t.child}function As(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,r,n,i){var a=Bi(r)?Fi:Ti.current;return a=Oi(t,a),Sa(t,i),r=mo(e,t,r,n,a,i),n=yo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function _s(e,t,r,n,i){if(Bi(r)){var a=!0;Ri(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qs(e,t),os(t,r,n),ls(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;u="object"==typeof u&&null!==u?Fa(u):Oi(t,u=Bi(r)?Fi:Ti.current);var c=r.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==n||l!==u)&&ss(t,o,n,u),Ia=!1;var d=t.memoizedState;o.state=d,Ka(t,n,o,i),l=t.memoizedState,s!==n||d!==l||Si.current||Ia?("function"==typeof c&&(ns(t,r,c,n),l=t.memoizedState),(s=Ia||as(t,r,s,n,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ma(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:rs(t.type,s),o.props=u,h=t.pendingProps,d=o.context,l="object"==typeof(l=r.contextType)&&null!==l?Fa(l):Oi(t,l=Bi(r)?Fi:Ti.current);var f=r.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==h||d!==l)&&ss(t,o,n,l),Ia=!1,d=t.memoizedState,o.state=d,Ka(t,n,o,i);var p=t.memoizedState;s!==h||d!==p||Si.current||Ia?("function"==typeof f&&(ns(t,r,f,n),p=t.memoizedState),(u=Ia||as(t,r,u,n,d,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Ts(e,t,r,n,a,i)}function Ts(e,t,r,n,i,a){As(e,t);var o=!!(128&t.flags);if(!n&&!o)return i&&Mi(t,r,!1),Us(e,t,a);n=t.stateNode,vs.current=t;var s=o&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=n.state,i&&Mi(t,r,!0),t.child}function Ss(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ya(e,t.containerInfo)}function Fs(e,t,r,n,i){return fa(),pa(i),t.flags|=256,xs(e,t,r,n),t.child}var Os,Bs,Ns,Ls,Is={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,r){var n,i=t.pendingProps,o=Ja.current,s=!1,l=!!(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&!!(2&o)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(Ja,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},1&i||null===s?s=Ru(l,i,0,null):(s.childLanes=0,s.pendingProps=l),e=Iu(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(r),t.memoizedState=Is,e):Ps(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,s){if(r)return 256&t.flags?(t.flags&=-257,zs(e,t,s,n=cs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Ru({mode:"visible",children:n.children},i,0,null),(o=Iu(o,i,s,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,1&t.mode&&xa(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Is,o);if(!(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,zs(e,t,s,n=cs(o=Error(a(419)),n,void 0))}if(l=!!(s&e.childLanes),bs||l){if(null!==(n=Sl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(n.suspendedLanes|s)?0:i)&&i!==o.retryLane&&(o.retryLane=i,La(e,i),ru(n,e,i,-1))}return gu(),zs(e,t,s,n=cs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,na=ui(i.nextSibling),ra=t,ia=!0,aa=null,null!==e&&(Gi[Vi++]=Xi,Gi[Vi++]=Zi,Gi[Vi++]=Yi,Xi=e.id,Zi=e.overflow,Yi=t),(t=Ps(t,n.children)).flags|=4096,t)}(e,t,l,i,n,o,r);if(s){s=i.fallback,l=t.mode,n=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 1&l||t.child===o?(i=Nu(o,u)).subtreeFlags=14680064&o.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null),null!==n?s=Nu(n,s):(s=Iu(s,l,r,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Is,i}return e=(s=e.child).sibling,i=Nu(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Ps(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,r,n){return null!==n&&pa(n),xa(t,e.child,null,r),(e=Ps(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ta(e.return,t,r)}function js(e,t,r,n,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Ks(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(xs(e,t,n.children,r),2&(n=Ja.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,r,t);else if(19===e.tag)$s(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ci(Ja,n),1&t.mode)switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),js(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}js(t,!0,r,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function qs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Us(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,!(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Nu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Nu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gs(e,t,r){var n=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Bi(t.type)&&Ni(),Ws(t),null;case 3:return n=t.stateNode,Xa(),Ai(Si),Ai(Ti),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==aa&&(ou(aa),aa=null))),Bs(e,t),Ws(t),null;case 5:Qa(t);var i=Va(Ga.current);if(r=t.type,null!==e&&null!=t.stateNode)Ns(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=Va(Ha.current),ha(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[di]=t,n[fi]=o,e=!!(1&t.mode),r){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(i=0;i<In.length;i++)zn(In[i],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":X(n,o),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},zn("invalid",n);break;case"textarea":ie(n,o),zn("invalid",n)}for(var l in ve(r,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"==typeof u?n.textContent!==u&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,u,e),i=["children",u]):"number"==typeof u&&n.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Qn(n.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zn("scroll",n)}switch(r){case"input":W(n),J(n,o,!0);break;case"textarea":W(n),oe(n);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(n.onclick=Jn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[di]=t,e[fi]=n,Os(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":zn("cancel",e),zn("close",e),i=n;break;case"iframe":case"object":case"embed":zn("load",e),i=n;break;case"video":case"audio":for(i=0;i<In.length;i++)zn(In[i],e);i=n;break;case"source":zn("error",e),i=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),i=n;break;case"details":zn("toggle",e),i=n;break;case"input":X(e,n),i=Y(e,n),zn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=M({},n,{value:void 0}),zn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),zn("invalid",e)}for(o in ve(r,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"==typeof c?("textarea"!==r||""!==c)&&de(e,c):"number"==typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zn("scroll",e):null!=c&&b(e,o,c,l))}switch(r){case"input":W(e),J(e,n,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+U(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(a(166));if(r=Va(Ga.current),Va(Ha.current),ha(t)){if(n=t.stateNode,r=t.memoizedProps,n[di]=t,(o=n.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Qn(n.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qn(n.nodeValue,r,!!(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[di]=t,t.stateNode=n}return Ws(t),null;case 13:if(Ai(Ja),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==na&&1&t.mode&&!(128&t.flags))da(),fa(),t.flags|=98560,o=!1;else if(o=ha(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else fa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(ou(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((n=null!==n)!=(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ja.current?0===Ll&&(Ll=3):gu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Xa(),Bs(e,t),null===e&&Kn(t.stateNode.containerInfo),Ws(t),null;case 10:return _a(t.type._context),Ws(t),null;case 19:if(Ai(Ja),null===(o=t.memoizedState))return Ws(t),null;if(n=!!(128&t.flags),null===(l=o.rendering))if(n)Hs(o,!1);else{if(0!==Ll||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hs(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ci(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Kl&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ws(t),null}else 2*Ze()-o.renderingStartTime>Kl&&1073741824!==r&&(t.flags|=128,n=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,r=Ja.current,Ci(Ja,n?1&r|2:1&r),t):(Ws(t),null);case 22:case 23:return hu(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&1&t.mode?!!(1073741824&Bl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Vs(e,t){switch(ta(t),t.tag){case 1:return Bi(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),Ai(Si),Ai(Ti),ro(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(Ai(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(Ja),null;case 4:return Xa(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Os=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Bs=function(){},Ns=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Va(Ha.current);var a,o=null;switch(r){case"input":i=Y(e,i),n=Y(e,n),o=[];break;case"select":i=M({},i,{value:void 0}),n=M({},n,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),n=ne(e,n),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof n.onClick&&(e.onclick=Jn)}for(c in ve(r,n),r=null,i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var u=n[c];if(l=null!=i?i[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(o||(o=[]),o.push(c,r)),r=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zn("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ys=!1,Xs=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(r){Eu(e,t,r)}else r.current=null}function el(e,t,r){try{r()}catch(r){Eu(e,t,r)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,r,a)}i=i.next}while(i!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function il(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[gi],delete t[mi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function ul(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ul(e,t,r),e=e.sibling;null!==e;)ul(e,t,r),e=e.sibling}var cl=null,hl=!1;function dl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,r)}catch(e){}switch(r.tag){case 5:Xs||Js(r,t);case 6:var n=cl,i=hl;cl=null,dl(e,t,r),hl=i,null!==(cl=n)&&(hl?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(hl?(e=cl,r=r.stateNode,8===e.nodeType?li(e.parentNode,r):1===e.nodeType&&li(e,r),Kt(e)):li(cl,r.stateNode));break;case 4:n=cl,i=hl,cl=r.stateNode.containerInfo,hl=!0,dl(e,t,r),cl=n,hl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&null!==(n=r.updateQueue)&&null!==(n=n.lastEffect)){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(2&a||4&a)&&el(r,t,o),i=i.next}while(i!==n)}dl(e,t,r);break;case 1:if(!Xs&&(Js(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(e){Eu(r,t,e)}dl(e,t,r);break;case 21:dl(e,t,r);break;case 22:1&r.mode?(Xs=(n=Xs)||null!==r.memoizedState,dl(e,t,r),Xs=n):dl(e,t,r);break;default:dl(e,t,r)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Zs),t.forEach((function(t){var n=Tu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function gl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));fl(o,s,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Eu(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(t){Eu(e,e.return,t)}try{rl(5,e,e.return)}catch(t){Eu(e,e.return,t)}}break;case 1:gl(t,e),yl(e),512&n&&null!==r&&Js(r,r.return);break;case 5:if(gl(t,e),yl(e),512&n&&null!==r&&Js(r,r.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(t){Eu(e,e.return,t)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==r?r.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(i,o),be(l,s);var c=be(l,o);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":Q(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(i,!!o.multiple,o.defaultValue,!0):re(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(t){Eu(e,e.return,t)}}break;case 6:if(gl(t,e),yl(e),4&n){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(t){Eu(e,e.return,t)}}break;case 3:if(gl(t,e),yl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Kt(t.containerInfo)}catch(t){Eu(e,e.return,t)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Ze())),4&n&&pl(e);break;case 22:if(h=null!==r&&null!==r.memoizedState,1&e.mode?(Xs=(c=Xs)||h,gl(t,e),Xs=c):gl(t,e),yl(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&1&e.mode)for(Qs=e,h=e.child;null!==h;){for(d=Qs=h;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Js(f,f.return);var g=f.stateNode;if("function"==typeof g.componentWillUnmount){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Eu(n,r,e)}}break;case 5:Js(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Qs=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,s=null!=(u=d.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(t){Eu(e,e.return,t)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(t){Eu(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&n&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(de(i,""),n.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(t){Eu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,r){Qs=e,bl(e,t,r)}function bl(e,t,r){for(var n=!!(1&e.mode);null!==Qs;){var i=Qs,a=i.child;if(22===i.tag&&n){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Ys;var u=Xs;if(Ys=o,(Xs=l)&&!u)for(Qs=i;null!==Qs;)l=(o=Qs).child,22===o.tag&&null!==o.memoizedState?Dl(i):null!==l?(l.return=o,Qs=l):Dl(i);for(;null!==a;)Qs=a,bl(a,t,r),a=a.sibling;Qs=i,Ys=s,Xs=u}xl(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,Qs=a):xl(e)}}function xl(e){for(;null!==Qs;){var t=Qs;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Xs||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xs)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:rs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qa(t,o,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}qa(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Kt(d)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&il(t)}catch(e){Eu(t,t.return,e)}}if(t===e){Qs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Qs=r;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Qs=r;break}Qs=t.return}}function Dl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(e){Eu(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(e){Eu(t,i,e)}}var a=t.return;try{il(t)}catch(e){Eu(t,a,e)}break;case 5:var o=t.return;try{il(t)}catch(e){Eu(t,o,e)}}}catch(e){Eu(t,t.return,e)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var kl,El=Math.ceil,Al=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,Tl=0,Sl=null,Fl=null,Ol=0,Bl=0,Nl=Ei(0),Ll=0,Il=null,Rl=0,Ml=0,Pl=0,zl=null,$l=null,jl=0,Kl=1/0,ql=null,Ul=!1,Hl=null,Wl=null,Gl=!1,Vl=null,Yl=0,Xl=0,Zl=null,Ql=-1,Jl=0;function eu(){return 6&Tl?Ze():-1!==Ql?Ql:Ql=Ze()}function tu(e){return 1&e.mode?2&Tl&&0!==Ol?Ol&-Ol:null!==ga.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type):1}function ru(e,t,r,n){if(50<Xl)throw Xl=0,Zl=null,Error(a(185));yt(e,r,n),2&Tl&&e===Sl||(e===Sl&&(!(2&Tl)&&(Ml|=r),4===Ll&&su(e,Ol)),nu(e,n),1===r&&0===Tl&&!(1&t.mode)&&(Kl=Ze()+500,zi&&Ki()))}function nu(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?s&r&&!(s&n)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var n=dt(e,e===Sl?Ol:0);if(0===n)null!==r&&Ve(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ve(r),1===t)0===e.tag?function(e){zi=!0,ji(e)}(lu.bind(null,e)):ji(lu.bind(null,e)),oi((function(){!(6&Tl)&&Ki()})),r=null;else{switch(xt(n)){case 1:r=Je;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Su(r,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iu(e,t){if(Ql=-1,Jl=0,6&Tl)throw Error(a(327));var r=e.callbackNode;if(Du()&&e.callbackNode!==r)return null;var n=dt(e,e===Sl?Ol:0);if(0===n)return null;if(30&n||n&e.expiredLanes||t)t=mu(e,n);else{t=n;var i=Tl;Tl|=2;var o=pu();for(Sl===e&&Ol===t||(ql=null,Kl=Ze()+500,du(e,t));;)try{vu();break}catch(t){fu(e,t)}Ca(),Al.current=o,Tl=i,null!==Fl?t=0:(Sl=null,Ol=0,t=Ll)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(n=i,t=au(e,i)),1===t)throw r=Il,du(e,0),su(e,n),nu(e,Ze()),r;if(6===t)su(e,n);else{if(i=e.current.alternate,!(30&n||function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!sn(a(),i))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=mu(e,n),2===t&&(o=pt(e),0!==o&&(n=o,t=au(e,o))),1!==t)))throw r=Il,du(e,0),su(e,n),nu(e,Ze()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:wu(e,$l,ql);break;case 3:if(su(e,n),(130023424&n)===n&&10<(t=jl+500-Ze())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(wu.bind(null,e,$l,ql),t);break}wu(e,$l,ql);break;case 4:if(su(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ot(n);o=1<<s,(s=t[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Ze()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*El(n/1960))-n)){e.timeoutHandle=ni(wu.bind(null,e,$l,ql),n);break}wu(e,$l,ql);break;default:throw Error(a(329))}}}return nu(e,Ze()),e.callbackNode===r?iu.bind(null,e):null}function au(e,t){var r=zl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=mu(e,t))&&(t=$l,$l=r,null!==t&&ou(t)),e}function ou(e){null===$l?$l=e:$l.push.apply($l,e)}function su(e,t){for(t&=~Pl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lu(e){if(6&Tl)throw Error(a(327));Du();var t=dt(e,0);if(!(1&t))return nu(e,Ze()),null;var r=mu(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=au(e,n))}if(1===r)throw r=Il,du(e,0),su(e,t),nu(e,Ze()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,$l,ql),nu(e,Ze()),null}function uu(e,t){var r=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=r)&&(Kl=Ze()+500,zi&&Ki())}}function cu(e){null!==Vl&&0===Vl.tag&&!(6&Tl)&&Du();var t=Tl;Tl|=1;var r=_l.transition,n=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=n,_l.transition=r,!(6&(Tl=t))&&Ki()}}function hu(){Bl=Nl.current,Ai(Nl)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Fl)for(r=Fl.return;null!==r;){var n=r;switch(ta(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Ni();break;case 3:Xa(),Ai(Si),Ai(Ti),ro();break;case 5:Qa(n);break;case 4:Xa();break;case 13:case 19:Ai(Ja);break;case 10:_a(n.type._context);break;case 22:case 23:hu()}r=r.return}if(Sl=e,Fl=e=Nu(e.current,null),Ol=Bl=t,Ll=0,Il=null,Pl=Ml=Rl=0,$l=zl=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(n=(r=Oa[t]).interleaved)){r.interleaved=null;var i=n.next,a=r.pending;if(null!==a){var o=a.next;a.next=i,n.next=o}r.pending=n}Oa=null}return e}function fu(e,t){for(;;){var r=Fl;try{if(Ca(),no.current=Qo,uo){for(var n=oo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}uo=!1}if(ao=0,lo=so=oo=null,co=!1,ho=0,Cl.current=null,null===r||null===r.return){Ll=1,Il=t,Fl=null;break}e:{var o=e,s=r.return,l=r,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,d=h.tag;if(!(1&h.mode||0!==d&&11!==d&&15!==d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(!(1&t)){gs(o,c,t),gu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var y=ms(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),pa(us(u,l));break e}}o=u=us(u,l),4!==Ll&&(Ll=2),null===zl?zl=[o]:zl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,ja(o,fs(0,u,t));break e;case 1:l=u;var v=o.type,b=o.stateNode;if(!(128&o.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==Wl&&Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,ja(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}xu(r)}catch(e){t=e,Fl===r&&null!==r&&(Fl=r=r.return);continue}break}}function pu(){var e=Al.current;return Al.current=Qo,null===e?Qo:e}function gu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Sl||!(268435455&Rl)&&!(268435455&Ml)||su(Sl,Ol)}function mu(e,t){var r=Tl;Tl|=2;var n=pu();for(Sl===e&&Ol===t||(ql=null,du(e,t));;)try{yu();break}catch(t){fu(e,t)}if(Ca(),Tl=r,Al.current=n,null!==Fl)throw Error(a(261));return Sl=null,Ol=0,Ll}function yu(){for(;null!==Fl;)bu(Fl)}function vu(){for(;null!==Fl&&!Ye();)bu(Fl)}function bu(e){var t=kl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?xu(e):Fl=t,Cl.current=null}function xu(e){var t=e;do{var r=t.alternate;if(e=t.return,32768&t.flags){if(null!==(r=Vs(r,t)))return r.flags&=32767,void(Fl=r);if(null===e)return Ll=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(r=Gs(r,t,Bl)))return void(Fl=r);if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wu(e,t,r){var n=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,r,n){do{Du()}while(null!==Vl);if(6&Tl)throw Error(a(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ot(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}(e,o),e===Sl&&(Fl=Sl=null,Ol=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Gl||(Gl=!0,Su(tt,(function(){return Du(),null}))),o=!!(15990&r.flags),15990&r.subtreeFlags||o){o=_l.transition,_l.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(ei=Ut,fn(e=dn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(e){r=null;break e}var s=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==r||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==n&&3!==d.nodeType||(u=s+n),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++c===i&&(l=s),f===o&&++h===n&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Ut=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:rs(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(e){Eu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}g=tl,tl=!1}(e,r),ml(r,e),pn(ti),Ut=!!ei,ti=ei=null,e.current=r,vl(r,e,i),Xe(),Tl=l,bt=s,_l.transition=o}else e.current=r;if(Gl&&(Gl=!1,Vl=e,Yl=i),0===(o=e.pendingLanes)&&(Wl=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(r.stateNode),nu(e,Ze()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n((i=t[r]).value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,e=Hl,Hl=null,e;!!(1&Yl)&&0!==e.tag&&Du(),1&(o=e.pendingLanes)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Ki()}(e,t,r,n)}finally{_l.transition=i,bt=n}return null}function Du(){if(null!==Vl){var e=xt(Yl),t=_l.transition,r=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Vl)var n=!1;else{if(e=Vl,Vl=null,Yl=0,6&Tl)throw Error(a(331));var i=Tl;for(Tl|=4,Qs=e.current;null!==Qs;){var o=Qs,s=o.child;if(16&Qs.flags){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Qs=d;else for(;null!==Qs;){var f=(h=Qs).sibling,p=h.return;if(al(h),h===c){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qs=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,Qs=s;else e:for(;null!==Qs;){if(2048&(o=Qs).flags)switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qs=v;break e}Qs=o.return}}var b=e.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Qs=x;else e:for(s=b;null!==Qs;){if(2048&(l=Qs).flags)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(e){Eu(l,l.return,e)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Tl=i,Ki(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(e){}n=!0}return n}finally{bt=r,_l.transition=t}}return!1}function ku(e,t,r){e=za(e,t=fs(0,t=us(r,t),1),1),t=eu(),null!==e&&(yt(e,1,t),nu(e,t))}function Eu(e,t,r){if(3===e.tag)ku(e,e,r);else for(;null!==t;){if(3===t.tag){ku(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Wl||!Wl.has(n))){t=za(t,e=ps(t,e=us(r,e),1),1),e=eu(),null!==t&&(yt(t,1,e),nu(t,e));break}}t=t.return}}function Au(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&r,Sl===e&&(Ol&r)===r&&(4===Ll||3===Ll&&(130023424&Ol)===Ol&&500>Ze()-jl?du(e,0):Pl|=r),nu(e,t)}function Cu(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var r=eu();null!==(e=La(e,t))&&(yt(e,t,r),nu(e,r))}function _u(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cu(e,r)}function Tu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Cu(e,r)}function Su(e,t){return Ge(e,t)}function Fu(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,r,n){return new Fu(e,t,r,n)}function Bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var r=e.alternate;return null===r?((r=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lu(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)Bu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return Iu(r.children,i,o,t);case E:s=8,i|=8;break;case A:return(e=Ou(12,r,t,2|i)).elementType=A,e.lanes=o,e;case S:return(e=Ou(13,r,t,i)).elementType=S,e.lanes=o,e;case F:return(e=Ou(19,r,t,i)).elementType=F,e.lanes=o,e;case N:return Ru(r,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case _:s=9;break e;case T:s=11;break e;case O:s=14;break e;case B:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ou(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Iu(e,t,r,n){return(e=Ou(7,e,n,t)).lanes=r,e}function Ru(e,t,r,n){return(e=Ou(22,e,n,t)).elementType=N,e.lanes=r,e.stateNode={isHidden:!1},e}function Mu(e,t,r){return(e=Ou(6,e,null,t)).lanes=r,e}function Pu(e,t,r){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zu(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $u(e,t,r,n,i,a,o,s,l){return e=new zu(e,t,r,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ou(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function ju(e){if(!e)return _i;e:{if(Ke(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(Bi(r))return Ii(e,r,t)}return t}function Ku(e,t,r,n,i,a,o,s,l){return(e=$u(r,n,!0,e,0,a,0,s,l)).context=ju(null),r=e.current,(a=Pa(n=eu(),i=tu(r))).callback=null!=t?t:null,za(r,a,i),e.current.lanes=i,yt(e,i,n),nu(e,n),e}function qu(e,t,r,n){var i=t.current,a=eu(),o=tu(i);return r=ju(r),null===t.context?t.context=r:t.pendingContext=r,(t=Pa(a,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=za(i,t,o))&&(ru(e,i,o,a),$a(e,i,o)),o}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}kl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Si.current)bs=!0;else{if(!(e.lanes&r||128&t.flags))return bs=!1,function(e,t,r){switch(t.tag){case 3:Ss(t),fa();break;case 5:Za(t);break;case 1:Bi(t.type)&&Ri(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ci(Da,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ci(Ja,1&Ja.current),t.flags|=128,null):r&t.child.childLanes?Ms(e,t,r):(Ci(Ja,1&Ja.current),null!==(e=Us(e,t,r))?e.sibling:null);Ci(Ja,1&Ja.current);break;case 19:if(n=!!(r&t.childLanes),128&e.flags){if(n)return Ks(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(Ja,Ja.current),n)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,r)}return Us(e,t,r)}(e,t,r);bs=!!(131072&e.flags)}else bs=!1,ia&&1048576&t.flags&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qs(e,t),e=t.pendingProps;var i=Oi(t,Ti.current);Sa(t,r),i=mo(null,t,n,e,i,r);var o=yo();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(n)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,n,e,r),t=Ts(null,t,n,!0,o,r)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"==typeof e)return Bu(e)?1:0;if(null!=e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(n),e=rs(n,e),i){case 0:t=Cs(null,t,n,e,r);break e;case 1:t=_s(null,t,n,e,r);break e;case 11:t=ws(null,t,n,e,r);break e;case 14:t=Ds(null,t,n,rs(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,Cs(e,t,n,i=t.elementType===n?i:rs(n,i),r);case 1:return n=t.type,i=t.pendingProps,_s(e,t,n,i=t.elementType===n?i:rs(n,i),r);case 3:e:{if(Ss(t),null===e)throw Error(a(387));n=t.pendingProps,i=(o=t.memoizedState).element,Ma(e,t),Ka(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fs(e,t,n,r,i=us(Error(a(423)),t));break e}if(n!==i){t=Fs(e,t,n,r,i=us(Error(a(424)),t));break e}for(na=ui(t.stateNode.containerInfo.firstChild),ra=t,ia=!0,aa=null,r=wa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fa(),n===i){t=Us(e,t,r);break e}xs(e,t,n,r)}t=t.child}return t;case 5:return Za(t),null===e&&ua(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ri(n,i)?s=null:null!==o&&ri(n,o)&&(t.flags|=32),As(e,t),xs(e,t,s,r),t.child;case 6:return null===e&&ua(t),null;case 13:return Ms(e,t,r);case 4:return Ya(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=xa(t,null,n,r):xs(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,ws(e,t,n,i=t.elementType===n?i:rs(n,i),r);case 7:return xs(e,t,t.pendingProps,r),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(Da,n._currentValue),n._currentValue=s,null!==o)if(sn(o.value,s)){if(o.children===i.children&&!Si.current){t=Us(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===o.tag){(u=Pa(-1,r&-r)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=r,null!==(u=o.alternate)&&(u.lanes|=r),Ta(o.return,r,t),l.lanes|=r;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Ta(s,r,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Sa(t,r),n=n(i=Fa(i)),t.flags|=1,xs(e,t,n,r),t.child;case 14:return i=rs(n=t.type,t.pendingProps),Ds(e,t,n,i=rs(n.type,i),r);case 15:return ks(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:rs(n,i),qs(e,t),t.tag=1,Bi(n)?(e=!0,Ri(t)):e=!1,Sa(t,r),os(t,n,i),ls(t,n,i,r),Ts(null,t,n,!0,e,r);case 19:return Ks(e,t,r);case 22:return Es(e,t,r)}throw Error(a(156,t.tag))};var Gu="function"==typeof reportError?reportError:function(e){console.error(e)};function Vu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function Ju(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if("function"==typeof i){var s=i;i=function(){var e=Uu(o);s.call(e)}}qu(t,o,e,i)}else o=function(e,t,r,n,i){if(i){if("function"==typeof n){var a=n;n=function(){var e=Uu(o);a.call(e)}}var o=Ku(t,n,e,0,null,!1,0,"",Qu);return e._reactRootContainer=o,e[pi]=o.current,Kn(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof n){var s=n;n=function(){var e=Uu(l);s.call(e)}}var l=$u(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[pi]=l.current,Kn(8===e.nodeType?e.parentNode:e),cu((function(){qu(t,l,r,n)})),l}(r,t,e,i,n);return Uu(o)}Yu.prototype.render=Vu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qu(e,t,null,null)},Yu.prototype.unmount=Vu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){qu(null,e,null,null)})),t[pi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nt.length&&0!==t&&t<Nt[r].priority;r++);Nt.splice(r,0,e),0===r&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ht(t.pendingLanes);0!==r&&(vt(t,1|r),nu(t,Ze()),!(6&Tl)&&(Kl=Ze()+500,Ki()))}break;case 13:cu((function(){var t=La(e,1);if(null!==t){var r=eu();ru(t,e,1,r)}})),Wu(e,1)}},Dt=function(e){if(13===e.tag){var t=La(e,134217728);null!==t&&ru(t,e,134217728,eu()),Wu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),r=La(e,t);null!==r&&ru(r,e,t,eu()),Wu(e,t)}},Et=function(){return bt},At=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},De=function(e,t,r){switch(t){case"input":if(Q(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=wi(n);if(!i)throw Error(a(90));G(n),Q(n,i)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Te=uu,Se=cu;var ec={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ce,_e,uu]},tc={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{it=nc.inject(rc),at=nc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Xu(e))throw Error(a(299));var r=!1,n="",i=Gu;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$u(e,1,!1,null,0,r,0,n,i),e[pi]=t.current,Kn(8===e.nodeType?e.parentNode:e),new Vu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,r){if(!Zu(t))throw Error(a(200));return Ju(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Xu(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",s=Gu;if(null!=r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Ku(t,null,e,1,null!=r?r:null,i,0,o,s),e[pi]=t.current,Kn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Yu(t)},t.render=function(e,t,r){if(!Zu(t))throw Error(a(200));return Ju(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zu(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ju(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},6741:(e,t,r)=>{"use strict";var n=r(4060);t.H=n.createRoot,n.hydrateRoot},4060:(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(5492)},4290:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<a(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var s=2*(n+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,r))u<i&&0>a(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[s]=r,n=s);else{if(!(u<i&&0>a(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=n(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function w(e){if(m=!1,x(e),!g)if(null!==n(u))g=!0,N(D);else{var t=n(c);null!==t&&L(w,t.startTime-e)}}function D(e,r){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var a=f;try{for(x(r),d=n(u);null!==d&&(!(d.expirationTime>r)||e&&!S());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=r);r=t.unstable_now(),"function"==typeof s?d.callback=s:d===n(u)&&i(u),x(r)}else i(u);d=n(u)}if(null!==d)var l=!0;else{var h=n(c);null!==h&&L(w,h.startTime-r),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,A=null,C=-1,_=5,T=-1;function S(){return!(t.unstable_now()-T<_)}function F(){if(null!==A){var e=t.unstable_now();T=e;var r=!0;try{r=A(!0,e)}finally{r?k():(E=!1,A=null)}}else E=!1}if("function"==typeof b)k=function(){b(F)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,B=O.port2;O.port1.onmessage=F,k=function(){B.postMessage(null)}}else k=function(){y(F,0)};function N(e){A=e,E||(E=!0,k())}function L(e,r){C=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,N(D))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,r(c,e),null===n(u)&&e===n(c)&&(m?(v(C),C=-1):m=!0,L(w,a-o))):(e.sortIndex=s,r(u,e),g||p||(g=!0,N(D))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},3493:(e,t,r)=>{"use strict";e.exports=r(4290)},7948:(e,t)=>{"use strict";var r=60103,n=60106,i=60107,a=60108,o=60114,s=60109,l=60110,u=60112,c=60113,h=60120,d=60115,f=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;r=p("react.element"),n=p("react.portal"),i=p("react.fragment"),a=p("react.strict_mode"),o=p("react.profiler"),s=p("react.provider"),l=p("react.context"),u=p("react.forward_ref"),c=p("react.suspense"),h=p("react.suspense_list"),d=p("react.memo"),f=p("react.lazy"),p("react.block"),p("react.server.block"),p("react.fundamental"),p("react.debug_trace_mode"),p("react.legacy_hidden")}t.isForwardRef=function(e){return function(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case o:case a:case c:case h:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case d:case s:return e;default:return t}}case n:return t}}}(e)===u}},4176:(e,t,r)=>{"use strict";e.exports=r(7948)},1963:(e,t,r)=>{"use strict";var n=r(8909),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,a={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},764:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=m,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,g(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,D=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)D.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:r,type:e,key:o,ref:s,props:a,_owner:k.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===a?"."+T(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),S(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var u=0;u<e.length;u++){var c=a+T(s=e[u],u);l+=S(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=S(s=s.value,t,i,c=a+T(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function F(e,t,r){if(null==e)return e;var n=[],i=0;return S(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},N={transition:null},L={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:N,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:F,forEach:function(e,t,r){F(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return F(e,(function(){t++})),t},toArray:function(e){return F(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=I,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)D.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return B.current.useCallback(e,t)},t.useContext=function(e){return B.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return B.current.useDeferredValue(e)},t.useEffect=function(e,t){return B.current.useEffect(e,t)},t.useId=function(){return B.current.useId()},t.useImperativeHandle=function(e,t,r){return B.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return B.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return B.current.useMemo(e,t)},t.useReducer=function(e,t,r){return B.current.useReducer(e,t,r)},t.useRef=function(e){return B.current.useRef(e)},t.useState=function(e){return B.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return B.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return B.current.useTransition()},t.version="18.3.1"},8909:(e,t,r)=>{"use strict";e.exports=r(764)},8809:(e,t,r)=>{"use strict";e.exports=r(1963)},9111:(e,t,r)=>{"use strict";function n(e,t,r){if(e&&e.length){var[n,i]=t,a=Math.PI/180*r,o=Math.cos(a),s=Math.sin(a);for(var l of e){var[u,c]=l;l[0]=(u-n)*o-(c-i)*s+n,l[1]=(u-n)*s+(c-i)*o+i}}}function i(e,t){return e[0]===t[0]&&e[1]===t[1]}function a(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=r,s=Math.max(t,.1),l=e[0]&&e[0][0]&&"number"==typeof e[0][0]?[e]:e,u=[0,0];if(o)for(var c of l)n(c,u,o);var h=function(e,t,r){var n=[];for(var a of e){var o=[...a];i(o[0],o[o.length-1])||o.push([o[0][0],o[0][1]]),o.length>2&&n.push(o)}var s=[];t=Math.max(t,.1);var l=[];for(var u of n)for(var c=0;c<u.length-1;c++){var h=u[c],d=u[c+1];if(h[1]!==d[1]){var f=Math.min(h[1],d[1]);l.push({ymin:f,ymax:Math.max(h[1],d[1]),x:f===h[1]?h[0]:d[0],islope:(d[0]-h[0])/(d[1]-h[1])})}}if(l.sort(((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax))),!l.length)return s;for(var p=[],g=l[0].ymin,m=0;p.length||l.length;){if(l.length){for(var y=-1,v=0;v<l.length&&!(l[v].ymin>g);v++)y=v;l.splice(0,y+1).forEach((e=>{p.push({s:g,edge:e})}))}if(p=p.filter((e=>!(e.edge.ymax<=g))),p.sort(((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x))),(1!==r||m%t==0)&&p.length>1)for(var b=0;b<p.length;b+=2){var x=b+1;if(x>=p.length)break;var w=p[b].edge,D=p[x].edge;s.push([[Math.round(w.x),g],[Math.round(D.x),g]])}g+=r,p.forEach((e=>{e.edge.x=e.edge.x+r*e.edge.islope})),m++}return s}(l,s,a);if(o){for(var d of l)n(d,u,-o);!function(e,t,r){var i=[];e.forEach((e=>i.push(...e))),n(i,t,r)}(h,u,-o)}return h}function o(e,t){var r,n=t.hachureAngle+90,i=t.hachureGap;i<0&&(i=4*t.strokeWidth),i=Math.round(Math.max(i,.1));var o=1;return t.roughness>=1&&((null===(r=t.randomizer)||void 0===r?void 0:r.next())||Math.random())>.7&&(o=i),a(e,i,n,o||1)}r.d(t,{A:()=>ie});class s{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){var r=o(e,t);return{type:"fillSketch",ops:this.renderLines(r,t)}}renderLines(e,t){var r=[];for(var n of e)r.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],t));return r}}function l(e){var t=e[0],r=e[1];return Math.sqrt(Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2))}class u extends s{fillPolygons(e,t){var r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);var n=o(e,Object.assign({},t,{hachureGap:r})),i=Math.PI/180*t.hachureAngle,a=[],s=.5*r*Math.cos(i),u=.5*r*Math.sin(i);for(var[c,h]of n)l([c,h])&&a.push([[c[0]-s,c[1]+u],[...h]],[[c[0]+s,c[1]-u],[...h]]);return{type:"fillSketch",ops:this.renderLines(a,t)}}}class c extends s{fillPolygons(e,t){var r=this._fillPolygons(e,t),n=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,n);return r.ops=r.ops.concat(i.ops),r}}class h{constructor(e){this.helper=e}fillPolygons(e,t){var r=o(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(r,t)}dotsOnLines(e,t){var r=[],n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);var i=t.fillWeight;i<0&&(i=t.strokeWidth/2);var a=n/4;for(var o of e)for(var s=l(o),u=s/n,c=Math.ceil(u)-1,h=s-c*n,d=(o[0][0]+o[1][0])/2-n/4,f=Math.min(o[0][1],o[1][1]),p=0;p<c;p++){var g=f+h+p*n,m=d-a+2*Math.random()*a,y=g-a+2*Math.random()*a,v=this.helper.ellipse(m,y,i,i,t);r.push(...v.ops)}return{type:"fillSketch",ops:r}}}class d{constructor(e){this.helper=e}fillPolygons(e,t){var r=o(e,t);return{type:"fillSketch",ops:this.dashedLine(r,t)}}dashedLine(e,t){var r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,n=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach((e=>{var a=l(e),o=Math.floor(a/(r+n)),s=(a+n-o*(r+n))/2,u=e[0],c=e[1];u[0]>c[0]&&(u=e[1],c=e[0]);for(var h=Math.atan((c[1]-u[1])/(c[0]-u[0])),d=0;d<o;d++){var f=d*(r+n),p=f+r,g=[u[0]+f*Math.cos(h)+s*Math.cos(h),u[1]+f*Math.sin(h)+s*Math.sin(h)],m=[u[0]+p*Math.cos(h)+s*Math.cos(h),u[1]+p*Math.sin(h)+s*Math.sin(h)];i.push(...this.helper.doubleLineOps(g[0],g[1],m[0],m[1],t))}})),i}}class f{constructor(e){this.helper=e}fillPolygons(e,t){var r=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,n=t.zigzagOffset<0?r:t.zigzagOffset,i=o(e,t=Object.assign({},t,{hachureGap:r+n}));return{type:"fillSketch",ops:this.zigzagLines(i,n,t)}}zigzagLines(e,t,r){var n=[];return e.forEach((e=>{var i=l(e),a=Math.round(i/(2*t)),o=e[0],s=e[1];o[0]>s[0]&&(o=e[1],s=e[0]);for(var u=Math.atan((s[1]-o[1])/(s[0]-o[0])),c=0;c<a;c++){var h=2*c*t,d=2*(c+1)*t,f=Math.sqrt(2*Math.pow(t,2)),p=[o[0]+h*Math.cos(u),o[1]+h*Math.sin(u)],g=[o[0]+d*Math.cos(u),o[1]+d*Math.sin(u)],m=[p[0]+f*Math.cos(u+Math.PI/4),p[1]+f*Math.sin(u+Math.PI/4)];n.push(...this.helper.doubleLineOps(p[0],p[1],m[0],m[1],r),...this.helper.doubleLineOps(m[0],m[1],g[0],g[1],r))}})),n}}var p={};class g{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}var m={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function y(e,t){return e.type===t}function v(e){for(var t=[],r=function(e){for(var t=new Array;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:"".concat(parseFloat(RegExp.$1))},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e),n="BOD",i=0,a=r[i];!y(a,2);){var o=0,s=[];if("BOD"===n){if("M"!==a.text&&"m"!==a.text)return v("M0,0"+e);i++,o=m[a.text],n=a.text}else y(a,1)?o=m[n]:(i++,o=m[a.text],n=a.text);if(!(i+o<r.length))throw new Error("Path data ended short");for(var l=i;l<i+o;l++){var u=r[l];if(!y(u,1))throw new Error("Param not a number: "+n+","+u.text);s[s.length]=+u.text}if("number"!=typeof m[n])throw new Error("Bad segment: "+n);var c={key:n,data:s};t.push(c),a=r[i+=o],"M"===n&&(n="L"),"m"===n&&(n="l")}return t}function b(e){var t=0,r=0,n=0,i=0,a=[];for(var{key:o,data:s}of e)switch(o){case"M":a.push({key:"M",data:[...s]}),[t,r]=s,[n,i]=s;break;case"m":t+=s[0],r+=s[1],a.push({key:"M",data:[t,r]}),n=t,i=r;break;case"L":a.push({key:"L",data:[...s]}),[t,r]=s;break;case"l":t+=s[0],r+=s[1],a.push({key:"L",data:[t,r]});break;case"C":a.push({key:"C",data:[...s]}),t=s[4],r=s[5];break;case"c":var l=s.map(((e,n)=>n%2?e+r:e+t));a.push({key:"C",data:l}),t=l[4],r=l[5];break;case"Q":a.push({key:"Q",data:[...s]}),t=s[2],r=s[3];break;case"q":var u=s.map(((e,n)=>n%2?e+r:e+t));a.push({key:"Q",data:u}),t=u[2],r=u[3];break;case"A":a.push({key:"A",data:[...s]}),t=s[5],r=s[6];break;case"a":t+=s[5],r+=s[6],a.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,r]});break;case"H":a.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:[...s]}),r=s[0];break;case"v":r+=s[0],a.push({key:"V",data:[r]});break;case"S":a.push({key:"S",data:[...s]}),t=s[2],r=s[3];break;case"s":var c=s.map(((e,n)=>n%2?e+r:e+t));a.push({key:"S",data:c}),t=c[2],r=c[3];break;case"T":a.push({key:"T",data:[...s]}),t=s[0],r=s[1];break;case"t":t+=s[0],r+=s[1],a.push({key:"T",data:[t,r]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=n,r=i}return a}function x(e){var t=[],r="",n=0,i=0,a=0,o=0,s=0,l=0;for(var{key:u,data:c}of e){switch(u){case"M":t.push({key:"M",data:[...c]}),[n,i]=c,[a,o]=c;break;case"C":t.push({key:"C",data:[...c]}),n=c[4],i=c[5],s=c[2],l=c[3];break;case"L":t.push({key:"L",data:[...c]}),[n,i]=c;break;case"H":n=c[0],t.push({key:"L",data:[n,i]});break;case"V":i=c[0],t.push({key:"L",data:[n,i]});break;case"S":var h=0,d=0;"C"===r||"S"===r?(h=n+(n-s),d=i+(i-l)):(h=n,d=i),t.push({key:"C",data:[h,d,...c]}),s=c[0],l=c[1],n=c[2],i=c[3];break;case"T":var[f,p]=c,g=0,m=0;"Q"===r||"T"===r?(g=n+(n-s),m=i+(i-l)):(g=n,m=i);var y=n+2*(g-n)/3,v=i+2*(m-i)/3,b=f+2*(g-f)/3,x=p+2*(m-p)/3;t.push({key:"C",data:[y,v,b,x,f,p]}),s=g,l=m,n=f,i=p;break;case"Q":var[w,k,E,A]=c,C=n+2*(w-n)/3,_=i+2*(k-i)/3,T=E+2*(w-E)/3,S=A+2*(k-A)/3;t.push({key:"C",data:[C,_,T,S,E,A]}),s=w,l=k,n=E,i=A;break;case"A":var F=Math.abs(c[0]),O=Math.abs(c[1]),B=c[2],N=c[3],L=c[4],I=c[5],R=c[6];0===F||0===O?(t.push({key:"C",data:[n,i,I,R,I,R]}),n=I,i=R):n===I&&i===R||(D(n,i,I,R,F,O,B,N,L).forEach((function(e){t.push({key:"C",data:e})})),n=I,i=R);break;case"Z":t.push({key:"Z",data:[]}),n=a,i=o}r=u}return t}function w(e,t,r){return[e*Math.cos(r)-t*Math.sin(r),e*Math.sin(r)+t*Math.cos(r)]}function D(e,t,r,n,i,a,o,s,l,u){var c,h=(c=o,Math.PI*c/180),d=[],f=0,p=0,g=0,m=0;if(u)[f,p,g,m]=u;else{[e,t]=w(e,t,-h),[r,n]=w(r,n,-h);var y=(e-r)/2,v=(t-n)/2,b=y*y/(i*i)+v*v/(a*a);b>1&&(i*=b=Math.sqrt(b),a*=b);var x=i*i,k=a*a,E=x*k-x*v*v-k*y*y,A=x*v*v+k*y*y,C=(s===l?-1:1)*Math.sqrt(Math.abs(E/A));g=C*i*v/a+(e+r)/2,m=C*-a*y/i+(t+n)/2,f=Math.asin(parseFloat(((t-m)/a).toFixed(9))),p=Math.asin(parseFloat(((n-m)/a).toFixed(9))),e<g&&(f=Math.PI-f),r<g&&(p=Math.PI-p),f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),l&&f>p&&(f-=2*Math.PI),!l&&p>f&&(p-=2*Math.PI)}var _=p-f;if(Math.abs(_)>120*Math.PI/180){var T=p,S=r,F=n;p=l&&p>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,d=D(r=g+i*Math.cos(p),n=m+a*Math.sin(p),S,F,i,a,o,0,l,[p,T,g,m])}_=p-f;var O=Math.cos(f),B=Math.sin(f),N=Math.cos(p),L=Math.sin(p),I=Math.tan(_/4),R=4/3*i*I,M=4/3*a*I,P=[e,t],z=[e+R*B,t-M*O],$=[r+R*L,n-M*N],j=[r,n];if(z[0]=2*P[0]-z[0],z[1]=2*P[1]-z[1],u)return[z,$,j].concat(d);d=[z,$,j].concat(d);for(var K=[],q=0;q<d.length;q+=3){var U=w(d[q][0],d[q][1],h),H=w(d[q+1][0],d[q+1][1],h),W=w(d[q+2][0],d[q+2][1],h);K.push([U[0],U[1],H[0],H[1],W[0],W[1]])}return K}var k={randOffset:function(e,t){return R(e,t)},randOffsetWithRange:function(e,t,r){return I(e,t,r)},ellipse:function(e,t,r,n,i){return T(e,t,i,_(r,n,i)).opset},doubleLineOps:function(e,t,r,n,i){return M(e,t,r,n,i,!0)}};function E(e,t,r,n,i){return{type:"path",ops:M(e,t,r,n,i)}}function A(e,t,r){var n=(e||[]).length;if(n>2){for(var i=[],a=0;a<n-1;a++)i.push(...M(e[a][0],e[a][1],e[a+1][0],e[a+1][1],r));return t&&i.push(...M(e[n-1][0],e[n-1][1],e[0][0],e[0][1],r)),{type:"path",ops:i}}return 2===n?E(e[0][0],e[0][1],e[1][0],e[1][1],r):{type:"path",ops:[]}}function C(e,t){if(e.length){for(var r="number"==typeof e[0][0]?[e]:e,n=z(r[0],1*(1+.2*t.roughness),t),i=t.disableMultiStroke?[]:z(r[0],1.5*(1+.22*t.roughness),N(t)),a=1;a<r.length;a++){var o=r[a];if(o.length){var s=z(o,1*(1+.2*t.roughness),t),l=t.disableMultiStroke?[]:z(o,1.5*(1+.22*t.roughness),N(t));for(var u of s)"move"!==u.op&&n.push(u);for(var c of l)"move"!==c.op&&i.push(c)}}return{type:"path",ops:n.concat(i)}}return{type:"path",ops:[]}}function _(e,t,r){var n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(r.curveStepCount,r.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/i,o=Math.abs(e/2),s=Math.abs(t/2),l=1-r.curveFitting;return{increment:a,rx:o+=R(o*l,r),ry:s+=R(s*l,r)}}function T(e,t,r,n){var[i,a]=j(n.increment,e,t,n.rx,n.ry,1,n.increment*I(.1,I(.4,1,r),r),r),o=$(i,null,r);if(!r.disableMultiStroke&&0!==r.roughness){var[s]=j(n.increment,e,t,n.rx,n.ry,1.5,0,r),l=$(s,null,r);o=o.concat(l)}return{estimatedPoints:a,opset:{type:"path",ops:o}}}function S(e,t,r,n,i,a,o,s,l){var u=e,c=t,h=Math.abs(r/2),d=Math.abs(n/2);h+=R(.01*h,l),d+=R(.01*d,l);for(var f=i,p=a;f<0;)f+=2*Math.PI,p+=2*Math.PI;p-f>2*Math.PI&&(f=0,p=2*Math.PI);var g=2*Math.PI/l.curveStepCount,m=Math.min(g/2,(p-f)/2),y=K(m,u,c,h,d,f,p,1,l);if(!l.disableMultiStroke){var v=K(m,u,c,h,d,f,p,1.5,l);y.push(...v)}return o&&(s?y.push(...M(u,c,u+h*Math.cos(f),c+d*Math.sin(f),l),...M(u,c,u+h*Math.cos(p),c+d*Math.sin(p),l)):y.push({op:"lineTo",data:[u,c]},{op:"lineTo",data:[u+h*Math.cos(f),c+d*Math.sin(f)]})),{type:"path",ops:y}}function F(e,t){var r=x(b(v(e))),n=[],i=[0,0],a=[0,0];for(var{key:o,data:s}of r)switch(o){case"M":a=[s[0],s[1]],i=[s[0],s[1]];break;case"L":n.push(...M(a[0],a[1],s[0],s[1],t)),a=[s[0],s[1]];break;case"C":var[l,u,c,h,d,f]=s;n.push(...q(l,u,c,h,d,f,a,t)),a=[d,f];break;case"Z":n.push(...M(a[0],a[1],i[0],i[1],t)),a=[i[0],i[1]]}return{type:"path",ops:n}}function O(e,t){var r=[];for(var n of e)if(n.length){var i=t.maxRandomnessOffset||0,a=n.length;if(a>2){r.push({op:"move",data:[n[0][0]+R(i,t),n[0][1]+R(i,t)]});for(var o=1;o<a;o++)r.push({op:"lineTo",data:[n[o][0]+R(i,t),n[o][1]+R(i,t)]})}}return{type:"fillPath",ops:r}}function B(e,t){return function(e,t){var r=e.fillStyle||"hachure";if(!p[r])switch(r){case"zigzag":p[r]||(p[r]=new u(t));break;case"cross-hatch":p[r]||(p[r]=new c(t));break;case"dots":p[r]||(p[r]=new h(t));break;case"dashed":p[r]||(p[r]=new d(t));break;case"zigzag-line":p[r]||(p[r]=new f(t));break;default:p[r="hachure"]||(p[r]=new s(t))}return p[r]}(t,k).fillPolygons(e,t)}function N(e){var t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}function L(e){return e.randomizer||(e.randomizer=new g(e.seed||0)),e.randomizer.next()}function I(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return r.roughness*n*(L(r)*(t-e)+e)}function R(e,t){return I(-e,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function M(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?i.disableMultiStrokeFill:i.disableMultiStroke,o=P(e,t,r,n,i,!0,!1);if(a)return o;var s=P(e,t,r,n,i,!0,!0);return o.concat(s)}function P(e,t,r,n,i,a,o){var s,l=Math.pow(e-r,2)+Math.pow(t-n,2),u=Math.sqrt(l);s=u<200?1:u>500?.4:-.0016668*u+1.233334;var c=i.maxRandomnessOffset||0;c*c*100>l&&(c=u/10);var h=c/2,d=.2+.2*L(i),f=i.bowing*i.maxRandomnessOffset*(n-t)/200,p=i.bowing*i.maxRandomnessOffset*(e-r)/200;f=R(f,i,s),p=R(p,i,s);var g=[],m=()=>R(h,i,s),y=()=>R(c,i,s),v=i.preserveVertices;return a&&(o?g.push({op:"move",data:[e+(v?0:m()),t+(v?0:m())]}):g.push({op:"move",data:[e+(v?0:R(c,i,s)),t+(v?0:R(c,i,s))]})),o?g.push({op:"bcurveTo",data:[f+e+(r-e)*d+m(),p+t+(n-t)*d+m(),f+e+2*(r-e)*d+m(),p+t+2*(n-t)*d+m(),r+(v?0:m()),n+(v?0:m())]}):g.push({op:"bcurveTo",data:[f+e+(r-e)*d+y(),p+t+(n-t)*d+y(),f+e+2*(r-e)*d+y(),p+t+2*(n-t)*d+y(),r+(v?0:y()),n+(v?0:y())]}),g}function z(e,t,r){if(!e.length)return[];var n=[];n.push([e[0][0]+R(t,r),e[0][1]+R(t,r)]),n.push([e[0][0]+R(t,r),e[0][1]+R(t,r)]);for(var i=1;i<e.length;i++)n.push([e[i][0]+R(t,r),e[i][1]+R(t,r)]),i===e.length-1&&n.push([e[i][0]+R(t,r),e[i][1]+R(t,r)]);return $(n,null,r)}function $(e,t,r){var n=e.length,i=[];if(n>3){var a=[],o=1-r.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(var s=1;s+2<n;s++){var l=e[s];a[0]=[l[0],l[1]],a[1]=[l[0]+(o*e[s+1][0]-o*e[s-1][0])/6,l[1]+(o*e[s+1][1]-o*e[s-1][1])/6],a[2]=[e[s+1][0]+(o*e[s][0]-o*e[s+2][0])/6,e[s+1][1]+(o*e[s][1]-o*e[s+2][1])/6],a[3]=[e[s+1][0],e[s+1][1]],i.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&2===t.length){var u=r.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+R(u,r),t[1]+R(u,r)]})}}else 3===n?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===n&&i.push(...P(e[0][0],e[0][1],e[1][0],e[1][1],r,!0,!0));return i}function j(e,t,r,n,i,a,o,s){var l=[],u=[];if(0===s.roughness){e/=4,u.push([t+n*Math.cos(-e),r+i*Math.sin(-e)]);for(var c=0;c<=2*Math.PI;c+=e){var h=[t+n*Math.cos(c),r+i*Math.sin(c)];l.push(h),u.push(h)}u.push([t+n*Math.cos(0),r+i*Math.sin(0)]),u.push([t+n*Math.cos(e),r+i*Math.sin(e)])}else{var d=R(.5,s)-Math.PI/2;u.push([R(a,s)+t+.9*n*Math.cos(d-e),R(a,s)+r+.9*i*Math.sin(d-e)]);for(var f=2*Math.PI+d-.01,p=d;p<f;p+=e){var g=[R(a,s)+t+n*Math.cos(p),R(a,s)+r+i*Math.sin(p)];l.push(g),u.push(g)}u.push([R(a,s)+t+n*Math.cos(d+2*Math.PI+.5*o),R(a,s)+r+i*Math.sin(d+2*Math.PI+.5*o)]),u.push([R(a,s)+t+.98*n*Math.cos(d+o),R(a,s)+r+.98*i*Math.sin(d+o)]),u.push([R(a,s)+t+.9*n*Math.cos(d+.5*o),R(a,s)+r+.9*i*Math.sin(d+.5*o)])}return[u,l]}function K(e,t,r,n,i,a,o,s,l){var u=a+R(.1,l),c=[];c.push([R(s,l)+t+.9*n*Math.cos(u-e),R(s,l)+r+.9*i*Math.sin(u-e)]);for(var h=u;h<=o;h+=e)c.push([R(s,l)+t+n*Math.cos(h),R(s,l)+r+i*Math.sin(h)]);return c.push([t+n*Math.cos(o),r+i*Math.sin(o)]),c.push([t+n*Math.cos(o),r+i*Math.sin(o)]),$(c,null,l)}function q(e,t,r,n,i,a,o,s){for(var l=[],u=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3],c=[0,0],h=s.disableMultiStroke?1:2,d=s.preserveVertices,f=0;f<h;f++)0===f?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(d?0:R(u[0],s)),o[1]+(d?0:R(u[0],s))]}),c=d?[i,a]:[i+R(u[f],s),a+R(u[f],s)],l.push({op:"bcurveTo",data:[e+R(u[f],s),t+R(u[f],s),r+R(u[f],s),n+R(u[f],s),c[0],c[1]]});return l}function U(e){return[...e]}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.length;if(r<3)throw new Error("A curve must have at least three points.");var n=[];if(3===r)n.push(U(e[0]),U(e[1]),U(e[2]),U(e[2]));else{var i=[];i.push(e[0],e[0]);for(var a=1;a<e.length;a++)i.push(e[a]),a===e.length-1&&i.push(e[a]);var o=[],s=1-t;n.push(U(i[0]));for(var l=1;l+2<i.length;l++){var u=i[l];o[0]=[u[0],u[1]],o[1]=[u[0]+(s*i[l+1][0]-s*i[l-1][0])/6,u[1]+(s*i[l+1][1]-s*i[l-1][1])/6],o[2]=[i[l+1][0]+(s*i[l][0]-s*i[l+2][0])/6,i[l+1][1]+(s*i[l][1]-s*i[l+2][1])/6],o[3]=[i[l+1][0],i[l+1][1]],n.push(o[1],o[2],o[3])}}return n}function W(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function G(e,t,r){var n=W(t,r);if(0===n)return W(e,t);var i=((e[0]-t[0])*(r[0]-t[0])+(e[1]-t[1])*(r[1]-t[1]))/n;return W(e,V(t,r,i=Math.max(0,Math.min(1,i))))}function V(e,t,r){return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]}function Y(e,t,r,n){var i,a,o=n||[];if(function(e,t){var r=e[t+0],n=e[t+1],i=e[t+2],a=e[t+3],o=3*n[0]-2*r[0]-a[0];o*=o;var s=3*n[1]-2*r[1]-a[1];s*=s;var l=3*i[0]-2*a[0]-r[0];l*=l;var u=3*i[1]-2*a[1]-r[1];return o<l&&(o=l),s<(u*=u)&&(s=u),o+s}(e,t)<r){var s=e[t+0];o.length?(i=o[o.length-1],a=s,Math.sqrt(W(i,a))>1&&o.push(s)):o.push(s),o.push(e[t+3])}else{var l=.5,u=e[t+0],c=e[t+1],h=e[t+2],d=e[t+3],f=V(u,c,l),p=V(c,h,l),g=V(h,d,l),m=V(f,p,l),y=V(p,g,l),v=V(m,y,l);Y([u,f,m,v],0,r,o),Y([v,y,g,d],0,r,o)}return o}function X(e,t){return Z(e,0,e.length,t)}function Z(e,t,r,n,i){for(var a=i||[],o=e[t],s=e[r-1],l=0,u=1,c=t+1;c<r-1;++c){var h=G(e[c],o,s);h>l&&(l=h,u=c)}return Math.sqrt(l)>n?(Z(e,t,u+1,n,a),Z(e,u,r,n,a)):(a.length||a.push(o),a.push(s)),a}function Q(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,r=arguments.length>2?arguments[2]:void 0,n=[],i=(e.length-1)/3,a=0;a<i;a++)Y(e,3*a,t,n);return r&&r>0?Z(n,0,n.length,r):n}var J="none";class ee{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,r){return{shape:e,sets:t||[],options:r||this.defaultOptions}}line(e,t,r,n,i){var a=this._o(i);return this._d("line",[E(e,t,r,n,a)],a)}rectangle(e,t,r,n,i){var a=this._o(i),o=[],s=function(e,t,r,n,i){return function(e,t){return A(e,!0,t)}([[e,t],[e+r,t],[e+r,t+n],[e,t+n]],i)}(e,t,r,n,a);if(a.fill){var l=[[e,t],[e+r,t],[e+r,t+n],[e,t+n]];"solid"===a.fillStyle?o.push(O([l],a)):o.push(B([l],a))}return a.stroke!==J&&o.push(s),this._d("rectangle",o,a)}ellipse(e,t,r,n,i){var a=this._o(i),o=[],s=_(r,n,a),l=T(e,t,a,s);if(a.fill)if("solid"===a.fillStyle){var u=T(e,t,a,s).opset;u.type="fillPath",o.push(u)}else o.push(B([l.estimatedPoints],a));return a.stroke!==J&&o.push(l.opset),this._d("ellipse",o,a)}circle(e,t,r,n){var i=this.ellipse(e,t,r,r,n);return i.shape="circle",i}linearPath(e,t){var r=this._o(t);return this._d("linearPath",[A(e,!1,r)],r)}arc(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,l=this._o(s),u=[],c=S(e,t,r,n,i,a,o,!0,l);if(o&&l.fill)if("solid"===l.fillStyle){var h=Object.assign({},l);h.disableMultiStroke=!0;var d=S(e,t,r,n,i,a,!0,!1,h);d.type="fillPath",u.push(d)}else u.push(function(e,t,r,n,i,a,o){var s=e,l=t,u=Math.abs(r/2),c=Math.abs(n/2);u+=R(.01*u,o),c+=R(.01*c,o);for(var h=i,d=a;h<0;)h+=2*Math.PI,d+=2*Math.PI;d-h>2*Math.PI&&(h=0,d=2*Math.PI);for(var f=(d-h)/o.curveStepCount,p=[],g=h;g<=d;g+=f)p.push([s+u*Math.cos(g),l+c*Math.sin(g)]);return p.push([s+u*Math.cos(d),l+c*Math.sin(d)]),p.push([s,l]),B([p],o)}(e,t,r,n,i,a,l));return l.stroke!==J&&u.push(c),this._d("arc",u,l)}curve(e,t){var r=this._o(t),n=[],i=C(e,r);if(r.fill&&r.fill!==J)if("solid"===r.fillStyle){var a=C(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{var o=[],s=e;if(s.length){var l="number"==typeof s[0][0]?[s]:s;for(var u of l)u.length<3?o.push(...u):3===u.length?o.push(...Q(H([u[0],u[0],u[1],u[2]]),10,(1+r.roughness)/2)):o.push(...Q(H(u),10,(1+r.roughness)/2))}o.length&&n.push(B([o],r))}return r.stroke!==J&&n.push(i),this._d("curve",n,r)}polygon(e,t){var r=this._o(t),n=[],i=A(e,!0,r);return r.fill&&("solid"===r.fillStyle?n.push(O([e],r)):n.push(B([e],r))),r.stroke!==J&&n.push(i),this._d("polygon",n,r)}path(e,t){var r=this._o(t),n=[];if(!e)return this._d("path",n,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var i=r.fill&&"transparent"!==r.fill&&r.fill!==J,a=r.stroke!==J,o=!!(r.simplification&&r.simplification<1),s=function(e,t,r){var n=x(b(v(e))),i=[],a=[],o=[0,0],s=[],l=()=>{s.length>=4&&a.push(...Q(s,1)),s=[]},u=()=>{l(),a.length&&(i.push(a),a=[])};for(var{key:c,data:h}of n)switch(c){case"M":u(),o=[h[0],h[1]],a.push(o);break;case"L":l(),a.push([h[0],h[1]]);break;case"C":if(!s.length){var d=a.length?a[a.length-1]:o;s.push([d[0],d[1]])}s.push([h[0],h[1]]),s.push([h[2],h[3]]),s.push([h[4],h[5]]);break;case"Z":l(),a.push([o[0],o[1]])}if(u(),!r)return i;var f=[];for(var p of i){var g=X(p,r);g.length&&f.push(g)}return f}(e,0,o?4-4*(r.simplification||1):(1+r.roughness)/2),l=F(e,r);if(i)if("solid"===r.fillStyle)if(1===s.length){var u=F(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else n.push(O(s,r));else n.push(B(s,r));return a&&(o?s.forEach((e=>{n.push(A(e,!1,r))})):n.push(l)),this._d("path",n,r)}opsToPath(e,t){var r="";for(var n of e.ops){var i="number"==typeof t&&t>=0?n.data.map((e=>+e.toFixed(t))):n.data;switch(n.op){case"move":r+="M".concat(i[0]," ").concat(i[1]," ");break;case"bcurveTo":r+="C".concat(i[0]," ").concat(i[1],", ").concat(i[2]," ").concat(i[3],", ").concat(i[4]," ").concat(i[5]," ");break;case"lineTo":r+="L".concat(i[0]," ").concat(i[1]," ")}}return r.trim()}toPaths(e){var t=e.sets||[],r=e.options||this.defaultOptions,n=[];for(var i of t){var a=null;switch(i.type){case"path":a={d:this.opsToPath(i),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:J};break;case"fillPath":a={d:this.opsToPath(i),stroke:J,strokeWidth:0,fill:r.fill||J};break;case"fillSketch":a=this.fillSketch(i,r)}a&&n.push(a)}return n}fillSketch(e,t){var r=t.fillWeight;return r<0&&(r=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||J,strokeWidth:r,fill:J}}_mergedShape(e){return e.filter(((e,t)=>0===t||"move"!==e.op))}}class te{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new ee(t)}draw(e){var t=e.sets||[],r=e.options||this.getDefaultOptions(),n=this.ctx,i=e.options.fixedDecimalPlaceDigits;for(var a of t)switch(a.type){case"path":n.save(),n.strokeStyle="none"===r.stroke?"transparent":r.stroke,n.lineWidth=r.strokeWidth,r.strokeLineDash&&n.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(n.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(n,a,i),n.restore();break;case"fillPath":n.save(),n.fillStyle=r.fill||"";var o="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(n,a,i,o),n.restore();break;case"fillSketch":this.fillSketch(n,a,r)}}fillSketch(e,t,r){var n=r.fillWeight;n<0&&(n=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=n,this._drawToContext(e,t,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nonzero";for(var i of(e.beginPath(),t.ops)){var a="number"==typeof r&&r>=0?i.data.map((e=>+e.toFixed(r))):i.data;switch(i.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}"fillPath"===t.type?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,r,n,i){var a=this.gen.line(e,t,r,n,i);return this.draw(a),a}rectangle(e,t,r,n,i){var a=this.gen.rectangle(e,t,r,n,i);return this.draw(a),a}ellipse(e,t,r,n,i){var a=this.gen.ellipse(e,t,r,n,i);return this.draw(a),a}circle(e,t,r,n){var i=this.gen.circle(e,t,r,n);return this.draw(i),i}linearPath(e,t){var r=this.gen.linearPath(e,t);return this.draw(r),r}polygon(e,t){var r=this.gen.polygon(e,t);return this.draw(r),r}arc(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,l=this.gen.arc(e,t,r,n,i,a,o,s);return this.draw(l),l}curve(e,t){var r=this.gen.curve(e,t);return this.draw(r),r}path(e,t){var r=this.gen.path(e,t);return this.draw(r),r}}var re="http://www.w3.org/2000/svg";class ne{constructor(e,t){this.svg=e,this.gen=new ee(t)}draw(e){var t=e.sets||[],r=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,i=n.createElementNS(re,"g"),a=e.options.fixedDecimalPlaceDigits;for(var o of t){var s=null;switch(o.type){case"path":(s=n.createElementNS(re,"path")).setAttribute("d",this.opsToPath(o,a)),s.setAttribute("stroke",r.stroke),s.setAttribute("stroke-width",r.strokeWidth+""),s.setAttribute("fill","none"),r.strokeLineDash&&s.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&s.setAttribute("stroke-dashoffset","".concat(r.strokeLineDashOffset));break;case"fillPath":(s=n.createElementNS(re,"path")).setAttribute("d",this.opsToPath(o,a)),s.setAttribute("stroke","none"),s.setAttribute("stroke-width","0"),s.setAttribute("fill",r.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||s.setAttribute("fill-rule","evenodd");break;case"fillSketch":s=this.fillSketch(n,o,r)}s&&i.appendChild(s)}return i}fillSketch(e,t,r){var n=r.fillWeight;n<0&&(n=r.strokeWidth/2);var i=e.createElementNS(re,"path");return i.setAttribute("d",this.opsToPath(t,r.fixedDecimalPlaceDigits)),i.setAttribute("stroke",r.fill||""),i.setAttribute("stroke-width",n+""),i.setAttribute("fill","none"),r.fillLineDash&&i.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&i.setAttribute("stroke-dashoffset","".concat(r.fillLineDashOffset)),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,r,n,i){var a=this.gen.line(e,t,r,n,i);return this.draw(a)}rectangle(e,t,r,n,i){var a=this.gen.rectangle(e,t,r,n,i);return this.draw(a)}ellipse(e,t,r,n,i){var a=this.gen.ellipse(e,t,r,n,i);return this.draw(a)}circle(e,t,r,n){var i=this.gen.circle(e,t,r,n);return this.draw(i)}linearPath(e,t){var r=this.gen.linearPath(e,t);return this.draw(r)}polygon(e,t){var r=this.gen.polygon(e,t);return this.draw(r)}arc(e,t,r,n,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,l=this.gen.arc(e,t,r,n,i,a,o,s);return this.draw(l)}curve(e,t){var r=this.gen.curve(e,t);return this.draw(r)}path(e,t){var r=this.gen.path(e,t);return this.draw(r)}}var ie={canvas:(e,t)=>new te(e,t),svg:(e,t)=>new ne(e,t),generator:e=>new ee(e),newSeed:()=>ee.newSeed()}},1668:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<a(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var s=2*(n+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,r))u<i&&0>a(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[s]=r,n=s);else{if(!(u<i&&0>a(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=n(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function w(e){if(m=!1,x(e),!g)if(null!==n(u))g=!0,N(D);else{var t=n(c);null!==t&&L(w,t.startTime-e)}}function D(e,r){g=!1,m&&(m=!1,v(C),C=-1),p=!0;var a=f;try{for(x(r),d=n(u);null!==d&&(!(d.expirationTime>r)||e&&!S());){var o=d.callback;if("function"==typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=r);r=t.unstable_now(),"function"==typeof s?d.callback=s:d===n(u)&&i(u),x(r)}else i(u);d=n(u)}if(null!==d)var l=!0;else{var h=n(c);null!==h&&L(w,h.startTime-r),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,A=null,C=-1,_=5,T=-1;function S(){return!(t.unstable_now()-T<_)}function F(){if(null!==A){var e=t.unstable_now();T=e;var r=!0;try{r=A(!0,e)}finally{r?k():(E=!1,A=null)}}else E=!1}if("function"==typeof b)k=function(){b(F)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,B=O.port2;O.port1.onmessage=F,k=function(){B.postMessage(null)}}else k=function(){y(F,0)};function N(e){A=e,E||(E=!0,k())}function L(e,r){C=y((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,N(D))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,r(c,e),null===n(u)&&e===n(c)&&(m?(v(C),C=-1):m=!0,L(w,a-o))):(e.sortIndex=s,r(u,e),g||p||(g=!0,N(D))),e},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},2571:(e,t,r)=>{"use strict";e.exports=r(1668)},7412:(e,t,r)=>{"use strict";function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Array.from("string"==typeof e?[e]:e);n[n.length-1]=n[n.length-1].replace(/\r?\n([\t ]*)$/,"");var i=n.reduce((function(e,t){var r=t.match(/\n([\t ]+|(?!\s).)/g);return r?e.concat(r.map((function(e){var t,r;return null!==(r=null===(t=e.match(/[\t ]/g))||void 0===t?void 0:t.length)&&void 0!==r?r:0}))):e}),[]);if(i.length){var a=new RegExp("\n[\t ]{"+Math.min.apply(Math,i)+"}","g");n=n.map((function(e){return e.replace(a,"\n")}))}n[0]=n[0].replace(/^\r?\n/,"");var o=n[0];return t.forEach((function(e,t){var r=o.match(/(?:^|\n)( *)$/),i=r?r[1]:"",a=e;"string"==typeof e&&e.includes("\n")&&(a=String(e).split("\n").map((function(e,t){return 0===t?e:""+i+e})).join("\n")),o+=a+n[t+1]})),o}r.d(t,{T:()=>n})},3985:(e,t,r)=>{"use strict";t.Qi=t.XO=void 0;var n,i=r(687),a=r(9270),o=r(1107);!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None}),e.is=function(t){var r=t;return r&&(r===e.None||r===e.Cancelled||a.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(n||(t.XO=n={}));var s=Object.freeze((function(e,t){var r=(0,i.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}));class l{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.Qi=class{get token(){return this._token||(this._token=new l),this._token}cancel(){this._token?this._token.cancel():this._token=n.Cancelled}dispose(){this._token?this._token instanceof l&&this._token.dispose():this._token=n.None}}},1107:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;var n,i=r(687);!function(e){var t={dispose(){}};e.None=function(){return t}}(n||(t.Event=n={}));class a{add(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0;this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._callbacks){for(var r=!1,n=0,i=this._callbacks.length;n<i;n++)if(this._callbacks[n]===e){if(this._contexts[n]===t)return this._callbacks.splice(n,1),void this._contexts.splice(n,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(){if(!this._callbacks)return[];for(var e=[],t=this._callbacks.slice(0),r=this._contexts.slice(0),n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];for(var s=0,l=t.length;s<l;s++)try{e.push(t[s].apply(r[s],a))}catch(e){(0,i.default)().console.error(e)}return e}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new a),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);var n={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),n.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(n),n}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},9270:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function n(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=n,t.stringArray=function(e){return n(e)&&e.every((e=>r(e)))}},687:(e,t)=>{"use strict";var r;function n(){if(void 0===r)throw new Error("No runtime abstraction layer installed");return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");r=e}}(n||(n={})),t.default=n},9720:(e,t,r)=>{"use strict";r.d(t,{createArchitectureServices:()=>n.S});var n=r(9936);r(9369)},7021:(e,t,r)=>{"use strict";r.d(t,{v:()=>s});var n=r(9369),i=r(8939),a=class extends n.mR{static{(0,n.K2)(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},o={parser:{TokenBuilder:(0,n.K2)((()=>new a),"TokenBuilder"),ValueConverter:(0,n.K2)((()=>new n.Tm),"ValueConverter")}};function s(e=i.DD){const t=(0,i.WQ)((0,i.uM)(e),n.sr),r=(0,i.WQ)((0,i.tG)({shared:t}),n.e5,o);return t.ServiceRegistry.register(r),{shared:t,Info:r}}(0,n.K2)(s,"createInfoServices")},8685:(e,t,r)=>{"use strict";r.d(t,{f:()=>l});var n=r(9369),i=r(8939),a=class extends n.mR{static{(0,n.K2)(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},o=class extends n.dg{static{(0,n.K2)(this,"PieValueConverter")}runCustomConverter(e,t,r){if("PIE_SECTION_LABEL"===e.name)return t.replace(/"/g,"").trim()}},s={parser:{TokenBuilder:(0,n.K2)((()=>new a),"TokenBuilder"),ValueConverter:(0,n.K2)((()=>new o),"ValueConverter")}};function l(e=i.DD){const t=(0,i.WQ)((0,i.uM)(e),n.sr),r=(0,i.WQ)((0,i.tG)({shared:t}),n.KX,s);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}(0,n.K2)(l,"createPieServices")},1609:(e,t,r)=>{"use strict";r.d(t,{$:()=>s});var n=r(9369),i=r(8939),a=class extends n.mR{static{(0,n.K2)(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},o={parser:{TokenBuilder:(0,n.K2)((()=>new a),"TokenBuilder"),ValueConverter:(0,n.K2)((()=>new n.Tm),"ValueConverter")}};function s(e=i.DD){const t=(0,i.WQ)((0,i.uM)(e),n.sr),r=(0,i.WQ)((0,i.tG)({shared:t}),n.AM,o);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}(0,n.K2)(s,"createPacketServices")},9936:(e,t,r)=>{"use strict";r.d(t,{S:()=>l});var n=r(9369),i=r(8939),a=class extends n.mR{static{(0,n.K2)(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},o=class extends n.dg{static{(0,n.K2)(this,"ArchitectureValueConverter")}runCustomConverter(e,t,r){return"ARCH_ICON"===e.name?t.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===e.name?t.replace(/["()]/g,""):"ARCH_TITLE"===e.name?t.replace(/[[\]]/g,"").trim():void 0}},s={parser:{TokenBuilder:(0,n.K2)((()=>new a),"TokenBuilder"),ValueConverter:(0,n.K2)((()=>new o),"ValueConverter")}};function l(e=i.DD){const t=(0,i.WQ)((0,i.uM)(e),n.sr),r=(0,i.WQ)((0,i.tG)({shared:t}),n.jE,s);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}(0,n.K2)(l,"createArchitectureServices")},2785:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var n=r(9369),i=r(8939),a=class extends n.mR{static{(0,n.K2)(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},o={parser:{TokenBuilder:(0,n.K2)((()=>new a),"TokenBuilder"),ValueConverter:(0,n.K2)((()=>new n.Tm),"ValueConverter")}};function s(e=i.DD){const t=(0,i.WQ)((0,i.uM)(e),n.sr),r=(0,i.WQ)((0,i.tG)({shared:t}),n.eZ,o);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}(0,n.K2)(s,"createGitGraphServices")},9369:(e,t,r)=>{"use strict";r.d(t,{AM:()=>S,K2:()=>a,KX:()=>F,Tm:()=>I,dg:()=>L,e5:()=>T,eZ:()=>B,jE:()=>O,mR:()=>R,sr:()=>_});var n=r(8939),i=Object.defineProperty,a=(e,t)=>i(e,"name",{value:t,configurable:!0});a((function(e){return m.isInstance(e,"Architecture")}),"isArchitecture");var o="Branch";a((function(e){return m.isInstance(e,o)}),"isBranch");var s="Commit";a((function(e){return m.isInstance(e,s)}),"isCommit"),a((function(e){return m.isInstance(e,"Common")}),"isCommon");var l="GitGraph";a((function(e){return m.isInstance(e,l)}),"isGitGraph"),a((function(e){return m.isInstance(e,"Info")}),"isInfo");var u="Merge";a((function(e){return m.isInstance(e,u)}),"isMerge"),a((function(e){return m.isInstance(e,"Packet")}),"isPacket"),a((function(e){return m.isInstance(e,"PacketBlock")}),"isPacketBlock"),a((function(e){return m.isInstance(e,"Pie")}),"isPie"),a((function(e){return m.isInstance(e,"PieSection")}),"isPieSection");var c,h,d,f,p,g=class extends n.kD{static{a(this,"MermaidAstReflection")}getAllTypes(){return["Architecture","Branch","Checkout","CherryPicking","Commit","Common","Direction","Edge","GitGraph","Group","Info","Junction","Merge","Packet","PacketBlock","Pie","PieSection","Service","Statement"]}computeIsSubtype(e,t){switch(e){case o:case"Checkout":case"CherryPicking":case s:case u:return this.isSubtype("Statement",t);case"Direction":return this.isSubtype(l,t);default:return!1}}getReferenceType(e){const t=`${e.container.$type}:${e.property}`;throw new Error(`${t} is not a valid reference id.`)}getTypeMetaData(e){switch(e){case"Architecture":return{name:"Architecture",properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case"Branch":return{name:"Branch",properties:[{name:"name"},{name:"order"}]};case"Checkout":return{name:"Checkout",properties:[{name:"branch"}]};case"CherryPicking":return{name:"CherryPicking",properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case"Commit":return{name:"Commit",properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Common":return{name:"Common",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Edge":return{name:"Edge",properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case"GitGraph":return{name:"GitGraph",properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case"Group":return{name:"Group",properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case"Info":return{name:"Info",properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case"Junction":return{name:"Junction",properties:[{name:"id"},{name:"in"}]};case"Merge":return{name:"Merge",properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case"Packet":return{name:"Packet",properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case"PacketBlock":return{name:"PacketBlock",properties:[{name:"end"},{name:"label"},{name:"start"}]};case"Pie":return{name:"Pie",properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case"PieSection":return{name:"PieSection",properties:[{name:"label"},{name:"value"}]};case"Service":return{name:"Service",properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case"Direction":return{name:"Direction",properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},m=new g,y=a((()=>c??(c=(0,n.y0)('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","name":"Info","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'))),"InfoGrammar"),v=a((()=>h??(h=(0,n.y0)('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","name":"Packet","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'))),"PacketGrammar"),b=a((()=>d??(d=(0,n.y0)('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","name":"Pie","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'))),"PieGrammar"),x=a((()=>f??(f=(0,n.y0)('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","name":"Architecture","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","fragment":true,"definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"LeftPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"RightPort","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Arrow","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'))),"ArchitectureGrammar"),w=a((()=>p??(p=(0,n.y0)('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","name":"TitleAndAccessibilities","fragment":true,"definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"EOL","fragment":true,"dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","name":"GitGraph","entry":true,"definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}'))),"GitGraphGrammar"),D={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},k={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},E={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},A={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},C={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1},_={AstReflection:a((()=>new g),"AstReflection")},T={Grammar:a((()=>y()),"Grammar"),LanguageMetaData:a((()=>D),"LanguageMetaData"),parser:{}},S={Grammar:a((()=>v()),"Grammar"),LanguageMetaData:a((()=>k),"LanguageMetaData"),parser:{}},F={Grammar:a((()=>b()),"Grammar"),LanguageMetaData:a((()=>E),"LanguageMetaData"),parser:{}},O={Grammar:a((()=>x()),"Grammar"),LanguageMetaData:a((()=>A),"LanguageMetaData"),parser:{}},B={Grammar:a((()=>w()),"Grammar"),LanguageMetaData:a((()=>C),"LanguageMetaData"),parser:{}},N={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},L=class extends n.dM{static{a(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let n=this.runCommonConverter(e,t,r);return void 0===n&&(n=this.runCustomConverter(e,t,r)),void 0===n?super.runConverter(e,t,r):n}runCommonConverter(e,t,r){const n=N[e.name];if(void 0===n)return;const i=n.exec(t);return null!==i?void 0!==i[1]?i[1].trim().replace(/[\t ]{2,}/gm," "):void 0!==i[2]?i[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n"):void 0:void 0}},I=class extends L{static{a(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},R=class extends n.QU{static{a(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){const n=super.buildKeywordTokens(e,t,r);return n.forEach((e=>{this.keywords.has(e.name)&&void 0!==e.PATTERN&&(e.PATTERN=new RegExp(e.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))})),n}};(class extends R{static{a(this,"CommonTokenBuilder")}})},2387:(e,t,r)=>{"use strict";r.d(t,{createGitGraphServices:()=>n.b});var n=r(2785);r(9369)},890:(e,t,r)=>{"use strict";r.d(t,{createInfoServices:()=>n.v});var n=r(7021);r(9369)},6452:(e,t,r)=>{"use strict";r.d(t,{createPacketServices:()=>n.$});var n=r(1609);r(9369)},7723:(e,t,r)=>{"use strict";r.d(t,{createPieServices:()=>n.f});var n=r(8685);r(9369)},8731:(e,t,r)=>{"use strict";r.d(t,{qg:()=>o}),r(2785),r(7021),r(1609),r(8685),r(9936);var n=r(9369),i={},a={info:(0,n.K2)((async()=>{const{createInfoServices:e}=await Promise.resolve().then(r.bind(r,890)),t=e().Info.parser.LangiumParser;i.info=t}),"info"),packet:(0,n.K2)((async()=>{const{createPacketServices:e}=await Promise.resolve().then(r.bind(r,6452)),t=e().Packet.parser.LangiumParser;i.packet=t}),"packet"),pie:(0,n.K2)((async()=>{const{createPieServices:e}=await Promise.resolve().then(r.bind(r,7723)),t=e().Pie.parser.LangiumParser;i.pie=t}),"pie"),architecture:(0,n.K2)((async()=>{const{createArchitectureServices:e}=await Promise.resolve().then(r.bind(r,9720)),t=e().Architecture.parser.LangiumParser;i.architecture=t}),"architecture"),gitGraph:(0,n.K2)((async()=>{const{createGitGraphServices:e}=await Promise.resolve().then(r.bind(r,2387)),t=e().GitGraph.parser.LangiumParser;i.gitGraph=t}),"gitGraph")};async function o(e,t){const r=a[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);i[e]||await r();const n=i[e].parse(t);if(n.lexerErrors.length>0||n.parserErrors.length>0)throw new s(n);return n.value}(0,n.K2)(o,"parse");var s=class extends Error{constructor(e){super(`Parsing failed: ${e.lexerErrors.map((e=>e.message)).join("\n")} ${e.parserErrors.map((e=>e.message)).join("\n")}`),this.result=e}static{(0,n.K2)(this,"MermaidParseError")}}},5763:(e,t,r)=>{"use strict";function n(e,t){var r;if(void 0===t)for(var n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{var i=-1;for(var a of e)null!=(a=t(a,++i,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function i(e,t){var r;if(void 0===t)for(var n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{var i=-1;for(var a of e)null!=(a=t(a,++i,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function a(e){return e}r.d(t,{JLW:()=>es,l78:()=>v,tlR:()=>y,qrM:()=>fs,Yu4:()=>gs,IA3:()=>ys,Wi0:()=>bs,PGM:()=>xs,OEq:()=>Ds,y8u:()=>As,olC:()=>_s,IrU:()=>Ss,oDi:()=>Bs,Q7f:()=>Ls,cVp:()=>Rs,lUB:()=>ns,Lx9:()=>Ps,nVG:()=>Ws,uxU:()=>Gs,Xf2:()=>Xs,GZz:()=>Qs,UPb:()=>el,dyv:()=>Js,bEH:()=>Zr,n8j:()=>os,T9B:()=>n,jkA:()=>i,rLf:()=>us,WH:()=>an,m4Y:()=>Vn,UMr:()=>nn,w7C:()=>uo,zt:()=>co,Ltv:()=>ho,UAC:()=>ci,DCK:()=>Ki,TUC:()=>bi,Agd:()=>li,t6C:()=>ii,wXd:()=>oi,ABi:()=>gi,Ui6:()=>Si,rGn:()=>xi,ucG:()=>ai,YPH:()=>pi,Mol:()=>vi,PGu:()=>mi,GuW:()=>yi});var o=1,s=2,l=3,u=4,c=1e-6;function h(e){return"translate("+e+",0)"}function d(e){return"translate(0,"+e+")"}function f(e){return t=>+e(t)}function p(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function g(){return!this.__axis}function m(e,t){var r=[],n=null,i=null,m=6,y=6,v=3,b="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,x=e===o||e===u?-1:1,w=e===u||e===s?"x":"y",D=e===o||e===l?h:d;function k(h){var d=null==n?t.ticks?t.ticks.apply(t,r):t.domain():n,k=null==i?t.tickFormat?t.tickFormat.apply(t,r):a:i,E=Math.max(m,0)+v,A=t.range(),C=+A[0]+b,_=+A[A.length-1]+b,T=(t.bandwidth?p:f)(t.copy(),b),S=h.selection?h.selection():h,F=S.selectAll(".domain").data([null]),O=S.selectAll(".tick").data(d,t).order(),B=O.exit(),N=O.enter().append("g").attr("class","tick"),L=O.select("line"),I=O.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),O=O.merge(N),L=L.merge(N.append("line").attr("stroke","currentColor").attr(w+"2",x*m)),I=I.merge(N.append("text").attr("fill","currentColor").attr(w,x*E).attr("dy",e===o?"0em":e===l?"0.71em":"0.32em")),h!==S&&(F=F.transition(h),O=O.transition(h),L=L.transition(h),I=I.transition(h),B=B.transition(h).attr("opacity",c).attr("transform",(function(e){return isFinite(e=T(e))?D(e+b):this.getAttribute("transform")})),N.attr("opacity",c).attr("transform",(function(e){var t=this.parentNode.__axis;return D((t&&isFinite(t=t(e))?t:T(e))+b)}))),B.remove(),F.attr("d",e===u||e===s?y?"M"+x*y+","+C+"H"+b+"V"+_+"H"+x*y:"M"+b+","+C+"V"+_:y?"M"+C+","+x*y+"V"+b+"H"+_+"V"+x*y:"M"+C+","+b+"H"+_),O.attr("opacity",1).attr("transform",(function(e){return D(T(e)+b)})),L.attr(w+"2",x*m),I.attr(w,x*E).text(k),S.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===s?"start":e===u?"end":"middle"),S.each((function(){this.__axis=T}))}return k.scale=function(e){return arguments.length?(t=e,k):t},k.ticks=function(){return r=Array.from(arguments),k},k.tickArguments=function(e){return arguments.length?(r=null==e?[]:Array.from(e),k):r.slice()},k.tickValues=function(e){return arguments.length?(n=null==e?null:Array.from(e),k):n&&n.slice()},k.tickFormat=function(e){return arguments.length?(i=e,k):i},k.tickSize=function(e){return arguments.length?(m=y=+e,k):m},k.tickSizeInner=function(e){return arguments.length?(m=+e,k):m},k.tickSizeOuter=function(e){return arguments.length?(y=+e,k):y},k.tickPadding=function(e){return arguments.length?(v=+e,k):v},k.offset=function(e){return arguments.length?(b=+e,k):b},k}function y(e){return m(o,e)}function v(e){return m(l,e)}function b(){}function x(e){return null==e?b:function(){return this.querySelector(e)}}function w(){return[]}function D(e){return null==e?w:function(){return this.querySelectorAll(e)}}function k(e){return function(){return this.matches(e)}}function E(e){return function(t){return t.matches(e)}}var A=Array.prototype.find;function C(){return this.firstElementChild}var _=Array.prototype.filter;function T(){return Array.from(this.children)}function S(e){return new Array(e.length)}function F(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function O(e,t,r,n,i,a){for(var o,s=0,l=t.length,u=a.length;s<u;++s)(o=t[s])?(o.__data__=a[s],n[s]=o):r[s]=new F(e,a[s]);for(;s<l;++s)(o=t[s])&&(i[s]=o)}function B(e,t,r,n,i,a,o){var s,l,u,c=new Map,h=t.length,d=a.length,f=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(f[s]=u=o.call(l,l.__data__,s,t)+"",c.has(u)?i[s]=l:c.set(u,l));for(s=0;s<d;++s)u=o.call(e,a[s],s,a)+"",(l=c.get(u))?(n[s]=l,l.__data__=a[s],c.delete(u)):r[s]=new F(e,a[s]);for(s=0;s<h;++s)(l=t[s])&&c.get(f[s])===l&&(i[s]=l)}function N(e){return e.__data__}function L(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function I(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}F.prototype={constructor:F,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var R="http://www.w3.org/1999/xhtml";const M={svg:"http://www.w3.org/2000/svg",xhtml:R,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function P(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),M.hasOwnProperty(t)?{space:M[t],local:e}:e}function z(e){return function(){this.removeAttribute(e)}}function $(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j(e,t){return function(){this.setAttribute(e,t)}}function K(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function q(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function U(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function H(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function W(e){return function(){this.style.removeProperty(e)}}function G(e,t,r){return function(){this.style.setProperty(e,t,r)}}function V(e,t,r){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Y(e,t){return e.style.getPropertyValue(t)||H(e).getComputedStyle(e,null).getPropertyValue(t)}function X(e){return function(){delete this[e]}}function Z(e,t){return function(){this[e]=t}}function Q(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function J(e){return e.trim().split(/^|\s+/)}function ee(e){return e.classList||new te(e)}function te(e){this._node=e,this._names=J(e.getAttribute("class")||"")}function re(e,t){for(var r=ee(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function ne(e,t){for(var r=ee(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function ie(e){return function(){re(this,e)}}function ae(e){return function(){ne(this,e)}}function oe(e,t){return function(){(t.apply(this,arguments)?re:ne)(this,e)}}function se(){this.textContent=""}function le(e){return function(){this.textContent=e}}function ue(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ce(){this.innerHTML=""}function he(e){return function(){this.innerHTML=e}}function de(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function fe(){this.nextSibling&&this.parentNode.appendChild(this)}function pe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ge(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===R&&t.documentElement.namespaceURI===R?t.createElement(e):t.createElementNS(r,e)}}function me(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ye(e){var t=P(e);return(t.local?me:ge)(t)}function ve(){return null}function be(){var e=this.parentNode;e&&e.removeChild(this)}function xe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function we(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function De(e){return function(){var t=this.__on;if(t){for(var r,n=0,i=-1,a=t.length;n<a;++n)r=t[n],e.type&&r.type!==e.type||r.name!==e.name?t[++i]=r:this.removeEventListener(r.type,r.listener,r.options);++i?t.length=i:delete this.__on}}}function ke(e,t,r){return function(){var n,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,s=i.length;o<s;++o)if((n=i[o]).type===e.type&&n.name===e.name)return this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=a,n.options=r),void(n.value=t);this.addEventListener(e.type,a,r),n={type:e.type,name:e.name,value:t,listener:a,options:r},i?i.push(n):this.__on=[n]}}function Ee(e,t,r){var n=H(e),i=n.CustomEvent;"function"==typeof i?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ae(e,t){return function(){return Ee(this,e,t)}}function Ce(e,t){return function(){return Ee(this,e,t.apply(this,arguments))}}te.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var _e=[null];function Te(e,t){this._groups=e,this._parents=t}function Se(){return new Te([[document.documentElement]],_e)}Te.prototype=Se.prototype={constructor:Te,select:function(e){"function"!=typeof e&&(e=x(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o,s=t[i],l=s.length,u=n[i]=new Array(l),c=0;c<l;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new Te(n,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}(e):D(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o,s=t[a],l=s.length,u=0;u<l;++u)(o=s[u])&&(n.push(e.call(o,o.__data__,u,s)),i.push(o));return new Te(n,i)},selectChild:function(e){return this.select(null==e?C:function(e){return function(){return A.call(this.children,e)}}("function"==typeof e?e:E(e)))},selectChildren:function(e){return this.selectAll(null==e?T:function(e){return function(){return _.call(this.children,e)}}("function"==typeof e?e:E(e)))},filter:function(e){"function"!=typeof e&&(e=k(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o=t[i],s=o.length,l=n[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new Te(n,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,N);var r,n=t?B:O,i=this._parents,a=this._groups;"function"!=typeof e&&(r=e,e=function(){return r});for(var o=a.length,s=new Array(o),l=new Array(o),u=new Array(o),c=0;c<o;++c){var h=i[c],d=a[c],f=d.length,p=L(e.call(h,h&&h.__data__,c,i)),g=p.length,m=l[c]=new Array(g),y=s[c]=new Array(g);n(h,d,m,y,u[c]=new Array(f),p,t);for(var v,b,x=0,w=0;x<g;++x)if(v=m[x]){for(x>=w&&(w=x+1);!(b=y[w])&&++w<g;);v._next=b||null}}return(s=new Te(s,i))._enter=l,s._exit=u,s},enter:function(){return new Te(this._enter||this._groups.map(S),this._parents)},exit:function(){return new Te(this._exit||this._groups.map(S),this._parents)},join:function(e,t,r){var n=this.enter(),i=this,a=this.exit();return"function"==typeof e?(n=e(n))&&(n=n.selection()):n=n.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==r?a.remove():r(a),n&&i?n.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),s=new Array(i),l=0;l<o;++l)for(var u,c=r[l],h=n[l],d=c.length,f=s[l]=new Array(d),p=0;p<d;++p)(u=c[p]||h[p])&&(f[p]=u);for(;l<i;++l)s[l]=r[l];return new Te(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n,i=e[t],a=i.length-1,o=i[a];--a>=0;)(n=i[a])&&(o&&4^n.compareDocumentPosition(o)&&o.parentNode.insertBefore(n,o),o=n);return this},sort:function(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=I);for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o,s=r[a],l=s.length,u=i[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(t)}return new Te(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null},size:function(){var e=0;for(var t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i,a=t[r],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var r=P(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((null==t?r.local?$:z:"function"==typeof t?r.local?U:q:r.local?K:j)(r,t))},style:function(e,t,r){return arguments.length>1?this.each((null==t?W:"function"==typeof t?V:G)(e,t,null==r?"":r)):Y(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?X:"function"==typeof t?Q:Z)(e,t)):this.node()[e]},classed:function(e,t){var r=J(e+"");if(arguments.length<2){for(var n=ee(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each(("function"==typeof t?oe:t?ie:ae)(r,t))},text:function(e){return arguments.length?this.each(null==e?se:("function"==typeof e?ue:le)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ce:("function"==typeof e?de:he)(e)):this.node().innerHTML},raise:function(){return this.each(fe)},lower:function(){return this.each(pe)},append:function(e){var t="function"==typeof e?e:ye(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var r="function"==typeof e?e:ye(e),n=null==t?ve:"function"==typeof t?t:x(t);return this.select((function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)}))},remove:function(){return this.each(be)},clone:function(e){return this.select(e?we:xe)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,r){var n,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?ke:De,n=0;n<o;++n)this.each(s(a[n],t,r));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(n=0,l=s[u];n<o;++n)if((i=a[n]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?Ce:Ae)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n,i=e[t],a=0,o=i.length;a<o;++a)(n=i[a])&&(yield n)}};const Fe=Se;var Oe={value:()=>{}};function Be(){for(var e,t=0,r=arguments.length,n={};t<r;++t){if(!(e=arguments[t]+"")||e in n||/[\s.]/.test(e))throw new Error("illegal type: "+e);n[e]=[]}return new Ne(n)}function Ne(e){this._=e}function Le(e,t){for(var r,n=0,i=e.length;n<i;++n)if((r=e[n]).name===t)return r.value}function Ie(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Oe,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=r&&e.push({name:t,value:r}),e}Ne.prototype=Be.prototype={constructor:Ne,on:function(e,t){var r,n,i=this._,a=(n=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",r=e.indexOf(".");if(r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(r=(e=a[o]).type)i[r]=Ie(i[r],e.name,t);else if(null==t)for(r in i)i[r]=Ie(i[r],e.name,null);return this}for(;++o<s;)if((r=(e=a[o]).type)&&(r=Le(i[r],e.name)))return r},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ne(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var r,n,i=new Array(r),a=0;a<r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,r=(n=this._[e]).length;a<r;++a)n[a].value.apply(t,i)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};const Re=Be;var Me,Pe,ze=0,$e=0,je=0,Ke=0,qe=0,Ue=0,He="object"==typeof performance&&performance.now?performance:Date,We="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ge(){return qe||(We(Ve),qe=He.now()+Ue)}function Ve(){qe=0}function Ye(){this._call=this._time=this._next=null}function Xe(e,t,r){var n=new Ye;return n.restart(e,t,r),n}function Ze(){qe=(Ke=He.now())+Ue,ze=$e=0;try{!function(){Ge(),++ze;for(var e,t=Me;t;)(e=qe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ze}()}finally{ze=0,function(){for(var e,t,r=Me,n=1/0;r;)r._call?(n>r._time&&(n=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:Me=t);Pe=e,Je(n)}(),qe=0}}function Qe(){var e=He.now(),t=e-Ke;t>1e3&&(Ue-=t,Ke=e)}function Je(e){ze||($e&&($e=clearTimeout($e)),e-qe>24?(e<1/0&&($e=setTimeout(Ze,e-He.now()-Ue)),je&&(je=clearInterval(je))):(je||(Ke=He.now(),je=setInterval(Qe,1e3)),ze=1,We(Ze)))}function et(e,t,r){var n=new Ye;return t=null==t?0:+t,n.restart((r=>{n.stop(),e(r+t)}),t,r),n}Ye.prototype=Xe.prototype={constructor:Ye,restart:function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?Ge():+r)+(null==t?0:+t),this._next||Pe===this||(Pe?Pe._next=this:Me=this,Pe=this),this._call=e,this._time=r,Je()},stop:function(){this._call&&(this._call=null,this._time=1/0,Je())}};var tt=Re("start","end","cancel","interrupt"),rt=[];function nt(e,t,r,n,i,a){var o=e.__transition;if(o){if(r in o)return}else e.__transition={};!function(e,t,r){var n,i=e.__transition;function a(l){var u,c,h,d;if(1!==r.state)return s();for(u in i)if((d=i[u]).name===r.name){if(3===d.state)return et(a);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[u]):+u<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[u])}if(et((function(){3===r.state&&(r.state=4,r.timer.restart(o,r.delay,r.time),o(l))})),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,n=new Array(h=r.tween.length),u=0,c=-1;u<h;++u)(d=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(n[++c]=d);n.length=c+1}}function o(t){for(var i=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(s),r.state=5,1),a=-1,o=n.length;++a<o;)n[a].call(e,i);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),s())}function s(){for(var n in r.state=6,r.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=r,r.timer=Xe((function(e){r.state=1,r.timer.restart(a,r.delay,r.time),r.delay<=e&&a(e-r.delay)}),0,r.time)}(e,r,{name:t,index:n,group:i,on:tt,tween:rt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function it(e,t){var r=ot(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function at(e,t){var r=ot(e,t);if(r.state>3)throw new Error("too late; already running");return r}function ot(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function st(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var lt,ut=180/Math.PI,ct={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ht(e,t,r,n,i,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,l/=s),e*n<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*ut,skewX:Math.atan(l)*ut,scaleX:o,scaleY:s}}function dt(e,t,r,n){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var s=[],l=[];return a=e(a),o=e(o),function(e,n,i,a,o,s){if(e!==i||n!==a){var l=o.push("translate(",null,t,null,r);s.push({i:l-4,x:st(e,i)},{i:l-2,x:st(n,a)})}else(i||a)&&o.push("translate("+i+t+a+r)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(e,t,r,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:r.push(i(r)+"rotate(",null,n)-2,x:st(e,t)})):t&&r.push(i(r)+"rotate("+t+n)}(a.rotate,o.rotate,s,l),function(e,t,r,a){e!==t?a.push({i:r.push(i(r)+"skewX(",null,n)-2,x:st(e,t)}):t&&r.push(i(r)+"skewX("+t+n)}(a.skewX,o.skewX,s,l),function(e,t,r,n,a,o){if(e!==r||t!==n){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:st(e,r)},{i:s-2,x:st(t,n)})}else 1===r&&1===n||a.push(i(a)+"scale("+r+","+n+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(e){for(var t,r=-1,n=l.length;++r<n;)s[(t=l[r]).i]=t.x(e);return s.join("")}}}var ft=dt((function(e){var t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ct:ht(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),pt=dt((function(e){return null==e?ct:(lt||(lt=document.createElementNS("http://www.w3.org/2000/svg","g")),lt.setAttribute("transform",e),(e=lt.transform.baseVal.consolidate())?ht((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):ct)}),", ",")",")");function gt(e,t){var r,n;return function(){var i=at(this,e),a=i.tween;if(a!==r)for(var o=0,s=(n=r=a).length;o<s;++o)if(n[o].name===t){(n=n.slice()).splice(o,1);break}i.tween=n}}function mt(e,t,r){var n,i;if("function"!=typeof r)throw new Error;return function(){var a=at(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var s={name:t,value:r},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}a.tween=i}}function yt(e,t,r){var n=e._id;return e.each((function(){var e=at(this,n);(e.value||(e.value={}))[t]=r.apply(this,arguments)})),function(e){return ot(e,n).value[t]}}function vt(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bt(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xt(){}var wt=.7,Dt=1/wt,kt="\\s*([+-]?\\d+)\\s*",Et="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ct=/^#([0-9a-f]{3,8})$/,_t=new RegExp("^rgb\\(".concat(kt,",").concat(kt,",").concat(kt,"\\)$")),Tt=new RegExp("^rgb\\(".concat(At,",").concat(At,",").concat(At,"\\)$")),St=new RegExp("^rgba\\(".concat(kt,",").concat(kt,",").concat(kt,",").concat(Et,"\\)$")),Ft=new RegExp("^rgba\\(".concat(At,",").concat(At,",").concat(At,",").concat(Et,"\\)$")),Ot=new RegExp("^hsl\\(".concat(Et,",").concat(At,",").concat(At,"\\)$")),Bt=new RegExp("^hsla\\(".concat(Et,",").concat(At,",").concat(At,",").concat(Et,"\\)$")),Nt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lt(){return this.rgb().formatHex()}function It(){return this.rgb().formatRgb()}function Rt(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ct.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Mt(t):3===r?new jt(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Pt(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Pt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=_t.exec(e))?new jt(t[1],t[2],t[3],1):(t=Tt.exec(e))?new jt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=St.exec(e))?Pt(t[1],t[2],t[3],t[4]):(t=Ft.exec(e))?Pt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ot.exec(e))?Gt(t[1],t[2]/100,t[3]/100,1):(t=Bt.exec(e))?Gt(t[1],t[2]/100,t[3]/100,t[4]):Nt.hasOwnProperty(e)?Mt(Nt[e]):"transparent"===e?new jt(NaN,NaN,NaN,0):null}function Mt(e){return new jt(e>>16&255,e>>8&255,255&e,1)}function Pt(e,t,r,n){return n<=0&&(e=t=r=NaN),new jt(e,t,r,n)}function zt(e){return e instanceof xt||(e=Rt(e)),e?new jt((e=e.rgb()).r,e.g,e.b,e.opacity):new jt}function $t(e,t,r,n){return 1===arguments.length?zt(e):new jt(e,t,r,null==n?1:n)}function jt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Kt(){return"#".concat(Wt(this.r)).concat(Wt(this.g)).concat(Wt(this.b))}function qt(){var e=Ut(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Ht(this.r),", ").concat(Ht(this.g),", ").concat(Ht(this.b)).concat(1===e?")":", ".concat(e,")"))}function Ut(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ht(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wt(e){return((e=Ht(e))<16?"0":"")+e.toString(16)}function Gt(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yt(e,t,r,n)}function Vt(e){if(e instanceof Yt)return new Yt(e.h,e.s,e.l,e.opacity);if(e instanceof xt||(e=Rt(e)),!e)return new Yt;if(e instanceof Yt)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(r-n)/s+6*(r<n):r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Yt(o,s,l,e.opacity)}function Yt(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Xt(e){return(e=(e||0)%360)<0?e+360:e}function Zt(e){return Math.max(0,Math.min(1,e||0))}function Qt(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Jt(e,t,r,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*n+o*i)/6}vt(xt,Rt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lt,formatHex:Lt,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Vt(this).formatHsl()},formatRgb:It,toString:It}),vt(jt,$t,bt(xt,{brighter(e){return e=null==e?Dt:Math.pow(Dt,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?wt:Math.pow(wt,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jt(Ht(this.r),Ht(this.g),Ht(this.b),Ut(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kt,formatHex:Kt,formatHex8:function(){return"#".concat(Wt(this.r)).concat(Wt(this.g)).concat(Wt(this.b)).concat(Wt(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:qt,toString:qt})),vt(Yt,(function(e,t,r,n){return 1===arguments.length?Vt(e):new Yt(e,t,r,null==n?1:n)}),bt(xt,{brighter(e){return e=null==e?Dt:Math.pow(Dt,e),new Yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?wt:Math.pow(wt,e),new Yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new jt(Qt(e>=240?e-240:e+120,i,n),Qt(e,i,n),Qt(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Yt(Xt(this.h),Zt(this.s),Zt(this.l),Ut(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){var e=Ut(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Xt(this.h),", ").concat(100*Zt(this.s),"%, ").concat(100*Zt(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const er=e=>()=>e;function tr(e,t){return function(r){return e+r*t}}function rr(e,t){var r=t-e;return r?tr(e,r):er(isNaN(e)?t:e)}const nr=function e(t){var r=function(e){return 1==(e=+e)?rr:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):er(isNaN(t)?r:t)}}(t);function n(e,t){var n=r((e=$t(e)).r,(t=$t(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=rr(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function ir(e){return function(t){var r,n,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(r=0;r<i;++r)n=$t(t[r]),a[r]=n.r||0,o[r]=n.g||0,s[r]=n.b||0;return a=e(a),o=e(o),s=e(s),n.opacity=1,function(e){return n.r=a(e),n.g=o(e),n.b=s(e),n+""}}}ir((function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<t-1?e[n+2]:2*a-i;return Jt((r-n/t)*t,o,i,a,s)}})),ir((function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],o=e[(n+1)%t],s=e[(n+2)%t];return Jt((r-n/t)*t,i,a,o,s)}}));var ar=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,or=new RegExp(ar.source,"g");function sr(e,t){var r,n,i,a=ar.lastIndex=or.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=ar.exec(e))&&(n=or.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:st(r,n)})),a=or.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function lr(e,t){var r;return("number"==typeof t?st:t instanceof Rt?nr:(r=Rt(t))?(t=r,nr):sr)(e,t)}function ur(e){return function(){this.removeAttribute(e)}}function cr(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hr(e,t,r){var n,i,a=r+"";return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function dr(e,t,r){var n,i,a=r+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function fr(e,t,r){var n,i,a;return function(){var o,s,l=r(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===n&&s===i?a:(i=s,a=t(n=o,l));this.removeAttribute(e)}}function pr(e,t,r){var n,i,a;return function(){var o,s,l=r(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===n&&s===i?a:(i=s,a=t(n=o,l));this.removeAttributeNS(e.space,e.local)}}function gr(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}(e,i)),r}return i._value=t,i}function mr(e,t){var r,n;function i(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&function(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}(e,i)),r}return i._value=t,i}function yr(e,t){return function(){it(this,e).delay=+t.apply(this,arguments)}}function vr(e,t){return t=+t,function(){it(this,e).delay=t}}function br(e,t){return function(){at(this,e).duration=+t.apply(this,arguments)}}function xr(e,t){return t=+t,function(){at(this,e).duration=t}}var wr=Fe.prototype.constructor;function Dr(e){return function(){this.style.removeProperty(e)}}var kr=0;function Er(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Ar(){return++kr}var Cr=Fe.prototype;Er.prototype=function(e){return Fe().transition(e)}.prototype={constructor:Er,select:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=x(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var s,l,u=n[o],c=u.length,h=a[o]=new Array(c),d=0;d<c;++d)(s=u[d])&&(l=e.call(s,s.__data__,d,u))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,nt(h[d],t,r,d,h,ot(s,r)));return new Er(a,this._parents,t,r)},selectAll:function(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=D(e));for(var n=this._groups,i=n.length,a=[],o=[],s=0;s<i;++s)for(var l,u=n[s],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var d,f=e.call(l,l.__data__,h,u),p=ot(l,r),g=0,m=f.length;g<m;++g)(d=f[g])&&nt(d,t,r,g,f,p);a.push(f),o.push(l)}return new Er(a,o,t,r)},selectChild:Cr.selectChild,selectChildren:Cr.selectChildren,filter:function(e){"function"!=typeof e&&(e=k(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a,o=t[i],s=o.length,l=n[i]=[],u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new Er(n,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),s=0;s<a;++s)for(var l,u=t[s],c=r[s],h=u.length,d=o[s]=new Array(h),f=0;f<h;++f)(l=u[f]||c[f])&&(d[f]=l);for(;s<n;++s)o[s]=t[s];return new Er(o,this._parents,this._name,this._id)},selection:function(){return new wr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,r=Ar(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o,s=n[a],l=s.length,u=0;u<l;++u)if(o=s[u]){var c=ot(o,t);nt(o,e,r,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Er(n,this._parents,e,r)},call:Cr.call,nodes:Cr.nodes,node:Cr.node,size:Cr.size,empty:Cr.empty,each:Cr.each,on:function(e,t){var r=this._id;return arguments.length<2?ot(this.node(),r).on.on(e):this.each(function(e,t,r){var n,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?it:at;return function(){var o=a(this,e),s=o.on;s!==n&&(i=(n=s).copy()).on(t,r),o.on=i}}(r,e,t))},attr:function(e,t){var r=P(e),n="transform"===r?pt:lr;return this.attrTween(e,"function"==typeof t?(r.local?pr:fr)(r,n,yt(this,"attr."+e,t)):null==t?(r.local?cr:ur)(r):(r.local?dr:hr)(r,n,t))},attrTween:function(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var n=P(e);return this.tween(r,(n.local?gr:mr)(n,t))},style:function(e,t,r){var n="transform"==(e+="")?ft:lr;return null==t?this.styleTween(e,function(e,t){var r,n,i;return function(){var a=Y(this,e),o=(this.style.removeProperty(e),Y(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}(e,n)).on("end.style."+e,Dr(e)):"function"==typeof t?this.styleTween(e,function(e,t,r){var n,i,a;return function(){var o=Y(this,e),s=r(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=Y(this,e)),o===l?null:o===n&&l===i?a:(i=l,a=t(n=o,s))}}(e,n,yt(this,"style."+e,t))).each(function(e,t){var r,n,i,a,o="style."+t,s="end."+o;return function(){var l=at(this,e),u=l.on,c=null==l.value[o]?a||(a=Dr(t)):void 0;u===r&&i===c||(n=(r=u).copy()).on(s,i=c),l.on=n}}(this._id,e)):this.styleTween(e,function(e,t,r){var n,i,a=r+"";return function(){var o=Y(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}(e,n,t),r).on("end.style."+e,null)},styleTween:function(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(e,t,r){var n,i;function a(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&function(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}(e,a,r)),n}return a._value=t,a}(e,t,null==r?"":r))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(yt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,r;function n(){var n=e.apply(this,arguments);return n!==r&&(t=(r=n)&&function(e){return function(t){this.textContent=e.call(this,t)}}(n)),t}return n._value=e,n}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n,i=ot(this.node(),r).tween,a=0,o=i.length;a<o;++a)if((n=i[a]).name===e)return n.value;return null}return this.each((null==t?gt:mt)(r,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?yr:vr)(t,e)):ot(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?br:xr)(t,e)):ot(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){at(this,e).ease=t}}(t,e)):ot(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var r=t.apply(this,arguments);if("function"!=typeof r)throw new Error;at(this,e).ease=r}}(this._id,e))},end:function(){var e,t,r=this,n=r._id,i=r.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--i&&a()}};r.each((function(){var r=at(this,n),i=r.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),r.on=t})),0===i&&a()}))},[Symbol.iterator]:Cr[Symbol.iterator]};var _r={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Tr(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return r}Fe.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var r,n,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(r=a[i]).name===t?(n=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete a[i]):o=!1;o&&delete e.__transition}}(this,e)}))},Fe.prototype.transition=function(e){var t,r;e instanceof Er?(t=e._id,e=e._name):(t=Ar(),(r=_r).time=Ge(),e=null==e?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o,s=n[a],l=s.length,u=0;u<l;++u)(o=s[u])&&nt(o,e,t,u,s,r||Tr(o,t));return new Er(n,this._parents,e,t)};var{abs:Sr,max:Fr,min:Or}=Math;function Br(e){return{type:e}}["w","e"].map(Br),["n","s"].map(Br),["n","w","e","s","nw","ne","sw","se"].map(Br);var Nr=Math.PI/180,Lr=180/Math.PI,Ir=.96422,Rr=.82521,Mr=4/29,Pr=6/29,zr=3*Pr*Pr,$r=Pr*Pr*Pr;function jr(e){if(e instanceof Kr)return new Kr(e.l,e.a,e.b,e.opacity);if(e instanceof Vr)return Yr(e);e instanceof jt||(e=zt(e));var t,r,n=Wr(e.r),i=Wr(e.g),a=Wr(e.b),o=qr((.2225045*n+.7168786*i+.0606169*a)/1);return n===i&&i===a?t=r=o:(t=qr((.4360747*n+.3850649*i+.1430804*a)/Ir),r=qr((.0139322*n+.0971045*i+.7141733*a)/Rr)),new Kr(116*o-16,500*(t-o),200*(o-r),e.opacity)}function Kr(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}function qr(e){return e>$r?Math.pow(e,1/3):e/zr+Mr}function Ur(e){return e>Pr?e*e*e:zr*(e-Mr)}function Hr(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Wr(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Gr(e,t,r,n){return 1===arguments.length?function(e){if(e instanceof Vr)return new Vr(e.h,e.c,e.l,e.opacity);if(e instanceof Kr||(e=jr(e)),0===e.a&&0===e.b)return new Vr(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Lr;return new Vr(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new Vr(e,t,r,null==n?1:n)}function Vr(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function Yr(e){if(isNaN(e.h))return new Kr(e.l,0,0,e.opacity);var t=e.h*Nr;return new Kr(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}function Xr(e){return function(t,r){var n=e((t=Gr(t)).h,(r=Gr(r)).h),i=rr(t.c,r.c),a=rr(t.l,r.l),o=rr(t.opacity,r.opacity);return function(e){return t.h=n(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}vt(Kr,(function(e,t,r,n){return 1===arguments.length?jr(e):new Kr(e,t,r,null==n?1:n)}),bt(xt,{brighter(e){return new Kr(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker(e){return new Kr(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return new jt(Hr(3.1338561*(t=Ir*Ur(t))-1.6168667*(e=1*Ur(e))-.4906146*(r=Rr*Ur(r))),Hr(-.9787684*t+1.9161415*e+.033454*r),Hr(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),vt(Vr,Gr,bt(xt,{brighter(e){return new Vr(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker(e){return new Vr(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb(){return Yr(this).rgb()}}));const Zr=Xr((function(e,t){var r=t-e;return r?tr(e,r>180||r<-180?r-360*Math.round(r/360):r):er(isNaN(e)?t:e)}));function Qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}Xr(rr);class Jr extends Map{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tn;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(var[r,n]of e)this.set(r,n)}get(e){return super.get(en(this,e))}has(e){return super.has(en(this,e))}set(e,t){return super.set(function(e,t){var{_intern:r,_key:n}=e,i=n(t);return r.has(i)?r.get(i):(r.set(i,t),t)}(this,e),t)}delete(e){return super.delete(function(e,t){var{_intern:r,_key:n}=e,i=n(t);return r.has(i)&&(t=r.get(i),r.delete(i)),t}(this,e))}}function en(e,t){var{_intern:r,_key:n}=e,i=n(t);return r.has(i)?r.get(i):t}function tn(e){return null!==e&&"object"==typeof e?e.valueOf():e}Set;var rn=Symbol("implicit");function nn(){var e=new Jr,t=[],r=[],n=rn;function i(i){var a=e.get(i);if(void 0===a){if(n!==rn)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();for(var n of(t=[],e=new Jr,r))e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return nn(t,r).unknown(n)},Qr.apply(i,arguments),i}function an(){var e,t,r=nn().unknown(void 0),n=r.domain,i=r.range,a=0,o=1,s=!1,l=0,u=0,c=.5;function h(){var r=n().length,h=o<a,d=h?o:a,f=h?a:o;e=(f-d)/Math.max(1,r-l+2*u),s&&(e=Math.floor(e)),d+=(f-d-e*(r-l))*c,t=e*(1-l),s&&(d=Math.round(d),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}(r).map((function(t){return d+e*t}));return i(h?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),h()):n()},r.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,h()):[a,o]},r.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,h()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,h()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),h()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},r.paddingOuter=function(e){return arguments.length?(u=+e,h()):u},r.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},r.copy=function(){return an(n(),[a,o]).round(s).paddingInner(l).paddingOuter(u).align(c)},Qr.apply(h(),arguments)}var on=Math.sqrt(50),sn=Math.sqrt(10),ln=Math.sqrt(2);function un(e,t,r){var n,i,a,o=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(o)),l=o/Math.pow(10,s),u=l>=on?10:l>=sn?5:l>=ln?2:1;return s<0?(a=Math.pow(10,-s)/u,(n=Math.round(e*a))/a<e&&++n,(i=Math.round(t*a))/a>t&&--i,a=-a):(a=Math.pow(10,s)*u,(n=Math.round(e/a))*a<e&&++n,(i=Math.round(t/a))*a>t&&--i),i<n&&.5<=r&&r<2?un(e,t,2*r):[n,i,a]}function cn(e,t,r){return un(e=+e,t=+t,r=+r)[2]}function hn(e,t,r){r=+r;var n=(t=+t)<(e=+e),i=n?cn(t,e,r):cn(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function dn(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fn(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function pn(e){var t,r,n;function i(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{var o=i+a>>>1;r(e[o],n)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length?(t=dn,r=(t,r)=>dn(e(t),r),n=(t,r)=>e(t)-r):(t=e===dn||e===fn?e:gn,r=e,n=e),{left:i,center:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=i(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>r&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{var o=i+a>>>1;r(e[o],n)<=0?i=o+1:a=o}while(i<a)}return i}}}function gn(){return 0}var mn=pn(dn),yn=mn.right;mn.left,pn((function(e){return null===e?NaN:+e})).center;const vn=yn;function bn(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=kn(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}function xn(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wn(e,t){var r,n={},i={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=kn(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}function Dn(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function kn(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?er(t):("number"===i?st:"string"===i?(r=Rt(t))?(t=r,nr):sr:t instanceof Rt?nr:t instanceof Date?xn:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?bn:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?wn:st:Dn))(e,t)}function En(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function An(e){return+e}var Cn=[0,1];function _n(e){return e}function Tn(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Sn(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Tn(i,n),a=r(o,a)):(n=Tn(n,i),a=r(a,o)),function(e){return a(n(e))}}function Fn(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Tn(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=vn(e,t,1,n)-1;return a[r](i[r](t))}}function On(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bn(){return function(){var e,t,r,n,i,a,o=Cn,s=Cn,l=kn,u=_n;function c(){var e,t,r,l=Math.min(o.length,s.length);return u!==_n&&(e=o[0],t=o[l-1],e>t&&(r=e,e=t,t=r),u=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?Fn:Sn,i=a=null,h}function h(t){return null==t||isNaN(t=+t)?r:(i||(i=n(o.map(e),s,l)))(e(u(t)))}return h.invert=function(r){return u(t((a||(a=n(s,o.map(e),st)))(r)))},h.domain=function(e){return arguments.length?(o=Array.from(e,An),c()):o.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=En,c()},h.clamp=function(e){return arguments.length?(u=!!e||_n,c()):u!==_n},h.interpolate=function(e){return arguments.length?(l=e,c()):l},h.unknown=function(e){return arguments.length?(r=e,h):r},function(r,n){return e=r,t=n,c()}}()(_n,_n)}var Nn,Ln=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function In(e){if(!(t=Ln.exec(e)))throw new Error("invalid format: "+e);var t;return new Rn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Rn(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Mn(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Pn(e){return(e=Mn(Math.abs(e)))?e[1]:NaN}function zn(e,t){var r=Mn(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}In.prototype=Rn.prototype,Rn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const $n={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zn(100*e,t),r:zn,s:function(e,t){var r=Mn(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Nn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Mn(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jn(e){return e}var Kn,qn,Un,Hn=Array.prototype.map,Wn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Gn(e){var t=e.domain;return e.ticks=function(e){var r=t();return function(e,t,r){if(!((r=+r)>0))return[];if((e=+e)==(t=+t))return[e];var n=t<e,[i,a,o]=n?un(t,e,r):un(e,t,r);if(!(a>=i))return[];var s=a-i+1,l=new Array(s);if(n)if(o<0)for(var u=0;u<s;++u)l[u]=(a-u)/-o;else for(var c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(var h=0;h<s;++h)l[h]=(i+h)/-o;else for(var d=0;d<s;++d)l[d]=(i+d)*o;return l}(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return function(e,t,r,n){var i,a=hn(e,t,r);switch((n=In(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Pn(t)/3)))-Pn(Math.abs(e)))}(a,o))||(n.precision=i),Un(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pn(t)-Pn(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(e){return Math.max(0,-Pn(Math.abs(e)))}(a))||(n.precision=i-2*("%"===n.type))}return qn(n)}(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),o=0,s=a.length-1,l=a[o],u=a[s],c=10;for(u<l&&(i=l,l=u,u=i,i=o,o=s,s=i);c-- >0;){if((i=cn(l,u,r))===n)return a[o]=l,a[s]=u,t(a);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}n=i}return e},e}function Vn(){var e=Bn();return e.copy=function(){return On(e,Vn())},Qr.apply(e,arguments),Gn(e)}Kn=function(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?jn:(t=Hn.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?jn:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Hn.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"−":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=In(e)).fill,r=e.align,h=e.sign,d=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,y=e.trim,v=e.type;"n"===v?(g=!0,v="g"):$n[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===d?a:/[%p]/.test(v)?l:"",w=$n[v],D=/[defgprs%]/.test(v);function k(e){var i,a,l,d=b,k=x;if("c"===v)k=w(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),m),y&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==h&&(E=!1),d=(E?"("===h?h:u:"-"===h||"("===h?"":h)+d,k=("s"===v?Wn[8+Nn/3]:"")+k+(E&&"("===h?")":""),D)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){k=(46===l?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}g&&!f&&(e=n(e,1/0));var A=d.length+e.length+k.length,C=A<p?new Array(p-A+1).join(t):"";switch(g&&f&&(e=n(C+e,C.length?p-k.length:1/0),C=""),r){case"<":e=d+e+k+C;break;case"=":e=d+C+e+k;break;case"^":e=C.slice(0,A=C.length>>1)+d+e+k+C.slice(A);break;default:e=C+d+e+k}return s(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:h,formatPrefix:function(e,t){var r=h(((e=In(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(Pn(t)/3))),i=Math.pow(10,-n),a=Wn[8+n/3];return function(e){return r(i*e)+a}}}}({thousands:",",grouping:[3],currency:["$",""]}),qn=Kn.format,Un=Kn.formatPrefix;var Yn=1e3,Xn=6e4,Zn=36e5,Qn=864e5,Jn=6048e5,ei=31536e6,ti=new Date,ri=new Date;function ni(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{var t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{var o,s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n&&a>0))return s;do{s.push(o=new Date(+r)),t(r,a),e(r)}while(o<r&&r<n);return s},i.filter=r=>ni((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(i.count=(t,n)=>(ti.setTime(+t),ri.setTime(+n),e(ti),e(ri),Math.floor(r(ti,ri))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?t=>n(t)%e==0:t=>i.count(0,t)%e==0):i:null)),i}var ii=ni((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));ii.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?ni((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):ii:null),ii.range;var ai=ni((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*Yn)}),((e,t)=>(t-e)/Yn),(e=>e.getUTCSeconds())),oi=(ai.range,ni((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yn)}),((e,t)=>{e.setTime(+e+t*Xn)}),((e,t)=>(t-e)/Xn),(e=>e.getMinutes()))),si=(oi.range,ni((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*Xn)}),((e,t)=>(t-e)/Xn),(e=>e.getUTCMinutes()))),li=(si.range,ni((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yn-e.getMinutes()*Xn)}),((e,t)=>{e.setTime(+e+t*Zn)}),((e,t)=>(t-e)/Zn),(e=>e.getHours()))),ui=(li.range,ni((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*Zn)}),((e,t)=>(t-e)/Zn),(e=>e.getUTCHours()))),ci=(ui.range,ni((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/Qn),(e=>e.getDate()-1))),hi=(ci.range,ni((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Qn),(e=>e.getUTCDate()-1))),di=(hi.range,ni((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/Qn),(e=>Math.floor(e/Qn))));function fi(e){return ni((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xn)/Jn))}di.range;var pi=fi(0),gi=fi(1),mi=fi(2),yi=fi(3),vi=fi(4),bi=fi(5),xi=fi(6);function wi(e){return ni((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/Jn))}pi.range,gi.range,mi.range,yi.range,vi.range,bi.range,xi.range;var Di=wi(0),ki=wi(1),Ei=wi(2),Ai=wi(3),Ci=wi(4),_i=wi(5),Ti=wi(6),Si=(Di.range,ki.range,Ei.range,Ai.range,Ci.range,_i.range,Ti.range,ni((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),Fi=(Si.range,ni((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),Oi=(Fi.range,ni((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));Oi.every=e=>isFinite(e=Math.floor(e))&&e>0?ni((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null,Oi.range;var Bi=ni((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function Ni(e,t,r,n,i,a){var o=[[ai,1,Yn],[ai,5,5e3],[ai,15,15e3],[ai,30,3e4],[a,1,Xn],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Zn],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,Qn],[n,2,1728e5],[r,1,Jn],[t,1,2592e6],[t,3,7776e6],[e,1,ei]];function s(t,r,n){var i=Math.abs(r-t)/n,a=pn((e=>{var[,,t]=e;return t})).right(o,i);if(a===o.length)return e.every(hn(t/ei,r/ei,n));if(0===a)return ii.every(Math.max(hn(t,r,n),1));var[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,r){var n=t<e;n&&([e,t]=[t,e]);var i=r&&"function"==typeof r.range?r:s(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},s]}Bi.every=e=>isFinite(e=Math.floor(e))&&e>0?ni((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null,Bi.range;var[Li,Ii]=Ni(Bi,Fi,Di,di,ui,si),[Ri,Mi]=Ni(Oi,Si,pi,ci,li,oi);function Pi(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zi(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $i(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var ji,Ki,qi={"-":"",_:" ",0:"0"},Ui=/^\s*\d+/,Hi=/^%/,Wi=/[\\^$*+?|[\]().{}]/g;function Gi(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Vi(e){return e.replace(Wi,"\\$&")}function Yi(e){return new RegExp("^(?:"+e.map(Vi).join("|")+")","i")}function Xi(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function Zi(e,t,r){var n=Ui.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Qi(e,t,r){var n=Ui.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ji(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ea(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ta(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ra(e,t,r){var n=Ui.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function na(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ia(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aa(e,t,r){var n=Ui.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function oa(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sa(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function la(e,t,r){var n=Ui.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ua(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ca(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ha(e,t,r){var n=Ui.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function da(e,t,r){var n=Ui.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function fa(e,t,r){var n=Ui.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pa(e,t,r){var n=Hi.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ga(e,t,r){var n=Ui.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ma(e,t,r){var n=Ui.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ya(e,t){return Gi(e.getDate(),t,2)}function va(e,t){return Gi(e.getHours(),t,2)}function ba(e,t){return Gi(e.getHours()%12||12,t,2)}function xa(e,t){return Gi(1+ci.count(Oi(e),e),t,3)}function wa(e,t){return Gi(e.getMilliseconds(),t,3)}function Da(e,t){return wa(e,t)+"000"}function ka(e,t){return Gi(e.getMonth()+1,t,2)}function Ea(e,t){return Gi(e.getMinutes(),t,2)}function Aa(e,t){return Gi(e.getSeconds(),t,2)}function Ca(e){var t=e.getDay();return 0===t?7:t}function _a(e,t){return Gi(pi.count(Oi(e)-1,e),t,2)}function Ta(e){var t=e.getDay();return t>=4||0===t?vi(e):vi.ceil(e)}function Sa(e,t){return e=Ta(e),Gi(vi.count(Oi(e),e)+(4===Oi(e).getDay()),t,2)}function Fa(e){return e.getDay()}function Oa(e,t){return Gi(gi.count(Oi(e)-1,e),t,2)}function Ba(e,t){return Gi(e.getFullYear()%100,t,2)}function Na(e,t){return Gi((e=Ta(e)).getFullYear()%100,t,2)}function La(e,t){return Gi(e.getFullYear()%1e4,t,4)}function Ia(e,t){var r=e.getDay();return Gi((e=r>=4||0===r?vi(e):vi.ceil(e)).getFullYear()%1e4,t,4)}function Ra(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Gi(t/60|0,"0",2)+Gi(t%60,"0",2)}function Ma(e,t){return Gi(e.getUTCDate(),t,2)}function Pa(e,t){return Gi(e.getUTCHours(),t,2)}function za(e,t){return Gi(e.getUTCHours()%12||12,t,2)}function $a(e,t){return Gi(1+hi.count(Bi(e),e),t,3)}function ja(e,t){return Gi(e.getUTCMilliseconds(),t,3)}function Ka(e,t){return ja(e,t)+"000"}function qa(e,t){return Gi(e.getUTCMonth()+1,t,2)}function Ua(e,t){return Gi(e.getUTCMinutes(),t,2)}function Ha(e,t){return Gi(e.getUTCSeconds(),t,2)}function Wa(e){var t=e.getUTCDay();return 0===t?7:t}function Ga(e,t){return Gi(Di.count(Bi(e)-1,e),t,2)}function Va(e){var t=e.getUTCDay();return t>=4||0===t?Ci(e):Ci.ceil(e)}function Ya(e,t){return e=Va(e),Gi(Ci.count(Bi(e),e)+(4===Bi(e).getUTCDay()),t,2)}function Xa(e){return e.getUTCDay()}function Za(e,t){return Gi(ki.count(Bi(e)-1,e),t,2)}function Qa(e,t){return Gi(e.getUTCFullYear()%100,t,2)}function Ja(e,t){return Gi((e=Va(e)).getUTCFullYear()%100,t,2)}function eo(e,t){return Gi(e.getUTCFullYear()%1e4,t,4)}function to(e,t){var r=e.getUTCDay();return Gi((e=r>=4||0===r?Ci(e):Ci.ceil(e)).getUTCFullYear()%1e4,t,4)}function ro(){return"+0000"}function no(){return"%"}function io(e){return+e}function ao(e){return Math.floor(+e/1e3)}function oo(e){return new Date(e)}function so(e){return e instanceof Date?+e:+new Date(+e)}function lo(e,t,r,n,i,a,o,s,l,u){var c=Bn(),h=c.invert,d=c.domain,f=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?g:a(e)<e?m:n(e)<e?i(e)<e?y:v:r(e)<e?b:x)(e)}return c.invert=function(e){return new Date(h(e))},c.domain=function(e){return arguments.length?d(Array.from(e,so)):d().map(oo)},c.ticks=function(t){var r=d();return e(r[0],r[r.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?w:u(t)},c.nice=function(e){var r=d();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?d(function(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e}(r,e)):c},c.copy=function(){return On(c,lo(e,t,r,n,i,a,o,s,l,u))},c}function uo(){return Qr.apply(lo(Ri,Mi,Oi,Si,pi,ci,li,oi,ai,Ki).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}ji=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Yi(i),c=Xi(i),h=Yi(a),d=Xi(a),f=Yi(o),p=Xi(o),g=Yi(s),m=Xi(s),y=Yi(l),v=Xi(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:ya,e:ya,f:Da,g:Na,G:Ia,H:va,I:ba,j:xa,L:wa,m:ka,M:Ea,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:io,s:ao,S:Aa,u:Ca,U:_a,V:Sa,w:Fa,W:Oa,x:null,X:null,y:Ba,Y:La,Z:Ra,"%":no},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ma,e:Ma,f:Ka,g:Ja,G:to,H:Pa,I:za,j:$a,L:ja,m:qa,M:Ua,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:io,s:ao,S:Ha,u:Wa,U:Ga,V:Ya,w:Xa,W:Za,x:null,X:null,y:Qa,Y:eo,Z:ro,"%":no},w={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=d.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=m.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return E(e,t,r,n)},d:sa,e:sa,f:fa,g:na,G:ra,H:ua,I:ua,j:la,L:da,m:oa,M:ca,p:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.p=c.get(n[0].toLowerCase()),r+n[0].length):-1},q:aa,Q:ga,s:ma,S:ha,u:Qi,U:Ji,V:ea,w:Zi,W:ta,x:function(e,t,n){return E(e,r,t,n)},X:function(e,t,r){return E(e,n,t,r)},y:na,Y:ra,Z:ia,"%":pa};function D(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,u=e.length;for(r instanceof Date||(r=new Date(+r));++s<u;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=qi[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function k(e,t){return function(r){var n,i,a=$i(1900,void 0,1);if(E(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=zi($i(a.y,0,1))).getUTCDay(),n=i>4||0===i?ki.ceil(n):ki(n),n=hi.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=Pi($i(a.y,0,1))).getDay(),n=i>4||0===i?gi.ceil(n):gi(n),n=ci.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?zi($i(a.y,0,1)).getUTCDay():Pi($i(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,zi(a)):Pi(a)}}function E(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in qi?t.charAt(o++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return b.x=D(r,b),b.X=D(n,b),b.c=D(t,b),x.x=D(r,x),x.X=D(n,x),x.c=D(t,x),{format:function(e){var t=D(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=D(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ki=ji.format,ji.parse,ji.utcFormat,ji.utcParse;const co=function(e){for(var t=new Array(10),r=0;r<10;)t[r]="#"+e.slice(6*r,6*++r);return t}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ho(e){return"string"==typeof e?new Te([[document.querySelector(e)]],[document.documentElement]):new Te([[e]],_e)}function fo(e){return function(){return e}}var po,go,mo,yo,vo,bo,xo,wo,Do,ko,Eo,Ao,Co,_o,To=Math.abs,So=Math.atan2,Fo=Math.cos,Oo=Math.max,Bo=Math.min,No=Math.sin,Lo=Math.sqrt,Io=1e-12,Ro=Math.PI,Mo=Ro/2,Po=2*Ro;function zo(e){return e>=1?Mo:e<=-1?-Mo:Math.asin(e)}function $o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var jo=Math.PI,Ko=2*jo,qo=1e-6,Uo=Ko-qo;function Ho(e){this._+=e[0];for(var t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Wo{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Ho:function(e){var t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return Ho;var r=10**t;return function(e){this._+=e[0];for(var t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(po||(po=$o(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(go||(go=$o(["Z"]))))}lineTo(e,t){this._append(mo||(mo=$o(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(yo||(yo=$o(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,i,a){this._append(vo||(vo=$o(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+i,this._y1=+a)}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,(i=+i)<0)throw new Error("negative radius: ".concat(i));var a=this._x1,o=this._y1,s=r-e,l=n-t,u=a-e,c=o-t,h=u*u+c*c;if(null===this._x1)this._append(bo||(bo=$o(["M",",",""])),this._x1=e,this._y1=t);else if(h>qo)if(Math.abs(c*s-l*u)>qo&&i){var d=r-a,f=n-o,p=s*s+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((jo-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>qo&&this._append(wo||(wo=$o(["L",",",""])),e+b*u,t+b*c),this._append(Do||(Do=$o(["A",",",",0,0,",",",",",""])),i,i,+(c*d>u*f),this._x1=e+x*s,this._y1=t+x*l)}else this._append(xo||(xo=$o(["L",",",""])),this._x1=e,this._y1=t)}arc(e,t,r,n,i,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error("negative radius: ".concat(r));var o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,u=t+s,c=1^a,h=a?n-i:i-n;null===this._x1?this._append(ko||(ko=$o(["M",",",""])),l,u):(Math.abs(this._x1-l)>qo||Math.abs(this._y1-u)>qo)&&this._append(Eo||(Eo=$o(["L",",",""])),l,u),r&&(h<0&&(h=h%Ko+Ko),h>Uo?this._append(Ao||(Ao=$o(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,c,e-o,t-s,r,r,c,this._x1=l,this._y1=u):h>qo&&this._append(Co||(Co=$o(["A",",",",0,",",",",",",",""])),r,r,+(h>=jo),c,this._x1=e+r*Math.cos(i),this._y1=t+r*Math.sin(i)))}rect(e,t,r,n){this._append(_o||(_o=$o(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function Go(e){var t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{var n=Math.floor(r);if(!(n>=0))throw new RangeError("invalid digits: ".concat(r));t=n}return e},()=>new Wo(t)}function Vo(e){return e.innerRadius}function Yo(e){return e.outerRadius}function Xo(e){return e.startAngle}function Zo(e){return e.endAngle}function Qo(e){return e&&e.padAngle}function Jo(e,t,r,n,i,a,o){var s=e-r,l=t-n,u=(o?a:-a)/Lo(s*s+l*l),c=u*l,h=-u*s,d=e+c,f=t+h,p=r+c,g=n+h,m=(d+p)/2,y=(f+g)/2,v=p-d,b=g-f,x=v*v+b*b,w=i-a,D=d*g-p*f,k=(b<0?-1:1)*Lo(Oo(0,w*w*x-D*D)),E=(D*b-v*k)/x,A=(-D*v-b*k)/x,C=(D*b+v*k)/x,_=(-D*v+b*k)/x,T=E-m,S=A-y,F=C-m,O=_-y;return T*T+S*S>F*F+O*O&&(E=C,A=_),{cx:E,cy:A,x01:-c,y01:-h,x11:E*(i/w-1),y11:A*(i/w-1)}}function es(){var e=Vo,t=Yo,r=fo(0),n=null,i=Xo,a=Zo,o=Qo,s=null,l=Go(u);function u(){var u,c,h,d=+e.apply(this,arguments),f=+t.apply(this,arguments),p=i.apply(this,arguments)-Mo,g=a.apply(this,arguments)-Mo,m=To(g-p),y=g>p;if(s||(s=u=l()),f<d&&(c=f,f=d,d=c),f>Io)if(m>Po-Io)s.moveTo(f*Fo(p),f*No(p)),s.arc(0,0,f,p,g,!y),d>Io&&(s.moveTo(d*Fo(g),d*No(g)),s.arc(0,0,d,g,p,y));else{var v,b,x=p,w=g,D=p,k=g,E=m,A=m,C=o.apply(this,arguments)/2,_=C>Io&&(n?+n.apply(this,arguments):Lo(d*d+f*f)),T=Bo(To(f-d)/2,+r.apply(this,arguments)),S=T,F=T;if(_>Io){var O=zo(_/d*No(C)),B=zo(_/f*No(C));(E-=2*O)>Io?(D+=O*=y?1:-1,k-=O):(E=0,D=k=(p+g)/2),(A-=2*B)>Io?(x+=B*=y?1:-1,w-=B):(A=0,x=w=(p+g)/2)}var N=f*Fo(x),L=f*No(x),I=d*Fo(k),R=d*No(k);if(T>Io){var M,P=f*Fo(w),z=f*No(w),$=d*Fo(D),j=d*No(D);if(m<Ro)if(M=function(e,t,r,n,i,a,o,s){var l=r-e,u=n-t,c=o-i,h=s-a,d=h*l-c*u;if(!(d*d<Io))return[e+(d=(c*(t-a)-h*(e-i))/d)*l,t+d*u]}(N,L,$,j,P,z,I,R)){var K=N-M[0],q=L-M[1],U=P-M[0],H=z-M[1],W=1/No(((h=(K*U+q*H)/(Lo(K*K+q*q)*Lo(U*U+H*H)))>1?0:h<-1?Ro:Math.acos(h))/2),G=Lo(M[0]*M[0]+M[1]*M[1]);S=Bo(T,(d-G)/(W-1)),F=Bo(T,(f-G)/(W+1))}else S=F=0}A>Io?F>Io?(v=Jo($,j,N,L,f,F,y),b=Jo(P,z,I,R,f,F,y),s.moveTo(v.cx+v.x01,v.cy+v.y01),F<T?s.arc(v.cx,v.cy,F,So(v.y01,v.x01),So(b.y01,b.x01),!y):(s.arc(v.cx,v.cy,F,So(v.y01,v.x01),So(v.y11,v.x11),!y),s.arc(0,0,f,So(v.cy+v.y11,v.cx+v.x11),So(b.cy+b.y11,b.cx+b.x11),!y),s.arc(b.cx,b.cy,F,So(b.y11,b.x11),So(b.y01,b.x01),!y))):(s.moveTo(N,L),s.arc(0,0,f,x,w,!y)):s.moveTo(N,L),d>Io&&E>Io?S>Io?(v=Jo(I,R,P,z,d,-S,y),b=Jo(N,L,$,j,d,-S,y),s.lineTo(v.cx+v.x01,v.cy+v.y01),S<T?s.arc(v.cx,v.cy,S,So(v.y01,v.x01),So(b.y01,b.x01),!y):(s.arc(v.cx,v.cy,S,So(v.y01,v.x01),So(v.y11,v.x11),!y),s.arc(0,0,d,So(v.cy+v.y11,v.cx+v.x11),So(b.cy+b.y11,b.cx+b.x11),y),s.arc(b.cx,b.cy,S,So(b.y11,b.x11),So(b.y01,b.x01),!y))):s.arc(0,0,d,k,D,y):s.lineTo(I,R)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var r=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Ro/2;return[Fo(n)*r,No(n)*r]},u.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:fo(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:fo(+e),u):t},u.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:fo(+e),u):r},u.padRadius=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:fo(+e),u):n},u.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:fo(+e),u):i},u.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:fo(+e),u):a},u.padAngle=function(e){return arguments.length?(o="function"==typeof e?e:fo(+e),u):o},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u}function ts(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function rs(e){this._context=e}function ns(e){return new rs(e)}function is(e){return e[0]}function as(e){return e[1]}function os(e,t){var r=fo(!0),n=null,i=ns,a=null,o=Go(s);function s(s){var l,u,c,h=(s=ts(s)).length,d=!1;for(null==n&&(a=i(c=o())),l=0;l<=h;++l)!(l<h&&r(u=s[l],l,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,l,s),+t(u,l,s));if(c)return a=null,c+""||null}return e="function"==typeof e?e:void 0===e?is:fo(e),t="function"==typeof t?t:void 0===t?as:fo(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:fo(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:fo(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:fo(!!e),s):r},s.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),s):i},s.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),s):n},s}function ss(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function ls(e){return e}function us(){var e=ls,t=ss,r=null,n=fo(0),i=fo(Po),a=fo(0);function o(o){var s,l,u,c,h,d=(o=ts(o)).length,f=0,p=new Array(d),g=new Array(d),m=+n.apply(this,arguments),y=Math.min(Po,Math.max(-Po,i.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/d,a.apply(this,arguments)),b=v*(y<0?-1:1);for(s=0;s<d;++s)(h=g[p[s]=s]=+e(o[s],s,o))>0&&(f+=h);for(null!=t?p.sort((function(e,r){return t(g[e],g[r])})):null!=r&&p.sort((function(e,t){return r(o[e],o[t])})),s=0,u=f?(y-d*b)/f:0;s<d;++s,m=c)l=p[s],c=m+((h=g[l])>0?h*u:0)+b,g[l]={data:o[l],index:s,value:h,startAngle:m,endAngle:c,padAngle:v};return g}return o.value=function(t){return arguments.length?(e="function"==typeof t?t:fo(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,r=null,o):t},o.sort=function(e){return arguments.length?(r=e,t=null,o):r},o.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:fo(+e),o):n},o.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:fo(+e),o):i},o.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:fo(+e),o):a},o}function cs(){}function hs(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ds(e){this._context=e}function fs(e){return new ds(e)}function ps(e){this._context=e}function gs(e){return new ps(e)}function ms(e){this._context=e}function ys(e){return new ms(e)}Wo.prototype,Array.prototype.slice,rs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hs(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ps.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hs(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:hs(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class vs{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function bs(e){return new vs(e,!0)}function xs(e){return new vs(e,!1)}function ws(e,t){this._basis=new ds(e),this._beta=t}ws.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n,i=e[0],a=t[0],o=e[r]-i,s=t[r]-a,l=-1;++l<=r;)n=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(i+n*o),this._beta*t[l]+(1-this._beta)*(a+n*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Ds=function e(t){function r(e){return 1===t?new ds(e):new ws(e,t)}return r.beta=function(t){return e(+t)},r}(.85);function ks(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Es(e,t){this._context=e,this._k=(1-t)/6}Es.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ks(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:ks(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const As=function e(t){function r(e){return new Es(e,t)}return r.tension=function(t){return e(+t)},r}(0);function Cs(e,t){this._context=e,this._k=(1-t)/6}Cs.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ks(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _s=function e(t){function r(e){return new Cs(e,t)}return r.tension=function(t){return e(+t)},r}(0);function Ts(e,t){this._context=e,this._k=(1-t)/6}Ts.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ks(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ss=function e(t){function r(e){return new Ts(e,t)}return r.tension=function(t){return e(+t)},r}(0);function Fs(e,t,r){var n=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>Io){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Io){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*u+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(n,i,a,o,e._x2,e._y2)}function Os(e,t){this._context=e,this._alpha=t}Os.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Fs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Bs=function e(t){function r(e){return t?new Os(e,t):new Es(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function Ns(e,t){this._context=e,this._alpha=t}Ns.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Fs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ls=function e(t){function r(e){return t?new Ns(e,t):new Cs(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function Is(e,t){this._context=e,this._alpha=t}Is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fs(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Rs=function e(t){function r(e){return t?new Is(e,t):new Ts(e,0)}return r.alpha=function(t){return e(+t)},r}(.5);function Ms(e){this._context=e}function Ps(e){return new Ms(e)}function zs(e){return e<0?-1:1}function $s(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(zs(a)+zs(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function js(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ks(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function qs(e){this._context=e}function Us(e){this._context=new Hs(e)}function Hs(e){this._context=e}function Ws(e){return new qs(e)}function Gs(e){return new Us(e)}function Vs(e){this._context=e}function Ys(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Xs(e){return new Vs(e)}function Zs(e,t){this._context=e,this._t=t}function Qs(e){return new Zs(e,.5)}function Js(e){return new Zs(e,0)}function el(e){return new Zs(e,1)}function tl(e,t,r){this.k=e,this.x=t,this.y=r}Ms.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ks(this,this._t0,js(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ks(this,js(this,r=$s(this,e,t)),r);break;default:Ks(this,this._t0,r=$s(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(Us.prototype=Object.create(qs.prototype)).point=function(e,t){qs.prototype.point.call(this,t,e)},Hs.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},Vs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Ys(e),i=Ys(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}},tl.prototype={constructor:tl,scale:function(e){return 1===e?this:new tl(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tl(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new tl(1,0,0),tl.prototype},4776:(e,t,r)=>{"use strict";r.d(t,{Zp:()=>vt});var n=r(8709),i=r(5285),a=0;const o=function(e){var t=++a;return(0,i.A)(e)+t};var s=r(9551),l=r(3522),u=r(4389),c=Math.ceil,h=Math.max;var d=r(3195),f=r(6736);const p=function(e,t,r){return r&&"number"!=typeof r&&(0,d.A)(e,t,r)&&(t=r=void 0),e=(0,f.A)(e),void 0===t?(t=e,e=0):t=(0,f.A)(t),function(e,t,r,n){for(var i=-1,a=h(c((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}(e,t,r=void 0===r?e<t?1:-1:(0,f.A)(r),void 0)};var g=r(8756);class m{constructor(){var e={};e._next=e._prev=e,this._sentinel=e}dequeue(){var e=this._sentinel,t=e._prev;if(t!==e)return y(t),t}enqueue(e){var t=this._sentinel;e._prev&&e._next&&y(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t}toString(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,v)),r=r._prev;return"["+e.join(", ")+"]"}}function y(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function v(e,t){if("_next"!==e&&"_prev"!==e)return t}var b=s.A(1);function x(e,t,r,i,a){var o=a?[]:void 0;return n.A(e.inEdges(i.v),(function(n){var i=e.edge(n),s=e.node(n.v);a&&o.push({v:n.v,w:n.w}),s.out-=i,w(t,r,s)})),n.A(e.outEdges(i.v),(function(n){var i=e.edge(n),a=n.w,o=e.node(a);o.in-=i,w(t,r,o)})),e.removeNode(i.v),o}function w(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function D(e){var t="greedy"===e.graph().acyclicer?function(e,t){if(e.nodeCount()<=1)return[];var r=function(e,t){var r=new g.T,i=0,a=0;n.A(e.nodes(),(function(e){r.setNode(e,{v:e,in:0,out:0})})),n.A(e.edges(),(function(e){var n=r.edge(e.v,e.w)||0,o=t(e),s=n+o;r.setEdge(e.v,e.w,s),a=Math.max(a,r.node(e.v).out+=o),i=Math.max(i,r.node(e.w).in+=o)}));var o=p(a+i+3).map((function(){return new m})),s=i+1;return n.A(r.nodes(),(function(e){w(o,s,r.node(e))})),{graph:r,buckets:o,zeroIdx:s}}(e,t||b),i=function(e,t,r){for(var n,i=[],a=t[t.length-1],o=t[0];e.nodeCount();){for(;n=o.dequeue();)x(e,t,r,n);for(;n=a.dequeue();)x(e,t,r,n);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(n=t[s].dequeue()){i=i.concat(x(e,t,r,n,!0));break}}return i}(r.graph,r.buckets,r.zeroIdx);return l.A(u.A(i,(function(t){return e.outEdges(t.v,t.w)})))}(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],r={},i={};return n.A(e.nodes(),(function a(o){Object.prototype.hasOwnProperty.call(i,o)||(i[o]=!0,r[o]=!0,n.A(e.outEdges(o),(function(e){Object.prototype.hasOwnProperty.call(r,e.w)?t.push(e):a(e.w)})),delete r[o])})),t}(e);n.A(t,(function(t){var r=e.edge(t);e.removeEdge(t),r.forwardName=t.name,r.reversed=!0,e.setEdge(t.w,t.v,r,o("rev"))}))}var k=r(6014),E=r(3081),A=r(377);var C=r(2793),_=r(5805);const T=(S=function(e,t){return null==e?{}:function(e,t){return(0,E.A)(e,t,(function(t,r){return(0,A.A)(e,r)}))}(e,t)},(0,_.A)((0,C.A)(S,void 0,l.A),S+""));var S,F=r(6081),O=r(7440);const B=function(e,t){return e>t};var N=r(3033);const L=function(e){return e&&e.length?(0,O.A)(e,N.A,B):void 0};var I=r(5939),R=r(3053),M=r(6638),P=r(870);const z=function(e,t){var r={};return t=(0,P.A)(t,3),(0,M.A)(e,(function(e,n,i){(0,R.A)(r,n,t(e,n,i))})),r};var $=r(9079),j=r(7431),K=r(1127),q=r(3330);const U=function(){return q.A.Date.now()};function H(e,t,r,n){var i;do{i=o(n)}while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function W(e){var t=new g.T({multigraph:e.isMultigraph()}).setGraph(e.graph());return n.A(e.nodes(),(function(r){e.children(r).length||t.setNode(r,e.node(r))})),n.A(e.edges(),(function(r){t.setEdge(r,e.edge(r))})),t}function G(e,t){var r,n,i=e.x,a=e.y,o=t.x-i,s=t.y-a,l=e.width/2,u=e.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(o)*u?(s<0&&(u=-u),r=u*o/s,n=u):(o<0&&(l=-l),r=l,n=l*s/o),{x:i+r,y:a+n}}function V(e){var t=u.A(p(X(e)+1),(function(){return[]}));return n.A(e.nodes(),(function(r){var n=e.node(r),i=n.rank;$.A(i)||(t[i][n.order]=r)})),t}function Y(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),H(e,"border",i,t)}function X(e){return L(u.A(e.nodes(),(function(t){var r=e.node(t).rank;if(!$.A(r))return r})))}function Z(e,t){var r=U();try{return t()}finally{console.log(e+" time: "+(U()-r)+"ms")}}function Q(e,t){return t()}function J(e,t,r,n,i,a){var o={width:0,height:0,rank:a,borderType:t},s=i[t][a-1],l=H(e,"border",o,r);i[t][a]=l,e.setParent(l,n),s&&e.setEdge(s,l,{weight:1})}function ee(e){n.A(e.nodes(),(function(t){te(e.node(t))})),n.A(e.edges(),(function(t){te(e.edge(t))}))}function te(e){var t=e.width;e.width=e.height,e.height=t}function re(e){e.y=-e.y}function ne(e){var t=e.x;e.x=e.y,e.y=t}var ie=r(2339);const ae=function(e,t){return e&&e.length?(0,O.A)(e,(0,P.A)(t,2),ie.A):void 0};function oe(e){var t={};n.A(e.sources(),(function r(n){var i=e.node(n);if(Object.prototype.hasOwnProperty.call(t,n))return i.rank;t[n]=!0;var a=j.A(u.A(e.outEdges(n),(function(t){return r(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))}function se(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function le(e){var t,r,n=new g.T({directed:!1}),i=e.nodes()[0],a=e.nodeCount();for(n.setNode(i,{});ue(n,e)<a;)t=ce(n,e),r=n.hasNode(t.v)?se(e,t):-se(e,t),he(n,e,r);return n}function ue(e,t){return n.A(e.nodes(),(function r(i){n.A(t.nodeEdges(i),(function(n){var a=n.v,o=i===a?n.w:a;e.hasNode(o)||se(t,n)||(e.setNode(o,{}),e.setEdge(i,o,{}),r(o))}))})),e.nodeCount()}function ce(e,t){return ae(t.edges(),(function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return se(t,r)}))}function he(e,t,r){n.A(e.nodes(),(function(e){t.node(e).rank+=r}))}var de=r(4596),fe=r(1497);s.A(1),s.A(1),r(6613),r(6276),r(1061),r(3422),(0,r(3558).A)("length"),RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var pe="\\ud800-\\udfff",ge="["+pe+"]",me="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ye="\\ud83c[\\udffb-\\udfff]",ve="[^"+pe+"]",be="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",we="(?:"+me+"|"+ye+")?",De="[\\ufe0e\\ufe0f]?",ke=De+we+"(?:\\u200d(?:"+[ve,be,xe].join("|")+")"+De+we+")*",Ee="(?:"+[ve+me+"?",me,be,xe,ge].join("|")+")";RegExp(ye+"(?="+ye+")|"+Ee+ke,"g"),new Error;var Ae=r(4794);function Ce(e,t,r){Ae.A(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],o={};return n.A(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);_e(e,t,"post"===r,o,i,a)})),a}function _e(e,t,r,i,a,o){Object.prototype.hasOwnProperty.call(i,t)||(i[t]=!0,r||o.push(t),n.A(a(t),(function(t){_e(e,t,r,i,a,o)})),r&&o.push(t))}function Te(e){e=function(e){var t=(new g.T).setGraph(e.graph());return n.A(e.nodes(),(function(r){t.setNode(r,e.node(r))})),n.A(e.edges(),(function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})})),t}(e),oe(e);var t,r=le(e);for(Oe(r),Se(r,e);t=Ne(r);)Ie(r,e,t,Le(r,e,t))}function Se(e,t){var r=function(e,t){return Ce(e,t,"post")}(e,e.nodes());r=r.slice(0,r.length-1),n.A(r,(function(r){!function(e,t,r){var n=e.node(r).parent;e.edge(r,n).cutvalue=Fe(e,t,r)}(e,t,r)}))}function Fe(e,t,r){var i=e.node(r).parent,a=!0,o=t.edge(r,i),s=0;return o||(a=!1,o=t.edge(i,r)),s=o.weight,n.A(t.nodeEdges(r),(function(n){var o,l,u=n.v===r,c=u?n.w:n.v;if(c!==i){var h=u===a,d=t.edge(n).weight;if(s+=h?d:-d,o=r,l=c,e.hasEdge(o,l)){var f=e.edge(r,c).cutvalue;s+=h?-f:f}}})),s}function Oe(e,t){arguments.length<2&&(t=e.nodes()[0]),Be(e,{},1,t)}function Be(e,t,r,i,a){var o=r,s=e.node(i);return t[i]=!0,n.A(e.neighbors(i),(function(n){Object.prototype.hasOwnProperty.call(t,n)||(r=Be(e,t,r,n,i))})),s.low=o,s.lim=r++,a?s.parent=a:delete s.parent,r}function Ne(e){return de.A(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function Le(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var a=e.node(n),o=e.node(i),s=a,l=!1;a.lim>o.lim&&(s=o,l=!0);var u=fe.A(t.edges(),(function(t){return l===Re(0,e.node(t.v),s)&&l!==Re(0,e.node(t.w),s)}));return ae(u,(function(e){return se(t,e)}))}function Ie(e,t,r,i){var a=r.v,o=r.w;e.removeEdge(a,o),e.setEdge(i.v,i.w,{}),Oe(e),Se(e,t),function(e,t){var r=de.A(e.nodes(),(function(e){return!t.node(e).parent})),i=function(e,t){return Ce(e,t,"pre")}(e,r);i=i.slice(1),n.A(i,(function(r){var n=e.node(r).parent,i=t.edge(r,n),a=!1;i||(i=t.edge(n,r),a=!0),t.node(r).rank=t.node(n).rank+(a?i.minlen:-i.minlen)}))}(e,t)}function Re(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}function Me(e){switch(e.graph().ranker){case"network-simplex":default:!function(e){Te(e)}(e);break;case"tight-tree":!function(e){oe(e),le(e)}(e);break;case"longest-path":Pe(e)}}r(8872),Te.initLowLimValues=Oe,Te.initCutValues=Se,Te.calcCutValue=Fe,Te.leaveEdge=Ne,Te.enterEdge=Le,Te.exchangeEdges=Ie;var Pe=oe;var ze=r(1401),$e=r(3366);function je(e){var t=H(e,"root",{},"_root"),r=function(e){var t={};function r(i,a){var o=e.children(i);o&&o.length&&n.A(o,(function(e){r(e,a+1)})),t[i]=a}return n.A(e.children(),(function(e){r(e,1)})),t}(e),i=L(ze.A(r))-1,a=2*i+1;e.graph().nestingRoot=t,n.A(e.edges(),(function(t){e.edge(t).minlen*=a}));var o=function(e){return $e.A(e.edges(),(function(t,r){return t+e.edge(r).weight}),0)}(e)+1;n.A(e.children(),(function(n){Ke(e,t,a,o,i,r,n)})),e.graph().nodeRankFactor=a}function Ke(e,t,r,i,a,o,s){var l=e.children(s);if(l.length){var u=Y(e,"_bt"),c=Y(e,"_bb"),h=e.node(s);e.setParent(u,s),h.borderTop=u,e.setParent(c,s),h.borderBottom=c,n.A(l,(function(n){Ke(e,t,r,i,a,o,n);var l=e.node(n),h=l.borderTop?l.borderTop:n,d=l.borderBottom?l.borderBottom:n,f=l.borderTop?i:2*i,p=h!==d?1:a-o[s]+1;e.setEdge(u,h,{weight:f,minlen:p,nestingEdge:!0}),e.setEdge(d,c,{weight:f,minlen:p,nestingEdge:!0})})),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:a+o[s]})}else s!==t&&e.setEdge(t,s,{weight:0,minlen:r})}var qe=r(3913);const Ue=function(e){return(0,qe.A)(e,5)};var He=r(4914);const We=function(e,t){return function(e,t,r){for(var n=-1,i=e.length,a=t.length,o={};++n<i;){var s=n<a?t[n]:void 0;r(o,e[n],s)}return o}(e||[],t||[],He.A)};var Ge=r(8386),Ve=r(5576),Ye=r(7095),Xe=r(3669);var Ze=r(9408),Qe=r(1959);const Je=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=(0,Qe.A)(e),o=void 0!==t,s=null===t,l=t==t,u=(0,Qe.A)(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||n&&o&&l||!r&&l||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!l)return-1}return 0},et=function(e,t,r){t=t.length?(0,Ve.A)(t,(function(e){return(0,Ae.A)(e)?function(t){return(0,Ye.A)(t,1===e.length?e[0]:e)}:e})):[N.A];var n=-1;return t=(0,Ve.A)(t,(0,Ze.A)(P.A)),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}((0,Xe.A)(e,(function(e,r,i){return{criteria:(0,Ve.A)(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var l=Je(i[n],a[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))},tt=(0,r(6701).A)((function(e,t){if(null==e)return[];var r=t.length;return r>1&&(0,d.A)(e,t[0],t[1])?t=[]:r>2&&(0,d.A)(t[0],t[1],t[2])&&(t=[t[0]]),et(e,(0,Ge.A)(t,1),[])}));function rt(e,t){for(var r=0,n=1;n<t.length;++n)r+=nt(e,t[n-1],t[n]);return r}function nt(e,t,r){for(var i=We(r,u.A(r,(function(e,t){return t}))),a=l.A(u.A(t,(function(t){return tt(u.A(e.outEdges(t),(function(t){return{pos:i[t.w],weight:e.edge(t).weight}})),"pos")}))),o=1;o<r.length;)o<<=1;var s=2*o-1;o-=1;var c=u.A(new Array(s),(function(){return 0})),h=0;return n.A(a.forEach((function(e){var t=e.pos+o;c[t]+=e.weight;for(var r=0;t>0;)t%2&&(r+=c[t+1]),c[t=t-1>>1]+=e.weight;h+=e.weight*r}))),h}function it(e,t){var r,i=function(e){var t={lhs:[],rhs:[]};return n.A(e,(function(e){var r;r=e,Object.prototype.hasOwnProperty.call(r,"barycenter")?t.lhs.push(e):t.rhs.push(e)})),t}(e),a=i.lhs,o=tt(i.rhs,(function(e){return-e.i})),s=[],u=0,c=0,h=0;a.sort((r=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:r?t.i-e.i:e.i-t.i})),h=at(s,o,h),n.A(a,(function(e){h+=e.vs.length,s.push(e.vs),u+=e.barycenter*e.weight,c+=e.weight,h=at(s,o,h)}));var d={vs:l.A(s)};return c&&(d.barycenter=u/c,d.weight=c),d}function at(e,t,r){for(var n;t.length&&(n=I.A(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function ot(e,t,r,i){var a=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,c=o?o.borderRight:void 0,h={};s&&(a=fe.A(a,(function(e){return e!==s&&e!==c})));var d=function(e,t){return u.A(t,(function(t){var r=e.inEdges(t);if(r.length){var n=$e.A(r,(function(t,r){var n=e.edge(r),i=e.node(r.v);return{sum:t.sum+n.weight*i.order,weight:t.weight+n.weight}}),{sum:0,weight:0});return{v:t,barycenter:n.sum/n.weight,weight:n.weight}}return{v:t}}))}(e,a);n.A(d,(function(t){if(e.children(t.v).length){var n=ot(e,t.v,r,i);h[t.v]=n,Object.prototype.hasOwnProperty.call(n,"barycenter")&&(a=t,o=n,$.A(a.barycenter)?(a.barycenter=o.barycenter,a.weight=o.weight):(a.barycenter=(a.barycenter*a.weight+o.barycenter*o.weight)/(a.weight+o.weight),a.weight+=o.weight))}var a,o}));var f=function(e,t){var r={};return n.A(e,(function(e,t){var n=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};$.A(e.barycenter)||(n.barycenter=e.barycenter,n.weight=e.weight)})),n.A(t.edges(),(function(e){var t=r[e.v],n=r[e.w];$.A(t)||$.A(n)||(n.indegree++,t.out.push(r[e.w]))})),function(e){var t=[];function r(e){return function(t){var r,n,i,a;t.merged||($.A(t.barycenter)||$.A(e.barycenter)||t.barycenter>=e.barycenter)&&(n=t,i=0,a=0,(r=e).weight&&(i+=r.barycenter*r.weight,a+=r.weight),n.weight&&(i+=n.barycenter*n.weight,a+=n.weight),r.vs=n.vs.concat(r.vs),r.barycenter=i/a,r.weight=a,r.i=Math.min(n.i,r.i),n.merged=!0)}}function i(t){return function(r){r.in.push(t),0==--r.indegree&&e.push(r)}}for(;e.length;){var a=e.pop();t.push(a),n.A(a.in.reverse(),r(a)),n.A(a.out,i(a))}return u.A(fe.A(t,(function(e){return!e.merged})),(function(e){return T(e,["vs","i","barycenter","weight"])}))}(fe.A(r,(function(e){return!e.indegree})))}(d,r);!function(e,t){n.A(e,(function(e){e.vs=l.A(e.vs.map((function(e){return t[e]?t[e].vs:e})))}))}(f,h);var p=it(f,i);if(s&&(p.vs=l.A([s,p.vs,c]),e.predecessors(s).length)){var g=e.node(e.predecessors(s)[0]),m=e.node(e.predecessors(c)[0]);Object.prototype.hasOwnProperty.call(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+g.order+m.order)/(p.weight+2),p.weight+=2}return p}function st(e,t,r){return u.A(t,(function(t){return function(e,t,r){var i=function(e){for(var t;e.hasNode(t=o("_root")););return t}(e),a=new g.T({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return n.A(e.nodes(),(function(o){var s=e.node(o),l=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(o),a.setParent(o,l||i),n.A(e[r](o),(function(t){var r=t.v===o?t.w:t.v,n=a.edge(r,o),i=$.A(n)?0:n.weight;a.setEdge(r,o,{weight:e.edge(t).weight+i})})),Object.prototype.hasOwnProperty.call(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))})),a}(e,t,r)}))}function lt(e,t){var r=new g.T;n.A(e,(function(e){var i=e.graph().root,a=ot(e,i,r,t);n.A(a.vs,(function(t,r){e.node(t).order=r})),function(e,t,r){var i,a={};n.A(r,(function(r){for(var n,o,s=e.parent(r);s;){if((n=e.parent(s))?(o=a[n],a[n]=s):(o=i,i=s),o&&o!==s)return void t.setEdge(o,s);s=n}}))}(e,r,a.vs)}))}function ut(e,t){n.A(t,(function(t){n.A(t,(function(t,r){e.node(t).order=r}))}))}var ct=r(9553);const ht=function(e,t){return e&&(0,M.A)(e,(0,ct.A)(t))};var dt=r(8269),ft=r(2997);const pt=function(e,t){return null==e?e:(0,dt.A)(e,(0,ct.A)(t),ft.A)};function gt(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function mt(e,t,r){if(t>r){var n=t;t=r,r=n}return!!e[t]&&Object.prototype.hasOwnProperty.call(e[t],r)}function yt(e){var t,r=V(e),i=k.A(function(e,t){var r={};return $e.A(t,(function(t,i){var a=0,o=0,s=t.length,l=I.A(i);return n.A(i,(function(t,u){var c=function(e,t){if(e.node(t).dummy)return de.A(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),h=c?e.node(c).order:s;(c||t===l)&&(n.A(i.slice(o,u+1),(function(t){n.A(e.predecessors(t),(function(n){var i=e.node(n),o=i.order;!(o<a||h<o)||i.dummy&&e.node(t).dummy||gt(r,n,t)}))})),o=u+1,a=h)})),i})),r}(e,r),function(e,t){var r={};function i(t,i,a,o,s){var l;n.A(p(i,a),(function(i){l=t[i],e.node(l).dummy&&n.A(e.predecessors(l),(function(t){var n=e.node(t);n.dummy&&(n.order<o||n.order>s)&&gt(r,t,l)}))}))}return $e.A(t,(function(t,r){var a,o=-1,s=0;return n.A(r,(function(n,l){if("border"===e.node(n).dummy){var u=e.predecessors(n);u.length&&(a=e.node(u[0]).order,i(r,s,l,o,a),s=l,o=a)}i(r,s,r.length,a,t.length)})),r})),r}(e,r)),a={};n.A(["u","d"],(function(o){t="u"===o?r:ze.A(r).reverse(),n.A(["l","r"],(function(r){"r"===r&&(t=u.A(t,(function(e){return ze.A(e).reverse()})));var s=("u"===o?e.predecessors:e.successors).bind(e),l=function(e,t,r,i){var a={},o={},s={};return n.A(t,(function(e){n.A(e,(function(e,t){a[e]=e,o[e]=e,s[e]=t}))})),n.A(t,(function(e){var t=-1;n.A(e,(function(e){var n=i(e);if(n.length){n=tt(n,(function(e){return s[e]}));for(var l=(n.length-1)/2,u=Math.floor(l),c=Math.ceil(l);u<=c;++u){var h=n[u];o[e]===e&&t<s[h]&&!mt(r,e,h)&&(o[h]=e,o[e]=a[e]=a[h],t=s[h])}}}))})),{root:a,align:o}}(0,t,i,s),c=function(e,t,r,i,a){var o={},s=function(e,t,r,i){var a=new g.T,o=e.graph(),s=function(e,t,r){return function(n,i,a){var o,s=n.node(i),l=n.node(a),u=0;if(u+=s.width/2,Object.prototype.hasOwnProperty.call(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":o=-s.width/2;break;case"r":o=s.width/2}if(o&&(u+=r?o:-o),o=0,u+=(s.dummy?t:e)/2,u+=(l.dummy?t:e)/2,u+=l.width/2,Object.prototype.hasOwnProperty.call(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":o=l.width/2;break;case"r":o=-l.width/2}return o&&(u+=r?o:-o),o=0,u}}(o.nodesep,o.edgesep,i);return n.A(t,(function(t){var i;n.A(t,(function(t){var n=r[t];if(a.setNode(n),i){var o=r[i],l=a.edge(o,n);a.setEdge(o,n,Math.max(s(e,t,i),l||0))}i=t}))})),a}(e,t,r,a),l=a?"borderLeft":"borderRight";function u(e,t){for(var r=s.nodes(),n=r.pop(),i={};n;)i[n]?e(n):(i[n]=!0,r.push(n),r=r.concat(t(n))),n=r.pop()}return u((function(e){o[e]=s.inEdges(e).reduce((function(e,t){return Math.max(e,o[t.v]+s.edge(t))}),0)}),s.predecessors.bind(s)),u((function(t){var r=s.outEdges(t).reduce((function(e,t){return Math.min(e,o[t.w]-s.edge(t))}),Number.POSITIVE_INFINITY),n=e.node(t);r!==Number.POSITIVE_INFINITY&&n.borderType!==l&&(o[t]=Math.max(o[t],r))}),s.successors.bind(s)),n.A(i,(function(e){o[e]=o[r[e]]})),o}(e,t,l.root,l.align,"r"===r);"r"===r&&(c=z(c,(function(e){return-e}))),a[o+r]=c}))}));var o=function(e,t){return ae(ze.A(t),(function(t){var r=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY;return pt(t,(function(t,i){var a=function(e,t){return e.node(t).width}(e,i)/2;r=Math.max(t+a,r),n=Math.min(t-a,n)})),r-n}))}(e,a);return function(e,t){var r=ze.A(t),i=j.A(r),a=L(r);n.A(["u","d"],(function(r){n.A(["l","r"],(function(n){var o,s=r+n,l=e[s];if(l!==t){var u=ze.A(l);(o="l"===n?i-j.A(u):a-L(u))&&(e[s]=z(l,(function(e){return e+o})))}}))}))}(a,o),function(e,t){return z(e.ul,(function(r,n){if(t)return e[t.toLowerCase()][n];var i=tt(u.A(e,n));return(i[1]+i[2])/2}))}(a,e.graph().align)}function vt(e,t){var r=t&&t.debugTiming?Z:Q;r("layout",(()=>{var t=r("  buildLayoutGraph",(()=>function(e){var t=new g.T({multigraph:!0,compound:!0}),r=Tt(e.graph());return t.setGraph(k.A({},xt,_t(r,bt),T(r,wt))),n.A(e.nodes(),(function(r){var n=Tt(e.node(r));t.setNode(r,F.A(_t(n,Dt),kt)),t.setParent(r,e.parent(r))})),n.A(e.edges(),(function(r){var n=Tt(e.edge(r));t.setEdge(r,k.A({},At,_t(n,Et),T(n,Ct)))})),t}(e)));r("  runLayout",(()=>function(e,t){t("    makeSpaceForEdgeLabels",(()=>function(e){var t=e.graph();t.ranksep/=2,n.A(e.edges(),(function(r){var n=e.edge(r);n.minlen*=2,"c"!==n.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?n.width+=n.labeloffset:n.height+=n.labeloffset)}))}(e))),t("    removeSelfEdges",(()=>function(e){n.A(e.edges(),(function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e))),t("    acyclic",(()=>D(e))),t("    nestingGraph.run",(()=>je(e))),t("    rank",(()=>Me(W(e)))),t("    injectEdgeLabelProxies",(()=>function(e){n.A(e.edges(),(function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i={rank:(e.node(t.w).rank-n.rank)/2+n.rank,e:t};H(e,"edge-proxy",i,"_ep")}}))}(e))),t("    removeEmptyRanks",(()=>function(e){var t=j.A(u.A(e.nodes(),(function(t){return e.node(t).rank}))),r=[];n.A(e.nodes(),(function(n){var i=e.node(n).rank-t;r[i]||(r[i]=[]),r[i].push(n)}));var i=0,a=e.graph().nodeRankFactor;n.A(r,(function(t,r){$.A(t)&&r%a!=0?--i:i&&n.A(t,(function(t){e.node(t).rank+=i}))}))}(e))),t("    nestingGraph.cleanup",(()=>function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,n.A(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}(e))),t("    normalizeRanks",(()=>function(e){var t=j.A(u.A(e.nodes(),(function(t){return e.node(t).rank})));n.A(e.nodes(),(function(r){var n=e.node(r);K.A(n,"rank")&&(n.rank-=t)}))}(e))),t("    assignRankMinMax",(()=>function(e){var t=0;n.A(e.nodes(),(function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=L(t,n.maxRank))})),e.graph().maxRank=t}(e))),t("    removeEdgeLabelProxies",(()=>function(e){n.A(e.nodes(),(function(t){var r=e.node(t);"edge-proxy"===r.dummy&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))}))}(e))),t("    normalize.run",(()=>function(e){e.graph().dummyChains=[],n.A(e.edges(),(function(t){!function(e,t){var r=t.v,n=e.node(r).rank,i=t.w,a=e.node(i).rank,o=t.name,s=e.edge(t),l=s.labelRank;if(a!==n+1){e.removeEdge(t);var u,c,h=void 0;for(c=0,++n;n<a;++c,++n)s.points=[],u=H(e,"edge",h={width:0,height:0,edgeLabel:s,edgeObj:t,rank:n},"_d"),n===l&&(h.width=s.width,h.height=s.height,h.dummy="edge-label",h.labelpos=s.labelpos),e.setEdge(r,u,{weight:s.weight},o),0===c&&e.graph().dummyChains.push(u),r=u;e.setEdge(r,i,{weight:s.weight},o)}}(e,t)}))}(e))),t("    parentDummyChains",(()=>function(e){var t=function(e){var t={},r=0;return n.A(e.children(),(function i(a){var o=r;n.A(e.children(a),i),t[a]={low:o,lim:r++}})),t}(e);n.A(e.graph().dummyChains,(function(r){for(var n=e.node(r),i=n.edgeObj,a=function(e,t,r,n){var i,a,o=[],s=[],l=Math.min(t[r].low,t[n].low),u=Math.max(t[r].lim,t[n].lim);i=r;do{i=e.parent(i),o.push(i)}while(i&&(t[i].low>l||u>t[i].lim));for(a=i,i=n;(i=e.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}(e,t,i.v,i.w),o=a.path,s=a.lca,l=0,u=o[l],c=!0;r!==i.w;){if(n=e.node(r),c){for(;(u=o[l])!==s&&e.node(u).maxRank<n.rank;)l++;u===s&&(c=!1)}if(!c){for(;l<o.length-1&&e.node(u=o[l+1]).minRank<=n.rank;)l++;u=o[l]}e.setParent(r,u),r=e.successors(r)[0]}}))}(e))),t("    addBorderSegments",(()=>function(e){n.A(e.children(),(function t(r){var i=e.children(r),a=e.node(r);if(i.length&&n.A(i,t),Object.prototype.hasOwnProperty.call(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var o=a.minRank,s=a.maxRank+1;o<s;++o)J(e,"borderLeft","_bl",r,a,o),J(e,"borderRight","_br",r,a,o)}}))}(e))),t("    order",(()=>function(e){var t=X(e),r=st(e,p(1,t+1),"inEdges"),i=st(e,p(t-1,-1,-1),"outEdges"),a=function(e){var t={},r=fe.A(e.nodes(),(function(t){return!e.children(t).length})),i=L(u.A(r,(function(t){return e.node(t).rank}))),a=u.A(p(i+1),(function(){return[]})),o=tt(r,(function(t){return e.node(t).rank}));return n.A(o,(function r(i){if(!K.A(t,i)){t[i]=!0;var o=e.node(i);a[o.rank].push(i),n.A(e.successors(i),r)}})),a}(e);ut(e,a);for(var o,s=Number.POSITIVE_INFINITY,l=0,c=0;c<4;++l,++c){lt(l%2?r:i,l%4>=2);var h=rt(e,a=V(e));h<s&&(c=0,o=Ue(a),s=h)}ut(e,o)}(e))),t("    insertSelfEdges",(()=>function(e){var t=V(e);n.A(t,(function(t){var r=0;n.A(t,(function(t,i){var a=e.node(t);a.order=i+r,n.A(a.selfEdges,(function(t){H(e,"selfedge",{width:t.label.width,height:t.label.height,rank:a.rank,order:i+ ++r,e:t.e,label:t.label},"_se")})),delete a.selfEdges}))}))}(e))),t("    adjustCoordinateSystem",(()=>function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||ee(e)}(e))),t("    position",(()=>function(e){(function(e){var t=V(e),r=e.graph().ranksep,i=0;n.A(t,(function(t){var a=L(u.A(t,(function(t){return e.node(t).height})));n.A(t,(function(t){e.node(t).y=i+a/2})),i+=a+r}))})(e=W(e)),ht(yt(e),(function(t,r){e.node(r).x=t}))}(e))),t("    positionSelfEdges",(()=>function(e){n.A(e.nodes(),(function(t){var r=e.node(t);if("selfedge"===r.dummy){var n=e.node(r.e.v),i=n.x+n.width/2,a=n.y,o=r.x-i,s=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],r.label.x=r.x,r.label.y=r.y}}))}(e))),t("    removeBorderNodes",(()=>function(e){n.A(e.nodes(),(function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),a=e.node(I.A(r.borderLeft)),o=e.node(I.A(r.borderRight));r.width=Math.abs(o.x-a.x),r.height=Math.abs(i.y-n.y),r.x=a.x+r.width/2,r.y=n.y+r.height/2}})),n.A(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e))),t("    normalize.undo",(()=>function(e){n.A(e.graph().dummyChains,(function(t){var r,n=e.node(t),i=n.edgeLabel;for(e.setEdge(n.edgeObj,i);n.dummy;)r=e.successors(t)[0],e.removeNode(t),i.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),t=r,n=e.node(t)}))}(e))),t("    fixupEdgeLabelCoords",(()=>function(e){n.A(e.edges(),(function(t){var r=e.edge(t);if(Object.prototype.hasOwnProperty.call(r,"x"))switch("l"!==r.labelpos&&"r"!==r.labelpos||(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset}}))}(e))),t("    undoCoordinateSystem",(()=>function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){n.A(e.nodes(),(function(t){re(e.node(t))})),n.A(e.edges(),(function(t){var r=e.edge(t);n.A(r.points,re),Object.prototype.hasOwnProperty.call(r,"y")&&re(r)}))}(e),"lr"!==t&&"rl"!==t||(function(e){n.A(e.nodes(),(function(t){ne(e.node(t))})),n.A(e.edges(),(function(t){var r=e.edge(t);n.A(r.points,ne),Object.prototype.hasOwnProperty.call(r,"x")&&ne(r)}))}(e),ee(e))}(e))),t("    translateGraph",(()=>function(e){var t=Number.POSITIVE_INFINITY,r=0,i=Number.POSITIVE_INFINITY,a=0,o=e.graph(),s=o.marginx||0,l=o.marginy||0;function u(e){var n=e.x,o=e.y,s=e.width,l=e.height;t=Math.min(t,n-s/2),r=Math.max(r,n+s/2),i=Math.min(i,o-l/2),a=Math.max(a,o+l/2)}n.A(e.nodes(),(function(t){u(e.node(t))})),n.A(e.edges(),(function(t){var r=e.edge(t);Object.prototype.hasOwnProperty.call(r,"x")&&u(r)})),t-=s,i-=l,n.A(e.nodes(),(function(r){var n=e.node(r);n.x-=t,n.y-=i})),n.A(e.edges(),(function(r){var a=e.edge(r);n.A(a.points,(function(e){e.x-=t,e.y-=i})),Object.prototype.hasOwnProperty.call(a,"x")&&(a.x-=t),Object.prototype.hasOwnProperty.call(a,"y")&&(a.y-=i)})),o.width=r-t+s,o.height=a-i+l}(e))),t("    assignNodeIntersects",(()=>function(e){n.A(e.edges(),(function(t){var r,n,i=e.edge(t),a=e.node(t.v),o=e.node(t.w);i.points?(r=i.points[0],n=i.points[i.points.length-1]):(i.points=[],r=o,n=a),i.points.unshift(G(a,r)),i.points.push(G(o,n))}))}(e))),t("    reversePoints",(()=>function(e){n.A(e.edges(),(function(t){var r=e.edge(t);r.reversed&&r.points.reverse()}))}(e))),t("    acyclic.undo",(()=>function(e){n.A(e.edges(),(function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}}))}(e)))}(t,r))),r("  updateInputGraph",(()=>function(e,t){n.A(e.nodes(),(function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))})),n.A(e.edges(),(function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,Object.prototype.hasOwnProperty.call(i,"x")&&(n.x=i.x,n.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)))}))}var bt=["nodesep","edgesep","ranksep","marginx","marginy"],xt={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},wt=["acyclicer","ranker","rankdir","align"],Dt=["width","height"],kt={width:0,height:0},Et=["minlen","weight","width","height","labeloffset"],At={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ct=["labelpos"];function _t(e,t){return z(T(e,t),Number)}function Tt(e){var t={};return n.A(e,(function(e,r){t[r.toLowerCase()]=e})),t}},8872:(e,t,r)=>{"use strict";r.d(t,{T:()=>v});var n=r(9551),i=r(9939),a=r(9327),o=r(1497),s=r(3958),l=r(8709),u=r(9079),c=r(8386),h=r(6701),d=r(4820),f=r(2506);const p=(0,h.A)((function(e){return(0,d.A)((0,c.A)(e,1,f.A,!0))}));var g=r(1401),m=r(3366),y="\0";class v{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isDirected=!Object.prototype.hasOwnProperty.call(e,"directed")||e.directed,this._isMultigraph=!!Object.prototype.hasOwnProperty.call(e,"multigraph")&&e.multigraph,this._isCompound=!!Object.prototype.hasOwnProperty.call(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=n.A(void 0),this._defaultEdgeLabelFn=n.A(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[y]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return i.A(e)||(e=n.A(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return a.A(this._nodes)}sources(){var e=this;return o.A(this.nodes(),(function(t){return s.A(e._in[t])}))}sinks(){var e=this;return o.A(this.nodes(),(function(t){return s.A(e._out[t])}))}setNodes(e,t){var r=arguments,n=this;return l.A(e,(function(e){r.length>1?n.setNode(e,t):n.setNode(e)})),this}setNode(e,t){return Object.prototype.hasOwnProperty.call(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=y,this._children[e]={},this._children[y][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return Object.prototype.hasOwnProperty.call(this._nodes,e)}removeNode(e){if(Object.prototype.hasOwnProperty.call(this._nodes,e)){var t=e=>this.removeEdge(this._edgeObjs[e]);delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l.A(this.children(e),(e=>{this.setParent(e)})),delete this._children[e]),l.A(a.A(this._in[e]),t),delete this._in[e],delete this._preds[e],l.A(a.A(this._out[e]),t),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u.A(t))t=y;else{for(var r=t+="";!u.A(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==y)return t}}children(e){if(u.A(e)&&(e=y),this._isCompound){var t=this._children[e];if(t)return a.A(t)}else{if(e===y)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var t=this._preds[e];if(t)return a.A(t)}successors(e){var t=this._sucs[e];if(t)return a.A(t)}neighbors(e){var t=this.predecessors(e);if(t)return p(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;l.A(this._nodes,(function(r,n){e(n)&&t.setNode(n,r)})),l.A(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e))}));var n={};function i(e){var a=r.parent(e);return void 0===a||t.hasNode(a)?(n[e]=a,a):a in n?n[a]:i(a)}return this._isCompound&&l.A(t.nodes(),(function(e){t.setParent(e,i(e))})),t}setDefaultEdgeLabel(e){return i.A(e)||(e=n.A(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return g.A(this._edgeObjs)}setPath(e,t){var r=this,n=arguments;return m.A(e,(function(e,i){return n.length>1?r.setEdge(e,i,t):r.setEdge(e,i),i})),this}setEdge(){var e,t,r,n,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,r=a.name,2===arguments.length&&(n=arguments[1],i=!0)):(e=a,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,t=""+t,u.A(r)||(r=""+r);var o=w(this._isDirected,e,t,r);if(Object.prototype.hasOwnProperty.call(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!u.A(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(e,t,r);var s=function(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return n&&(s.name=n),s}(this._isDirected,e,t,r);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,b(this._preds[t],e),b(this._sucs[e],t),this._in[t][o]=s,this._out[e][o]=s,this._edgeCount++,this}edge(e,t,r){var n=1===arguments.length?D(this._isDirected,arguments[0]):w(this._isDirected,e,t,r);return this._edgeLabels[n]}hasEdge(e,t,r){var n=1===arguments.length?D(this._isDirected,arguments[0]):w(this._isDirected,e,t,r);return Object.prototype.hasOwnProperty.call(this._edgeLabels,n)}removeEdge(e,t,r){var n=1===arguments.length?D(this._isDirected,arguments[0]):w(this._isDirected,e,t,r),i=this._edgeObjs[n];return i&&(e=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],x(this._preds[t],e),x(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var n=g.A(r);return t?o.A(n,(function(e){return e.v===t})):n}}outEdges(e,t){var r=this._out[e];if(r){var n=g.A(r);return t?o.A(n,(function(e){return e.w===t})):n}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}}function b(e,t){e[t]?e[t]++:e[t]=1}function x(e,t){--e[t]||delete e[t]}function w(e,t,r,n){var i=""+t,a=""+r;if(!e&&i>a){var o=i;i=a,a=o}return i+""+a+""+(u.A(n)?"\0":n)}function D(e,t){return w(e,t.v,t.w,t.name)}v.prototype._nodeCount=0,v.prototype._edgeCount=0},8756:(e,t,r)=>{"use strict";r.d(t,{T:()=>n.T});var n=r(8872)},5926:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2914),i=r(1913);const a=class{constructor(){this.type=i.Z.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=i.Z.ALL}is(e){return this.type===e}},o=new class{constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new a}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=i.Z.ALL,this}_ensureHSL(){var e=this.data,{h:t,s:r,l:i}=e;void 0===t&&(e.h=n.A.channel.rgb2hsl(e,"h")),void 0===r&&(e.s=n.A.channel.rgb2hsl(e,"s")),void 0===i&&(e.l=n.A.channel.rgb2hsl(e,"l"))}_ensureRGB(){var e=this.data,{r:t,g:r,b:i}=e;void 0===t&&(e.r=n.A.channel.hsl2rgb(e,"r")),void 0===r&&(e.g=n.A.channel.hsl2rgb(e,"g")),void 0===i&&(e.b=n.A.channel.hsl2rgb(e,"b"))}get r(){var e=this.data,t=e.r;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),n.A.channel.hsl2rgb(e,"r")):t}get g(){var e=this.data,t=e.g;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),n.A.channel.hsl2rgb(e,"g")):t}get b(){var e=this.data,t=e.b;return this.type.is(i.Z.HSL)||void 0===t?(this._ensureHSL(),n.A.channel.hsl2rgb(e,"b")):t}get h(){var e=this.data,t=e.h;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),n.A.channel.rgb2hsl(e,"h")):t}get s(){var e=this.data,t=e.s;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),n.A.channel.rgb2hsl(e,"s")):t}get l(){var e=this.data,t=e.l;return this.type.is(i.Z.RGB)||void 0===t?(this._ensureRGB(),n.A.channel.rgb2hsl(e,"l")):t}get a(){return this.data.a}set r(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(i.Z.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(i.Z.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}({r:0,g:0,b:0,a:0},"transparent")},4558:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(5926),i=r(1913),a={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:e=>{if(35===e.charCodeAt(0)){var t=e.match(a.re);if(t){var r=t[1],i=parseInt(r,16),o=r.length,s=o%4==0,l=o>4,u=l?1:17,c=l?8:4,h=s?0:-1,d=l?255:15;return n.A.set({r:(i>>c*(h+3)&d)*u,g:(i>>c*(h+2)&d)*u,b:(i>>c*(h+1)&d)*u,a:s?(i&d)*u/255:1},e)}}},stringify:e=>{var{r:t,g:r,b:n,a}=e;return a<1?"#".concat(i.Y[Math.round(t)]).concat(i.Y[Math.round(r)]).concat(i.Y[Math.round(n)]).concat(i.Y[Math.round(255*a)]):"#".concat(i.Y[Math.round(t)]).concat(i.Y[Math.round(r)]).concat(i.Y[Math.round(n)])}};const o=a;var s=r(2914),l={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:e=>{var t=e.match(l.hueRe);if(t){var[,r,n]=t;switch(n){case"grad":return s.A.channel.clamp.h(.9*parseFloat(r));case"rad":return s.A.channel.clamp.h(180*parseFloat(r)/Math.PI);case"turn":return s.A.channel.clamp.h(360*parseFloat(r))}}return s.A.channel.clamp.h(parseFloat(e))},parse:e=>{var t=e.charCodeAt(0);if(104===t||72===t){var r=e.match(l.re);if(r){var[,i,a,o,u,c]=r;return n.A.set({h:l._hue2deg(i),s:s.A.channel.clamp.s(parseFloat(a)),l:s.A.channel.clamp.l(parseFloat(o)),a:u?s.A.channel.clamp.a(c?parseFloat(u)/100:parseFloat(u)):1},e)}}},stringify:e=>{var{h:t,s:r,l:n,a:i}=e;return i<1?"hsla(".concat(s.A.lang.round(t),", ").concat(s.A.lang.round(r),"%, ").concat(s.A.lang.round(n),"%, ").concat(i,")"):"hsl(".concat(s.A.lang.round(t),", ").concat(s.A.lang.round(r),"%, ").concat(s.A.lang.round(n),"%)")}};const u=l;var c={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:e=>{e=e.toLowerCase();var t=c.colors[e];if(t)return o.parse(t)},stringify:e=>{var t=o.stringify(e);for(var r in c.colors)if(c.colors[r]===t)return r}};const h=c;var d={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:e=>{var t=e.charCodeAt(0);if(114===t||82===t){var r=e.match(d.re);if(r){var[,i,a,o,l,u,c,h,f]=r;return n.A.set({r:s.A.channel.clamp.r(a?2.55*parseFloat(i):parseFloat(i)),g:s.A.channel.clamp.g(l?2.55*parseFloat(o):parseFloat(o)),b:s.A.channel.clamp.b(c?2.55*parseFloat(u):parseFloat(u)),a:h?s.A.channel.clamp.a(f?parseFloat(h)/100:parseFloat(h)):1},e)}}},stringify:e=>{var{r:t,g:r,b:n,a:i}=e;return i<1?"rgba(".concat(s.A.lang.round(t),", ").concat(s.A.lang.round(r),", ").concat(s.A.lang.round(n),", ").concat(s.A.lang.round(i),")"):"rgb(".concat(s.A.lang.round(t),", ").concat(s.A.lang.round(r),", ").concat(s.A.lang.round(n),")")}};const f=d;var p={format:{keyword:c,hex:o,rgb:d,rgba:d,hsl:l,hsla:l},parse:e=>{if("string"!=typeof e)return e;var t=o.parse(e)||f.parse(e)||u.parse(e)||h.parse(e);if(t)return t;throw new Error('Unsupported color format: "'.concat(e,'"'))},stringify:e=>!e.changed&&e.color?e.color:e.type.is(i.Z.HSL)||void 0===e.data.r?u.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?f.stringify(e):o.stringify(e)};const g=p},1913:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,Z:()=>o});for(var n=r(2914),i={},a=0;a<=255;a++)i[a]=n.A.unit.dec2hex(a);var o={ALL:0,RGB:1,HSL:2}},5554:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2914),i=r(4558);const a=(e,t,r)=>{var a=i.A.parse(e),o=a[t],s=n.A.channel.clamp[t](o+r);return o!==s&&(a[t]=s),i.A.stringify(a)}},3013:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2914),i=r(4558);const a=(e,t)=>{var r=i.A.parse(e);for(var a in t)r[a]=n.A.channel.clamp[a](t[a]);return i.A.stringify(r)}},2538:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2914),i=r(4558);const a=(e,t)=>n.A.lang.round(i.A.parse(e)[t])},3506:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(5554);const i=(e,t)=>(0,n.A)(e,"l",-t)},4045:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(2914),i=r(4558);const a=e=>(e=>{var{r:t,g:r,b:a}=i.A.parse(e),o=.2126*n.A.channel.toLinear(t)+.7152*n.A.channel.toLinear(r)+.0722*n.A.channel.toLinear(a);return n.A.lang.round(o)})(e)>=.5,o=e=>!a(e)},7242:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(5554);const i=(e,t)=>(0,n.A)(e,"l",t)},71:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2914),i=r(5926),a=r(4558),o=r(3013);const s=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if("number"!=typeof e)return(0,o.A)(e,{a:t});var l=i.A.set({r:n.A.channel.clamp.r(e),g:n.A.channel.clamp.g(t),b:n.A.channel.clamp.b(r),a:n.A.channel.clamp.a(s)});return a.A.stringify(l)}},2914:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:e=>e>=255?255:e<0?0:e,g:e=>e>=255?255:e<0?0:e,b:e=>e>=255?255:e<0?0:e,h:e=>e%360,s:e=>e>=100?100:e<0?0:e,l:e=>e>=100?100:e<0?0:e,a:e=>e>=1?1:e<0?0:e},toLinear:e=>{var t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92},hue2rgb:(e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e),hsl2rgb:(e,t)=>{var{h:r,s:i,l:a}=e;if(!i)return 2.55*a;r/=360,i/=100;var o=(a/=100)<.5?a*(1+i):a+i-a*i,s=2*a-o;switch(t){case"r":return 255*n.hue2rgb(s,o,r+1/3);case"g":return 255*n.hue2rgb(s,o,r);case"b":return 255*n.hue2rgb(s,o,r-1/3)}},rgb2hsl:(e,t)=>{var{r,g:n,b:i}=e;r/=255,n/=255,i/=255;var a=Math.max(r,n,i),o=Math.min(r,n,i),s=(a+o)/2;if("l"===t)return 100*s;if(a===o)return 0;var l=a-o;if("s"===t)return 100*(s>.5?l/(2-a-o):l/(a+o));switch(a){case r:return 60*((n-i)/l+(n<i?6:0));case n:return 60*((i-r)/l+2);case i:return 60*((r-n)/l+4);default:return-1}}};const i={channel:n,lang:{clamp:(e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e)),round:e=>Math.round(1e10*e)/1e10},unit:{dec2hex:e=>{var t=Math.round(e).toString(16);return t.length>1?t:"0".concat(t)}}}},8939:(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$type}function i(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$refText}function a(e){return"object"==typeof e&&null!==e&&n(e.container)&&i(e.reference)&&"string"==typeof e.message}r.d(t,{kD:()=>o,QU:()=>vl,dM:()=>bl,DD:()=>Ec,tG:()=>pc,uM:()=>gc,WQ:()=>mc,y0:()=>_c});class o{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return n(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;var r=this.subtypes[e];r||(r=this.subtypes[e]={});var n=r[t];if(void 0!==n)return n;var i=this.computeIsSubtype(e,t);return r[t]=i,i}getAllSubTypes(e){var t=this.allSubtypes[e];if(t)return t;var r=this.getAllTypes(),n=[];for(var i of r)this.isSubtype(i,e)&&n.push(i);return this.allSubtypes[e]=n,n}}function s(e){return"object"==typeof e&&null!==e&&Array.isArray(e.content)}function l(e){return"object"==typeof e&&null!==e&&"object"==typeof e.tokenType}function u(e){return s(e)&&"string"==typeof e.fullText}class c{constructor(e,t){this.startFn=e,this.nextFn=t}iterator(){var e={state:this.startFn(),next:()=>this.nextFn(e.state),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){var e=this.iterator();return Boolean(e.next().done)}count(){for(var e=this.iterator(),t=0,r=e.next();!r.done;)t++,r=e.next();return t}toArray(){var e,t=[],r=this.iterator();do{void 0!==(e=r.next()).value&&t.push(e.value)}while(!e.done);return t}toSet(){return new Set(this)}toMap(e,t){var r=this.map((r=>[e?e(r):r,t?t(r):r]));return new Map(r)}toString(){return this.join()}concat(e){var t=e[Symbol.iterator]();return new c((()=>({first:this.startFn(),firstDone:!1})),(e=>{var r;if(!e.firstDone){do{if(!(r=this.nextFn(e.first)).done)return r}while(!r.done);e.firstDone=!0}do{if(!(r=t.next()).done)return r}while(!r.done);return g}))}join(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",",n=this.iterator(),i="",a=!1;do{(e=n.next()).done||(a&&(i+=r),i+="string"==typeof(t=e.value)?t:void 0===t?"undefined":"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t)),a=!0}while(!e.done);return i}indexOf(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.iterator(),n=0,i=r.next();!i.done;){if(n>=t&&i.value===e)return n;i=r.next(),n++}return-1}every(e){for(var t=this.iterator(),r=t.next();!r.done;){if(!e(r.value))return!1;r=t.next()}return!0}some(e){for(var t=this.iterator(),r=t.next();!r.done;){if(e(r.value))return!0;r=t.next()}return!1}forEach(e){for(var t=this.iterator(),r=0,n=t.next();!n.done;)e(n.value,r),n=t.next(),r++}map(e){return new c(this.startFn,(t=>{var{done:r,value:n}=this.nextFn(t);return r?g:{done:!1,value:e(n)}}))}filter(e){return new c(this.startFn,(t=>{var r;do{if(!(r=this.nextFn(t)).done&&e(r.value))return r}while(!r.done);return g}))}nonNullable(){return this.filter((e=>null!=e))}reduce(e,t){for(var r=this.iterator(),n=t,i=r.next();!i.done;)n=void 0===n?i.value:e(n,i.value),i=r.next();return n}reduceRight(e,t){return this.recursiveReduce(this.iterator(),e,t)}recursiveReduce(e,t,r){var n=e.next();if(n.done)return r;var i=this.recursiveReduce(e,t,r);return void 0===i?n.value:t(i,n.value)}find(e){for(var t=this.iterator(),r=t.next();!r.done;){if(e(r.value))return r.value;r=t.next()}}findIndex(e){for(var t=this.iterator(),r=0,n=t.next();!n.done;){if(e(n.value))return r;n=t.next(),r++}return-1}includes(e){for(var t=this.iterator(),r=t.next();!r.done;){if(r.value===e)return!0;r=t.next()}return!1}flatMap(e){return new c((()=>({this:this.startFn()})),(t=>{do{if(t.iterator){var r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}var{done:n,value:i}=this.nextFn(t.this);if(!n){var a=e(i);if(!h(a))return{done:!1,value:a};t.iterator=a[Symbol.iterator]()}}while(t.iterator);return g}))}flat(e){if(void 0===e&&(e=1),e<=0)return this;var t=e>1?this.flat(e-1):this;return new c((()=>({this:t.startFn()})),(e=>{do{if(e.iterator){var r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}var{done:n,value:i}=t.nextFn(e.this);if(!n){if(!h(i))return{done:!1,value:i};e.iterator=i[Symbol.iterator]()}}while(e.iterator);return g}))}head(){var e=this.iterator().next();if(!e.done)return e.value}tail(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new c((()=>{for(var t=this.startFn(),r=0;r<e;r++)if(this.nextFn(t).done)return t;return t}),this.nextFn)}limit(e){return new c((()=>({size:0,state:this.startFn()})),(t=>(t.size++,t.size>e?g:this.nextFn(t.state))))}distinct(e){var t=new Set;return this.filter((r=>{var n=e?e(r):r;return!t.has(n)&&(t.add(n),!0)}))}exclude(e,t){var r=new Set;for(var n of e){var i=t?t(n):n;r.add(i)}return this.filter((e=>{var n=t?t(e):e;return!r.has(n)}))}}function h(e){return!!e&&"function"==typeof e[Symbol.iterator]}var d,f,p=new c((()=>{}),(()=>g)),g=Object.freeze({done:!0,value:void 0});function m(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length){var n=t[0];if(n instanceof c)return n;if(h(n))return new c((()=>n[Symbol.iterator]()),(e=>e.next()));if("number"==typeof n.length)return new c((()=>({index:0})),(e=>e.index<n.length?{done:!1,value:n[e.index++]}:g))}return t.length>1?new c((()=>({collIndex:0,arrIndex:0})),(e=>{do{if(e.iterator){var r=e.iterator.next();if(!r.done)return r;e.iterator=void 0}if(e.array){if(e.arrIndex<e.array.length)return{done:!1,value:e.array[e.arrIndex++]};e.array=void 0,e.arrIndex=0}if(e.collIndex<t.length){var n=t[e.collIndex++];h(n)?e.iterator=n[Symbol.iterator]():n&&"number"==typeof n.length&&(e.array=n)}}while(e.iterator||e.array||e.collIndex<t.length);return g})):p}class y extends c{constructor(e,t,r){super((()=>({iterators:(null==r?void 0:r.includeRoot)?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1})),(e=>{for(e.pruned&&(e.iterators.pop(),e.pruned=!1);e.iterators.length>0;){var r=e.iterators[e.iterators.length-1].next();if(!r.done)return e.iterators.push(t(r.value)[Symbol.iterator]()),r;e.iterators.pop()}return g}))}iterator(){var e={state:this.startFn(),next:()=>this.nextFn(e.state),prune:()=>{e.state.pruned=!0},[Symbol.iterator]:()=>e};return e}}function v(e){return new y(e,(e=>s(e)?e.content:[]),{includeRoot:!0})}function b(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function x(e){if(e){var{offset:t,end:r,range:n}=e;return{range:n,offset:t,end:r,length:r-t}}}!function(e){e.sum=function(e){return e.reduce(((e,t)=>e+t),0)},e.product=function(e){return e.reduce(((e,t)=>e*t),0)},e.min=function(e){return e.reduce(((e,t)=>Math.min(e,t)))},e.max=function(e){return e.reduce(((e,t)=>Math.max(e,t)))}}(d||(d={})),function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"}(f||(f={}));var w=/^(?:[0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])$/;function D(e,t){return l(e)&&t.includes(e.tokenType.name)}class k extends Error{constructor(e,t){super(e?"".concat(t," at ").concat(e.range.start.line,":").concat(e.range.start.character):t)}}function E(e){throw new Error("Error! The input value was not handled.")}var A="AbstractRule",C="AbstractType",_="Condition",T="ValueLiteral",S="AbstractElement",F="BooleanLiteral",O="Conjunction",B="Disjunction",N="InferredType";function L(e){return xe.isInstance(e,N)}var I="Interface";function R(e){return xe.isInstance(e,I)}var M="Negation",P="ParameterReference",z="ParserRule";function $(e){return xe.isInstance(e,z)}var j="ReturnType",K="SimpleType",q="TerminalRule";function U(e){return xe.isInstance(e,q)}var H="Type";function W(e){return xe.isInstance(e,H)}var G="Action";function V(e){return xe.isInstance(e,G)}var Y="Alternatives";function X(e){return xe.isInstance(e,Y)}var Z="Assignment";function Q(e){return xe.isInstance(e,Z)}var J="CharacterRange",ee="CrossReference";function te(e){return xe.isInstance(e,ee)}var re="EndOfFile",ne="Group";function ie(e){return xe.isInstance(e,ne)}var ae="Keyword";function oe(e){return xe.isInstance(e,ae)}var se="NegatedToken",le="RegexToken",ue="RuleCall";function ce(e){return xe.isInstance(e,ue)}var he="TerminalAlternatives",de="TerminalGroup",fe="TerminalRuleCall";function pe(e){return xe.isInstance(e,fe)}var ge="UnorderedGroup";function me(e){return xe.isInstance(e,ge)}var ye="UntilToken",ve="Wildcard";class be extends o{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayLiteral","ArrayType","Assignment","BooleanLiteral","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","NamedArgument","NegatedToken","Negation","NumberLiteral","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","StringLiteral","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","ValueLiteral","Wildcard"]}computeIsSubtype(e,t){switch(e){case G:case Y:case Z:case J:case ee:case re:case ne:case ae:case se:case le:case ue:case he:case de:case fe:case ge:case ye:case ve:return this.isSubtype(S,t);case"ArrayLiteral":case"NumberLiteral":case"StringLiteral":return this.isSubtype(T,t);case"ArrayType":case"ReferenceType":case K:case"UnionType":return this.isSubtype("TypeDefinition",t);case F:return this.isSubtype(_,t)||this.isSubtype(T,t);case O:case B:case M:case P:return this.isSubtype(_,t);case N:case I:case H:return this.isSubtype(C,t);case z:return this.isSubtype(A,t)||this.isSubtype(C,t);case q:return this.isSubtype(A,t);default:return!1}}getReferenceType(e){var t="".concat(e.container.$type,":").concat(e.property);switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return C;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return A;case"Grammar:usedGrammars":return"Grammar";case"NamedArgument:parameter":case"ParameterReference:parameter":return"Parameter";case"TerminalRuleCall:rule":return q;default:throw new Error("".concat(t," is not a valid reference id."))}}getTypeMetaData(e){switch(e){case"AbstractElement":return{name:"AbstractElement",properties:[{name:"cardinality"},{name:"lookahead"}]};case"ArrayLiteral":return{name:"ArrayLiteral",properties:[{name:"elements",defaultValue:[]}]};case"ArrayType":return{name:"ArrayType",properties:[{name:"elementType"}]};case"BooleanLiteral":return{name:"BooleanLiteral",properties:[{name:"true",defaultValue:!1}]};case"Conjunction":return{name:"Conjunction",properties:[{name:"left"},{name:"right"}]};case"Disjunction":return{name:"Disjunction",properties:[{name:"left"},{name:"right"}]};case"Grammar":return{name:"Grammar",properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case"GrammarImport":return{name:"GrammarImport",properties:[{name:"path"}]};case"InferredType":return{name:"InferredType",properties:[{name:"name"}]};case"Interface":return{name:"Interface",properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case"NamedArgument":return{name:"NamedArgument",properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case"Negation":return{name:"Negation",properties:[{name:"value"}]};case"NumberLiteral":return{name:"NumberLiteral",properties:[{name:"value"}]};case"Parameter":return{name:"Parameter",properties:[{name:"name"}]};case"ParameterReference":return{name:"ParameterReference",properties:[{name:"parameter"}]};case"ParserRule":return{name:"ParserRule",properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case"ReferenceType":return{name:"ReferenceType",properties:[{name:"referenceType"}]};case"ReturnType":return{name:"ReturnType",properties:[{name:"name"}]};case"SimpleType":return{name:"SimpleType",properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case"StringLiteral":return{name:"StringLiteral",properties:[{name:"value"}]};case"TerminalRule":return{name:"TerminalRule",properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case"Type":return{name:"Type",properties:[{name:"name"},{name:"type"}]};case"TypeAttribute":return{name:"TypeAttribute",properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case"UnionType":return{name:"UnionType",properties:[{name:"types",defaultValue:[]}]};case"Action":return{name:"Action",properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case"Alternatives":return{name:"Alternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"Assignment":return{name:"Assignment",properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case"CharacterRange":return{name:"CharacterRange",properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case"CrossReference":return{name:"CrossReference",properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case"EndOfFile":return{name:"EndOfFile",properties:[{name:"cardinality"},{name:"lookahead"}]};case"Group":return{name:"Group",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case"Keyword":return{name:"Keyword",properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case"NegatedToken":return{name:"NegatedToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"RegexToken":return{name:"RegexToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case"RuleCall":return{name:"RuleCall",properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalGroup":return{name:"TerminalGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"TerminalRuleCall":return{name:"TerminalRuleCall",properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case"UnorderedGroup":return{name:"UnorderedGroup",properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case"UntilToken":return{name:"UntilToken",properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case"Wildcard":return{name:"Wildcard",properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}}var xe=new be;function we(e,t){for(var r=e;r;){if(t(r))return r;r=r.$container}}function De(e){var t=function(e){for(;e.$container;)e=e.$container;return e}(e),r=t.$document;if(!r)throw new Error("AST node has no document.");return r}function ke(e,t){if(!e)throw new Error("Node must be an AstNode.");var r=null==t?void 0:t.range;return new c((()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0})),(t=>{for(;t.keyIndex<t.keys.length;){var i=t.keys[t.keyIndex];if(!i.startsWith("$")){var a=e[i];if(n(a)){if(t.keyIndex++,Ce(a,r))return{done:!1,value:a}}else if(Array.isArray(a)){for(;t.arrayIndex<a.length;){var o=a[t.arrayIndex++];if(n(o)&&Ce(o,r))return{done:!1,value:o}}t.arrayIndex=0}}t.keyIndex++}return g}))}function Ee(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new y(e,(e=>ke(e,t)))}function Ae(e,t){if(!e)throw new Error("Root node must be an AstNode.");return(null==t?void 0:t.range)&&!Ce(e,t.range)?new y(e,(()=>[])):new y(e,(e=>ke(e,t)),{includeRoot:!0})}function Ce(e,t){var r;if(!t)return!0;var n=null===(r=e.$cstNode)||void 0===r?void 0:r.range;return!!n&&function(e,t){var r=function(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<e.start.character)return f.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>t.end.character)return f.After;var r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,n=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&n?f.Inside:r?f.OverlapBack:f.OverlapFront}(e,t);return r>f.After}(n,t)}function _e(e){return new c((()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0})),(t=>{for(;t.keyIndex<t.keys.length;){var r=t.keys[t.keyIndex];if(!r.startsWith("$")){var n=e[r];if(i(n))return t.keyIndex++,{done:!1,value:{reference:n,container:e,property:r}};if(Array.isArray(n)){for(;t.arrayIndex<n.length;){var a=t.arrayIndex++,o=n[a];if(i(o))return{done:!1,value:{reference:o,container:e,property:r,index:a}}}t.arrayIndex=0}}t.keyIndex++}return g}))}function Te(e){return Array.isArray(e)?[...e.map(Te)]:e}function Se(e){return e.charCodeAt(0)}function Fe(e,t){Array.isArray(e)?e.forEach((function(e){t.push(e)})):t.push(e)}function Oe(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function Be(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function Ne(){throw Error("Internal Error - Should never get here!")}function Le(e){return"Character"===e.type}for(var Ie=[],Re=Se("0");Re<=Se("9");Re++)Ie.push(Re);for(var Me=[Se("_")].concat(Ie),Pe=Se("a");Pe<=Se("z");Pe++)Me.push(Pe);for(var ze=Se("A");ze<=Se("Z");ze++)Me.push(ze);var $e=[Se(" "),Se("\f"),Se("\n"),Se("\r"),Se("\t"),Se("\v"),Se("\t"),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se(" "),Se("\u2028"),Se("\u2029"),Se(" "),Se(" "),Se("　"),Se("\ufeff")],je=/[0-9a-fA-F]/,Ke=/[0-9]/,qe=/[1-9]/;class Ue{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");for(var r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":Oe(r,"global");break;case"i":Oe(r,"ignoreCase");break;case"m":Oe(r,"multiLine");break;case"u":Oe(r,"unicode");break;case"y":Oe(r,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){var e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){for(var e=[],t=this.idx;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){var e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}Be(t);var r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return Ne()}quantifier(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=void 0,r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":var n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":t=this.isDigit()?{atLeast:n,atMost:this.integerIncludingZero()}:{atLeast:n,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;Be(t)}if(!0!==e||void 0!==t)return Be(t)?("?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t):void 0}atom(){var e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),Be(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):Ne()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Se("\n"),Se("\r"),Se("\u2028"),Se("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){var e,t=!1;switch(this.popChar()){case"d":e=Ie;break;case"D":e=Ie,t=!0;break;case"s":e=$e;break;case"S":e=$e,t=!0;break;case"w":e=Me;break;case"W":e=Me,t=!0}return Be(e)?{type:"Set",value:e,complement:t}:Ne()}controlEscapeAtom(){var e;switch(this.popChar()){case"f":e=Se("\f");break;case"n":e=Se("\n");break;case"r":e=Se("\r");break;case"t":e=Se("\t");break;case"v":e=Se("\v")}return Be(e)?{type:"Character",value:e}:Ne()}controlLetterEscapeAtom(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Se("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:Se(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:Se(this.popChar())}}}characterClass(){var e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){var r=this.classAtom();if(r.type,Le(r)&&this.isRangeDash()){this.consumeChar("-");var n=this.classAtom();if(n.type,Le(n)){if(n.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:n.value})}else Fe(r.value,e),e.push(Se("-")),Fe(n.value,e)}else Fe(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Se("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){var e=!0;this.consumeChar("("),"?"===this.peekChar(0)?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;var t=this.disjunction();this.consumeChar(")");var r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){var e=this.popChar();if(!1===qe.test(e))throw Error("Expecting a positive integer");for(;Ke.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){var e=this.popChar();if(!1===Ke.test(e))throw Error("Expecting an integer");for(;Ke.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Se(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return Ke.test(this.peekChar(0))}isClassAtom(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(e){return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){for(var t="",r=0;r<e;r++){var n=this.popChar();if(!1===je.test(n))throw Error("Expecting a HexDecimal digits");t+=n}return{type:"Character",value:parseInt(t,16)}}peekChar(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.input[this.idx+e]}popChar(){var e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class He{visitChildren(e){for(var t in e){var r=e[t];e.hasOwnProperty(t)&&(void 0!==r.type?this.visit(r):Array.isArray(r)&&r.forEach((e=>{this.visit(e)}),this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}var We=/\r?\n/gm,Ge=new Ue,Ve=new class extends He{constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){var t=String.fromCharCode(e.value);if(this.multiline||"\n"!==t||(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{var r=Ze(t);this.endRegexpStack.push(r),this.isStarting&&(this.startRegexp+=r)}}visitSet(e){if(!this.multiline){var t=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(t);this.multiline=Boolean("\n".match(r))}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{var n=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(n),this.isStarting&&(this.startRegexp+=n)}}visitChildren(e){"Group"===e.type&&e.quantifier||super.visitChildren(e)}};function Ye(e){try{return"string"==typeof e&&(e=new RegExp(e)),e=e.toString(),Ve.reset(e),Ve.visit(Ge.pattern(e)),Ve.multiline}catch(e){return!1}}function Xe(e){return("string"==typeof e?new RegExp(e):e).test(" ")}function Ze(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qe(e,t){var r=new Set,n=function(e){return e.rules.find((e=>$(e)&&e.entry))}(e);if(!n)return new Set(e.rules);var i=[n].concat(function(e){return e.rules.filter((e=>U(e)&&e.hidden))}(e));for(var a of i)Je(a,r,t);var o=new Set;for(var s of e.rules)(r.has(s.name)||U(s)&&s.hidden)&&o.add(s);return o}function Je(e,t,r){t.add(e.name),Ee(e).forEach((e=>{if(ce(e)||r&&pe(e)){var n=e.rule.ref;n&&!t.has(n.name)&&Je(n,t,r)}}))}function et(e,t,r){if(e&&t){var n=tt(e,t,e.astNode,!0);if(0!==n.length)return n[r=void 0!==r?Math.max(0,Math.min(r,n.length-1)):0]}}function tt(e,t,r,n){if(!n){var i=we(e.grammarSource,Q);if(i&&i.feature===t)return[e]}return s(e)&&e.astNode===r?e.content.flatMap((e=>tt(e,t,r,!1))):[]}function rt(e){var t=e;return L(t)&&(V(t.$container)?t=t.$container.$container:$(t.$container)?t=t.$container:E(t.$container)),nt(e,t,new Map)}function nt(e,t,r){var n,i;function a(t,n){var i=void 0;return we(t,Q)||(i=nt(n,n,r)),r.set(e,i),i}if(r.has(e))return r.get(e);for(var o of(r.set(e,void 0),Ee(t))){if(Q(o)&&"name"===o.feature.toLowerCase())return r.set(e,o),o;if(ce(o)&&$(o.rule.ref))return a(o,o.rule.ref);if(i=o,xe.isInstance(i,K)&&(null===(n=o.typeRef)||void 0===n?void 0:n.ref))return a(o,o.typeRef.ref)}}function it(e){return at(e,new Set)}function at(e,t){if(t.has(e))return!0;for(var r of(t.add(e),Ee(e)))if(ce(r)){if(!r.rule.ref)return!1;if($(r.rule.ref)&&!at(r.rule.ref,t))return!1}else{if(Q(r))return!1;if(V(r))return!1}return Boolean(e.definition)}function ot(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){var t=e.returnType.ref;if(t){if($(t))return t.name;if(R(t)||W(t))return t.name}}}function st(e){var t,r;if($(e))return it(e)?e.name:null!==(t=ot(e))&&void 0!==t?t:e.name;if(R(e)||W(e)||(r=e,xe.isInstance(r,j)))return e.name;if(V(e)){var n=function(e){var t;return e.inferredType?e.inferredType.name:(null===(t=e.type)||void 0===t?void 0:t.ref)?st(e.type.ref):void 0}(e);if(n)return n}else if(L(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function lt(e){var t={s:!1,i:!1,u:!1},r=ct(e.definition,t),n=Object.entries(t).filter((e=>{var[,t]=e;return t})).map((e=>{var[t]=e;return t})).join("");return new RegExp(r,n)}var ut=/[\s\S]/.source;function ct(e,t){if(s=e,xe.isInstance(s,he))return dt((o=e).elements.map((e=>ct(e))).join("|"),{cardinality:o.cardinality,lookahead:o.lookahead});if(function(e){return xe.isInstance(e,de)}(e))return dt((a=e).elements.map((e=>ct(e))).join(""),{cardinality:a.cardinality,lookahead:a.lookahead});if(function(e){return xe.isInstance(e,J)}(e))return(r=e).right?dt("[".concat(ht(r.left),"-").concat(ht(r.right),"]"),{cardinality:r.cardinality,lookahead:r.lookahead,wrap:!1}):dt(ht(r.left),{cardinality:r.cardinality,lookahead:r.lookahead,wrap:!1});var r,n,i,a,o,s;if(pe(e)){var l=e.rule.ref;if(!l)throw new Error("Missing rule reference.");return dt(ct(l.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}if(function(e){return xe.isInstance(e,se)}(e))return dt("(?!".concat(ct((n=e).terminal),")").concat(ut,"*?"),{cardinality:n.cardinality,lookahead:n.lookahead});if(function(e){return xe.isInstance(e,ye)}(e))return i=e,dt("".concat(ut,"*?").concat(ct(i.terminal)),{cardinality:i.cardinality,lookahead:i.lookahead});if(function(e){return xe.isInstance(e,le)}(e)){var u=e.regex.lastIndexOf("/"),c=e.regex.substring(1,u),h=e.regex.substring(u+1);return t&&(t.i=h.includes("i"),t.s=h.includes("s"),t.u=h.includes("u")),dt(c,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}if(function(e){return xe.isInstance(e,ve)}(e))return dt(ut,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error("Invalid terminal element: ".concat(null==e?void 0:e.$type))}function ht(e){return Ze(e.value)}function dt(e,t){var r;return(!1!==t.wrap||t.lookahead)&&(e="(".concat(null!==(r=t.lookahead)&&void 0!==r?r:"").concat(e,")")),t.cardinality?"".concat(e).concat(t.cardinality):e}var ft=r(8709),pt=r(1401),gt=r(3958),mt=r(4389),yt=r(1127),vt=r(6434);function bt(e){function t(){}t.prototype=e;var r=new t;function n(){return typeof r.bar}return n(),n(),e}const xt=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a};var wt=r(6278);const Dt=function(e,t,r){var n=null==e?0:e.length;return n?(t=r||void 0===t?1:(0,wt.A)(t),xt(e,t<0?0:t,n)):[]};var kt=r(3422),Et=r(4914),At=r(7908),Ct=r(4916),_t=r(1061),Tt=r(174),St=r(9327),Ft=Object.prototype.hasOwnProperty;const Ot=(0,Ct.A)((function(e,t){if((0,Tt.A)(t)||(0,_t.A)(t))(0,At.A)(t,(0,St.A)(t),e);else for(var r in t)Ft.call(t,r)&&(0,Et.A)(e,r,t[r])}));var Bt=r(5576),Nt=r(870),Lt=r(3081),It=r(8502);const Rt=function(e,t){if(null==e)return{};var r=(0,Bt.A)((0,It.A)(e),(function(e){return[e]}));return t=(0,Nt.A)(t),(0,Lt.A)(e,r,(function(e,r){return t(e,r[0])}))};var Mt=r(5089),Pt=r(6951);var zt=r(9408),$t=r(54),jt=$t.A&&$t.A.isRegExp;const Kt=jt?(0,zt.A)(jt):function(e){return(0,Pt.A)(e)&&"[object RegExp]"==(0,Mt.A)(e)};class qt{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),(0,ft.A)(this.definition,(t=>{t.accept(e)}))}}class Ut extends qt{constructor(e){super([]),this.idx=1,Ot(this,Rt(e,(e=>void 0!==e)))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class Ht extends qt{constructor(e){super(e.definition),this.orgText="",Ot(this,Rt(e,(e=>void 0!==e)))}}class Wt extends qt{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Ot(this,Rt(e,(e=>void 0!==e)))}}class Gt extends qt{constructor(e){super(e.definition),this.idx=1,Ot(this,Rt(e,(e=>void 0!==e)))}}class Vt extends qt{constructor(e){super(e.definition),this.idx=1,Ot(this,Rt(e,(e=>void 0!==e)))}}class Yt extends qt{constructor(e){super(e.definition),this.idx=1,Ot(this,Rt(e,(e=>void 0!==e)))}}class Xt extends qt{constructor(e){super(e.definition),this.idx=1,Ot(this,Rt(e,(e=>void 0!==e)))}}class Zt extends qt{constructor(e){super(e.definition),this.idx=1,Ot(this,Rt(e,(e=>void 0!==e)))}}class Qt extends qt{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ot(this,Rt(e,(e=>void 0!==e)))}}class Jt{constructor(e){this.idx=1,Ot(this,Rt(e,(e=>void 0!==e)))}accept(e){e.visit(this)}}function er(e){function t(e){return(0,mt.A)(e,er)}if(e instanceof Ut){var r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return(0,kt.A)(e.label)&&(r.label=e.label),r}if(e instanceof Wt)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Gt)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof Vt)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof Yt)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:er(new Jt({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Zt)return{type:"RepetitionWithSeparator",idx:e.idx,separator:er(new Jt({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Xt)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Qt)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Jt){var n={type:"Terminal",name:e.terminalType.name,label:(a=e.terminalType,o=a,(0,kt.A)(o.LABEL)&&""!==o.LABEL?a.LABEL:a.name),idx:e.idx};(0,kt.A)(e.label)&&(n.terminalLabel=e.label);var i=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=Kt(i)?i.source:i),n}var a,o;if(e instanceof Ht)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}class tr{visit(e){var t=e;switch(t.constructor){case Ut:return this.visitNonTerminal(t);case Wt:return this.visitAlternative(t);case Gt:return this.visitOption(t);case Vt:return this.visitRepetitionMandatory(t);case Yt:return this.visitRepetitionMandatoryWithSeparator(t);case Zt:return this.visitRepetitionWithSeparator(t);case Xt:return this.visitRepetition(t);case Qt:return this.visitAlternation(t);case Jt:return this.visitTerminal(t);case Ht:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}var rr=r(4269),nr=r(6819);const ir=function(e,t){var r;return(0,nr.A)(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r};var ar=r(4794),or=r(3195);const sr=function(e,t,r){var n=(0,ar.A)(e)?rr.A:ir;return r&&(0,or.A)(e,t,r)&&(t=void 0),n(e,(0,Nt.A)(t,3))};var lr=r(4917),ur=Math.max;const cr=function(e,t,r,n){e=(0,_t.A)(e)?e:(0,pt.A)(e),r=r&&!n?(0,wt.A)(r):0;var i=e.length;return r<0&&(r=ur(i+r,0)),(0,kt.A)(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&(0,lr.A)(e,t,r)>-1},hr=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0},dr=function(e,t){var r=!0;return(0,nr.A)(e,(function(e,n,i){return r=!!t(e,n,i)})),r},fr=function(e,t,r){var n=(0,ar.A)(e)?hr:dr;return r&&(0,or.A)(e,t,r)&&(t=void 0),n(e,(0,Nt.A)(t,3))};function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!(e instanceof Gt||e instanceof Xt||e instanceof Zt)||(e instanceof Qt?sr(e.definition,(e=>pr(e,t))):!(e instanceof Ut&&cr(t,e))&&e instanceof qt&&(e instanceof Ut&&t.push(e),fr(e.definition,(e=>pr(e,t)))))}function gr(e){if(e instanceof Ut)return"SUBRULE";if(e instanceof Gt)return"OPTION";if(e instanceof Qt)return"OR";if(e instanceof Vt)return"AT_LEAST_ONE";if(e instanceof Yt)return"AT_LEAST_ONE_SEP";if(e instanceof Zt)return"MANY_SEP";if(e instanceof Xt)return"MANY";if(e instanceof Jt)return"CONSUME";throw Error("non exhaustive match")}class mr{walk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,ft.A)(e.definition,((r,n)=>{var i=Dt(e.definition,n+1);if(r instanceof Ut)this.walkProdRef(r,i,t);else if(r instanceof Jt)this.walkTerminal(r,i,t);else if(r instanceof Wt)this.walkFlat(r,i,t);else if(r instanceof Gt)this.walkOption(r,i,t);else if(r instanceof Vt)this.walkAtLeastOne(r,i,t);else if(r instanceof Yt)this.walkAtLeastOneSep(r,i,t);else if(r instanceof Zt)this.walkManySep(r,i,t);else if(r instanceof Xt)this.walkMany(r,i,t);else{if(!(r instanceof Qt))throw Error("non exhaustive match");this.walkOr(r,i,t)}}))}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){var n=t.concat(r);this.walk(e,n)}walkOption(e,t,r){var n=t.concat(r);this.walk(e,n)}walkAtLeastOne(e,t,r){var n=[new Gt({definition:e.definition})].concat(t,r);this.walk(e,n)}walkAtLeastOneSep(e,t,r){var n=yr(e,t,r);this.walk(e,n)}walkMany(e,t,r){var n=[new Gt({definition:e.definition})].concat(t,r);this.walk(e,n)}walkManySep(e,t,r){var n=yr(e,t,r);this.walk(e,n)}walkOr(e,t,r){var n=t.concat(r);(0,ft.A)(e.definition,(e=>{var t=new Wt({definition:[e]});this.walk(t,n)}))}}function yr(e,t,r){return[new Gt({definition:[new Jt({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}var vr=r(4820);const br=function(e){return e&&e.length?(0,vr.A)(e):[]};var xr=r(3522);function wr(e){if(e instanceof Ut)return wr(e.referencedRule);if(e instanceof Jt)return[e.terminalType];if(function(e){return e instanceof Wt||e instanceof Gt||e instanceof Xt||e instanceof Vt||e instanceof Yt||e instanceof Zt||e instanceof Jt||e instanceof Ht}(e))return function(e){for(var t,r=[],n=e.definition,i=0,a=n.length>i,o=!0;a&&o;)o=pr(t=n[i]),r=r.concat(wr(t)),i+=1,a=n.length>i;return br(r)}(e);if(function(e){return e instanceof Qt}(e))return function(e){var t=(0,mt.A)(e.definition,(e=>wr(e)));return br((0,xr.A)(t))}(e);throw Error("non exhaustive match")}var Dr="_~IN~_";class kr extends mr{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){var n,i,a=(n=e.referencedRule,i=e.idx,n.name+i+Dr+this.topProd.name),o=t.concat(r),s=wr(new Wt({definition:o}));this.follows[a]=s}}var Er=r(9079),Ar=r(6081),Cr=r(1275),_r=r(4297);const Tr=function(e,t){return((0,ar.A)(e)?Cr.A:_r.A)(e,function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}((0,Nt.A)(t,3)))};var Sr=r(9939),Fr=Math.max;const Or=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:(0,wt.A)(r);return i<0&&(i=Fr(n+i,0)),(0,lr.A)(e,t,i)};var Br=r(3366),Nr=r(1497),Lr=r(1805),Ir=r(9656),Rr=r(9488),Mr=r(9124);var Pr=r(8386),zr=r(6701),$r=r(2506);const jr=(0,zr.A)((function(e,t){return(0,$r.A)(e)?function(e,t,r,n){var i=-1,a=Ir.A,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=(0,Bt.A)(t,(0,zt.A)(r))),n?(a=Rr.A,o=!1):t.length>=200&&(a=Mr.A,o=!1,t=new Lr.A(t));e:for(;++i<s;){var c=e[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,o&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else a(t,h,n)||l.push(c)}return l}(e,(0,Pr.A)(t,1,$r.A,!0)):[]})),Kr=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},qr=function(e){return e&&e.length?e[0]:void 0};var Ur=r(4596);function Hr(e){console&&console.error&&console.error("Error: ".concat(e))}function Wr(e){console&&console.warn&&console.warn("Warning: ".concat(e))}var Gr={},Vr=new Ue;function Yr(e){var t=e.toString();if(Gr.hasOwnProperty(t))return Gr[t];var r=Vr.pattern(t);return Gr[t]=r,r}var Xr="Complement Sets are not supported for first char optimization",Zr='Unable to use "first char" lexer optimizations:\n';function Qr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var r=Yr(e);return Jr(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===Xr)t&&Wr("".concat(Zr)+"\tUnable to optimize: < ".concat(e.toString()," >\n")+"\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var n="";t&&(n="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),Hr("".concat(Zr,"\n")+"\tFailed parsing: < ".concat(e.toString()," >\n")+"\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues"+n)}}return[]}function Jr(e,t,r){switch(e.type){case"Disjunction":for(var n=0;n<e.value.length;n++)Jr(e.value[n],t,r);break;case"Alternative":for(var i=e.value,a=0;a<i.length;a++){var o=i[a];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var s=o;switch(s.type){case"Character":en(s.value,t,r);break;case"Set":if(!0===s.complement)throw Error(Xr);(0,ft.A)(s.value,(e=>{if("number"==typeof e)en(e,t,r);else{var n=e;if(!0===r)for(var i=n.from;i<=n.to;i++)en(i,t,r);else{for(var a=n.from;a<=n.to&&a<xn;a++)en(a,t,r);if(n.to>=xn)for(var o=n.from>=xn?n.from:xn,s=n.to,l=Dn(o),u=Dn(s),c=l;c<=u;c++)t[c]=c}}}));break;case"Group":Jr(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}var l=void 0!==s.quantifier&&0===s.quantifier.atLeast;if("Group"===s.type&&!1===rn(s)||"Group"!==s.type&&!1===l)break}break;default:throw Error("non exhaustive match!")}return(0,pt.A)(t)}function en(e,t,r){var n=Dn(e);t[n]=n,!0===r&&function(e,t){var r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){var i=Dn(n.charCodeAt(0));t[i]=i}else{var a=r.toLowerCase();if(a!==r){var o=Dn(a.charCodeAt(0));t[o]=o}}}(e,t)}function tn(e,t){return(0,Ur.A)(e.value,(e=>{if("number"==typeof e)return cr(t,e);var r=e;return void 0!==(0,Ur.A)(t,(e=>r.from<=e&&e<=r.to))}))}function rn(e){var t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&((0,ar.A)(e.value)?fr(e.value,rn):rn(e.value))}class nn extends He{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){cr(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===tn(e,this.targetCharCodes)&&(this.found=!0):void 0!==tn(e,this.targetCharCodes)&&(this.found=!0)}}function an(e,t){if(t instanceof RegExp){var r=Yr(t),n=new nn(e);return n.visit(r),n.found}return void 0!==(0,Ur.A)(t,(t=>cr(e,t.charCodeAt(0))))}var on="PATTERN",sn="defaultMode",ln="modes",un="boolean"==typeof new RegExp("(?:)").sticky;var cn=/[^\\][$]/,hn=/[^\\[][\^]|^\^/;function dn(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:".concat(e.source,")"),t)}function fn(e){var t=e.ignoreCase?"iy":"y";return new RegExp("".concat(e.source),t)}function pn(e){var t=e.PATTERN;if(Kt(t))return!1;if((0,Sr.A)(t))return!0;if((0,yt.A)(t,"exec"))return!0;if((0,kt.A)(t))return!1;throw Error("non exhaustive match")}function gn(e){return!(!(0,kt.A)(e)||1!==e.length)&&e.charCodeAt(0)}var mn={test:function(e){for(var t=e.length,r=this.lastIndex;r<t;r++){var n=e.charCodeAt(r);if(10===n)return this.lastIndex=r+1,!0;if(13===n)return 10===e.charCodeAt(r+1)?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function yn(e,t){if((0,yt.A)(e,"LINE_BREAKS"))return!1;if(Kt(e.PATTERN)){try{an(t,e.PATTERN)}catch(e){return{issue:Rn.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if((0,kt.A)(e.PATTERN))return!1;if(pn(e))return{issue:Rn.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function vn(e){return(0,mt.A)(e,(e=>(0,kt.A)(e)?e.charCodeAt(0):e))}function bn(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}var xn=256,wn=[];function Dn(e){return e<xn?e:wn[e]}var kn=r(3033),En=r(9651),An=r(5939);function Cn(e){var t=(new Date).getTime(),r=e();return{time:(new Date).getTime()-t,value:r}}function _n(e,t){var r=e.tokenTypeIdx;return r===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[r]}function Tn(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var Sn=1,Fn={};function On(e){var t=function(e){for(var t=(0,vt.A)(e),r=e,n=!0;n;){r=Kr((0,xr.A)((0,mt.A)(r,(e=>e.CATEGORIES))));var i=jr(r,t);t=t.concat(i),(0,gt.A)(i)?n=!1:r=i}return t}(e);!function(e){(0,ft.A)(e,(e=>{var t;Nn(e)||(Fn[Sn]=e,e.tokenTypeIdx=Sn++),Ln(e)&&!(0,ar.A)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),Ln(e)||(e.CATEGORIES=[]),t=e,(0,yt.A)(t,"categoryMatches")||(e.categoryMatches=[]),function(e){return(0,yt.A)(e,"categoryMatchesMap")}(e)||(e.categoryMatchesMap={})}))}(t),function(e){(0,ft.A)(e,(e=>{Bn([],e)}))}(t),function(e){(0,ft.A)(e,(e=>{e.categoryMatches=[],(0,ft.A)(e.categoryMatchesMap,((t,r)=>{e.categoryMatches.push(Fn[r].tokenTypeIdx)}))}))}(t),(0,ft.A)(t,(e=>{e.isParent=e.categoryMatches.length>0}))}function Bn(e,t){(0,ft.A)(e,(e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0})),(0,ft.A)(t.CATEGORIES,(r=>{var n=e.concat(t);cr(n,r)||Bn(n,r)}))}function Nn(e){return(0,yt.A)(e,"tokenTypeIdx")}function Ln(e){return(0,yt.A)(e,"CATEGORIES")}function In(e){return(0,yt.A)(e,"tokenTypeIdx")}var Rn;!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(Rn||(Rn={}));var Mn={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:{buildUnableToPopLexerModeMessage:e=>"Unable to pop Lexer Mode after encountering Token ->".concat(e.image,"<- The Mode Stack is empty"),buildUnexpectedCharactersMessage:(e,t,r,n,i)=>"unexpected character: ->".concat(e.charAt(t),"<- at offset: ").concat(t,",")+" skipped ".concat(r," characters.")},traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Mn);class Pn{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;var r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(r,"--\x3e <").concat(e,">"));var{time:n,value:i}=Cn(t),a=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a("".concat(r,"<-- <").concat(e,"> time: ").concat(n,"ms")),this.traceInitIndent--,i}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Ot({},Mn,t);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(()=>{var r,n=!0;this.TRACE_INIT("Lexer Config handling",(()=>{if(this.config.lineTerminatorsPattern===Mn.lineTerminatorsPattern)this.config.lineTerminatorsPattern=mn;else if(this.config.lineTerminatorCharacters===Mn.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),(0,ar.A)(e)?r={modes:{defaultMode:(0,vt.A)(e)},defaultMode:sn}:(n=!1,r=(0,vt.A)(e))})),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e){var t=[];return(0,yt.A)(e,sn)||t.push({message:"A MultiMode Lexer cannot be initialized without a <"+sn+"> property in its definition\n",type:Rn.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,yt.A)(e,ln)||t.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:Rn.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,yt.A)(e,ln)&&(0,yt.A)(e,sn)&&!(0,yt.A)(e.modes,e.defaultMode)&&t.push({message:"A MultiMode Lexer cannot be initialized with a ".concat(sn,": <").concat(e.defaultMode,">")+"which does not exist\n",type:Rn.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,yt.A)(e,ln)&&(0,ft.A)(e.modes,((e,r)=>{(0,ft.A)(e,((n,i)=>{if((0,Er.A)(n))t.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+"<".concat(r,"> at index: <").concat(i,">\n"),type:Rn.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if((0,yt.A)(n,"LONGER_ALT")){var a=(0,ar.A)(n.LONGER_ALT)?n.LONGER_ALT:[n.LONGER_ALT];(0,ft.A)(a,(i=>{(0,Er.A)(i)||cr(e,i)||t.push({message:"A MultiMode Lexer cannot be initialized with a longer_alt <".concat(i.name,"> on token <").concat(n.name,"> outside of mode <").concat(r,">\n"),type:Rn.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}))}}))})),t}(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),this.TRACE_INIT("performWarningRuntimeChecks",(()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(function(e,t,r){var n=[],i=!1,a=Kr((0,xr.A)((0,pt.A)(e.modes))),o=Tr(a,(e=>e[on]===Pn.NA)),s=vn(r);return t&&(0,ft.A)(o,(e=>{var t=yn(e,s);if(!1!==t){var r=function(e,t){if(t.issue===Rn.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n"+"\tThe problem is in the <".concat(e.name,"> Token Type\n")+"\t Root cause: ".concat(t.errMsg,".\n")+"\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===Rn.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n"+"\tThe problem is in the <".concat(e.name,"> Token Type\n")+"\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}(e,t),a={message:r,type:t.issue,tokenType:e};n.push(a)}else(0,yt.A)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(i=!0):an(s,e.PATTERN)&&(i=!0)})),t&&!i&&n.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Rn.NO_LINE_BREAKS_FLAGS}),n}(r,this.trackStartLines,this.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},(0,ft.A)(r.modes,((e,t)=>{r.modes[t]=Tr(e,(e=>(0,Er.A)(e)))}));var i=(0,St.A)(r.modes);if((0,ft.A)(r.modes,((e,r)=>{this.TRACE_INIT("Mode: <".concat(r,"> processing"),(()=>{var n;this.modes.push(r),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(function(e,t){var r=[],n=function(e){var t=(0,Nr.A)(e,(e=>!(0,yt.A)(e,on)));return{errors:(0,mt.A)(t,(e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:Rn.MISSING_PATTERN,tokenTypes:[e]}))),valid:jr(e,t)}}(e);r=r.concat(n.errors);var i=function(e){var t=(0,Nr.A)(e,(e=>{var t=e[on];return!(Kt(t)||(0,Sr.A)(t)||(0,yt.A)(t,"exec")||(0,kt.A)(t))}));return{errors:(0,mt.A)(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Rn.INVALID_PATTERN,tokenTypes:[e]}))),valid:jr(e,t)}}(n.valid),a=i.valid;return r=(r=r.concat(i.errors)).concat(function(e){var t=[],r=(0,Nr.A)(e,(e=>Kt(e[on])));return t=t.concat(function(e){class t extends He{constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}var r=(0,Nr.A)(e,(e=>{var r=e.PATTERN;try{var n=Yr(r),i=new t;return i.visit(n),i.found}catch(e){return cn.test(r.source)}}));return(0,mt.A)(r,(e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Rn.EOI_ANCHOR_FOUND,tokenTypes:[e]})))}(r)),t=t.concat(function(e){class t extends He{constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}var r=(0,Nr.A)(e,(e=>{var r=e.PATTERN;try{var n=Yr(r),i=new t;return i.visit(n),i.found}catch(e){return hn.test(r.source)}}));return(0,mt.A)(r,(e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Rn.SOI_ANCHOR_FOUND,tokenTypes:[e]})))}(r)),t=t.concat(function(e){var t=(0,Nr.A)(e,(e=>{var t=e[on];return t instanceof RegExp&&(t.multiline||t.global)}));return(0,mt.A)(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Rn.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]})))}(r)),t=t.concat(function(e){var t=[],r=(0,mt.A)(e,(r=>(0,Br.A)(e,((e,n)=>(r.PATTERN.source!==n.PATTERN.source||cr(t,n)||n.PATTERN===Pn.NA||(t.push(n),e.push(n)),e)),[])));r=Kr(r);var n=(0,Nr.A)(r,(e=>e.length>1));return(0,mt.A)(n,(e=>{var t=(0,mt.A)(e,(e=>e.name)),r=qr(e).PATTERN;return{message:"The same RegExp pattern ->".concat(r,"<-")+"has been used in all of the following Token Types: ".concat(t.join(", ")," <-"),type:Rn.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}))}(r)),t=t.concat(function(e){var t=(0,Nr.A)(e,(e=>e.PATTERN.test("")));return(0,mt.A)(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:Rn.EMPTY_MATCH_PATTERN,tokenTypes:[e]})))}(r)),t}(a)),(r=(r=r.concat(function(e){var t=(0,Nr.A)(e,(e=>{if(!(0,yt.A)(e,"GROUP"))return!1;var t=e.GROUP;return t!==Pn.SKIPPED&&t!==Pn.NA&&!(0,kt.A)(t)}));return(0,mt.A)(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Rn.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]})))}(a))).concat(function(e,t){var r=(0,Nr.A)(e,(e=>void 0!==e.PUSH_MODE&&!cr(t,e.PUSH_MODE)));return(0,mt.A)(r,(e=>({message:"Token Type: ->".concat(e.name,"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->").concat(e.PUSH_MODE,"<-")+"which does not exist",type:Rn.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]})))}(a,t))).concat(function(e){var t=[],r=(0,Br.A)(e,((e,t,r)=>{var n,i,a=t.PATTERN;return a===Pn.NA||((0,kt.A)(a)?e.push({str:a,idx:r,tokenType:t}):Kt(a)&&(n=a,i=[".","\\","[","]","|","^","$","(",")","?","*","+","{"],void 0===(0,Ur.A)(i,(e=>-1!==n.source.indexOf(e))))&&e.push({str:a.source,idx:r,tokenType:t})),e}),[]);return(0,ft.A)(e,((e,n)=>{(0,ft.A)(r,(r=>{var{str:i,idx:a,tokenType:o}=r;if(n<a&&function(e,t){if(Kt(t)){var r=t.exec(e);return null!==r&&0===r.index}if((0,Sr.A)(t))return t(e,0,[],{});if((0,yt.A)(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}(i,e.PATTERN)){var s="Token: ->".concat(o.name,"<- can never be matched.\n")+"Because it appears AFTER the Token Type ->".concat(e.name,"<-")+"in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE";t.push({message:s,type:Rn.UNREACHABLE_PATTERN,tokenTypes:[e,o]})}}))})),t}(a))}(e,i))})),(0,gt.A)(this.lexerDefinitionErrors)&&(On(e),this.TRACE_INIT("analyzeTokenTypes",(()=>{n=function(e,t){var r,n=(t=(0,Ar.A)(t,{useSticky:un,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:(e,t)=>t()})).tracer;n("initCharCodeToOptimizedIndexMap",(()=>{!function(){if((0,gt.A)(wn)){wn=new Array(65536);for(var e=0;e<65536;e++)wn[e]=e>255?255+~~(e/255):e}}()})),n("Reject Lexer.NA",(()=>{r=Tr(e,(e=>e[on]===Pn.NA))}));var i,a,o,s,l,u,c,h,d,f,p,g=!1;n("Transform Patterns",(()=>{g=!1,i=(0,mt.A)(r,(e=>{var r=e[on];if(Kt(r)){var n=r.source;return 1!==n.length||"^"===n||"$"===n||"."===n||r.ignoreCase?2!==n.length||"\\"!==n[0]||cr(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],n[1])?t.useSticky?fn(r):dn(r):n[1]:n}if((0,Sr.A)(r))return g=!0,{exec:r};if("object"==typeof r)return g=!0,r;if("string"==typeof r){if(1===r.length)return r;var i=r.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),a=new RegExp(i);return t.useSticky?fn(a):dn(a)}throw Error("non exhaustive match")}))})),n("misc mapping",(()=>{a=(0,mt.A)(r,(e=>e.tokenTypeIdx)),o=(0,mt.A)(r,(e=>{var t=e.GROUP;if(t!==Pn.SKIPPED){if((0,kt.A)(t))return t;if((0,Er.A)(t))return!1;throw Error("non exhaustive match")}})),s=(0,mt.A)(r,(e=>{var t=e.LONGER_ALT;if(t)return(0,ar.A)(t)?(0,mt.A)(t,(e=>Or(r,e))):[Or(r,t)]})),l=(0,mt.A)(r,(e=>e.PUSH_MODE)),u=(0,mt.A)(r,(e=>(0,yt.A)(e,"POP_MODE")))})),n("Line Terminator Handling",(()=>{var e=vn(t.lineTerminatorCharacters);c=(0,mt.A)(r,(e=>!1)),"onlyOffset"!==t.positionTracking&&(c=(0,mt.A)(r,(t=>(0,yt.A)(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===yn(t,e)&&an(e,t.PATTERN))))})),n("Misc Mapping #2",(()=>{h=(0,mt.A)(r,pn),d=(0,mt.A)(i,gn),f=(0,Br.A)(r,((e,t)=>{var r=t.GROUP;return(0,kt.A)(r)&&r!==Pn.SKIPPED&&(e[r]=[]),e}),{}),p=(0,mt.A)(i,((e,t)=>({pattern:i[t],longerAlt:s[t],canLineTerminator:c[t],isCustom:h[t],short:d[t],group:o[t],push:l[t],pop:u[t],tokenTypeIdx:a[t],tokenType:r[t]})))}));var m=!0,y=[];return t.safeMode||n("First Char Optimization",(()=>{y=(0,Br.A)(r,((e,r,n)=>{if("string"==typeof r.PATTERN){var i=Dn(r.PATTERN.charCodeAt(0));bn(e,i,p[n])}else if((0,ar.A)(r.START_CHARS_HINT)){var a;(0,ft.A)(r.START_CHARS_HINT,(t=>{var r=Dn("string"==typeof t?t.charCodeAt(0):t);a!==r&&(a=r,bn(e,r,p[n]))}))}else if(Kt(r.PATTERN))if(r.PATTERN.unicode)m=!1,t.ensureOptimizations&&Hr("".concat(Zr)+"\tUnable to analyze < ".concat(r.PATTERN.toString()," > pattern.\n")+"\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var o=Qr(r.PATTERN,t.ensureOptimizations);(0,gt.A)(o)&&(m=!1),(0,ft.A)(o,(t=>{bn(e,t,p[n])}))}else t.ensureOptimizations&&Hr("".concat(Zr)+"\tTokenType: <".concat(r.name,"> is using a custom token pattern without providing <start_chars_hint> parameter.\n")+"\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),m=!1;return e}),[])})),{emptyGroups:f,patternIdxToConfig:p,charCodeToPatternIdxToConfig:y,hasCustom:g,canBeOptimized:m}}(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})})),this.patternIdxToConfig[r]=n.patternIdxToConfig,this.charCodeToPatternIdxToConfig[r]=n.charCodeToPatternIdxToConfig,this.emptyGroups=Ot({},this.emptyGroups,n.emptyGroups),this.hasCustom=n.hasCustom||this.hasCustom,this.canModeBeOptimized[r]=n.canBeOptimized)}))})),this.defaultMode=r.defaultMode,!(0,gt.A)(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){var a=(0,mt.A)(this.lexerDefinitionErrors,(e=>e.message)).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+a)}(0,ft.A)(this.lexerDefinitionWarning,(e=>{Wr(e.message)})),this.TRACE_INIT("Choosing sub-methods implementations",(()=>{if(un?(this.chopInput=kn.A,this.match=this.matchWithTest):(this.updateLastIndex=En.A,this.match=this.matchWithExec),n&&(this.handleModes=En.A),!1===this.trackStartLines&&(this.computeNewColumn=kn.A),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=En.A),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'.concat(this.config.positionTracking,'"'));this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)})),this.TRACE_INIT("Failed Optimization Warnings",(()=>{var e=(0,Br.A)(this.canModeBeOptimized,((e,t,r)=>(!1===t&&e.push(r),e)),[]);if(t.ensureOptimizations&&!(0,gt.A)(e))throw Error("Lexer Modes: < ".concat(e.join(", ")," > cannot be optimized.\n")+'\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),this.TRACE_INIT("clearRegExpParserCache",(()=>{Gr={}})),this.TRACE_INIT("toFastProperties",(()=>{bt(this)}))}))}tokenize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultMode;if(!(0,gt.A)(this.lexerDefinitionErrors)){var r=(0,mt.A)(this.lexerDefinitionErrors,(e=>e.message)).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+r)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){var r,n,i,a,o,s,l,u,c,h,d,f,p,g,m,y,v,b,x,w=e,D=w.length,k=0,E=0,A=this.hasCustom?0:Math.floor(e.length/10),C=new Array(A),_=[],T=this.trackStartLines?1:void 0,S=this.trackStartLines?1:void 0,F=(y=this.emptyGroups,v={},b=(0,St.A)(y),(0,ft.A)(b,(e=>{var t=y[e];if(!(0,ar.A)(t))throw Error("non exhaustive match");v[e]=[]})),v),O=this.trackStartLines,B=this.config.lineTerminatorsPattern,N=0,L=[],I=[],R=[],M=[];function P(){return L}function z(e){var t=Dn(e),r=I[t];return void 0===r?M:r}Object.freeze(M);var $,j=e=>{if(1===R.length&&void 0===e.tokenType.PUSH_MODE){var t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);_.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{R.pop();var r=(0,An.A)(R);L=this.patternIdxToConfig[r],I=this.charCodeToPatternIdxToConfig[r],N=L.length;var n=this.canModeBeOptimized[r]&&!1===this.config.safeMode;x=I&&n?z:P}};function K(e){R.push(e),I=this.charCodeToPatternIdxToConfig[e],L=this.patternIdxToConfig[e],N=L.length,N=L.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;x=I&&t?z:P}K.call(this,t);for(var q=this.config.recoveryEnabled;k<D;){s=null;var U=w.charCodeAt(k),H=x(U),W=H.length;for(r=0;r<W;r++){var G=($=H[r]).pattern;l=null;var V=$.short;if(!1!==V?U===V&&(s=G):!0===$.isCustom?null!==(m=G.exec(w,k,C,F))?(s=m[0],void 0!==m.payload&&(l=m.payload)):s=null:(this.updateLastIndex(G,k),s=this.match(G,e,k)),null!==s){if(void 0!==(o=$.longerAlt)){var Y=o.length;for(i=0;i<Y;i++){var X=L[o[i]],Z=X.pattern;if(u=null,!0===X.isCustom?null!==(m=Z.exec(w,k,C,F))?(a=m[0],void 0!==m.payload&&(u=m.payload)):a=null:(this.updateLastIndex(Z,k),a=this.match(Z,e,k)),a&&a.length>s.length){s=a,l=u,$=X;break}}}break}}if(null!==s){if(c=s.length,void 0!==(h=$.group)&&(d=$.tokenTypeIdx,f=this.createTokenInstance(s,k,d,$.tokenType,T,S,c),this.handlePayload(f,l),!1===h?E=this.addToken(C,E,f):F[h].push(f)),e=this.chopInput(e,c),k+=c,S=this.computeNewColumn(S,c),!0===O&&!0===$.canLineTerminator){var Q=0,J=void 0,ee=void 0;B.lastIndex=0;do{!0===(J=B.test(s))&&(ee=B.lastIndex-1,Q++)}while(!0===J);0!==Q&&(T+=Q,S=c-ee,this.updateTokenEndLineColumnLocation(f,h,ee,Q,T,S,c))}this.handleModes($,j,K,f)}else{for(var te=k,re=T,ne=S,ie=!1===q;!1===ie&&k<D;)for(e=this.chopInput(e,1),k++,n=0;n<N;n++){var ae=L[n],oe=ae.pattern,se=ae.short;if(!1!==se?w.charCodeAt(k)===se&&(ie=!0):!0===ae.isCustom?ie=null!==oe.exec(w,k,C,F):(this.updateLastIndex(oe,k),ie=null!==oe.exec(e)),!0===ie)break}if(p=k-te,S=this.computeNewColumn(S,p),g=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,te,p,re,ne),_.push({offset:te,line:re,column:ne,length:p,message:g}),!1===q)break}}return this.hasCustom||(C.length=E),{tokens:C,groups:F,errors:_}}handleModes(e,t,r,n){if(!0===e.pop){var i=e.push;t(n),void 0!==i&&r.call(this,i)}else void 0!==e.push&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,n,i,a,o){var s,l;void 0!==t&&(l=(s=r===o-1)?-1:0,1===n&&!0===s||(e.endLine=i+l,e.endColumn=a-1-l))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,n){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:n}}createStartOnlyToken(e,t,r,n,i,a){return{image:e,startOffset:t,startLine:i,startColumn:a,tokenTypeIdx:r,tokenType:n}}createFullToken(e,t,r,n,i,a,o){return{image:e,startOffset:t,endOffset:t+o-1,startLine:i,endLine:i,startColumn:a,endColumn:a+o-1,tokenTypeIdx:r,tokenType:n}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,r){return!0===e.test(t)?t.substring(r,e.lastIndex):null}matchWithExec(e,t){var r=e.exec(t);return null!==r?r[0]:null}}function zn(e){return $n(e)?e.LABEL:e.name}function $n(e){return(0,kt.A)(e.LABEL)&&""!==e.LABEL}Pn.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Pn.NA=/NOT_APPLICABLE/;var jn="categories",Kn="label",qn="group",Un="push_mode",Hn="pop_mode",Wn="longer_alt",Gn="line_breaks",Vn="start_chars_hint";function Yn(e){return function(e){var t=e.pattern,r={};if(r.name=e.name,(0,Er.A)(t)||(r.PATTERN=t),(0,yt.A)(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,yt.A)(e,jn)&&(r.CATEGORIES=e[jn]),On([r]),(0,yt.A)(e,Kn)&&(r.LABEL=e[Kn]),(0,yt.A)(e,qn)&&(r.GROUP=e[qn]),(0,yt.A)(e,Hn)&&(r.POP_MODE=e[Hn]),(0,yt.A)(e,Un)&&(r.PUSH_MODE=e[Un]),(0,yt.A)(e,Wn)&&(r.LONGER_ALT=e[Wn]),(0,yt.A)(e,Gn)&&(r.LINE_BREAKS=e[Gn]),(0,yt.A)(e,Vn)&&(r.START_CHARS_HINT=e[Vn]),r}(e)}var Xn=Yn({name:"EOF",pattern:Pn.NA});function Zn(e,t,r,n,i,a,o,s){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:o,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Qn(e,t){return _n(e,t)}On([Xn]);var Jn={buildMismatchTokenMessage(e){var{expected:t,actual:r,previous:n,ruleName:i}=e,a=$n(t)?"--\x3e ".concat(zn(t)," <--"):"token of type --\x3e ".concat(t.name," <--");return"Expecting ".concat(a," but found --\x3e '").concat(r.image,"' <--")},buildNotAllInputParsedMessage(e){var{firstRedundant:t,ruleName:r}=e;return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage(e){var{expectedPathsPerAlt:t,actual:r,previous:n,customUserDescription:i,ruleName:a}=e,o="Expecting: ",s="\nbut found: '"+qr(r).image+"'";if(i)return o+i+s;var l=(0,Br.A)(t,((e,t)=>e.concat(t)),[]),u=(0,mt.A)(l,(e=>"[".concat((0,mt.A)(e,(e=>zn(e))).join(", "),"]"))),c=(0,mt.A)(u,((e,t)=>"  ".concat(t+1,". ").concat(e)));return o+"one of these possible Token sequences:\n".concat(c.join("\n"))+s},buildEarlyExitMessage(e){var{expectedIterationPaths:t,actual:r,customUserDescription:n,ruleName:i}=e,a="Expecting: ",o="\nbut found: '"+qr(r).image+"'";if(n)return a+n+o;var s=(0,mt.A)(t,(e=>"[".concat((0,mt.A)(e,(e=>zn(e))).join(","),"]")));return a+"expecting at least one iteration which starts with one of these possible Token sequences::\n  "+"<".concat(s.join(" ,"),">")+o}};Object.freeze(Jn);var ei={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},ti={buildDuplicateFoundError(e,t){var r,n=e.name,i=qr(t),a=i.idx,o=gr(i),s=(r=i)instanceof Jt?r.terminalType.name:r instanceof Ut?r.nonTerminalName:"",l=a>0,u="->".concat(o).concat(l?a:"","<- ").concat(s?"with argument: ->".concat(s,"<-"):"","\n                  appears more than once (").concat(t.length," times) in the top level rule: ->").concat(n,"<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ");return(u=u.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildNamespaceConflictError:e=>"Namespace conflict found in grammar.\n"+"The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <".concat(e.name,">.\n")+"To resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.",buildAlternationPrefixAmbiguityError(e){var t=(0,mt.A)(e.prefixPath,(e=>zn(e))).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous alternatives: <".concat(e.ambiguityIndices.join(" ,"),"> due to common lookahead prefix\n")+"in <OR".concat(r,"> inside <").concat(e.topLevelRule.name,"> Rule,\n")+"<".concat(t,"> may appears as a prefix path in all these alternatives.\n")+"See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details."},buildAlternationAmbiguityError(e){var t=(0,mt.A)(e.prefixPath,(e=>zn(e))).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return"Ambiguous Alternatives Detected: <".concat(e.ambiguityIndices.join(" ,"),"> in <OR").concat(r,">")+" inside <".concat(e.topLevelRule.name,"> Rule,\n")+"<".concat(t,"> may appears as a prefix path in all these alternatives.\n")+"See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."},buildEmptyRepetitionError(e){var t=gr(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),"The repetition <".concat(t,"> within Rule <").concat(e.topLevelRule.name,"> can never consume any tokens.\n")+"This could lead to an infinite loop."},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>"Ambiguous empty alternative: <".concat(e.emptyChoiceIdx+1,">")+" in <OR".concat(e.alternation.idx,"> inside <").concat(e.topLevelRule.name,"> Rule.\n")+"Only the last alternative may be an empty alternative.",buildTooManyAlternativesError:e=>"An Alternation cannot have more than 256 alternatives:\n"+"<OR".concat(e.alternation.idx,"> inside <").concat(e.topLevelRule.name,"> Rule.\n has ").concat(e.alternation.definition.length+1," alternatives."),buildLeftRecursionError(e){var t=e.topLevelRule.name,r=(0,mt.A)(e.leftRecursionPath,(e=>e.name)),n="".concat(t," --\x3e ").concat(r.concat([t]).join(" --\x3e "));return"Left Recursion found in grammar.\n"+"rule: <".concat(t,"> can be invoked from itself (directly or indirectly)\n")+"without consuming any Tokens. The grammar path that causes this is: \n ".concat(n,"\n")+" To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring."},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){var t;return t=e.topLevelRule instanceof Ht?e.topLevelRule.name:e.topLevelRule,"Duplicate definition, rule: ->".concat(t,"<- is already defined in the grammar: ->").concat(e.grammarName,"<-")}};class ri extends tr{constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){(0,ft.A)((0,pt.A)(this.nameToTopRule),(e=>{this.currTopLevel=e,e.accept(this)}))}visitNonTerminal(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:Ta.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}const ni=function(e,t){return(0,Pr.A)((0,mt.A)(e,t),1)};var ii=r(3053);const ai=function(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n},oi=function(e,t,r,n){return(0,nr.A)(e,(function(e,i,a){t(n,e,r(e),a)})),n};var si=Object.prototype.hasOwnProperty;const li=(ui=function(e,t,r){si.call(e,r)?e[r].push(t):(0,ii.A)(e,r,[t])},function(e,t){var r=(0,ar.A)(e)?ai:oi,n=ci?ci():{};return r(e,ui,(0,Nt.A)(t,2),n)});var ui,ci;const hi=function(e,t,r){var n=null==e?0:e.length;return n?(t=r||void 0===t?1:(0,wt.A)(t),xt(e,0,(t=n-t)<0?0:t)):[]};class di extends mr{constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,vt.A)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,vt.A)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var n=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,n)}}updateExpectedNext(){(0,gt.A)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class fi extends di{constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var n=t.concat(r),i=new Wt({definition:n});this.possibleTokTypes=wr(i),this.found=!0}}}class pi extends mr{constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class gi extends pi{walkMany(e,t,r){if(e.idx===this.occurrence){var n=qr(t.concat(r));this.result.isEndOfRule=void 0===n,n instanceof Jt&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkMany(e,t,r)}}class mi extends pi{walkManySep(e,t,r){if(e.idx===this.occurrence){var n=qr(t.concat(r));this.result.isEndOfRule=void 0===n,n instanceof Jt&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkManySep(e,t,r)}}class yi extends pi{walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){var n=qr(t.concat(r));this.result.isEndOfRule=void 0===n,n instanceof Jt&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOne(e,t,r)}}class vi extends pi{walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){var n=qr(t.concat(r));this.result.isEndOfRule=void 0===n,n instanceof Jt&&(this.result.token=n.terminalType,this.result.occurrence=n.idx)}else super.walkAtLeastOneSep(e,t,r)}}function bi(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];r=(0,vt.A)(r);var n=[],i=0;function a(a){var o=bi(a.concat(Dt(e,i+1)),t,r);return n.concat(o)}for(;r.length<t&&i<e.length;){var o=e[i];if(o instanceof Wt)return a(o.definition);if(o instanceof Ut)return a(o.definition);if(o instanceof Gt)n=a(o.definition);else{if(o instanceof Vt)return a(o.definition.concat([new Xt({definition:o.definition})]));if(o instanceof Yt)return a([new Wt({definition:o.definition}),new Xt({definition:[new Jt({terminalType:o.separator})].concat(o.definition)})]);if(o instanceof Zt){var s=o.definition.concat([new Xt({definition:[new Jt({terminalType:o.separator})].concat(o.definition)})]);n=a(s)}else if(o instanceof Xt){var l=o.definition.concat([new Xt({definition:o.definition})]);n=a(l)}else{if(o instanceof Qt)return(0,ft.A)(o.definition,(e=>{!1===(0,gt.A)(e.definition)&&(n=a(e.definition))})),n;if(!(o instanceof Jt))throw Error("non exhaustive match");r.push(o.terminalType)}}i++}return n.push({partialPath:r,suffixDef:Dt(e,i)}),n}function xi(e,t,r,n){var i="EXIT_NONE_TERMINAL",a=[i],o="EXIT_ALTERNATIVE",s=!1,l=t.length,u=l-n-1,c=[],h=[];for(h.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!(0,gt.A)(h);){var d=h.pop();if(d!==o){var f=d.def,p=d.idx,g=d.ruleStack,m=d.occurrenceStack;if(!(0,gt.A)(f)){var y=f[0];if(y===i){var v={idx:p,def:Dt(f),ruleStack:hi(g),occurrenceStack:hi(m)};h.push(v)}else if(y instanceof Jt)if(p<l-1){var b=p+1;if(r(t[b],y.terminalType)){var x={idx:b,def:Dt(f),ruleStack:g,occurrenceStack:m};h.push(x)}}else{if(p!==l-1)throw Error("non exhaustive match");c.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:g,occurrenceStack:m}),s=!0}else if(y instanceof Ut){var w=(0,vt.A)(g);w.push(y.nonTerminalName);var D=(0,vt.A)(m);D.push(y.idx);var k={idx:p,def:y.definition.concat(a,Dt(f)),ruleStack:w,occurrenceStack:D};h.push(k)}else if(y instanceof Gt){var E={idx:p,def:Dt(f),ruleStack:g,occurrenceStack:m};h.push(E),h.push(o);var A={idx:p,def:y.definition.concat(Dt(f)),ruleStack:g,occurrenceStack:m};h.push(A)}else if(y instanceof Vt){var C=new Xt({definition:y.definition,idx:y.idx}),_={idx:p,def:y.definition.concat([C],Dt(f)),ruleStack:g,occurrenceStack:m};h.push(_)}else if(y instanceof Yt){var T=new Jt({terminalType:y.separator}),S=new Xt({definition:[T].concat(y.definition),idx:y.idx}),F={idx:p,def:y.definition.concat([S],Dt(f)),ruleStack:g,occurrenceStack:m};h.push(F)}else if(y instanceof Zt){var O={idx:p,def:Dt(f),ruleStack:g,occurrenceStack:m};h.push(O),h.push(o);var B=new Jt({terminalType:y.separator}),N=new Xt({definition:[B].concat(y.definition),idx:y.idx}),L={idx:p,def:y.definition.concat([N],Dt(f)),ruleStack:g,occurrenceStack:m};h.push(L)}else if(y instanceof Xt){var I={idx:p,def:Dt(f),ruleStack:g,occurrenceStack:m};h.push(I),h.push(o);var R=new Xt({definition:y.definition,idx:y.idx}),M={idx:p,def:y.definition.concat([R],Dt(f)),ruleStack:g,occurrenceStack:m};h.push(M)}else if(y instanceof Qt)for(var P=y.definition.length-1;P>=0;P--){var z={idx:p,def:y.definition[P].definition.concat(Dt(f)),ruleStack:g,occurrenceStack:m};h.push(z),h.push(o)}else if(y instanceof Wt)h.push({idx:p,def:y.definition.concat(Dt(f)),ruleStack:g,occurrenceStack:m});else{if(!(y instanceof Ht))throw Error("non exhaustive match");h.push(wi(y,p,g,m))}}}else s&&(0,An.A)(h).idx<=u&&h.pop()}return c}function wi(e,t,r,n){var i=(0,vt.A)(r);i.push(e.name);var a=(0,vt.A)(n);return a.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:a}}var Di;function ki(e){if(e instanceof Gt||"Option"===e)return Di.OPTION;if(e instanceof Xt||"Repetition"===e)return Di.REPETITION;if(e instanceof Vt||"RepetitionMandatory"===e)return Di.REPETITION_MANDATORY;if(e instanceof Yt||"RepetitionMandatoryWithSeparator"===e)return Di.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Zt||"RepetitionWithSeparator"===e)return Di.REPETITION_WITH_SEPARATOR;if(e instanceof Qt||"Alternation"===e)return Di.ALTERNATION;throw Error("non exhaustive match")}function Ei(e){var{occurrence:t,rule:r,prodType:n,maxLookahead:i}=e,a=ki(n);return a===Di.ALTERNATION?Ni(t,r,i):Li(t,r,a,i)}function Ai(e,t,r,n){var i=e.length,a=fr(e,(e=>fr(e,(e=>1===e.length))));if(t)return function(t){for(var n=(0,mt.A)(t,(e=>e.GATE)),a=0;a<i;a++){var o=e[a],s=o.length,l=n[a];if(void 0===l||!1!==l.call(this))e:for(var u=0;u<s;u++){for(var c=o[u],h=c.length,d=0;d<h;d++){var f=this.LA(d+1);if(!1===r(f,c[d]))continue e}return a}}};if(a&&!n){var o=(0,mt.A)(e,(e=>(0,xr.A)(e))),s=(0,Br.A)(o,((e,t,r)=>((0,ft.A)(t,(t=>{(0,yt.A)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=r),(0,ft.A)(t.categoryMatches,(t=>{(0,yt.A)(e,t)||(e[t]=r)}))})),e)),{});return function(){var e=this.LA(1);return s[e.tokenTypeIdx]}}return function(){for(var t=0;t<i;t++){var n=e[t],a=n.length;e:for(var o=0;o<a;o++){for(var s=n[o],l=s.length,u=0;u<l;u++){var c=this.LA(u+1);if(!1===r(c,s[u]))continue e}return t}}}}function Ci(e,t,r){var n=fr(e,(e=>1===e.length)),i=e.length;if(n&&!r){var a=(0,xr.A)(e);if(1===a.length&&(0,gt.A)(a[0].categoryMatches)){var o=a[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}var s=(0,Br.A)(a,((e,t,r)=>(e[t.tokenTypeIdx]=!0,(0,ft.A)(t.categoryMatches,(t=>{e[t]=!0})),e)),[]);return function(){var e=this.LA(1);return!0===s[e.tokenTypeIdx]}}return function(){e:for(var r=0;r<i;r++){for(var n=e[r],a=n.length,o=0;o<a;o++){var s=this.LA(o+1);if(!1===t(s,n[o]))continue e}return!0}return!1}}!function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(Di||(Di={}));class _i extends mr{constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,n){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=r.concat(n),!0)}walkOption(e,t,r){this.checkIsTarget(e,Di.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,Di.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,Di.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,Di.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,Di.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}}class Ti extends tr{constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,Di.OPTION)}visitRepetition(e){this.checkIsTarget(e,Di.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,Di.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,Di.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,Di.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,Di.ALTERNATION)}}function Si(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=[];return t}function Fi(e){for(var t=[""],r=0;r<e.length;r++){for(var n=e[r],i=[],a=0;a<t.length;a++){var o=t[a];i.push(o+"_"+n.tokenTypeIdx);for(var s=0;s<n.categoryMatches.length;s++){var l="_"+n.categoryMatches[s];i.push(o+l)}}t=i}return t}function Oi(e,t,r){for(var n=0;n<e.length;n++)if(n!==r)for(var i=e[n],a=0;a<t.length;a++)if(!0===i[t[a]])return!1;return!0}function Bi(e,t){for(var r=(0,mt.A)(e,(e=>bi([e],1))),n=Si(r.length),i=(0,mt.A)(r,(e=>{var t={};return(0,ft.A)(e,(e=>{var r=Fi(e.partialPath);(0,ft.A)(r,(e=>{t[e]=!0}))})),t})),a=r,o=1;o<=t;o++){var s=a;a=Si(s.length);for(var l=function(e){for(var r=s[e],l=0;l<r.length;l++){var u=r[l].partialPath,c=r[l].suffixDef,h=Fi(u);if(Oi(i,h,e)||(0,gt.A)(c)||u.length===t){var d=n[e];if(!1===Ii(d,u)){d.push(u);for(var f=0;f<h.length;f++){var p=h[f];i[e][p]=!0}}}else{var g=bi(c,o+1,u);a[e]=a[e].concat(g),(0,ft.A)(g,(t=>{var r=Fi(t.partialPath);(0,ft.A)(r,(t=>{i[e][t]=!0}))}))}}},u=0;u<s.length;u++)l(u)}return n}function Ni(e,t,r,n){var i=new Ti(e,Di.ALTERNATION,n);return t.accept(i),Bi(i.result,r)}function Li(e,t,r,n){var i=new Ti(e,r);t.accept(i);var a=i.result,o=new _i(t,e,r).startWalking();return Bi([new Wt({definition:a}),new Wt({definition:o})],n)}function Ii(e,t){e:for(var r=0;r<e.length;r++){var n=e[r];if(n.length===t.length){for(var i=0;i<n.length;i++){var a=t[i],o=n[i];if(!1==(a===o||void 0!==o.categoryMatchesMap[a.tokenTypeIdx]))continue e}return!0}}return!1}function Ri(e){return fr(e,(e=>fr(e,(e=>fr(e,(e=>(0,gt.A)(e.categoryMatches)))))))}function Mi(e){return"".concat(gr(e),"_#_").concat(e.idx,"_#_").concat(Pi(e))}function Pi(e){return e instanceof Jt?e.terminalType.name:e instanceof Ut?e.nonTerminalName:""}class zi extends tr{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function $i(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[],a=ji(t.definition);if((0,gt.A)(a))return[];var o=e.name;cr(a,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:Ta.LEFT_RECURSION,ruleName:o});var s=jr(a,n.concat([e])),l=ni(s,(t=>{var i=(0,vt.A)(n);return i.push(t),$i(e,t,r,i)}));return i.concat(l)}function ji(e){var t=[];if((0,gt.A)(e))return t;var r=qr(e);if(r instanceof Ut)t.push(r.referencedRule);else if(r instanceof Wt||r instanceof Gt||r instanceof Vt||r instanceof Yt||r instanceof Zt||r instanceof Xt)t=t.concat(ji(r.definition));else if(r instanceof Qt)t=(0,xr.A)((0,mt.A)(r.definition,(e=>ji(e.definition))));else if(!(r instanceof Jt))throw Error("non exhaustive match");var n=pr(r),i=e.length>1;if(n&&i){var a=Dt(e);return t.concat(ji(a))}return t}class Ki extends tr{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}class qi extends tr{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}var Ui="MismatchedTokenException",Hi="NoViableAltException",Wi="EarlyExitException",Gi="NotAllInputParsedException",Vi=[Ui,Hi,Wi,Gi];function Yi(e){return cr(Vi,e.name)}Object.freeze(Vi);class Xi extends Error{constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Zi extends Xi{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Ui}}class Qi extends Xi{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Hi}}class Ji extends Xi{constructor(e,t){super(e,t),this.name=Gi}}class ea extends Xi{constructor(e,t,r){super(e,t),this.previousToken=r,this.name=Wi}}var ta={},ra="InRuleRecoveryException";class na extends Error{constructor(e){super(e),this.name=ra}}function ia(e,t,r,n,i,a,o){var s=this.getKeyForAutomaticLookahead(n,i),l=this.firstAfterRepMap[s];if(void 0===l){var u=this.getCurrRuleFullName();l=new a(this.getGAstProductions()[u],i).startWalking(),this.firstAfterRepMap[s]=l}var c=l.token,h=l.occurrence,d=l.isEndOfRule;1===this.RULE_STACK.length&&d&&void 0===c&&(c=Xn,h=1),void 0!==c&&void 0!==h&&this.shouldInRepetitionRecoveryBeTried(c,h,o)&&this.tryInRepetitionRecovery(e,t,r,c)}var aa=1024,oa=1280,sa=1536;function la(e,t,r){return r|t|e}class ua{constructor(e){var t;this.maxLookahead=null!==(t=null==e?void 0:e.maxLookahead)&&void 0!==t?t:Oa.maxLookahead}validate(e){var t=this.validateNoLeftRecursion(e.rules);if((0,gt.A)(t)){var r=this.validateEmptyOrAlternatives(e.rules),n=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),i=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...n,...i]}return t}validateNoLeftRecursion(e){return ni(e,(e=>$i(e,e,ti)))}validateEmptyOrAlternatives(e){return ni(e,(e=>function(e,t){var r=new Ki;e.accept(r);var n=r.alternations;return ni(n,(r=>{var n=hi(r.definition);return ni(n,((n,i)=>{var a=xi([n],[],_n,1);return(0,gt.A)(a)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:i}),type:Ta.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:i+1}]:[]}))}))}(e,ti)))}validateAmbiguousAlternationAlternatives(e,t){return ni(e,(e=>function(e,t,r){var n=new Ki;e.accept(n);var i=n.alternations;return i=Tr(i,(e=>!0===e.ignoreAmbiguities)),ni(i,(n=>{var i=n.idx,a=n.maxLookahead||t,o=Ni(i,e,a,n),s=function(e,t,r,n){var i=[],a=(0,Br.A)(e,((r,n,a)=>(!0===t.definition[a].ignoreAmbiguities||(0,ft.A)(n,(n=>{var o=[a];(0,ft.A)(e,((e,r)=>{a!==r&&Ii(e,n)&&!0!==t.definition[r].ignoreAmbiguities&&o.push(r)})),o.length>1&&!Ii(i,n)&&(i.push(n),r.push({alts:o,path:n}))})),r)),[]);return(0,mt.A)(a,(e=>{var i=(0,mt.A)(e.alts,(e=>e+1));return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Ta.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:e.alts}}))}(o,n,e,r),l=function(e,t,r,n){var i=(0,Br.A)(e,((e,t,r)=>{var n=(0,mt.A)(t,(e=>({idx:r,path:e})));return e.concat(n)}),[]);return Kr(ni(i,(e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];var a=e.idx,o=e.path,s=(0,Nr.A)(i,(e=>{return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<a&&(r=e.path,n=o,r.length<n.length&&fr(r,((e,t)=>{var r=n[t];return e===r||r.categoryMatchesMap[e.tokenTypeIdx]})));var r,n}));return(0,mt.A)(s,(e=>{var i=[e.idx+1,a+1],o=0===t.idx?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:i,prefixPath:e.path}),type:Ta.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:o,alternatives:i}}))})))}(o,n,e,r);return s.concat(l)}))}(e,t,ti)))}validateSomeNonEmptyLookaheadPath(e,t){return function(e,t,r){var n=[];return(0,ft.A)(e,(e=>{var i=new qi;e.accept(i);var a=i.allProductions;(0,ft.A)(a,(i=>{var a=ki(i),o=i.maxLookahead||t,s=Li(i.idx,e,a,o)[0];if((0,gt.A)((0,xr.A)(s))){var l=r.buildEmptyRepetitionError({topLevelRule:e,repetition:i});n.push({message:l,type:Ta.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),n}(e,t,ti)}buildLookaheadForAlternation(e){return t=e.prodOccurrence,r=e.rule,n=e.maxLookahead,i=e.hasPredicates,a=e.dynamicTokensEnabled,Ai(o=Ni(t,r,n),i,Ri(o)?Tn:_n,a);var t,r,n,i,a,o}buildLookaheadForOptional(e){return function(e,t,r,n,i,a){var o=Li(e,t,i,r),s=Ri(o)?Tn:_n;return a(o[0],s,n)}(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,ki(e.prodType),Ci)}}var ca,ha=new class extends tr{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}};function da(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset)}function fa(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset==1&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function pa(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function ga(e,t){for(var r=(0,St.A)(e),n=r.length,i=0;i<n;i++)for(var a=e[r[i]],o=a.length,s=0;s<o;s++){var l=a[s];void 0===l.tokenTypeIdx&&this[l.name](l.children,t)}}!function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(ca||(ca={}));var ma=r(9744),ya={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(ya);var va=!0,ba=Math.pow(2,8)-1,xa=Yn({name:"RECORDING_PHASE_TOKEN",pattern:Pn.NA});On([xa]);var wa=Zn(xa,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(wa);var Da={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}};function ka(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Ca(r);var i=(0,An.A)(this.recordingProdStack),a=(0,Sr.A)(t)?t:t.DEF,o=new e({definition:[],idx:r});return n&&(o.separator=t.SEP),(0,yt.A)(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),a.call(this),i.definition.push(o),this.recordingProdStack.pop(),ya}function Ea(e,t){Ca(t);var r=(0,An.A)(this.recordingProdStack),n=!1===(0,ar.A)(e),i=!1===n?e:e.DEF,a=new Qt({definition:[],idx:t,ignoreAmbiguities:n&&!0===e.IGNORE_AMBIGUITIES});(0,yt.A)(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);var o=sr(i,(e=>(0,Sr.A)(e.GATE)));return a.hasPredicates=o,r.definition.push(a),(0,ft.A)(i,(e=>{var t=new Wt({definition:[]});a.definition.push(t),(0,yt.A)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:(0,yt.A)(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()})),ya}function Aa(e){return 0===e?"":"".concat(e)}function Ca(e){if(e<0||e>ba){var t=new Error("Invalid DSL Method idx value: <".concat(e,">\n\t")+"Idx value must be a none negative value smaller than ".concat(ba+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var _a=Zn(Xn,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(_a);var Ta,Sa,Fa,Oa=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Jn,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Ba=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return function(){return e}}!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(Ta||(Ta={}));class La{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",(()=>{var e;this.selfAnalysisDone=!0;var t=this.className;this.TRACE_INIT("toFastProps",(()=>{bt(this)})),this.TRACE_INIT("Grammar Recording",(()=>{try{this.enableRecording(),(0,ft.A)(this.definedRulesNames,(e=>{var t,r=this[e].originalGrammarAction;this.TRACE_INIT("".concat(e," Rule"),(()=>{t=this.topLevelRuleRecord(e,r)})),this.gastProductionsCache[e]=t}))}finally{this.disableRecording()}}));var r=[];if(this.TRACE_INIT("Grammar Resolving",(()=>{var e,t,n,i,a,o;e={rules:(0,pt.A)(this.gastProductionsCache)},a=(0,Ar.A)(e,{errMsgProvider:ei}),o={},(0,ft.A)(e.rules,(e=>{o[e.name]=e})),t=o,n=a.errMsgProvider,(i=new ri(t,n)).resolveRefs(),r=i.errors,this.definitionErrors=this.definitionErrors.concat(r)})),this.TRACE_INIT("Grammar Validations",(()=>{if((0,gt.A)(r)&&!1===this.skipValidations){var e=(d={rules:(0,pt.A)(this.gastProductionsCache),tokenTypes:(0,pt.A)(this.tokensMap),errMsgProvider:ti,grammarName:t},i=(d=(0,Ar.A)(d,{errMsgProvider:ti})).rules,a=d.tokenTypes,o=d.errMsgProvider,s=d.grammarName,l=ni(i,(e=>function(e,t){var r=new zi;e.accept(r);var n=r.allProductions,i=li(n,Mi),a=Rt(i,(e=>e.length>1));return(0,mt.A)((0,pt.A)(a),(r=>{var n=qr(r),i=t.buildDuplicateFoundError(e,r),a=gr(n),o={message:i,type:Ta.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:n.idx},s=Pi(n);return s&&(o.parameter=s),o}))}(e,o))),u=function(e,t,r){var n=[],i=(0,mt.A)(t,(e=>e.name));return(0,ft.A)(e,(e=>{var t=e.name;if(cr(i,t)){var a=r.buildNamespaceConflictError(e);n.push({message:a,type:Ta.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),n}(i,a,o),c=ni(i,(e=>function(e,t){var r=new Ki;e.accept(r);var n=r.alternations;return ni(n,(r=>r.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:Ta.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}]:[]))}(e,o))),h=ni(i,(e=>function(e,t,r,n){var i=[],a=(0,Br.A)(t,((t,r)=>r.name===e.name?t+1:t),0);if(a>1){var o=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:o,type:Ta.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}(e,i,s,o))),l.concat(u,c,h)),n=function(e){var t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return(0,mt.A)(t,(e=>Object.assign({type:Ta.CUSTOM_LOOKAHEAD_VALIDATION},e)))}({lookaheadStrategy:this.lookaheadStrategy,rules:(0,pt.A)(this.gastProductionsCache),tokenTypes:(0,pt.A)(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(e,n)}var i,a,o,s,l,u,c,h,d})),(0,gt.A)(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",(()=>{var e,t,r=(e=(0,pt.A)(this.gastProductionsCache),t={},(0,ft.A)(e,(e=>{var r=new kr(e).startWalking();Ot(t,r)})),t);this.resyncFollows=r})),this.TRACE_INIT("ComputeLookaheadFunctions",(()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:(0,pt.A)(this.gastProductionsCache)}),this.preComputeLookaheadFunctions((0,pt.A)(this.gastProductionsCache))}))),!La.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,gt.A)(this.definitionErrors))throw e=(0,mt.A)(this.definitionErrors,(e=>e.message)),new Error("Parser Definition Errors detected:\n ".concat(e.join("\n-------------------------------\n")))}))}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;var r=this;if(r.initErrorHandler(t),r.initLexerAdapter(),r.initLooksAhead(t),r.initRecognizerEngine(e,t),r.initRecoverable(t),r.initTreeBuilder(t),r.initContentAssist(),r.initGastRecorder(t),r.initPerformanceTracer(t),(0,yt.A)(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,yt.A)(t,"skipValidations")?t.skipValidations:Oa.skipValidations}}La.DEFER_DEFINITION_ERRORS_HANDLING=!1,Sa=La,Fa=[class{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,yt.A)(e,"recoveryEnabled")?e.recoveryEnabled:Oa.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=ia)}getTokenToInsert(e){var t=Zn(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,n){for(var i=this.findReSyncTokenType(),a=this.exportLexerState(),o=[],s=!1,l=this.LA(1),u=this.LA(1),c=()=>{var e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:n,actual:l,previous:e,ruleName:this.getCurrRuleFullName()}),r=new Zi(t,l,this.LA(0));r.resyncedTokens=hi(o),this.SAVE_ERROR(r)};!s;){if(this.tokenMatcher(u,n))return void c();if(r.call(this))return c(),void e.apply(this,t);this.tokenMatcher(u,i)?s=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,o))}this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,t,r){return!1!==r&&!this.tokenMatcher(this.LA(1),e)&&!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t))}getFollowsForInRuleRecovery(e,t){var r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){var r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new na("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if((0,gt.A)(t))return!1;var r=this.LA(1);return void 0!==(0,Ur.A)(t,(e=>this.tokenMatcher(r,e)))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){var t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return cr(r,e)}findReSyncTokenType(){for(var e=this.flattenFollowSet(),t=this.LA(1),r=2;;){var n=(0,Ur.A)(e,(e=>Qn(t,e)));if(void 0!==n)return n;t=this.LA(r),r++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return ta;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){var e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return(0,mt.A)(e,((r,n)=>0===n?ta:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[n],inRule:this.shortRuleNameToFullName(e[n-1])}))}flattenFollowSet(){var e=(0,mt.A)(this.buildFullFollowKeyStack(),(e=>this.getFollowSetFromFollowKey(e)));return(0,xr.A)(e)}getFollowSetFromFollowKey(e){if(e===ta)return[Xn];var t=e.ruleName+e.idxInCallingRule+Dr+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,Xn)||t.push(e),t}reSyncTo(e){for(var t=[],r=this.LA(1);!1===this.tokenMatcher(r,e);)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return hi(t)}attemptInRepetitionRecovery(e,t,r,n,i,a,o){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:(0,vt.A)(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return(0,mt.A)(this.RULE_STACK,(e=>this.shortRuleNameToFullName(e)))}},class{initLooksAhead(e){this.dynamicTokensEnabled=(0,yt.A)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Oa.dynamicTokensEnabled,this.maxLookahead=(0,yt.A)(e,"maxLookahead")?e.maxLookahead:Oa.maxLookahead,this.lookaheadStrategy=(0,yt.A)(e,"lookaheadStrategy")?e.lookaheadStrategy:new ua({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){(0,ft.A)(e,(e=>{this.TRACE_INIT("".concat(e.name," Rule Lookahead"),(()=>{var{alternation:t,repetition:r,option:n,repetitionMandatory:i,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:o}=function(e){ha.reset(),e.accept(ha);var t=ha.dslMethods;return ha.reset(),t}(e);(0,ft.A)(t,(t=>{var r=0===t.idx?"":t.idx;this.TRACE_INIT("".concat(gr(t)).concat(r),(()=>{var r=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),n=la(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(n,r)}))})),(0,ft.A)(r,(t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,gr(t))})),(0,ft.A)(n,(t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,gr(t))})),(0,ft.A)(i,(t=>{this.computeLookaheadFunc(e,t.idx,aa,"RepetitionMandatory",t.maxLookahead,gr(t))})),(0,ft.A)(a,(t=>{this.computeLookaheadFunc(e,t.idx,sa,"RepetitionMandatoryWithSeparator",t.maxLookahead,gr(t))})),(0,ft.A)(o,(t=>{this.computeLookaheadFunc(e,t.idx,oa,"RepetitionWithSeparator",t.maxLookahead,gr(t))}))}))}))}computeLookaheadFunc(e,t,r,n,i,a){this.TRACE_INIT("".concat(a).concat(0===t?"":t),(()=>{var a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:i||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:n}),o=la(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(o,a)}))}getKeyForAutomaticLookahead(e,t){return la(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},class{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,yt.A)(e,"nodeLocationTracking")?e.nodeLocationTracking:Oa.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=fa,this.setNodeLocationFromNode=fa,this.cstPostRule=En.A,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=En.A,this.setNodeLocationFromNode=En.A,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=da,this.setNodeLocationFromNode=da,this.cstPostRule=En.A,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=En.A,this.setNodeLocationFromNode=En.A,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'.concat(e.nodeLocationTracking,'"'));this.setNodeLocationFromToken=En.A,this.setNodeLocationFromNode=En.A,this.cstPostRule=En.A,this.setInitialNodeLocation=En.A}else this.cstInvocationStateUpdate=En.A,this.cstFinallyStateUpdate=En.A,this.cstPostTerminal=En.A,this.cstPostNonTerminal=En.A,this.cstPostRule=En.A}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){var t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){var t=this.LA(0),r=e.location;r.startOffset<=t.startOffset==1?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){var t=this.LA(0),r=e.location;r.startOffset<=t.startOffset==1?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){var r,n,i,a=this.CST_STACK[this.CST_STACK.length-1];n=t,i=e,void 0===(r=a).children[i]?r.children[i]=[n]:r.children[i].push(n),this.setNodeLocationFromToken(a.location,t)}cstPostNonTerminal(e,t){var r=this.CST_STACK[this.CST_STACK.length-1];!function(e,t,r){void 0===e.children[t]?e.children[t]=[r]:e.children[t].push(r)}(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if((0,Er.A)(this.baseCstVisitorConstructor)){var e=function(e,t){var r=function(){};pa(r,e+"BaseSemantics");var n={visit:function(e,t){if((0,ar.A)(e)&&(e=e[0]),!(0,Er.A)(e))return this[e.name](e.children,t)},validateVisitor:function(){var e=function(e,t){var r=function(e,t){var r=(0,Nr.A)(t,(t=>!1===(0,Sr.A)(e[t]))),n=(0,mt.A)(r,(t=>({msg:"Missing visitor method: <".concat(t,"> on ").concat(e.constructor.name," CST Visitor."),type:ca.MISSING_METHOD,methodName:t})));return Kr(n)}(e,t);return r}(this,t);if(!(0,gt.A)(e)){var r=(0,mt.A)(e,(e=>e.msg));throw Error("Errors Detected in CST Visitor <".concat(this.constructor.name,">:\n\t")+"".concat(r.join("\n\n").replace(/\n/g,"\n\t")))}}};return(r.prototype=n).constructor=r,r._RULE_NAMES=t,r}(this.className,(0,St.A)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if((0,Er.A)(this.baseCstVisitorWithDefaultsConstructor)){var e=function(e,t,r){var n=function(){};pa(n,e+"BaseSemanticsWithDefaults");var i=Object.create(r.prototype);return(0,ft.A)(t,(e=>{i[e]=ga})),(n.prototype=i).constructor=n,n}(this.className,(0,St.A)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){var e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){var e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):_a}LA(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?_a:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},class{initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Tn,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,yt.A)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,ar.A)(e)){if((0,gt.A)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,ar.A)(e))this.tokensMap=(0,Br.A)(e,((e,t)=>(e[t.name]=t,e)),{});else if((0,yt.A)(e,"modes")&&fr((0,xr.A)((0,pt.A)(e.modes)),In)){var r=(0,xr.A)((0,pt.A)(e.modes)),n=br(r);this.tokensMap=(0,Br.A)(n,((e,t)=>(e[t.name]=t,e)),{})}else{if(!(0,ma.A)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,vt.A)(e)}this.tokensMap.EOF=Xn;var i=(0,yt.A)(e,"modes")?(0,xr.A)((0,pt.A)(e.modes)):(0,pt.A)(e),a=fr(i,(e=>(0,gt.A)(e.categoryMatches)));this.tokenMatcher=a?Tn:_n,On((0,pt.A)(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error("Grammar rule <".concat(e,"> may not be defined after the 'performSelfAnalysis' method has been called'\n")+"Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var n,i=(0,yt.A)(r,"resyncEnabled")?r.resyncEnabled:Ba.resyncEnabled,a=(0,yt.A)(r,"recoveryValueFunc")?r.recoveryValueFunc:Ba.recoveryValueFunc,o=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o,n=!0===this.outputCst?function(){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];t.apply(this,n);var l=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(l),l}catch(e){return this.invokeRuleCatch(e,i,a)}finally{this.ruleFinallyStateUpdate()}}:function(){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.apply(this,n)}catch(e){return this.invokeRuleCatch(e,i,a)}finally{this.ruleFinallyStateUpdate()}},Object.assign(n,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){var n=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(Yi(e)){var a=e;if(i){var o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o)){if(a.resyncedTokens=this.reSyncTo(o),this.outputCst){var s=this.CST_STACK[this.CST_STACK.length-1];return s.recoveredNode=!0,s}return r(e)}if(this.outputCst){var l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,a.partialCstResult=l}throw a}if(n)return this.moveToTerminatedState(),r(e);throw a}throw e}optionInternal(e,t){var r=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){var n,i=this.getLaFuncFromCache(r);if("function"!=typeof e){n=e.DEF;var a=e.GATE;if(void 0!==a){var o=i;i=()=>a.call(this)&&o.call(this)}}else n=e;if(!0===i.call(this))return n.call(this)}atLeastOneInternal(e,t){var r=this.getKeyForAutomaticLookahead(aa,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){var n,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;var a=t.GATE;if(void 0!==a){var o=i;i=()=>a.call(this)&&o.call(this)}}else n=t;if(!0!==i.call(this))throw this.raiseEarlyExitException(e,Di.REPETITION_MANDATORY,t.ERR_MSG);for(var s=this.doSingleRepetition(n);!0===i.call(this)&&!0===s;)s=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],i,aa,e,yi)}atLeastOneSepFirstInternal(e,t){var r=this.getKeyForAutomaticLookahead(sa,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){var n=t.DEF,i=t.SEP;if(!0!==this.getLaFuncFromCache(r).call(this))throw this.raiseEarlyExitException(e,Di.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);n.call(this);for(var a=()=>this.tokenMatcher(this.LA(1),i);!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,a,n,vi],a,sa,e,vi)}manyInternal(e,t){var r=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){var n,i=this.getLaFuncFromCache(r);if("function"!=typeof t){n=t.DEF;var a=t.GATE;if(void 0!==a){var o=i;i=()=>a.call(this)&&o.call(this)}}else n=t;for(var s=!0;!0===i.call(this)&&!0===s;)s=this.doSingleRepetition(n);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],i,768,e,gi,s)}manySepFirstInternal(e,t){var r=this.getKeyForAutomaticLookahead(oa,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){var n=t.DEF,i=t.SEP;if(!0===this.getLaFuncFromCache(r).call(this)){n.call(this);for(var a=()=>this.tokenMatcher(this.LA(1),i);!0===this.tokenMatcher(this.LA(1),i);)this.CONSUME(i),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,i,a,n,mi],a,oa,e,mi)}}repetitionSepSecondInternal(e,t,r,n,i){for(;r();)this.CONSUME(t),n.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,n,i],r,sa,e,i)}doSingleRepetition(e){var t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){var r=this.getKeyForAutomaticLookahead(256,t),n=(0,ar.A)(e)?e:e.DEF,i=this.getLaFuncFromCache(r).call(this,n);if(void 0!==i)return n[i].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Ji(t,e))}}subruleInternal(e,t,r){var n;try{var i=void 0!==r?r.ARGS:void 0;return this.subruleIdx=t,n=e.apply(this,i),this.cstPostNonTerminal(n,void 0!==r&&void 0!==r.LABEL?r.LABEL:e.ruleName),n}catch(t){throw this.subruleInternalError(t,r,e.ruleName)}}subruleInternalError(e,t,r){throw Yi(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){var n;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),n=i):this.consumeInternalError(e,i,r)}catch(r){n=this.consumeInternalRecovery(e,t,r)}return this.cstPostTerminal(void 0!==r&&void 0!==r.LABEL?r.LABEL:e.name,n),n}consumeInternalError(e,t,r){var n,i=this.LA(0);throw n=void 0!==r&&r.ERR_MSG?r.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Zi(n,t,i))}consumeInternalRecovery(e,t,r){if(!this.recoveryEnabled||"MismatchedTokenException"!==r.name||this.isBackTracking())throw r;var n=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,n)}catch(e){throw e.name===ra?r:e}}saveRecogState(){var e=this.errors,t=(0,vt.A)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Xn)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},class{ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ba;if(cr(this.definedRulesNames,e)){var n={message:ti.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Ta.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(n)}this.definedRulesNames.push(e);var i=this.defineRule(e,t,r);return this[e]=i,i}OVERRIDE_RULE(e,t){var r,n,i,a,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ba,l=(r=e,n=this.definedRulesNames,i=this.className,o=[],cr(n,r)||(a="Invalid rule override, rule: ->".concat(r,"<- cannot be overridden in the grammar: ->").concat(i,"<-")+"as it is not defined in any of the super grammars ",o.push({message:a,type:Ta.INVALID_RULE_OVERRIDE,ruleName:r})),o);this.definitionErrors=this.definitionErrors.concat(l);var u=this.defineRule(e,t,s);return this[e]=u,u}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);var r=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(Yi(e))return!1;throw e}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return e=(0,pt.A)(this.gastProductionsCache),(0,mt.A)(e,er);var e}},class{initErrorHandler(e){this._errors=[],this.errorMessageProvider=(0,yt.A)(e,"errorMessageProvider")?e.errorMessageProvider:Oa.errorMessageProvider}SAVE_ERROR(e){if(Yi(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,vt.A)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return(0,vt.A)(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){for(var n=this.getCurrRuleFullName(),i=Li(e,this.getGAstProductions()[n],t,this.maxLookahead)[0],a=[],o=1;o<=this.maxLookahead;o++)a.push(this.LA(o));var s=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:i,actual:a,previous:this.LA(0),customUserDescription:r,ruleName:n});throw this.SAVE_ERROR(new ea(s,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){for(var r=this.getCurrRuleFullName(),n=Ni(e,this.getGAstProductions()[r],this.maxLookahead),i=[],a=1;a<=this.maxLookahead;a++)i.push(this.LA(a));var o=this.LA(0),s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:n,actual:i,previous:o,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Qi(s,this.LA(1),o))}},class{initContentAssist(){}computeContentAssist(e,t){var r=this.gastProductionsCache[e];if((0,Er.A)(r))throw Error("Rule ->".concat(e,"<- does not exist in this grammar."));return xi([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){var t=qr(e.ruleStack),r=this.getGAstProductions()[t];return new fi(r,e).startWalking()}},class{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(()=>{for(var t=function(t){var r=t>0?t:"";e["CONSUME".concat(r)]=function(e,r){return this.consumeInternalRecord(e,t,r)},e["SUBRULE".concat(r)]=function(e,r){return this.subruleInternalRecord(e,t,r)},e["OPTION".concat(r)]=function(e){return this.optionInternalRecord(e,t)},e["OR".concat(r)]=function(e){return this.orInternalRecord(e,t)},e["MANY".concat(r)]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP".concat(r)]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE".concat(r)]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP".concat(r)]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},r=0;r<10;r++)t(r);this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD}))}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(()=>{for(var e=this,t=0;t<10;t++){var r=t>0?t:"";delete e["CONSUME".concat(r)],delete e["SUBRULE".concat(r)],delete e["OPTION".concat(r)],delete e["OR".concat(r)],delete e["MANY".concat(r)],delete e["MANY_SEP".concat(r)],delete e["AT_LEAST_ONE".concat(r)],delete e["AT_LEAST_ONE_SEP".concat(r)]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return _a}topLevelRuleRecord(e,t){try{var r=new Ht({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(t){throw e}throw e}}optionInternalRecord(e,t){return ka.call(this,Gt,e,t)}atLeastOneInternalRecord(e,t){ka.call(this,Vt,t,e)}atLeastOneSepFirstInternalRecord(e,t){ka.call(this,Yt,t,e,va)}manyInternalRecord(e,t){ka.call(this,Xt,t,e)}manySepFirstInternalRecord(e,t){ka.call(this,Zt,t,e,va)}orInternalRecord(e,t){return Ea.call(this,e,t)}subruleInternalRecord(e,t,r){if(Ca(t),!e||!1===(0,yt.A)(e,"ruleName")){var n=new Error("<SUBRULE".concat(Aa(t),"> argument is invalid")+" expecting a Parser method reference but got: <".concat(JSON.stringify(e),">")+"\n inside top level rule: <".concat(this.recordingProdStack[0].name,">"));throw n.KNOWN_RECORDER_ERROR=!0,n}var i=(0,An.A)(this.recordingProdStack),a=e.ruleName,o=new Ut({idx:t,nonTerminalName:a,label:null==r?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?Da:ya}consumeInternalRecord(e,t,r){if(Ca(t),!Nn(e)){var n=new Error("<CONSUME".concat(Aa(t),"> argument is invalid")+" expecting a TokenType reference but got: <".concat(JSON.stringify(e),">")+"\n inside top level rule: <".concat(this.recordingProdStack[0].name,">"));throw n.KNOWN_RECORDER_ERROR=!0,n}var i=(0,An.A)(this.recordingProdStack),a=new Jt({idx:t,terminalType:e,label:null==r?void 0:r.LABEL});return i.definition.push(a),wa}},class{initPerformanceTracer(e){if((0,yt.A)(e,"traceInitPerf")){var t=e.traceInitPerf,r="number"==typeof t;this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Oa.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log("".concat(r,"--\x3e <").concat(e,">"));var{time:n,value:i}=Cn(t),a=n>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a("".concat(r,"<-- <").concat(e,"> time: ").concat(n,"ms")),this.traceInitIndent--,i}return t()}}],Fa.forEach((e=>{var t=e.prototype;Object.getOwnPropertyNames(t).forEach((r=>{if("constructor"!==r){var n=Object.getOwnPropertyDescriptor(t,r);n&&(n.get||n.set)?Object.defineProperty(Sa.prototype,r,n):Sa.prototype[r]=e.prototype[r]}}))}));class Ia extends La{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oa,r=(0,vt.A)(t);r.outputCst=!1,super(e,r)}}function Ra(e,t,r){return"".concat(e.name,"_").concat(t,"_").concat(r)}class Ma{constructor(e){this.target=e}isEpsilon(){return!1}}class Pa extends Ma{constructor(e,t){super(e),this.tokenType=t}}class za extends Ma{constructor(e){super(e)}isEpsilon(){return!0}}class $a extends Ma{constructor(e,t,r){super(e),this.rule=t,this.followState=r}isEpsilon(){return!0}}function ja(e,t,r){return r instanceof Jt?Ga(e,t,r.terminalType,r):r instanceof Ut?function(e,t,r){var n=r.referencedRule,i=e.ruleToStartState.get(n),a=Xa(e,t,r,{type:1}),o=Xa(e,t,r,{type:1});return Za(a,new $a(i,n,o)),{left:a,right:o}}(e,t,r):r instanceof Qt?function(e,t,r){var n=Xa(e,t,r,{type:1});Ha(e,n);var i=(0,mt.A)(r.definition,(r=>ja(e,t,r)));return Wa(e,t,n,r,...i)}(e,t,r):r instanceof Gt?function(e,t,r){var n=Xa(e,t,r,{type:1});return Ha(e,n),function(e,t,r,n){var i=n.left;return Ya(i,n.right),e.decisionMap[Ra(t,"Option",r.idx)]=i,n}(e,t,r,Wa(e,t,n,r,Ka(e,t,r)))}(e,t,r):r instanceof Xt?function(e,t,r){var n=Xa(e,t,r,{type:5});return Ha(e,n),Ua(e,t,r,Wa(e,t,n,r,Ka(e,t,r)))}(e,t,r):r instanceof Zt?function(e,t,r){var n=Xa(e,t,r,{type:5});return Ha(e,n),Ua(e,t,r,Wa(e,t,n,r,Ka(e,t,r)),Ga(e,t,r.separator,r))}(e,t,r):r instanceof Vt?function(e,t,r){var n=Xa(e,t,r,{type:4});return Ha(e,n),qa(e,t,r,Wa(e,t,n,r,Ka(e,t,r)))}(e,t,r):r instanceof Yt?function(e,t,r){var n=Xa(e,t,r,{type:4});return Ha(e,n),qa(e,t,r,Wa(e,t,n,r,Ka(e,t,r)),Ga(e,t,r.separator,r))}(e,t,r):Ka(e,t,r)}function Ka(e,t,r){var n=(0,Nr.A)((0,mt.A)(r.definition,(r=>ja(e,t,r))),(e=>void 0!==e));return 1===n.length?n[0]:0===n.length?void 0:function(e,t){for(var r=t.length,n=0;n<r-1;n++){var i=t[n],a=void 0;1===i.left.transitions.length&&(a=i.left.transitions[0]);var o=a instanceof $a,s=a,l=t[n+1].left;1===i.left.type&&1===i.right.type&&void 0!==a&&(o&&s.followState===i.right||a.target===i.right)?(o?s.followState=l:a.target=l,Qa(e,i.right)):Ya(i.right,l)}var u=t[0],c=t[r-1];return{left:u.left,right:c.right}}(e,n)}function qa(e,t,r,n,i){var a=n.left,o=n.right,s=Xa(e,t,r,{type:11});Ha(e,s);var l=Xa(e,t,r,{type:12});return a.loopback=s,l.loopback=s,e.decisionMap[Ra(t,i?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=s,Ya(o,s),void 0===i?(Ya(s,a),Ya(s,l)):(Ya(s,l),Ya(s,i.left),Ya(i.right,a)),{left:a,right:l}}function Ua(e,t,r,n,i){var a=n.left,o=n.right,s=Xa(e,t,r,{type:10});Ha(e,s);var l=Xa(e,t,r,{type:12}),u=Xa(e,t,r,{type:9});return s.loopback=u,l.loopback=u,Ya(s,a),Ya(s,l),Ya(o,u),void 0!==i?(Ya(u,l),Ya(u,i.left),Ya(i.right,a)):Ya(u,s),e.decisionMap[Ra(t,i?"RepetitionWithSeparator":"Repetition",r.idx)]=s,{left:s,right:l}}function Ha(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function Wa(e,t,r,n){var i=Xa(e,t,n,{type:8,start:r});r.end=i;for(var a=arguments.length,o=new Array(a>4?a-4:0),s=4;s<a;s++)o[s-4]=arguments[s];for(var l of o)void 0!==l?(Ya(r,l.left),Ya(l.right,i)):Ya(r,i);var u={left:r,right:i};return e.decisionMap[Ra(t,function(e){if(e instanceof Qt)return"Alternation";if(e instanceof Gt)return"Option";if(e instanceof Xt)return"Repetition";if(e instanceof Zt)return"RepetitionWithSeparator";if(e instanceof Vt)return"RepetitionMandatory";if(e instanceof Yt)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}(n),n.idx)]=r,u}function Ga(e,t,r,n){var i=Xa(e,t,n,{type:1}),a=Xa(e,t,n,{type:1});return Za(i,new Pa(a,r)),{left:i,right:a}}function Va(e,t,r){var n=e.ruleToStartState.get(t);Ya(n,r.left);var i=e.ruleToStopState.get(t);return Ya(r.right,i),{left:n,right:i}}function Ya(e,t){Za(e,new za(t))}function Xa(e,t,r,n){var i=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},n);return e.states.push(i),i}function Za(e,t){0===e.transitions.length&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function Qa(e,t){e.states.splice(e.states.indexOf(t),1)}var Ja={};class eo{constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){var t=to(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return(0,mt.A)(this.configs,(e=>e.alt))}get key(){var e="";for(var t in this.map)e+=t+":";return e}}function to(e){return"".concat(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?"":"a".concat(e.alt),"s").concat(e.state.stateNumber,":").concat(e.stack.map((e=>e.stateNumber.toString())).join("_"))}var ro=r(7431);function no(e,t){var r={};return n=>{var i=n.toString(),a=r[i];return void 0!==a||(a={atnStartState:e,decision:t,states:{}},r[i]=a),a}}class io{constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){for(var e="",t=this.predicates.length,r=0;r<t;r++)e+=!0===this.predicates[r]?"1":"0";return e}}var ao,oo,so,lo,uo,co,ho,fo,po,go,mo,yo,vo,bo,xo,wo,Do,ko,Eo,Ao,Co,_o,To,So,Fo,Oo,Bo,No,Lo,Io,Ro,Mo,Po,zo,$o,jo,Ko,qo,Uo,Ho,Wo,Go,Vo,Yo,Xo,Zo,Qo,Jo,es,ts,rs,ns,is,as,os,ss,ls,us,cs,hs,ds,fs,ps,gs,ms,ys,vs,bs,xs,ws,Ds,ks,Es,As,Cs,_s,Ts,Ss,Fs,Os,Bs=new io;class Ns extends ua{constructor(e){var t;super(),this.logging=null!==(t=null==e?void 0:e.logging)&&void 0!==t?t:e=>console.log(e)}initialize(e){this.atn=function(e){var t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};!function(e,t){for(var r=t.length,n=0;n<r;n++){var i=t[n],a=Xa(e,i,void 0,{type:2}),o=Xa(e,i,void 0,{type:7});a.stop=o,e.ruleToStartState.set(i,a),e.ruleToStopState.set(i,o)}}(t,e);for(var r=e.length,n=0;n<r;n++){var i=e[n],a=Ka(t,i,i);void 0!==a&&Va(t,i,a)}return t}(e.rules),this.dfas=function(e){for(var t=e.decisionStates.length,r=Array(t),n=0;n<t;n++)r[n]=no(e.decisionStates[n],n);return r}(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){var{prodOccurrence:t,rule:r,hasPredicates:n,dynamicTokensEnabled:i}=e,a=this.dfas,o=this.logging,s=Ra(r,"Alternation",t),l=this.atn.decisionMap[s].decision,u=(0,mt.A)(Ei({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:r}),(e=>(0,mt.A)(e,(e=>e[0]))));if(Ls(u,!1)&&!i){var c=(0,Br.A)(u,((e,t,r)=>((0,ft.A)(t,(t=>{t&&(e[t.tokenTypeIdx]=r,(0,ft.A)(t.categoryMatches,(t=>{e[t]=r})))})),e)),{});return n?function(e){var t,r=this.LA(1),n=c[r.tokenTypeIdx];if(void 0!==e&&void 0!==n){var i=null===(t=e[n])||void 0===t?void 0:t.GATE;if(void 0!==i&&!1===i.call(this))return}return n}:function(){var e=this.LA(1);return c[e.tokenTypeIdx]}}return n?function(e){for(var t=new io,r=void 0===e?0:e.length,n=0;n<r;n++){var i=null==e?void 0:e[n].GATE;t.set(n,void 0===i||i.call(this))}var s=Is.call(this,a,l,t,o);return"number"==typeof s?s:void 0}:function(){var e=Is.call(this,a,l,Bs,o);return"number"==typeof e?e:void 0}}buildLookaheadForOptional(e){var{prodOccurrence:t,rule:r,prodType:n,dynamicTokensEnabled:i}=e,a=this.dfas,o=this.logging,s=Ra(r,n,t),l=this.atn.decisionMap[s].decision,u=(0,mt.A)(Ei({maxLookahead:1,occurrence:t,prodType:n,rule:r}),(e=>(0,mt.A)(e,(e=>e[0]))));if(Ls(u)&&u[0][0]&&!i){var c=u[0],h=(0,xr.A)(c);if(1===h.length&&(0,gt.A)(h[0].categoryMatches)){var d=h[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===d}}var f=(0,Br.A)(h,((e,t)=>(void 0!==t&&(e[t.tokenTypeIdx]=!0,(0,ft.A)(t.categoryMatches,(t=>{e[t]=!0}))),e)),{});return function(){var e=this.LA(1);return!0===f[e.tokenTypeIdx]}}return function(){var e=Is.call(this,a,l,Bs,o);return"object"!=typeof e&&0===e}}}function Ls(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new Set;for(var n of e){var i=new Set;for(var a of n){if(void 0===a){if(t)break;return!1}var o=[a.tokenTypeIdx].concat(a.categoryMatches);for(var s of o)if(r.has(s)){if(!i.has(s))return!1}else r.add(s),i.add(s)}}return!0}function Is(e,t,r,n){var i=e[t](r),a=i.start;if(void 0===a){var o=function(e){for(var t=new eo,r=e.transitions.length,n=0;n<r;n++)Us({state:e.transitions[n].target,alt:n,stack:[]},t);return t}(i.atnStartState);a=qs(i,js(o)),i.start=a}return Rs.apply(this,[i,a,r,n])}function Rs(e,t,r,n){for(var i,a=t,o=1,s=[],l=this.LA(o++);;){var u=(i=l,a.edges[i.tokenTypeIdx]);if(void 0===u&&(u=Ms.apply(this,[e,a,l,o,r,n])),u===Ja)return zs(s,a,l);if(!0===u.isAcceptState)return u.prediction;a=u,s.push(l),l=this.LA(o++)}}function Ms(e,t,r,n,i,a){var o=function(e,t,r){var n,i=new eo,a=[];for(var o of e.elements)if(!1!==r.is(o.alt))if(7!==o.state.type)for(var s=o.state.transitions.length,l=0;l<s;l++){var u=$s(o.state.transitions[l],t);void 0!==u&&i.add({state:u,alt:o.alt,stack:o.stack})}else a.push(o);if(0===a.length&&1===i.size&&(n=i),void 0===n)for(var c of(n=new eo,i.elements))Us(c,n);if(a.length>0&&!function(e){for(var t of e.elements)if(7===t.state.type)return!0;return!1}(n))for(var h of a)n.add(h);return n}(t.configs,r,i);if(0===o.size)return Ks(e,t,r,Ja),Ja;var s=js(o),l=function(e,t){var r;for(var n of e.elements)if(!0===t.is(n.alt))if(void 0===r)r=n.alt;else if(r!==n.alt)return;return r}(o,i);if(void 0!==l)s.isAcceptState=!0,s.prediction=l,s.configs.uniqueAlt=l;else if(function(e){if(function(e){for(var t of e.elements)if(7!==t.state.type)return!1;return!0}(e))return!0;var t=function(e){var t=new Map;for(var r of e){var n=to(r,!1),i=t.get(n);void 0===i&&(i={},t.set(n,i)),i[r.alt]=!0}return t}(e.elements);return function(e){for(var t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}(t)&&!function(e){for(var t of Array.from(e.values()))if(1===Object.keys(t).length)return!0;return!1}(t)}(o)){var u=(0,ro.A)(o.alts);s.isAcceptState=!0,s.prediction=u,s.configs.uniqueAlt=u,Ps.apply(this,[e,n,o.alts,a])}return Ks(e,t,r,s)}function Ps(e,t,r,n){for(var i=[],a=1;a<=t;a++)i.push(this.LA(a).tokenType);var o,s,l,u,c=e.atnStartState;n((o={topLevelRule:c.rule,ambiguityIndices:r,production:c.production,prefixPath:i},s=(0,mt.A)(o.prefixPath,(e=>zn(e))).join(", "),l=0===o.production.idx?"":o.production.idx,u="Ambiguous Alternatives Detected: <".concat(o.ambiguityIndices.join(", "),"> in <").concat(function(e){if(e instanceof Ut)return"SUBRULE";if(e instanceof Gt)return"OPTION";if(e instanceof Qt)return"OR";if(e instanceof Vt)return"AT_LEAST_ONE";if(e instanceof Yt)return"AT_LEAST_ONE_SEP";if(e instanceof Zt)return"MANY_SEP";if(e instanceof Xt)return"MANY";if(e instanceof Jt)return"CONSUME";throw Error("non exhaustive match")}(o.production)).concat(l,">")+" inside <".concat(o.topLevelRule.name,"> Rule,\n")+"<".concat(s,"> may appears as a prefix path in all these alternatives.\n"),u+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details."))}function zs(e,t,r){var n,i,a=ni(t.configs.elements,(e=>e.state.transitions));return{actualToken:r,possibleTokenTypes:(n=a.filter((e=>e instanceof Pa)).map((e=>e.tokenType)),i=e=>e.tokenTypeIdx,n&&n.length?(0,vr.A)(n,(0,Nt.A)(i,2)):[]),tokenPath:e}}function $s(e,t){if(e instanceof Pa&&Qn(t,e.tokenType))return e.target}function js(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function Ks(e,t,r,n){return n=qs(e,n),t.edges[r.tokenTypeIdx]=n,n}function qs(e,t){if(t===Ja)return t;var r=t.configs.key,n=e.states[r];return void 0!==n?n:(t.configs.finalize(),e.states[r]=t,t)}function Us(e,t){var r=e.state;if(7!==r.type){r.epsilonOnlyTransitions||t.add(e);for(var n=r.transitions.length,i=0;i<n;i++){var a=Hs(e,r.transitions[i]);void 0!==a&&Us(a,t)}}else if(e.stack.length>0){var o=[...e.stack];Us({state:o.pop(),alt:e.alt,stack:o},t)}else t.add(e)}function Hs(e,t){if(t instanceof za)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof $a){var r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}!function(e){e.is=function(e){return"string"==typeof e}}(ao||(ao={})),function(e){e.is=function(e){return"string"==typeof e}}(oo||(oo={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(so||(so={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(lo||(lo={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=lo.MAX_VALUE),t===Number.MAX_VALUE&&(t=lo.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return Os.objectLiteral(t)&&Os.uinteger(t.line)&&Os.uinteger(t.character)}}(uo||(uo={})),function(e){e.create=function(e,t,r,n){if(Os.uinteger(e)&&Os.uinteger(t)&&Os.uinteger(r)&&Os.uinteger(n))return{start:uo.create(e,t),end:uo.create(r,n)};if(uo.is(e)&&uo.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(r,", ").concat(n,"]"))},e.is=function(e){var t=e;return Os.objectLiteral(t)&&uo.is(t.start)&&uo.is(t.end)}}(co||(co={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Os.objectLiteral(t)&&co.is(t.range)&&(Os.string(t.uri)||Os.undefined(t.uri))}}(ho||(ho={})),function(e){e.create=function(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}},e.is=function(e){var t=e;return Os.objectLiteral(t)&&co.is(t.targetRange)&&Os.string(t.targetUri)&&co.is(t.targetSelectionRange)&&(co.is(t.originSelectionRange)||Os.undefined(t.originSelectionRange))}}(fo||(fo={})),function(e){e.create=function(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}},e.is=function(e){var t=e;return Os.objectLiteral(t)&&Os.numberRange(t.red,0,1)&&Os.numberRange(t.green,0,1)&&Os.numberRange(t.blue,0,1)&&Os.numberRange(t.alpha,0,1)}}(po||(po={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return Os.objectLiteral(t)&&co.is(t.range)&&po.is(t.color)}}(go||(go={})),function(e){e.create=function(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}},e.is=function(e){var t=e;return Os.objectLiteral(t)&&Os.string(t.label)&&(Os.undefined(t.textEdit)||Ao.is(t))&&(Os.undefined(t.additionalTextEdits)||Os.typedArray(t.additionalTextEdits,Ao.is))}}(mo||(mo={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(yo||(yo={})),function(e){e.create=function(e,t,r,n,i,a){var o={startLine:e,endLine:t};return Os.defined(r)&&(o.startCharacter=r),Os.defined(n)&&(o.endCharacter=n),Os.defined(i)&&(o.kind=i),Os.defined(a)&&(o.collapsedText=a),o},e.is=function(e){var t=e;return Os.objectLiteral(t)&&Os.uinteger(t.startLine)&&Os.uinteger(t.startLine)&&(Os.undefined(t.startCharacter)||Os.uinteger(t.startCharacter))&&(Os.undefined(t.endCharacter)||Os.uinteger(t.endCharacter))&&(Os.undefined(t.kind)||Os.string(t.kind))}}(vo||(vo={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Os.defined(t)&&ho.is(t.location)&&Os.string(t.message)}}(bo||(bo={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(xo||(xo={})),function(e){e.Unnecessary=1,e.Deprecated=2}(wo||(wo={})),function(e){e.is=function(e){var t=e;return Os.objectLiteral(t)&&Os.string(t.href)}}(Do||(Do={})),function(e){e.create=function(e,t,r,n,i,a){var o={range:e,message:t};return Os.defined(r)&&(o.severity=r),Os.defined(n)&&(o.code=n),Os.defined(i)&&(o.source=i),Os.defined(a)&&(o.relatedInformation=a),o},e.is=function(e){var t,r=e;return Os.defined(r)&&co.is(r.range)&&Os.string(r.message)&&(Os.number(r.severity)||Os.undefined(r.severity))&&(Os.integer(r.code)||Os.string(r.code)||Os.undefined(r.code))&&(Os.undefined(r.codeDescription)||Os.string(null===(t=r.codeDescription)||void 0===t?void 0:t.href))&&(Os.string(r.source)||Os.undefined(r.source))&&(Os.undefined(r.relatedInformation)||Os.typedArray(r.relatedInformation,bo.is))}}(ko||(ko={})),function(e){e.create=function(e,t){for(var r={title:e,command:t},n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return Os.defined(i)&&i.length>0&&(r.arguments=i),r},e.is=function(e){var t=e;return Os.defined(t)&&Os.string(t.title)&&Os.string(t.command)}}(Eo||(Eo={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Os.objectLiteral(t)&&Os.string(t.newText)&&co.is(t.range)}}(Ao||(Ao={})),function(e){e.create=function(e,t,r){var n={label:e};return void 0!==t&&(n.needsConfirmation=t),void 0!==r&&(n.description=r),n},e.is=function(e){var t=e;return Os.objectLiteral(t)&&Os.string(t.label)&&(Os.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Os.string(t.description)||void 0===t.description)}}(Co||(Co={})),function(e){e.is=function(e){var t=e;return Os.string(t)}}(_o||(_o={})),function(e){e.replace=function(e,t,r){return{range:e,newText:t,annotationId:r}},e.insert=function(e,t,r){return{range:{start:e,end:e},newText:t,annotationId:r}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return Ao.is(t)&&(Co.is(t.annotationId)||_o.is(t.annotationId))}}(To||(To={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Os.defined(t)&&Ro.is(t.textDocument)&&Array.isArray(t.edits)}}(So||(So={})),function(e){e.create=function(e,t,r){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),void 0!==r&&(n.annotationId=r),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&Os.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Os.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Os.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||_o.is(t.annotationId))}}(Fo||(Fo={})),function(e){e.create=function(e,t,r,n){var i={kind:"rename",oldUri:e,newUri:t};return void 0===r||void 0===r.overwrite&&void 0===r.ignoreIfExists||(i.options=r),void 0!==n&&(i.annotationId=n),i},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Os.string(t.oldUri)&&Os.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Os.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Os.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||_o.is(t.annotationId))}}(Oo||(Oo={})),function(e){e.create=function(e,t,r){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),void 0!==r&&(n.annotationId=r),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Os.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Os.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Os.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||_o.is(t.annotationId))}}(Bo||(Bo={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((e=>Os.string(e.kind)?Fo.is(e)||Oo.is(e)||Bo.is(e):So.is(e))))}}(No||(No={})),function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Os.defined(t)&&Os.string(t.uri)}}(Lo||(Lo={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Os.defined(t)&&Os.string(t.uri)&&Os.integer(t.version)}}(Io||(Io={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Os.defined(t)&&Os.string(t.uri)&&(null===t.version||Os.integer(t.version))}}(Ro||(Ro={})),function(e){e.create=function(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}},e.is=function(e){var t=e;return Os.defined(t)&&Os.string(t.uri)&&Os.string(t.languageId)&&Os.integer(t.version)&&Os.string(t.text)}}(Mo||(Mo={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var r=t;return r===e.PlainText||r===e.Markdown}}(Po||(Po={})),function(e){e.is=function(e){var t=e;return Os.objectLiteral(e)&&Po.is(t.kind)&&Os.string(t.value)}}(zo||(zo={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}($o||($o={})),function(e){e.PlainText=1,e.Snippet=2}(jo||(jo={})),function(e){e.Deprecated=1}(Ko||(Ko={})),function(e){e.create=function(e,t,r){return{newText:e,insert:t,replace:r}},e.is=function(e){var t=e;return t&&Os.string(t.newText)&&co.is(t.insert)&&co.is(t.replace)}}(qo||(qo={})),function(e){e.asIs=1,e.adjustIndentation=2}(Uo||(Uo={})),function(e){e.is=function(e){var t=e;return t&&(Os.string(t.detail)||void 0===t.detail)&&(Os.string(t.description)||void 0===t.description)}}(Ho||(Ho={})),function(e){e.create=function(e){return{label:e}}}(Wo||(Wo={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(Go||(Go={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Os.string(t)||Os.objectLiteral(t)&&Os.string(t.language)&&Os.string(t.value)}}(Vo||(Vo={})),function(e){e.is=function(e){var t=e;return!!t&&Os.objectLiteral(t)&&(zo.is(t.contents)||Vo.is(t.contents)||Os.typedArray(t.contents,Vo.is))&&(void 0===e.range||co.is(e.range))}}(Yo||(Yo={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(Xo||(Xo={})),function(e){e.create=function(e,t){var r={label:e};Os.defined(t)&&(r.documentation=t);for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return Os.defined(i)?r.parameters=i:r.parameters=[],r}}(Zo||(Zo={})),function(e){e.Text=1,e.Read=2,e.Write=3}(Qo||(Qo={})),function(e){e.create=function(e,t){var r={range:e};return Os.number(t)&&(r.kind=t),r}}(Jo||(Jo={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(es||(es={})),function(e){e.Deprecated=1}(ts||(ts={})),function(e){e.create=function(e,t,r,n,i){var a={name:e,kind:t,location:{uri:n,range:r}};return i&&(a.containerName=i),a}}(rs||(rs={})),function(e){e.create=function(e,t,r,n){return void 0!==n?{name:e,kind:t,location:{uri:r,range:n}}:{name:e,kind:t,location:{uri:r}}}}(ns||(ns={})),function(e){e.create=function(e,t,r,n,i,a){var o={name:e,detail:t,kind:r,range:n,selectionRange:i};return void 0!==a&&(o.children=a),o},e.is=function(e){var t=e;return t&&Os.string(t.name)&&Os.number(t.kind)&&co.is(t.range)&&co.is(t.selectionRange)&&(void 0===t.detail||Os.string(t.detail))&&(void 0===t.deprecated||Os.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(is||(is={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(as||(as={})),function(e){e.Invoked=1,e.Automatic=2}(os||(os={})),function(e){e.create=function(e,t,r){var n={diagnostics:e};return null!=t&&(n.only=t),null!=r&&(n.triggerKind=r),n},e.is=function(e){var t=e;return Os.defined(t)&&Os.typedArray(t.diagnostics,ko.is)&&(void 0===t.only||Os.typedArray(t.only,Os.string))&&(void 0===t.triggerKind||t.triggerKind===os.Invoked||t.triggerKind===os.Automatic)}}(ss||(ss={})),function(e){e.create=function(e,t,r){var n={title:e},i=!0;return"string"==typeof t?(i=!1,n.kind=t):Eo.is(t)?n.command=t:n.edit=t,i&&void 0!==r&&(n.kind=r),n},e.is=function(e){var t=e;return t&&Os.string(t.title)&&(void 0===t.diagnostics||Os.typedArray(t.diagnostics,ko.is))&&(void 0===t.kind||Os.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||Eo.is(t.command))&&(void 0===t.isPreferred||Os.boolean(t.isPreferred))&&(void 0===t.edit||No.is(t.edit))}}(ls||(ls={})),function(e){e.create=function(e,t){var r={range:e};return Os.defined(t)&&(r.data=t),r},e.is=function(e){var t=e;return Os.defined(t)&&co.is(t.range)&&(Os.undefined(t.command)||Eo.is(t.command))}}(us||(us={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Os.defined(t)&&Os.uinteger(t.tabSize)&&Os.boolean(t.insertSpaces)}}(cs||(cs={})),function(e){e.create=function(e,t,r){return{range:e,target:t,data:r}},e.is=function(e){var t=e;return Os.defined(t)&&co.is(t.range)&&(Os.undefined(t.target)||Os.string(t.target))}}(hs||(hs={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var r=t;return Os.objectLiteral(r)&&co.is(r.range)&&(void 0===r.parent||e.is(r.parent))}}(ds||(ds={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(fs||(fs={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(ps||(ps={})),function(e){e.is=function(e){var t=e;return Os.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(gs||(gs={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&co.is(t.range)&&Os.string(t.text)}}(ms||(ms={})),function(e){e.create=function(e,t,r){return{range:e,variableName:t,caseSensitiveLookup:r}},e.is=function(e){var t=e;return null!=t&&co.is(t.range)&&Os.boolean(t.caseSensitiveLookup)&&(Os.string(t.variableName)||void 0===t.variableName)}}(ys||(ys={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&co.is(t.range)&&(Os.string(t.expression)||void 0===t.expression)}}(vs||(vs={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return Os.defined(t)&&co.is(e.stoppedLocation)}}(bs||(bs={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(xs||(xs={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return Os.objectLiteral(t)&&(void 0===t.tooltip||Os.string(t.tooltip)||zo.is(t.tooltip))&&(void 0===t.location||ho.is(t.location))&&(void 0===t.command||Eo.is(t.command))}}(ws||(ws={})),function(e){e.create=function(e,t,r){var n={position:e,label:t};return void 0!==r&&(n.kind=r),n},e.is=function(e){var t=e;return Os.objectLiteral(t)&&uo.is(t.position)&&(Os.string(t.label)||Os.typedArray(t.label,ws.is))&&(void 0===t.kind||xs.is(t.kind))&&void 0===t.textEdits||Os.typedArray(t.textEdits,Ao.is)&&(void 0===t.tooltip||Os.string(t.tooltip)||zo.is(t.tooltip))&&(void 0===t.paddingLeft||Os.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Os.boolean(t.paddingRight))}}(Ds||(Ds={})),function(e){e.createSnippet=function(e){return{kind:"snippet",value:e}}}(ks||(ks={})),function(e){e.create=function(e,t,r,n){return{insertText:e,filterText:t,range:r,command:n}}}(Es||(Es={})),function(e){e.create=function(e){return{items:e}}}(As||(As={})),function(e){e.Invoked=0,e.Automatic=1}(Cs||(Cs={})),function(e){e.create=function(e,t){return{range:e,text:t}}}(_s||(_s={})),function(e){e.create=function(e,t){return{triggerKind:e,selectedCompletionInfo:t}}}(Ts||(Ts={})),function(e){e.is=function(e){var t=e;return Os.objectLiteral(t)&&oo.is(t.uri)&&Os.string(t.name)}}(Ss||(Ss={})),function(e){function t(e,r){if(e.length<=1)return e;var n=e.length/2|0,i=e.slice(0,n),a=e.slice(n);t(i,r),t(a,r);for(var o=0,s=0,l=0;o<i.length&&s<a.length;){var u=r(i[o],a[s]);e[l++]=u<=0?i[o++]:a[s++]}for(;o<i.length;)e[l++]=i[o++];for(;s<a.length;)e[l++]=a[s++];return e}e.create=function(e,t,r,n){return new Ws(e,t,r,n)},e.is=function(e){var t=e;return!!(Os.defined(t)&&Os.string(t.uri)&&(Os.undefined(t.languageId)||Os.string(t.languageId))&&Os.uinteger(t.lineCount)&&Os.func(t.getText)&&Os.func(t.positionAt)&&Os.func(t.offsetAt))},e.applyEdits=function(e,r){for(var n=e.getText(),i=t(r,((e,t)=>{var r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),a=n.length,o=i.length-1;o>=0;o--){var s=i[o],l=e.offsetAt(s.range.start),u=e.offsetAt(s.range.end);if(!(u<=a))throw new Error("Overlapping edit");n=n.substring(0,l)+s.newText+n.substring(u,n.length),a=l}return n}}(Fs||(Fs={}));class Ws{constructor(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){var t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,r=!0,n=0;n<t.length;n++){r&&(e.push(n),r=!1);var i=t.charAt(n);r="\r"===i||"\n"===i,"\r"===i&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return uo.create(0,e);for(;r<n;){var i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}var a=r-1;return uo.create(a,e-t[a])}offsetAt(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)}get lineCount(){return this.getLineOffsets().length}}!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,r,n){return"[object Number]"===t.call(e)&&r<=e&&e<=n},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Os||(Os={}));class Gs{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new Qs(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){var t=new Xs;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){var r=new Ys(e.startOffset,e.image.length,b(e),e.tokenType,!1);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){var t=e.container;if(t){var r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}construct(e){var t=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=t;var r=this.nodeStack.pop();0===(null==r?void 0:r.content.length)&&this.removeNode(r)}addHiddenTokens(e){for(var t of e){var r=new Ys(t.startOffset,t.image.length,b(t),t.tokenType,!0);r.root=this.rootNode,this.addHiddenToken(this.rootNode,r)}}addHiddenToken(e,t){for(var{offset:r,end:n}=t,i=0;i<e.content.length;i++){var a=e.content[i],{offset:o,end:l}=a;if(s(a)&&r>o&&n<l)return void this.addHiddenToken(a,t);if(n<=o)return void e.content.splice(i,0,t)}e.content.push(t)}}class Vs{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t,r="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(t=this.container)||void 0===t?void 0:t.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class Ys extends Vs{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this._hidden=i,this._offset=e,this._tokenType=n,this._length=t,this._range=r}}class Xs extends Vs{constructor(){super(...arguments),this.content=new Zs(this)}get children(){return this.content}get offset(){var e,t;return null!==(t=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==t?t:0}get length(){return this.end-this.offset}get end(){var e,t;return null!==(t=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==t?t:0}get range(){var e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(void 0===this._rangeCache){var{range:r}=e,{range:n}=t;this._rangeCache={start:r.start,end:n.end.line<r.start.line?r.start:n.end}}return this._rangeCache}return{start:uo.create(0,0),end:uo.create(0,0)}}get firstNonHiddenNode(){for(var e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(var e=this.content.length-1;e>=0;e--){var t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}}class Zs extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,Zs.prototype)}push(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.addParents(t),super.push(...t)}unshift(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.addParents(t),super.unshift(...t)}splice(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return this.addParents(n),super.splice(e,t,...n)}addParents(e){for(var t of e)t.container=this.parent}}class Qs extends Xs{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=null!=e?e:""}}var Js=Symbol("Datatype");function el(e){return e.$type===Js}var tl=e=>e.endsWith("​")?e:e+"​";class rl{constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;var t=this.lexer.definition;this.wrapper=new ul(t,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class nl extends rl{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new Gs,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){var r=e.fragment?void 0:it(e)?Js:st(e),n=this.wrapper.DEFINE_RULE(tl(e.name),this.startImplementation(r,t).bind(this));return e.entry&&(this.mainRule=n),n}parse(e){this.nodeBuilder.buildRootNode(e);var t=this.lexer.tokenize(e);this.wrapper.input=t.tokens;var r=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(t.hidden),this.unorderedGroups.clear(),{value:r,lexerErrors:t.errors,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{if(!this.isRecording()){var n={$type:e};this.stack.push(n),e===Js&&(n.value="")}var i;try{i=t(r)}catch(e){i=void 0}return this.isRecording()||void 0!==i||(i=this.construct()),i}}consume(e,t,r){var n=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(n)){var i=this.nodeBuilder.buildLeafNode(n,r),{assignment:a,isCrossRef:o}=this.getAssignment(r),s=this.current;if(a){var l=oe(r)?n.image:this.converter.convert(n.image,i);this.assign(a.operator,a.feature,l,i,o)}else if(el(s)){var u=n.image;oe(r)||(u=this.converter.convert(u,i).toString()),s.value+=u}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,t,r,n){var i;this.isRecording()||(i=this.nodeBuilder.buildCompositeNode(r));var a=this.wrapper.wrapSubrule(e,t,n);!this.isRecording()&&i&&i.length>0&&this.performSubruleAssignment(a,r,i)}performSubruleAssignment(e,t,r){var{assignment:n,isCrossRef:i}=this.getAssignment(t);if(n)this.assign(n.operator,n.feature,e,r,i);else if(!n){var a=this.current;if(el(a))a.value+=e.toString();else if("object"==typeof e&&e){var o=e.$type,s=this.assignWithoutOverride(e,a);o&&(s.$type=o);var l=s;this.stack.pop(),this.stack.push(l)}}}action(e,t){if(!this.isRecording()){var r=this.current;if(!r.$cstNode&&t.feature&&t.operator){var n=(r=this.construct(!1)).$cstNode.feature;this.nodeBuilder.buildCompositeNode(n)}var i={$type:e};this.stack.pop(),this.stack.push(i),t.feature&&t.operator&&this.assign(t.operator,t.feature,r,r.$cstNode,!1)}}construct(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.isRecording()){var t=this.current;return function(e){var t=function(t){t.startsWith("$")||(Array.isArray(i)?i.forEach(((r,i)=>{n(r)&&(r.$container=e,r.$containerProperty=t,r.$containerIndex=i)})):n(i)&&(i.$container=e,i.$containerProperty=t))};for(var[r,i]of Object.entries(e))t(r)}(t),this.nodeBuilder.construct(t),e&&this.stack.pop(),el(t)?this.converter.convert(t.value,t.$cstNode):(function(e,t){var r=e.getTypeMetaData(t.$type),n=t;for(var i of r.properties)void 0!==i.defaultValue&&void 0===n[i.name]&&(n[i.name]=Te(i.defaultValue))}(this.astReflection,t),t)}}getAssignment(e){if(!this.assignmentMap.has(e)){var t=we(e,Q);this.assignmentMap.set(e,{assignment:t,isCrossRef:!!t&&te(t.terminal)})}return this.assignmentMap.get(e)}assign(e,t,r,n,i){var a,o=this.current;switch(a=i&&"string"==typeof r?this.linker.buildReference(o,t,n,r):r,e){case"=":o[t]=a;break;case"?=":o[t]=!0;break;case"+=":Array.isArray(o[t])||(o[t]=[]),o[t].push(a)}}assignWithoutOverride(e,t){for(var[r,n]of Object.entries(t)){var i=e[r];void 0===i?e[r]=n:Array.isArray(i)&&Array.isArray(n)&&(n.push(...i),e[r]=n)}return e}get definitionErrors(){return this.wrapper.definitionErrors}}class il{buildMismatchTokenMessage(e){return Jn.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return Jn.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return Jn.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return Jn.buildEarlyExitMessage(e)}}class al extends il{buildMismatchTokenMessage(e){var{expected:t,actual:r}=e,n=t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?"keyword '".concat(t.name.substring(0,t.name.length-3),"'"):"token of type '".concat(t.name,"'");return"Expecting ".concat(n," but found `").concat(r.image,"`.")}buildNotAllInputParsedMessage(e){var{firstRedundant:t}=e;return"Expecting end of file but found `".concat(t.image,"`.")}}class ol extends rl{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();var t=this.lexer.tokenize(e);return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){var r=this.wrapper.DEFINE_RULE(tl(e.name),this.startImplementation(t).bind(this));return e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{var r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){var e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,n){this.before(r),this.wrapper.wrapSubrule(e,t,n),this.after(r)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){var t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}}var sl,ll={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new al};class ul extends Ia{constructor(e,t){var r=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},ll),{lookaheadStrategy:r?new ua({maxLookahead:t.maxLookahead}):new Ns}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}function cl(e,t,r){return function(e,t){var r=Qe(t,!1),n=m(t.rules).filter($).filter((e=>r.has(e)));for(var i of n){var a=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});a.rules.set(i.name,e.parser.rule(i,hl(a,i.definition)))}}({parser:t,tokens:r,rules:new Map,ruleNames:new Map},e),t}function hl(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(oe(t))r=function(e,t){var r=e.consume++,n=e.tokens[t.value];if(!n)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}(e,t);else if(V(t))r=function(e,t){var r=st(t);return()=>e.parser.action(r,t)}(e,t);else if(Q(t))r=hl(e,t.terminal);else if(te(t))r=pl(e,t);else if(ce(t))r=function(e,t){var r=t.rule.ref;if($(r)){var n=e.subrule++,i=t.arguments.length>0?function(e,t){var r=t.map((e=>dl(e.value)));return t=>{for(var n={},i=0;i<r.length;i++){var a=e.parameters[i],o=r[i];n[a.name]=o(t)}return n}}(r,t.arguments):()=>({});return a=>e.parser.subrule(n,ml(e,r),t,i(a))}if(U(r)){var a=e.consume++,o=yl(e,r.name);return()=>e.parser.consume(a,o,t)}if(!r)throw new k(t.$cstNode,"Undefined rule type: ".concat(t.$type));E()}(e,t);else if(X(t))r=function(e,t){if(1===t.elements.length)return hl(e,t.elements[0]);var r=[];for(var n of t.elements){var i={ALT:hl(e,n,!0)},a=fl(n);a&&(i.GATE=dl(a)),r.push(i)}var o=e.or++;return t=>e.parser.alternatives(o,r.map((e=>{var r={ALT:()=>e.ALT(t)},n=e.GATE;return n&&(r.GATE=()=>n(t)),r})))}(e,t);else if(me(t))r=function(e,t){if(1===t.elements.length)return hl(e,t.elements[0]);var r=[];for(var n of t.elements){var i={ALT:hl(e,n,!0)},a=fl(n);a&&(i.GATE=dl(a)),r.push(i)}var o=e.or++,s=(e,t)=>{var r=t.getRuleStack().join("-");return"uGroup_".concat(e,"_").concat(r)},l=gl(e,fl(t),(t=>e.parser.alternatives(o,r.map(((r,n)=>{var i={ALT:()=>!0},a=e.parser;i.ALT=()=>{if(r.ALT(t),!a.isRecording()){var e=s(o,a);a.unorderedGroups.get(e)||a.unorderedGroups.set(e,[]);var i=a.unorderedGroups.get(e);void 0===(null==i?void 0:i[n])&&(i[n]=!0)}};var l=r.GATE;return i.GATE=l?()=>l(t):()=>{var e=a.unorderedGroups.get(s(o,a));return!(null==e?void 0:e[n])},i})))),"*");return t=>{l(t),e.parser.isRecording()||e.parser.unorderedGroups.delete(s(o,e.parser))}}(e,t);else if(ie(t))r=function(e,t){var r=t.elements.map((t=>hl(e,t)));return e=>r.forEach((t=>t(e)))}(e,t);else{if(n=t,!xe.isInstance(n,re))throw new k(t.$cstNode,"Unexpected element type: ".concat(t.$type));var a=e.consume++;r=()=>e.parser.consume(a,Xn,t)}return gl(e,i?void 0:fl(t),r,t.cardinality)}function dl(e){if(l=e,xe.isInstance(l,B)){var t=dl(e.left),r=dl(e.right);return e=>t(e)||r(e)}if(function(e){return xe.isInstance(e,O)}(e)){var n=dl(e.left),i=dl(e.right);return e=>n(e)&&i(e)}if(function(e){return xe.isInstance(e,M)}(e)){var a=dl(e.value);return e=>!a(e)}if(function(e){return xe.isInstance(e,P)}(e)){var o=e.parameter.ref.name;return e=>void 0!==e&&!0===e[o]}if(function(e){return xe.isInstance(e,F)}(e)){var s=Boolean(e.true);return()=>s}var l;E()}function fl(e){if(ie(e))return e.guardCondition}function pl(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.terminal;if(r){if(ce(r)&&$(r.rule.ref)){var n=e.subrule++;return i=>e.parser.subrule(n,ml(e,r.rule.ref),t,i)}if(ce(r)&&U(r.rule.ref)){var i=e.consume++,a=yl(e,r.rule.ref.name);return()=>e.parser.consume(i,a,t)}if(oe(r)){var o=e.consume++,s=yl(e,r.value);return()=>e.parser.consume(o,s,t)}throw new Error("Could not build cross reference parser")}if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);var l=rt(t.type.ref),u=null==l?void 0:l.terminal;if(!u)throw new Error("Could not find name assignment for type: "+st(t.type.ref));return pl(e,t,u)}function gl(e,t,r,n){var i=t&&dl(t);if(!n){if(i){var a=e.or++;return t=>e.parser.alternatives(a,[{ALT:()=>r(t),GATE:()=>i(t)},{ALT:Na(),GATE:()=>!i(t)}])}return r}if("*"===n){var o=e.many++;return t=>e.parser.many(o,{DEF:()=>r(t),GATE:i?()=>i(t):void 0})}if("+"===n){var s=e.many++;if(i){var l=e.or++;return t=>e.parser.alternatives(l,[{ALT:()=>e.parser.atLeastOne(s,{DEF:()=>r(t)}),GATE:()=>i(t)},{ALT:Na(),GATE:()=>!i(t)}])}return t=>e.parser.atLeastOne(s,{DEF:()=>r(t)})}if("?"===n){var u=e.optional++;return t=>e.parser.optional(u,{DEF:()=>r(t),GATE:i?()=>i(t):void 0})}E()}function ml(e,t){var r=function(e,t){if($(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);for(var r=t,n=r.$container,i=t.$type;!$(n);)(ie(n)||X(n)||me(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}(e,t),n=e.rules.get(r);if(!n)throw new Error('Rule "'.concat(r,'" not found."'));return n}function yl(e,t){var r=e.tokens[t];if(!r)throw new Error('Token "'.concat(t,'" not found."'));return r}class vl{buildTokens(e,t){var r=m(Qe(e,!1)),n=this.buildTerminalTokens(r),i=this.buildKeywordTokens(r,n,t);return n.forEach((e=>{var t=e.PATTERN;"object"==typeof t&&t&&"test"in t&&Xe(t)?i.unshift(e):i.push(e)})),i}buildTerminalTokens(e){return e.filter(U).filter((e=>!e.fragment)).map((e=>this.buildTerminalToken(e))).toArray()}buildTerminalToken(e){var t=lt(e),r=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,n={name:e.name,PATTERN:r,LINE_BREAKS:!0};return e.hidden&&(n.GROUP=Xe(t)?Pn.SKIPPED:"hidden"),n}requiresCustomPattern(e){return!!e.flags.includes("u")||!(!e.source.includes("?<=")&&!e.source.includes("?<!"))}regexPatternFunction(e){var t=new RegExp(e,e.flags+"y");return(e,r)=>(t.lastIndex=r,t.exec(e))}buildKeywordTokens(e,t,r){return e.filter($).flatMap((e=>Ee(e).filter(oe))).distinct((e=>e.value)).toArray().sort(((e,t)=>t.value.length-e.value.length)).map((e=>this.buildKeywordToken(e,t,Boolean(null==r?void 0:r.caseInsensitive))))}buildKeywordToken(e,t,r){return{name:e.value,PATTERN:this.buildKeywordPattern(e,r),LONGER_ALT:this.findLongerAlt(e,t)}}buildKeywordPattern(e,t){return t?new RegExp(function(e){return Array.prototype.map.call(e,(e=>/\w/.test(e)?"[".concat(e.toLowerCase()).concat(e.toUpperCase(),"]"):Ze(e))).join("")}(e.value)):e.value}findLongerAlt(e,t){return t.reduce(((t,r)=>{var n,i,a,o,s=null==r?void 0:r.PATTERN;return(null==s?void 0:s.source)&&(n="^"+s.source+"$",i=e.value,a=function(e){"string"==typeof e&&(e=new RegExp(e));var t=e,r=e.source,n=0;return new RegExp(function e(){var i,a="";function o(e){a+=r.substr(n,e),n+=e}function s(e){a+="(?:"+r.substr(n,e)+"|$)",n+=e}for(;n<r.length;)switch(r[n]){case"\\":switch(r[n+1]){case"c":s(3);break;case"x":s(4);break;case"u":t.unicode?"{"===r[n+2]?s(r.indexOf("}",n)-n+1):s(6):s(2);break;case"p":case"P":t.unicode?s(r.indexOf("}",n)-n+1):s(2);break;case"k":s(r.indexOf(">",n)-n+1);break;default:s(2)}break;case"[":(i=/\[(?:\\.|.)*?\]/g).lastIndex=n,s((i=i.exec(r)||[])[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":o(1);break;case"{":(i=/\{\d+,?\d*\}/g).lastIndex=n,(i=i.exec(r))?o(i[0].length):s(1);break;case"(":if("?"===r[n+1])switch(r[n+2]){case":":a+="(?:",n+=3,a+=e()+"|$)";break;case"=":a+="(?=",n+=3,a+=e()+")";break;case"!":i=n,n+=3,e(),a+=r.substr(i,n-i);break;case"<":switch(r[n+3]){case"=":case"!":i=n,n+=4,e(),a+=r.substr(i,n-i);break;default:o(r.indexOf(">",n)-n+1),a+=e()+"|$)"}}else o(1),a+=e()+"|$)";break;case")":return++n,a;default:s(1)}return a}(),e.flags)}(n),!!(o=i.match(a))&&o[0].length>0)&&t.push(r),t}),[])}}class bl{convert(e,t){var r=t.grammarSource;if(te(r)&&(r=function(e){if(e.terminal)return e.terminal;if(e.type.ref){var t=rt(e.type.ref);return null==t?void 0:t.terminal}}(r)),ce(r)){var n=r.rule.ref;if(!n)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(n,e,t)}return e}runConverter(e,t,r){var n;switch(e.name.toUpperCase()){case"INT":return sl.convertInt(t);case"STRING":return sl.convertString(t);case"ID":return sl.convertID(t)}switch(null===(n=function(e){var t,r,n;return U(e)?null!==(r=null===(t=e.type)||void 0===t?void 0:t.name)&&void 0!==r?r:"string":it(e)?e.name:null!==(n=ot(e))&&void 0!==n?n:e.name}(e))||void 0===n?void 0:n.toLowerCase()){case"number":return sl.convertNumber(t);case"boolean":return sl.convertBoolean(t);case"bigint":return sl.convertBigint(t);case"date":return sl.convertDate(t);default:return t}}}!function(e){function t(e){switch(e){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return e}}e.convertString=function(e){for(var r="",n=1;n<e.length-1;n++){var i=e.charAt(n);r+="\\"===i?t(e.charAt(++n)):i}return r},e.convertID=function(e){return"^"===e.charAt(0)?e.substring(1):e},e.convertInt=function(e){return parseInt(e)},e.convertBigint=function(e){return BigInt(e)},e.convertDate=function(e){return new Date(e)},e.convertNumber=function(e){return Number(e)},e.convertBoolean=function(e){return"true"===e.toLowerCase()}}(sl||(sl={}));var xl=r(3985);function wl(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var Dl,kl,El=0,Al=Symbol("OperationCancelled");function Cl(e){return e===Al}function _l(e){return Tl.apply(this,arguments)}function Tl(){var e;return e=function*(e){if(e!==xl.XO.None){var t=Date.now();if(t-El>=10&&(El=t,yield new Promise((e=>{"undefined"==typeof setImmediate?setTimeout(e,0):setImmediate(e)}))),e.isCancellationRequested)throw Al}},Tl=function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){wl(a,n,i,o,s,"next",e)}function s(e){wl(a,n,i,o,s,"throw",e)}o(void 0)}))},Tl.apply(this,arguments)}class Sl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=t=>(e(t),this),this.reject=e=>(t(e),this)}))}}class Fl{constructor(e,t,r,n){this._uri=e,this._languageId=t,this._version=r,this._content=n,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){var t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){for(var r of e)if(Fl.isIncremental(r)){var n=Ll(r.range),i=this.offsetAt(n.start),a=this.offsetAt(n.end);this._content=this._content.substring(0,i)+r.text+this._content.substring(a,this._content.length);var o=Math.max(n.start.line,0),s=Math.max(n.end.line,0),l=this._lineOffsets,u=Bl(r.text,!1,i);if(s-o===u.length)for(var c=0,h=u.length;c<h;c++)l[c+o+1]=u[c];else u.length<1e4?l.splice(o+1,s-o,...u):this._lineOffsets=l=l.slice(0,o+1).concat(u,l.slice(s+1));var d=r.text.length-(a-i);if(0!==d)for(var f=o+1+u.length,p=l.length;f<p;f++)l[f]=l[f]+d}else{if(!Fl.isFull(r))throw new Error("Unknown change event received");this._content=r.text,this._lineOffsets=void 0}this._version=t}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=Bl(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),r=0,n=t.length;if(0===n)return{line:0,character:e};for(;r<n;){var i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}var a=r-1;return{line:a,character:(e=this.ensureBeforeEOL(e,t[a]))-t[a]}}offsetAt(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line];if(e.character<=0)return r;var n=e.line+1<t.length?t[e.line+1]:this._content.length,i=Math.min(r+e.character,n);return this.ensureBeforeEOL(i,r)}ensureBeforeEOL(e,t){for(;e>t&&Nl(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){var t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}function Ol(e,t){if(e.length<=1)return e;var r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);Ol(n,t),Ol(i,t);for(var a=0,o=0,s=0;a<n.length&&o<i.length;){var l=t(n[a],i[o]);e[s++]=l<=0?n[a++]:i[o++]}for(;a<n.length;)e[s++]=n[a++];for(;o<i.length;)e[s++]=i[o++];return e}function Bl(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t?[r]:[],i=0;i<e.length;i++){var a=e.charCodeAt(i);Nl(a)&&(13===a&&i+1<e.length&&10===e.charCodeAt(i+1)&&i++,n.push(r+i+1))}return n}function Nl(e){return 13===e||10===e}function Ll(e){var t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function Il(e){var t=Ll(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){e.create=function(e,t,r,n){return new Fl(e,t,r,n)},e.update=function(e,t,r){if(e instanceof Fl)return e.update(t,r),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")},e.applyEdits=function(e,t){var r=e.getText(),n=Ol(t.map(Il),((e,t)=>{var r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),i=0,a=[];for(var o of n){var s=e.offsetAt(o.range.start);if(s<i)throw new Error("Overlapping edit");s>i&&a.push(r.substring(i,s)),o.newText.length&&a.push(o.newText),i=e.offsetAt(o.range.end)}return a.push(r.substr(i)),a.join("")}}(Dl||(Dl={})),(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),a=s,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=s,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o;a>=0?o=arguments[a]:(void 0===e&&(e=process.cwd()),o=e),t(o),0!==o.length&&(n=o+"/"+n,i=47===o.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var a=e.length,o=a-i,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var l=r.length-s,u=o<l?o:l,c=-1,h=0;h<=u;++h){if(h===u){if(l>u){if(47===r.charCodeAt(s+h))return r.slice(s+h+1);if(0===h)return r.slice(s+h)}else o>u&&(47===e.charCodeAt(i+h)?c=h:0===h&&(c=0));break}var d=e.charCodeAt(i+h);if(d!==r.charCodeAt(s+h))break;47===d&&(c=h)}var f="";for(h=i+c+1;h<=a;++h)h!==a&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(s+c):(s+=c,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(r=e.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,a=-1,o=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!o){i=n+1;break}}else-1===l&&(o=!1,l=n+1),s>=0&&(u===r.charCodeAt(s)?-1==--s&&(a=n):(s=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(i,a)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(a=!1,i=s+1),46===l?-1===r?r=s:1!==o&&(o=1):-1!==r&&(o=-1);else if(!a){n=s+1;break}}return-1===r||-1===i||0===o||1===o&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),a=47===i;a?(r.root="/",n=1):n=0;for(var o=-1,s=0,l=-1,u=!0,c=e.length-1,h=0;c>=n;--c)if(47!==(i=e.charCodeAt(c)))-1===l&&(u=!1,l=c+1),46===i?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1);else if(!u){s=c+1;break}return-1===o||-1===l||0===h||1===h&&o===l-1&&o===s+1?-1!==l&&(r.base=r.name=0===s&&a?e.slice(1,l):e.slice(s,l)):(0===s&&a?(r.name=e.slice(1,o),r.base=e.slice(1,l)):(r.name=e.slice(s,o),r.base=e.slice(s,l)),r.ext=e.slice(o,l)),s>0?r.dir=e.slice(0,s-1):a&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{let e;if(r.r(n),r.d(n,{URI:()=>c,Utils:()=>E}),"object"==typeof process)e="win32"===process.platform;else if("object"==typeof navigator){let t=navigator.userAgent;e=t.indexOf("Windows")>=0}const t=/^\w[\w\d+.-]*$/,i=/^\//,a=/^\/\//;function o(e,r){if(!e.scheme&&r)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!i.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const s="",l="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class c{static isUri(e){return e instanceof c||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}scheme;authority;path;query;fragment;constructor(e,t,r,n,i,a=!1){"object"==typeof e?(this.scheme=e.scheme||s,this.authority=e.authority||s,this.path=e.path||s,this.query=e.query||s,this.fragment=e.fragment||s):(this.scheme=function(e,t){return e||t?e:"file"}(e,a),this.authority=t||s,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==l&&(t=l+t):t=l}return t}(this.scheme,r||s),this.query=n||s,this.fragment=i||s,o(this,a))}get fsPath(){return m(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:r,path:n,query:i,fragment:a}=e;return void 0===t?t=this.scheme:null===t&&(t=s),void 0===r?r=this.authority:null===r&&(r=s),void 0===n?n=this.path:null===n&&(n=s),void 0===i?i=this.query:null===i&&(i=s),void 0===a?a=this.fragment:null===a&&(a=s),t===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&a===this.fragment?this:new d(t,r,n,i,a)}static parse(e,t=!1){const r=u.exec(e);return r?new d(r[2]||s,x(r[4]||s),x(r[5]||s),x(r[7]||s),x(r[9]||s),t):new d(s,s,s,s,s)}static file(t){let r=s;if(e&&(t=t.replace(/\\/g,l)),t[0]===l&&t[1]===l){const e=t.indexOf(l,2);-1===e?(r=t.substring(2),t=l):(r=t.substring(2,e),t=t.substring(e)||l)}return new d("file",r,t,s,s)}static from(e){const t=new d(e.scheme,e.authority,e.path,e.query,e.fragment);return o(t,!0),t}toString(e=!1){return y(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof c)return e;{const t=new d(e);return t._formatted=e.external,t._fsPath=e._sep===h?e.fsPath:null,t}}return e}}const h=e?1:void 0;class d extends c{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=m(this,!1)),this._fsPath}toString(e=!1){return e?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=h),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const f={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function p(e,t,r){let n,i=-1;for(let a=0;a<e.length;a++){const o=e.charCodeAt(a);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o||r&&91===o||r&&93===o||r&&58===o)-1!==i&&(n+=encodeURIComponent(e.substring(i,a)),i=-1),void 0!==n&&(n+=e.charAt(a));else{void 0===n&&(n=e.substr(0,a));const t=f[o];void 0!==t?(-1!==i&&(n+=encodeURIComponent(e.substring(i,a)),i=-1),n+=t):-1===i&&(i=a)}}return-1!==i&&(n+=encodeURIComponent(e.substring(i))),void 0!==n?n:e}function g(e){let t;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);35===n||63===n?(void 0===t&&(t=e.substr(0,r)),t+=f[n]):void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function m(t,r){let n;return n=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?r?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(n=n.replace(/\//g,"\\")),n}function y(e,t){const r=t?g:p;let n="",{scheme:i,authority:a,path:o,query:s,fragment:u}=e;if(i&&(n+=i,n+=":"),(a||"file"===i)&&(n+=l,n+=l),a){let e=a.indexOf("@");if(-1!==e){const t=a.substr(0,e);a=a.substr(e+1),e=t.lastIndexOf(":"),-1===e?n+=r(t,!1,!1):(n+=r(t.substr(0,e),!1,!1),n+=":",n+=r(t.substr(e+1),!1,!0)),n+="@"}a=a.toLowerCase(),e=a.lastIndexOf(":"),-1===e?n+=r(a,!1,!0):(n+=r(a.substr(0,e),!1,!0),n+=a.substr(e))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2)){const e=o.charCodeAt(1);e>=65&&e<=90&&(o=`/${String.fromCharCode(e+32)}:${o.substr(3)}`)}else if(o.length>=2&&58===o.charCodeAt(1)){const e=o.charCodeAt(0);e>=65&&e<=90&&(o=`${String.fromCharCode(e+32)}:${o.substr(2)}`)}n+=r(o,!0,!1)}return s&&(n+="?",n+=r(s,!1,!1)),u&&(n+="#",n+=t?u:p(u,!1,!1)),n}function v(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+v(e.substr(3)):e}}const b=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(e){return e.match(b)?e.replace(b,(e=>v(e))):e}var w=r(470);const D=w.posix||w,k="/";var E;!function(e){e.joinPath=function(e,...t){return e.with({path:D.join(e.path,...t)})},e.resolvePath=function(e,...t){let r=e.path,n=!1;r[0]!==k&&(r=k+r,n=!0);let i=D.resolve(r,...t);return n&&i[0]===k&&!e.authority&&(i=i.substring(1)),e.with({path:i})},e.dirname=function(e){if(0===e.path.length||e.path===k)return e;let t=D.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return D.basename(e.path)},e.extname=function(e){return D.extname(e.path)}}(E||(E={}))})(),kl=n})();const{URI:Rl,Utils:Ml}=kl;var Pl,zl,$l,jl,Kl;function ql(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Ul(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){ql(a,n,i,o,s,"next",e)}function s(e){ql(a,n,i,o,s,"throw",e)}o(void 0)}))}}!function(e){e.basename=Ml.basename,e.dirname=Ml.dirname,e.extname=Ml.extname,e.joinPath=Ml.joinPath,e.resolvePath=Ml.resolvePath,e.equals=function(e,t){return(null==e?void 0:e.toString())===(null==t?void 0:t.toString())},e.relative=function(e,t){for(var r="string"==typeof e?e:e.path,n="string"==typeof t?t:t.path,i=r.split("/").filter((e=>e.length>0)),a=n.split("/").filter((e=>e.length>0)),o=0;o<i.length&&i[o]===a[o];o++);return"../".repeat(i.length-o)+a.slice(o).join("/")}}(Pl||(Pl={})),function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(zl||(zl={}));class Hl{constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}fromUri(e){var t=arguments,r=this;return Ul((function*(){var n=t.length>1&&void 0!==t[1]?t[1]:xl.XO.None,i=yield r.fileSystemProvider.readFile(e);return r.createAsync(e,i,n)}))()}fromTextDocument(e,t,r){return t=null!=t?t:Rl.parse(e.uri),r?this.createAsync(t,e,r):this.create(t,e)}fromString(e,t,r){return r?this.createAsync(t,e,r):this.create(t,e)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t){if("string"==typeof t){var r=this.parse(e,t);return this.createLangiumDocument(r,e,void 0,t)}if("$model"in t){var n={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(n,e)}var i=this.parse(e,t.getText());return this.createLangiumDocument(i,e,t)}createAsync(e,t,r){var n=this;return Ul((function*(){if("string"==typeof t){var i=yield n.parseAsync(e,t,r);return n.createLangiumDocument(i,e,void 0,t)}var a=yield n.parseAsync(e,t.getText(),r);return n.createLangiumDocument(a,e,t)}))()}createLangiumDocument(e,t,r,n){var i;if(r)i={parseResult:e,uri:t,state:zl.Parsed,references:[],textDocument:r};else{var a=this.createTextDocumentGetter(t,n);i={parseResult:e,uri:t,state:zl.Parsed,references:[],get textDocument(){return a()}}}return e.value.$document=i,i}update(e,t){var r=this;return Ul((function*(){var n,i,a=null===(n=e.parseResult.value.$cstNode)||void 0===n?void 0:n.root.fullText,o=null===(i=r.textDocuments)||void 0===i?void 0:i.get(e.uri.toString()),s=o?o.getText():yield r.fileSystemProvider.readFile(e.uri);if(o)Object.defineProperty(e,"textDocument",{value:o});else{var l=r.createTextDocumentGetter(e.uri,s);Object.defineProperty(e,"textDocument",{get:l})}return a!==s&&(e.parseResult=yield r.parseAsync(e.uri,s,t),e.parseResult.value.$document=e),e.state=zl.Parsed,e}))()}parse(e,t){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t)}parseAsync(e,t,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,r)}createTextDocumentGetter(e,t){var r=this.serviceRegistry,n=void 0;return()=>null!=n?n:n=Dl.create(e.toString(),r.getServices(e).LanguageMetaData.languageId,0,null!=t?t:"")}}class Wl{constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory}get all(){return m(this.documentMap.values())}addDocument(e){var t=e.uri.toString();if(this.documentMap.has(t))throw new Error("A document with the URI '".concat(t,"' is already present."));this.documentMap.set(t,e)}getDocument(e){var t=e.toString();return this.documentMap.get(t)}getOrCreateDocument(e,t){var r=this;return Ul((function*(){var n=r.getDocument(e);return n||(n=yield r.langiumDocumentFactory.fromUri(e,t),r.addDocument(n),n)}))()}createDocument(e,t,r){if(r)return this.langiumDocumentFactory.fromString(t,e,r).then((e=>(this.addDocument(e),e)));var n=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(n),n}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){var t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=zl.Changed,r.precomputedScopes=void 0,r.references=[],r.diagnostics=void 0),r}deleteDocument(e){var t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=zl.Changed,this.documentMap.delete(t)),r}}function Gl(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}class Vl{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}link(e){var t,r=arguments,n=this;return(t=function*(){var t=r.length>1&&void 0!==r[1]?r[1]:xl.XO.None;for(var i of Ae(e.parseResult.value))yield _l(t),_e(i).forEach((t=>n.doLink(t,e)))},function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(e){Gl(a,n,i,o,s,"next",e)}function s(e){Gl(a,n,i,o,s,"throw",e)}o(void 0)}))})()}doLink(e,t){var r=e.reference;if(void 0===r._ref)try{var n=this.getCandidate(e);if(a(n))r._ref=n;else if(r._nodeDescription=n,this.langiumDocuments().hasDocument(n.documentUri)){var i=this.loadAstNode(n);r._ref=null!=i?i:this.createLinkingError(e,n)}}catch(t){r._ref=Object.assign(Object.assign({},e),{message:"An error occurred while resolving reference to '".concat(r.$refText,"': ").concat(t)})}t.references.push(r)}unlink(e){for(var t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){var t=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return null!=t?t:this.createLinkingError(e)}buildReference(e,t,r,i){var o=this,s={$refNode:r,$refText:i,get ref(){var r,i;if(n(this._ref))return this._ref;if("object"==typeof(i=this._nodeDescription)&&null!==i&&"string"==typeof i.name&&"string"==typeof i.type&&"string"==typeof i.path){var a=o.loadAstNode(this._nodeDescription);this._ref=null!=a?a:o.createLinkingError({reference:s,container:e,property:t},this._nodeDescription)}else if(void 0===this._ref){var l=o.getLinkedNode({reference:s,container:e,property:t});if(l.error&&De(e).state<zl.ComputedScopes)return;this._ref=null!==(r=l.node)&&void 0!==r?r:l.error,this._nodeDescription=l.descr}return n(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return a(this._ref)?this._ref:void 0}};return s}getLinkedNode(e){try{var t=this.getCandidate(e);if(a(t))return{error:t};var r=this.loadAstNode(t);return r?{node:r,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(t){return{error:Object.assign(Object.assign({},e),{message:"An error occurred while resolving reference to '".concat(e.reference.$refText,"': ").concat(t)})}}}loadAstNode(e){if(e.node)return e.node;var t=this.langiumDocuments().getDocument(e.documentUri);return t?this.astNodeLocator.getAstNode(t.parseResult.value,e.path):void 0}createLinkingError(e,t){var r=De(e.container);r.state<zl.ComputedScopes&&console.warn("Attempted reference resolution before document reached ComputedScopes state (".concat(r.uri,")."));var n=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:"Could not resolve reference to ".concat(n," named '").concat(e.reference.$refText,"'."),targetDescription:t})}}class Yl{getName(e){if(function(e){return"string"==typeof e.name}(e))return e.name}getNameNode(e){return et(e.$cstNode,"name")}}class Xl{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){var t=function(e){for(var t,r=e.astNode;r===(null===(t=e.container)||void 0===t?void 0:t.astNode);){var n=we(e.grammarSource,Q);if(n)return n;e=e.container}}(e),r=e.astNode;if(t&&r){var n=r[t.feature];if(i(n))return n.ref;if(Array.isArray(n))for(var a of n)if(i(a)&&a.$refNode&&a.$refNode.offset<=e.offset&&a.$refNode.end>=e.end)return a.ref}if(r){var o=this.nameProvider.getNameNode(r);if(o&&(o===e||function(e,t){for(;e.container;)if((e=e.container)===t)return!0;return!1}(e,o)))return r}}}findDeclarationNode(e){var t=this.findDeclaration(e);if(null==t?void 0:t.$cstNode){var r=this.nameProvider.getNameNode(t);return null!=r?r:t.$cstNode}}findReferences(e,t){var r=[];if(t.includeDeclaration){var n=this.getReferenceToSelf(e);n&&r.push(n)}var i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(i=i.filter((e=>Pl.equals(e.sourceUri,t.documentUri)))),r.push(...i),m(r)}getReferenceToSelf(e){var t=this.nameProvider.getNameNode(e);if(t){var r=De(e),n=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:n,targetUri:r.uri,targetPath:n,segment:x(t),local:!0}}}}class Zl{constructor(e){if(this.map=new Map,e)for(var[t,r]of e)this.add(t,r)}get size(){return d.sum(m(this.map.values()).map((e=>e.length)))}clear(){this.map.clear()}delete(e,t){if(void 0===t)return this.map.delete(e);var r=this.map.get(e);if(r){var n=r.indexOf(t);if(n>=0)return 1===r.length?this.map.delete(e):r.splice(n,1),!0}return!1}get(e){var t;return null!==(t=this.map.get(e))&&void 0!==t?t:[]}has(e,t){if(void 0===t)return this.map.has(e);var r=this.map.get(e);return!!r&&r.indexOf(t)>=0}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach(((t,r)=>t.forEach((t=>e(t,r,this)))))}[Symbol.iterator](){return this.entries().iterator()}entries(){return m(this.map.entries()).flatMap((e=>{var[t,r]=e;return r.map((e=>[t,e]))}))}keys(){return m(this.map.keys())}values(){return m(this.map.values()).flat()}entriesGroupedByKey(){return m(this.map.entries())}}class Ql{get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(var[t,r]of e)this.set(t,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){var t=this.map.get(e);return void 0!==t&&(this.map.delete(e),this.inverse.delete(t),!0)}}function Jl(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function eu(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Jl(a,n,i,o,s,"next",e)}function s(e){Jl(a,n,i,o,s,"throw",e)}o(void 0)}))}}class tu{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}computeExports(e){var t=arguments,r=this;return eu((function*(){var n=t.length>1&&void 0!==t[1]?t[1]:xl.XO.None;return r.computeExportsForNode(e.parseResult.value,e,void 0,n)}))()}computeExportsForNode(e,t){var r=arguments,n=this;return eu((function*(){var i=r.length>2&&void 0!==r[2]?r[2]:ke,a=r.length>3&&void 0!==r[3]?r[3]:xl.XO.None,o=[];for(var s of(n.exportNode(e,o,t),i(e)))yield _l(a),n.exportNode(s,o,t);return o}))()}exportNode(e,t,r){var n=this.nameProvider.getName(e);n&&t.push(this.descriptions.createDescription(e,n,r))}computeLocalScopes(e){var t=arguments,r=this;return eu((function*(){var n=t.length>1&&void 0!==t[1]?t[1]:xl.XO.None,i=e.parseResult.value,a=new Zl;for(var o of Ee(i))yield _l(n),r.processNode(o,e,a);return a}))()}processNode(e,t,r){var n=e.$container;if(n){var i=this.nameProvider.getName(e);i&&r.add(n,this.descriptions.createDescription(e,i,t))}}}class ru{constructor(e,t,r){var n;this.elements=e,this.outerScope=t,this.caseInsensitive=null!==(n=null==r?void 0:r.caseInsensitive)&&void 0!==n&&n}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){return(this.caseInsensitive?this.elements.find((t=>t.name.toLowerCase()===e.toLowerCase())):this.elements.find((t=>t.name===e)))||(this.outerScope?this.outerScope.getElement(e):void 0)}}class nu{constructor(e,t,r){var n;for(var i of(this.elements=new Map,this.caseInsensitive=null!==(n=null==r?void 0:r.caseInsensitive)&&void 0!==n&&n,e)){var a=this.caseInsensitive?i.name.toLowerCase():i.name;this.elements.set(a,i)}this.outerScope=t}getElement(e){var t=this.caseInsensitive?e.toLowerCase():e;return this.elements.get(t)||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){var e=m(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}class iu{constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach((e=>e.dispose()))}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}}class au extends iu{constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){var r=t();return this.cache.set(e,r),r}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}}class ou extends iu{constructor(e){super(),this.cache=new Map,this.converter=null!=e?e:e=>e}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,r){this.throwIfDisposed(),this.cacheForContext(e).set(t,r)}get(e,t,r){this.throwIfDisposed();var n=this.cacheForContext(e);if(n.has(t))return n.get(t);if(r){var i=r();return n.set(t,i),i}}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){var t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){var t=this.converter(e),r=this.cache.get(t);return r||(r=new Map,this.cache.set(t,r)),r}}class su extends au{constructor(e){super(),this.onDispose(e.workspace.DocumentBuilder.onUpdate((()=>{this.clear()})))}}class lu{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new su(e.shared)}getScope(e){var t=[],r=this.reflection.getReferenceType(e),n=De(e.container).precomputedScopes;if(n){var i=e.container;do{var a=n.get(i);a.length>0&&t.push(m(a).filter((e=>this.reflection.isSubtype(e.type,r)))),i=i.$container}while(i)}for(var o=this.getGlobalScope(r,e),s=t.length-1;s>=0;s--)o=this.createScope(t[s],o);return o}createScope(e,t,r){return new ru(m(e),t,r)}createScopeForNodes(e,t,r){var n=m(e).map((e=>{var t=this.nameProvider.getName(e);if(t)return this.descriptions.createDescription(e,t)})).nonNullable();return new ru(n,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,(()=>new nu(this.indexManager.allElements(e))))}}function uu(e){return"object"==typeof e&&!!e&&("$ref"in e||"$error"in e)}class cu{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null==t?void 0:t.replacer,n=(e,r)=>this.replacer(e,r,t),i=r?(e,t)=>r(e,t,n):n;try{return this.currentDocument=De(e),JSON.stringify(e,i,null==t?void 0:t.space)}finally{this.currentDocument=void 0}}deserialize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.parse(e);return this.linkNode(r,r,t),r}replacer(e,t,r){var a,o,s,l,{refText:u,sourceText:c,textRegions:h,comments:d,uriConverter:f}=r;if(!this.ignoreProperties.has(e)){if(i(t)){var p=t.ref,g=u?t.$refText:void 0;if(p){var m=De(p),y="";this.currentDocument&&this.currentDocument!==m&&(y=f?f(m.uri,t):m.uri.toString());var v=this.astNodeLocator.getAstNodePath(p);return{$ref:"".concat(y,"#").concat(v),$refText:g}}return{$error:null!==(o=null===(a=t.error)||void 0===a?void 0:a.message)&&void 0!==o?o:"Could not resolve reference",$refText:g}}if(n(t)){var b=void 0;if(h&&(b=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),e&&!t.$document||!(null==b?void 0:b.$textRegion)||(b.$textRegion.documentURI=null===(s=this.currentDocument)||void 0===s?void 0:s.uri.toString())),c&&!e&&(null!=b||(b=Object.assign({},t)),b.$sourceText=null===(l=t.$cstNode)||void 0===l?void 0:l.text),d){null!=b||(b=Object.assign({},t));var x=this.commentProvider.getComment(t);x&&(b.$comment=x.replace(/\r/g,""))}return null!=b?b:t}return t}}addAstNodeRegionWithAssignmentsTo(e){var t=e=>({offset:e.offset,end:e.end,length:e.length,range:e.range});if(e.$cstNode){var r=(e.$textRegion=t(e.$cstNode)).assignments={};return Object.keys(e).filter((e=>!e.startsWith("$"))).forEach((n=>{var i=function(e,t){return e&&t?tt(e,t,e.astNode,!0):[]}(e.$cstNode,n).map(t);0!==i.length&&(r[n]=i)})),e}}linkNode(e,t,r,i,a,o){for(var[s,l]of Object.entries(e))if(Array.isArray(l))for(var u=0;u<l.length;u++){var c=l[u];uu(c)?l[u]=this.reviveReference(e,s,t,c,r):n(c)&&this.linkNode(c,t,r,e,s,u)}else uu(l)?e[s]=this.reviveReference(e,s,t,l,r):n(l)&&this.linkNode(l,t,r,e,s);var h=e;h.$container=i,h.$containerProperty=a,h.$containerIndex=o}reviveReference(e,t,r,i,a){var o=i.$refText,s=i.$error;if(i.$ref){var l=this.getRefNode(r,i.$ref,a.uriConverter);if(n(l))return o||(o=this.nameProvider.getName(l)),{$refText:null!=o?o:"",ref:l};s=l}if(s){var u={$refText:null!=o?o:""};return u.error={container:e,property:t,message:s,reference:u},u}}getRefNode(e,t,r){try{var n=t.indexOf("#");if(0===n)return this.astNodeLocator.getAstNode(e,t.substring(1))||"Could not resolve path: "+t;if(n<0){var i=r?r(t):Rl.parse(t),a=this.langiumDocuments.getDocument(i);return a?a.parseResult.value:"Could not find document for URI: "+t}var o=r?r(t.substring(0,n)):Rl.parse(t.substring(0,n)),s=this.langiumDocuments.getDocument(o);return s?n===t.length-1?s.parseResult.value:this.astNodeLocator.getAstNode(s.parseResult.value,t.substring(n+1))||"Could not resolve URI: "+t:"Could not find document for URI: "+t}catch(e){return String(e)}}}class hu{register(e){if(this.singleton||this.map){if(!this.map&&(this.map={},this.singleton)){for(var t of this.singleton.LanguageMetaData.fileExtensions)this.map[t]=this.singleton;this.singleton=void 0}for(var r of e.LanguageMetaData.fileExtensions)void 0!==this.map[r]&&this.map[r]!==e&&console.warn("The file extension ".concat(r," is used by multiple languages. It is now assigned to '").concat(e.LanguageMetaData.languageId,"'.")),this.map[r]=e}else this.singleton=e}getServices(e){if(void 0!==this.singleton)return this.singleton;if(void 0===this.map)throw new Error("The service registry is empty. Use `register` to register the services of a language.");var t=Pl.extname(e),r=this.map[t];if(!r)throw new Error("The service registry contains no services for the extension '".concat(t,"'."));return r}get all(){return void 0!==this.singleton?[this.singleton]:void 0!==this.map?Object.values(this.map):[]}}function du(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function fu(e){return{code:e}}!function(e){e.all=["fast","slow","built-in"]}($l||($l={}));class pu{constructor(e){this.entries=new Zl,this.reflection=e.shared.AstReflection}register(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fast";if("built-in"===r)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(var[n,i]of Object.entries(e)){var a=i;if(Array.isArray(a))for(var o of a){var s={check:this.wrapValidationException(o,t),category:r};this.addEntry(n,s)}else if("function"==typeof a){var l={check:this.wrapValidationException(a,t),category:r};this.addEntry(n,l)}}}wrapValidationException(e,t){return function(){var r,n=(r=function*(r,n,i){try{yield e.call(t,r,n,i)}catch(e){if(Cl(e))throw e;console.error("An error occurred during validation:",e);var a=e instanceof Error?e.message:String(e);e instanceof Error&&e.stack&&console.error(e.stack),n("error","An error occurred during validation: "+a,{node:r})}},function(){var e=this,t=arguments;return new Promise((function(n,i){var a=r.apply(e,t);function o(e){du(a,n,i,o,s,"next",e)}function s(e){du(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}()}addEntry(e,t){if("AstNode"!==e)for(var r of this.reflection.getAllSubTypes(e))this.entries.add(r,t);else this.entries.add("AstNode",t)}getChecks(e,t){var r=m(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(r=r.filter((e=>t.includes(e.category)))),r.map((e=>e.check))}}function gu(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function mu(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){gu(a,n,i,o,s,"next",e)}function s(e){gu(a,n,i,o,s,"throw",e)}o(void 0)}))}}class yu{constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}validateDocument(e){var t=arguments,r=this;return mu((function*(){var n=t.length>1&&void 0!==t[1]?t[1]:{},i=t.length>2&&void 0!==t[2]?t[2]:xl.XO.None,a=e.parseResult,o=[];if(yield _l(i),!n.categories||n.categories.includes("built-in")){if(r.processLexingErrors(a,o,n),n.stopAfterLexingErrors&&o.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===jl.LexingError})))return o;if(r.processParsingErrors(a,o,n),n.stopAfterParsingErrors&&o.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===jl.ParsingError})))return o;if(r.processLinkingErrors(e,o,n),n.stopAfterLinkingErrors&&o.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===jl.LinkingError})))return o}try{o.push(...yield r.validateAst(a.value,n,i))}catch(e){if(Cl(e))throw e;console.error("An error occurred during validation:",e)}return yield _l(i),o}))()}processLexingErrors(e,t,r){for(var n of e.lexerErrors){var i={severity:bu("error"),range:{start:{line:n.line-1,character:n.column-1},end:{line:n.line-1,character:n.column+n.length-1}},message:n.message,data:fu(jl.LexingError),source:this.getSource()};t.push(i)}}processParsingErrors(e,t,r){for(var n of e.parserErrors){var i=void 0;if(isNaN(n.token.startOffset)){if("previousToken"in n){var a=n.previousToken;if(isNaN(a.startOffset)){var o={line:0,character:0};i={start:o,end:o}}else{var s={line:a.endLine-1,character:a.endColumn};i={start:s,end:s}}}}else i=b(n.token);if(i){var l={severity:bu("error"),range:i,message:n.message,data:fu(jl.ParsingError),source:this.getSource()};t.push(l)}}}processLinkingErrors(e,t,r){for(var n of e.references){var i=n.error;if(i){var a={node:i.container,property:i.property,index:i.index,data:{code:jl.LinkingError,containerType:i.container.$type,property:i.property,refText:i.reference.$refText}};t.push(this.toDiagnostic("error",i.message,a))}}}validateAst(e,t){var r=arguments,n=this;return mu((function*(){var i=r.length>2&&void 0!==r[2]?r[2]:xl.XO.None,a=[],o=(e,t,r)=>{a.push(n.toDiagnostic(e,t,r))};return yield Promise.all(Ae(e).map(function(){var e=mu((function*(e){yield _l(i);var r=n.validationRegistry.getChecks(e.$type,t.categories);for(var a of r)yield a(e,o,i)}));return function(t){return e.apply(this,arguments)}}())),a}))()}toDiagnostic(e,t,r){return{message:t,range:vu(r),severity:bu(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}}function vu(e){return e.range?e.range:("string"==typeof e.property?t=et(e.node.$cstNode,e.property,e.index):"string"==typeof e.keyword&&(t=function(e,t,r){if(e){var n=function(e,t,r){if(e.astNode!==r)return[];if(oe(e.grammarSource)&&e.grammarSource.value===t)return[e];var n,i=v(e).iterator(),a=[];do{if(!(n=i.next()).done){var o=n.value;o.astNode===r?oe(o.grammarSource)&&o.grammarSource.value===t&&a.push(o):i.prune()}}while(!n.done);return a}(e,t,null==e?void 0:e.astNode);if(0!==n.length)return n[r=void 0!==r?Math.max(0,Math.min(r,n.length-1)):0]}}(e.node.$cstNode,e.keyword,e.index)),null!=t||(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}});var t}function bu(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function xu(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}!function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(jl||(jl={}));class wu{constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De(e);null!=t||(t=this.nameProvider.getName(e));var n,i=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error("Node at path ".concat(i," has no name."));var a=()=>{var t;return null!=n?n:n=x(null!==(t=this.nameProvider.getNameNode(e))&&void 0!==t?t:e.$cstNode)};return{node:e,name:t,get nameSegment(){return a()},selectionSegment:x(e.$cstNode),type:e.$type,documentUri:r.uri,path:i}}}class Du{constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}createDescriptions(e){var t,r=arguments,n=this;return(t=function*(){var t=r.length>1&&void 0!==r[1]?r[1]:xl.XO.None,i=[],o=e.parseResult.value;for(var s of Ae(o))yield _l(t),_e(s).filter((e=>!a(e))).forEach((e=>{var t=n.createDescription(e);t&&i.push(t)}));return i},function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(e){xu(a,n,i,o,s,"next",e)}function s(e){xu(a,n,i,o,s,"throw",e)}o(void 0)}))})()}createDescription(e){var t=e.reference.$nodeDescription,r=e.reference.$refNode;if(t&&r){var n=De(e.container).uri;return{sourceUri:n,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:x(r),local:Pl.equals(t.documentUri,n)}}}}class ku{constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){var t=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return t+this.segmentSeparator+r}return""}getPathSegment(e){var{$containerProperty:t,$containerIndex:r}=e;if(!t)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==r?t+this.indexSeparator+r:t}getAstNode(e,t){return t.split(this.segmentSeparator).reduce(((e,t)=>{if(!e||0===t.length)return e;var r=t.indexOf(this.indexSeparator);if(r>0){var n=t.substring(0,r),i=parseInt(t.substring(r+1)),a=e[n];return null==a?void 0:a[i]}return e[t]}),e)}}function Eu(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Au(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Eu(a,n,i,o,s,"next",e)}function s(e){Eu(a,n,i,o,s,"throw",e)}o(void 0)}))}}class Cu{constructor(e){this._ready=new Sl,this.settings={},this.workspaceConfig=!1,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,r;this.workspaceConfig=null!==(r=null===(t=e.capabilities.workspace)||void 0===t?void 0:t.configuration)&&void 0!==r&&r}initialized(e){var t=this;return Au((function*(){if(t.workspaceConfig){if(e.register){var r=t.serviceRegistry.all;e.register({section:r.map((e=>t.toSectionName(e.LanguageMetaData.languageId)))})}if(e.fetchConfiguration){var n=t.serviceRegistry.all.map((e=>({section:t.toSectionName(e.LanguageMetaData.languageId)}))),i=yield e.fetchConfiguration(n);n.forEach(((e,r)=>{t.updateSectionConfiguration(e.section,i[r])}))}}t._ready.resolve()}))()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach((t=>{this.updateSectionConfiguration(t,e.settings[t])}))}updateSectionConfiguration(e,t){this.settings[e]=t}getConfiguration(e,t){var r=this;return Au((function*(){yield r.ready;var n=r.toSectionName(e);if(r.settings[n])return r.settings[n][t]}))()}toSectionName(e){return"".concat(e)}}function _u(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Tu(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Su(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Tu(a,n,i,o,s,"next",e)}function s(e){Tu(a,n,i,o,s,"throw",e)}o(void 0)}))}}!function(e){e.create=function(e){return{dispose:(t=function*(){return yield e()},r=function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function o(e){_u(a,n,i,o,s,"next",e)}function s(e){_u(a,n,i,o,s,"throw",e)}o(void 0)}))},function(){return r.apply(this,arguments)})};var t,r}}(Kl||(Kl={}));class Fu{constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new Zl,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=zl.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}build(e){var t=arguments,r=this;return Su((function*(){var n,i,a=t.length>1&&void 0!==t[1]?t[1]:{},o=t.length>2&&void 0!==t[2]?t[2]:xl.XO.None,s=function*(){var e=l.uri.toString();if(l.state===zl.Validated){if("boolean"==typeof a.validation&&a.validation)l.state=zl.IndexedReferences,l.diagnostics=void 0,r.buildState.delete(e);else if("object"==typeof a.validation){var t=r.buildState.get(e),o=null===(n=null==t?void 0:t.result)||void 0===n?void 0:n.validationChecks;if(o){var s=(null!==(i=a.validation.categories)&&void 0!==i?i:$l.all).filter((e=>!o.includes(e)));s.length>0&&(r.buildState.set(e,{completed:!1,options:{validation:Object.assign(Object.assign({},a.validation),{categories:s})},result:t.result}),l.state=zl.IndexedReferences)}}}else r.buildState.delete(e)};for(var l of e)yield*s();r.currentState=zl.Changed,yield r.emitUpdate(e.map((e=>e.uri)),[]),yield r.buildDocuments(e,a,o)}))()}update(e,t){var r=arguments,n=this;return Su((function*(){var i=r.length>2&&void 0!==r[2]?r[2]:xl.XO.None;for(var a of(n.currentState=zl.Changed,t))n.langiumDocuments.deleteDocument(a),n.buildState.delete(a.toString()),n.indexManager.remove(a);for(var o of e){if(!n.langiumDocuments.invalidateDocument(o)){var s=n.langiumDocumentFactory.fromModel({$type:"INVALID"},o);s.state=zl.Changed,n.langiumDocuments.addDocument(s)}n.buildState.delete(o.toString())}var l=m(e).concat(t).map((e=>e.toString())).toSet();n.langiumDocuments.all.filter((e=>!l.has(e.uri.toString())&&n.shouldRelink(e,l))).forEach((e=>{n.serviceRegistry.getServices(e.uri).references.Linker.unlink(e),e.state=Math.min(e.state,zl.ComputedScopes),e.diagnostics=void 0})),yield n.emitUpdate(e,t),yield _l(i);var u=n.langiumDocuments.all.filter((e=>{var t;return e.state<zl.Linked||!(null===(t=n.buildState.get(e.uri.toString()))||void 0===t?void 0:t.completed)})).toArray();yield n.buildDocuments(u,n.updateBuildOptions,i)}))()}emitUpdate(e,t){var r=this;return Su((function*(){yield Promise.all(r.updateListeners.map((r=>r(e,t))))}))()}shouldRelink(e,t){return!!e.references.some((e=>void 0!==e.error))||this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),Kl.create((()=>{var t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)}))}buildDocuments(e,t,r){var n=this;return Su((function*(){n.prepareBuild(e,t),yield n.runCancelable(e,zl.Parsed,r,(e=>n.langiumDocumentFactory.update(e,r))),yield n.runCancelable(e,zl.IndexedContent,r,(e=>n.indexManager.updateContent(e,r))),yield n.runCancelable(e,zl.ComputedScopes,r,function(){var e=Su((function*(e){var t=n.serviceRegistry.getServices(e.uri).references.ScopeComputation;e.precomputedScopes=yield t.computeLocalScopes(e,r)}));return function(t){return e.apply(this,arguments)}}()),yield n.runCancelable(e,zl.Linked,r,(e=>n.serviceRegistry.getServices(e.uri).references.Linker.link(e,r))),yield n.runCancelable(e,zl.IndexedReferences,r,(e=>n.indexManager.updateReferences(e,r)));var i=e.filter((e=>n.shouldValidate(e)));for(var a of(yield n.runCancelable(i,zl.Validated,r,(e=>n.validate(e,r))),e)){var o=n.buildState.get(a.uri.toString());o&&(o.completed=!0)}}))()}prepareBuild(e,t){for(var r of e){var n=r.uri.toString(),i=this.buildState.get(n);i&&!i.completed||this.buildState.set(n,{completed:!1,options:t,result:null==i?void 0:i.result})}}runCancelable(e,t,r,n){var i=this;return Su((function*(){var a=e.filter((e=>e.state<t));for(var o of a)yield _l(r),yield n(o),o.state=t;yield i.notifyBuildPhase(a,t,r),i.currentState=t}))()}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),Kl.create((()=>{this.buildPhaseListeners.delete(e,t)}))}waitUntil(e,t,r){var n=void 0;if(t&&"path"in t?n=t:r=t,null!=r||(r=xl.XO.None),n){var i=this.langiumDocuments.getDocument(n);if(i&&i.state>e)return Promise.resolve(n)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(Al):new Promise(((t,i)=>{var a=this.onBuildPhase(e,(()=>{if(a.dispose(),o.dispose(),n){var e=this.langiumDocuments.getDocument(n);t(null==e?void 0:e.uri)}else t(void 0)})),o=r.onCancellationRequested((()=>{a.dispose(),o.dispose(),i(Al)}))}))}notifyBuildPhase(e,t,r){var n=this;return Su((function*(){if(0!==e.length){var i=n.buildPhaseListeners.get(t);for(var a of i)yield _l(r),yield a(e,r)}}))()}shouldValidate(e){return Boolean(this.getBuildOptions(e).validation)}validate(e,t){var r=this;return Su((function*(){var n,i,a=r.serviceRegistry.getServices(e.uri).validation.DocumentValidator,o=r.getBuildOptions(e).validation,s="object"==typeof o?o:void 0,l=yield a.validateDocument(e,s,t);e.diagnostics?e.diagnostics.push(...l):e.diagnostics=l;var u=r.buildState.get(e.uri.toString());if(u){null!==(n=u.result)&&void 0!==n||(u.result={});var c=null!==(i=null==s?void 0:s.categories)&&void 0!==i?i:$l.all;u.result.validationChecks?u.result.validationChecks.push(...c):u.result.validationChecks=[...c]}}))()}getBuildOptions(e){var t,r;return null!==(r=null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.options)&&void 0!==r?r:{}}}function Ou(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Bu(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Ou(a,n,i,o,s,"next",e)}function s(e){Ou(a,n,i,o,s,"throw",e)}o(void 0)}))}}class Nu{constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new ou,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){var r=De(e).uri,n=[];return this.referenceIndex.forEach((e=>{e.forEach((e=>{Pl.equals(e.targetUri,r)&&e.targetPath===t&&n.push(e)}))})),m(n)}allElements(e,t){var r=m(this.symbolIndex.keys());return t&&(r=r.filter((e=>!t||t.has(e)))),r.map((t=>this.getFileDescriptions(t,e))).flat()}getFileDescriptions(e,t){var r;if(!t)return null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[];var n=this.symbolByTypeIndex.get(e,t,(()=>{var r;return(null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[]).filter((e=>this.astReflection.isSubtype(e.type,t)))}));return n}remove(e){var t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}updateContent(e){var t=arguments,r=this;return Bu((function*(){var n=t.length>1&&void 0!==t[1]?t[1]:xl.XO.None,i=r.serviceRegistry.getServices(e.uri),a=yield i.references.ScopeComputation.computeExports(e,n),o=e.uri.toString();r.symbolIndex.set(o,a),r.symbolByTypeIndex.clear(o)}))()}updateReferences(e){var t=arguments,r=this;return Bu((function*(){var n=t.length>1&&void 0!==t[1]?t[1]:xl.XO.None,i=r.serviceRegistry.getServices(e.uri),a=yield i.workspace.ReferenceDescriptionProvider.createDescriptions(e,n);r.referenceIndex.set(e.uri.toString(),a)}))()}isAffected(e,t){var r=this.referenceIndex.get(e.uri.toString());return!!r&&r.some((e=>!e.local&&t.has(e.targetUri.toString())))}}function Lu(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Iu(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Lu(a,n,i,o,s,"next",e)}function s(e){Lu(a,n,i,o,s,"throw",e)}o(void 0)}))}}class Ru{constructor(e){this.initialBuildOptions={},this._ready=new Sl,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}initialize(e){var t;this.folders=null!==(t=e.workspaceFolders)&&void 0!==t?t:void 0}initialized(e){return this.mutex.write((e=>{var t;return this.initializeWorkspace(null!==(t=this.folders)&&void 0!==t?t:[],e)}))}initializeWorkspace(e){var t=arguments,r=this;return Iu((function*(){var n=t.length>1&&void 0!==t[1]?t[1]:xl.XO.None,i=yield r.performStartup(e);yield _l(n),yield r.documentBuilder.build(i,r.initialBuildOptions,n)}))()}performStartup(e){var t=this;return Iu((function*(){var r=t.serviceRegistry.all.flatMap((e=>e.LanguageMetaData.fileExtensions)),n=[],i=e=>{n.push(e),t.langiumDocuments.hasDocument(e.uri)||t.langiumDocuments.addDocument(e)};return yield t.loadAdditionalDocuments(e,i),yield Promise.all(e.map((e=>[e,t.getRootFolder(e)])).map(function(){var e=Iu((function*(e){return t.traverseFolder(...e,r,i)}));return function(t){return e.apply(this,arguments)}}())),t._ready.resolve(),n}))()}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return Rl.parse(e.uri)}traverseFolder(e,t,r,n){var i=this;return Iu((function*(){var a=yield i.fileSystemProvider.readDirectory(t);yield Promise.all(a.map(function(){var t=Iu((function*(t){if(i.includeEntry(e,t,r))if(t.isDirectory)yield i.traverseFolder(e,t.uri,r,n);else if(t.isFile){var a=yield i.langiumDocuments.getOrCreateDocument(t.uri);n(a)}}));return function(e){return t.apply(this,arguments)}}()))}))()}includeEntry(e,t,r){var n=Pl.basename(t.uri);if(n.startsWith("."))return!1;if(t.isDirectory)return"node_modules"!==n&&"out"!==n;if(t.isFile){var i=Pl.extname(t.uri);return r.includes(i)}return!1}}class Mu{constructor(e){var t=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);var r=zu(t)?Object.values(t):t;this.chevrotainLexer=new Pn(r,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var t,r=this.chevrotainLexer.tokenize(e);return{tokens:r.tokens,errors:r.errors,hidden:null!==(t=r.groups.hidden)&&void 0!==t?t:[]}}toTokenTypeDictionary(e){if(zu(e))return e;var t=Pu(e)?Object.values(e.modes).flat():e,r={};return t.forEach((e=>r[e.name]=e)),r}}function Pu(e){return e&&"modes"in e&&"defaultMode"in e}function zu(e){return!function(e){return Array.isArray(e)&&(0===e.length||"name"in e[0])}(e)&&!Pu(e)}function $u(e){return("string"==typeof e?e:e.text).split(We)}var ju=/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(@((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*)?)/y,Ku=/\{(@(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*)([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)((?:[\0-\t\x0B\f\x0E-\|~-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)?\}/g;function qu(e,t,r,n){var i=[];if(0===e.length){var a=uo.create(r,n),o=uo.create(r,n+t.length);i.push({type:"text",content:t,range:co.create(a,o)})}else{var s=0;for(var l of e){var u=l.index,c=t.substring(s,u);c.length>0&&i.push({type:"text",content:t.substring(s,u),range:co.create(uo.create(r,s+n),uo.create(r,u+n))});var h=c.length+1,d=l[1];if(i.push({type:"inline-tag",content:d,range:co.create(uo.create(r,s+h+n),uo.create(r,s+h+d.length+n))}),h+=d.length,4===l.length){h+=l[2].length;var f=l[3];i.push({type:"text",content:f,range:co.create(uo.create(r,s+h+n),uo.create(r,s+h+f.length+n))})}else i.push({type:"text",content:"",range:co.create(uo.create(r,s+h+n),uo.create(r,s+h+n))});s=u+l[0].length}var p=t.substring(s);p.length>0&&i.push({type:"text",content:p,range:co.create(uo.create(r,s+n),uo.create(r,s+n+p.length))})}return i}var Uu,Hu=/\S/,Wu=/\s*$/;function Gu(e,t){var r=e.substring(t).match(Hu);return r?t+r.index:e.length}function Vu(e){var t=e.match(Wu);if(t&&"number"==typeof t.index)return t.index}function Yu(e,t){var r=e.tokens[e.index];return"tag"===r.type?Qu(e,!1):"text"===r.type||"inline-tag"===r.type?Xu(e):(function(e,t){if(t){var r=new ac("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}(r,t),void e.index++)}function Xu(e){for(var t=e.tokens[e.index],r=t,n=t,i=[];t&&"break"!==t.type&&"tag"!==t.type;)i.push(Zu(e)),n=t,t=e.tokens[e.index];return new ic(i,co.create(r.range.start,n.range.end))}function Zu(e){return"inline-tag"===e.tokens[e.index].type?Qu(e,!0):Ju(e)}function Qu(e,t){var r=e.tokens[e.index++],n=r.content.substring(1),i=e.tokens[e.index];if("text"===(null==i?void 0:i.type)){if(t){var a=Ju(e);return new nc(n,new ic([a],a.range),t,co.create(r.range.start,a.range.end))}var o=Xu(e);return new nc(n,o,t,co.create(r.range.start,o.range.end))}var s=r.range;return new nc(n,new ic([],s),t,s)}function Ju(e){var t=e.tokens[e.index++];return new ac(t.content,t.range)}function ec(e){if(!e)return ec({start:"/**",end:"*/",line:"*"});var{start:t,end:r,line:n}=e;return{start:tc(t,!0),end:tc(r,!1),line:tc(n,!0)}}function tc(e,t){if("string"==typeof e||"object"==typeof e){var r="string"==typeof e?Ze(e):e.source;return t?new RegExp("^\\s*".concat(r)):new RegExp("\\s*".concat(r,"\\s*$"))}return e}class rc{constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find((t=>t.name===e))}getTags(e){return this.getAllTags().filter((t=>t.name===e))}getAllTags(){return this.elements.filter((e=>"name"in e))}toString(){var e="";for(var t of this.elements)if(0===e.length)e=t.toString();else{var r=t.toString();e+=oc(e)+r}return e.trim()}toMarkdown(e){var t="";for(var r of this.elements)if(0===t.length)t=r.toMarkdown(e);else{var n=r.toMarkdown(e);t+=oc(t)+n}return t.trim()}}class nc{constructor(e,t,r,n){this.name=e,this.content=t,this.inline=r,this.range=n}toString(){var e="@".concat(this.name),t=this.content.toString();return 1===this.content.inlines.length?e="".concat(e," ").concat(t):this.content.inlines.length>1&&(e="".concat(e,"\n").concat(t)),this.inline?"{".concat(e,"}"):e}toMarkdown(e){var t,r;return null!==(r=null===(t=null==e?void 0:e.renderTag)||void 0===t?void 0:t.call(e,this))&&void 0!==r?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){var t=this.content.toMarkdown(e);if(this.inline){var r=function(e,t,r){var n,i;if("linkplain"===e||"linkcode"===e||"link"===e){var a=t.indexOf(" "),o=t;if(a>0){var s=Gu(t,a);o=t.substring(s),t=t.substring(0,a)}("linkcode"===e||"link"===e&&"code"===r.link)&&(o="`".concat(o,"`"));var l=null!==(i=null===(n=r.renderLink)||void 0===n?void 0:n.call(r,t,o))&&void 0!==i?i:function(e,t){try{return Rl.parse(e,!0),"[".concat(t,"](").concat(e,")")}catch(t){return e}}(t,o);return l}}(this.name,t,null!=e?e:{});if("string"==typeof r)return r}var n="";"italic"===(null==e?void 0:e.tag)||void 0===(null==e?void 0:e.tag)?n="*":"bold"===(null==e?void 0:e.tag)?n="**":"bold-italic"===(null==e?void 0:e.tag)&&(n="***");var i="".concat(n,"@").concat(this.name).concat(n);return 1===this.content.inlines.length?i="".concat(i," — ").concat(t):this.content.inlines.length>1&&(i="".concat(i,"\n").concat(t)),this.inline?"{".concat(i,"}"):i}}class ic{constructor(e,t){this.inlines=e,this.range=t}toString(){for(var e="",t=0;t<this.inlines.length;t++){var r=this.inlines[t],n=this.inlines[t+1];e+=r.toString(),n&&n.range.start.line>r.range.start.line&&(e+="\n")}return e}toMarkdown(e){for(var t="",r=0;r<this.inlines.length;r++){var n=this.inlines[r],i=this.inlines[r+1];t+=n.toMarkdown(e),i&&i.range.start.line>n.range.start.line&&(t+="\n")}return t}}class ac{constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}}function oc(e){return e.endsWith("\n")?"\n":"\n\n"}class sc{constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){var t=this.commentProvider.getComment(e);if(t&&function(e){var t=ec(void 0),r=$u(e);if(0===r.length)return!1;var n=r[0],i=r[r.length-1],a=t.start,o=t.end;return Boolean(null==a?void 0:a.exec(n))&&Boolean(null==o?void 0:o.exec(i))}(t))return function(e,t,r){var n,i;"string"==typeof e?(i=t,n=r):(i=e.range.start,n=t),i||(i=uo.create(0,0));var a=function(e){for(var t,r,n,i=[],a=e.position.line,o=e.position.character,s=0;s<e.lines.length;s++){var l=0===s,u=s===e.lines.length-1,c=e.lines[s],h=0;if(l&&e.options.start){var d=null===(t=e.options.start)||void 0===t?void 0:t.exec(c);d&&(h=d.index+d[0].length)}else{var f=null===(r=e.options.line)||void 0===r?void 0:r.exec(c);f&&(h=f.index+f[0].length)}if(u){var p=null===(n=e.options.end)||void 0===n?void 0:n.exec(c);p&&(c=c.substring(0,p.index))}if(Gu(c=c.substring(0,Vu(c)),h)>=c.length){if(i.length>0){var g=uo.create(a,o);i.push({type:"break",content:"",range:co.create(g,g)})}}else{ju.lastIndex=h;var m=ju.exec(c);if(m){var y=m[0],v=m[1],b=uo.create(a,o+h),x=uo.create(a,o+h+y.length);i.push({type:"tag",content:v,range:co.create(b,x)}),h=Gu(c,h+=y.length)}if(h<c.length){var w=c.substring(h),D=Array.from(w.matchAll(Ku));i.push(...qu(D,w,a,o+h))}}a++,o=0}return i.length>0&&"break"===i[i.length-1].type?i.slice(0,-1):i}({lines:$u(e),position:i,options:ec(n)});return function(e){var t,r,n,i,a=uo.create(e.position.line,e.position.character);if(0===e.tokens.length)return new rc([],co.create(a,a));for(var o=[];e.index<e.tokens.length;){var s=Yu(e,o[o.length-1]);s&&o.push(s)}var l=null!==(r=null===(t=o[0])||void 0===t?void 0:t.range.start)&&void 0!==r?r:a,u=null!==(i=null===(n=o[o.length-1])||void 0===n?void 0:n.range.end)&&void 0!==i?i:a;return new rc(o,co.create(l,u))}({index:0,tokens:a,position:i})}(t).toMarkdown({renderLink:(t,r)=>this.documentationLinkRenderer(e,t,r),renderTag:t=>this.documentationTagRenderer(e,t)})}documentationLinkRenderer(e,t,r){var n,i=null!==(n=this.findNameInPrecomputedScopes(e,t))&&void 0!==n?n:this.findNameInGlobalScope(e,t);if(i&&i.nameSegment){var a=i.nameSegment.range.start.line+1,o=i.nameSegment.range.start.character+1,s=i.documentUri.with({fragment:"L".concat(a,",").concat(o)});return"[".concat(r,"](").concat(s.toString(),")")}}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){var r=De(e).precomputedScopes;if(r){var n=e;do{var i=r.get(n).find((e=>e.name===t));if(i)return i;n=n.$container}while(n)}}findNameInGlobalScope(e,t){return this.indexManager.allElements().find((e=>e.name===t))}}class lc{constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return function(e){return"string"==typeof e.$comment}(e)?e.$comment:null===(t=function(e,t){if(e){var r=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.container;){for(var r=e.container,n=r.content.indexOf(e);n>0;){n--;var i=r.content[n];if(t||!i.hidden)return i}e=r}}(e,!0);if(r&&D(r,t))return r;if(u(e))for(var n=e.content.findIndex((e=>!e.hidden))-1;n>=0;n--){var i=e.content[n];if(D(i,t))return i}}}(e.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===t?void 0:t.text}}r(1107);class uc{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}}function cc(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function hc(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){cc(a,n,i,o,s,"next",e)}function s(e){cc(a,n,i,o,s,"throw",e)}o(void 0)}))}}class dc{constructor(){this.previousTokenSource=new xl.Qi,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();var t=new xl.Qi;return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,r){var n=new Sl,i={action:t,deferred:n,cancellationToken:null!=r?r:xl.XO.None};return e.push(i),this.performNextOperation(),n.promise}performNextOperation(){var e=this;return hc((function*(){if(e.done){var t=[];if(e.writeQueue.length>0)t.push(e.writeQueue.shift());else{if(!(e.readQueue.length>0))return;t.push(...e.readQueue.splice(0,e.readQueue.length))}e.done=!1,yield Promise.all(t.map(function(){var e=hc((function*(e){var{action:t,deferred:r,cancellationToken:n}=e;try{var i=yield Promise.resolve().then((()=>t(n)));r.resolve(i)}catch(e){Cl(e)?r.resolve(void 0):r.reject(e)}}));return function(t){return e.apply(this,arguments)}}())),e.done=!0,e.performNextOperation()}}))()}cancelWrite(){this.previousTokenSource.cancel()}}class fc{constructor(e){this.grammarElementIdMap=new Ql,this.tokenTypeIdMap=new Ql,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map((e=>Object.assign({},e))),parserErrors:e.parserErrors.map((e=>Object.assign({},e))),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){var t=new Map,r=new Map;for(var n of Ae(e))t.set(n,{});if(e.$cstNode)for(var i of v(e.$cstNode))r.set(i,{});return{astNodes:t,cstNodes:r}}dehydrateAstNode(e,t){var r=t.astNodes.get(e);for(var[a,o]of(r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,t)),Object.entries(e)))if(!a.startsWith("$"))if(Array.isArray(o)){var s=[];for(var l of(r[a]=s,o))n(l)?s.push(this.dehydrateAstNode(l,t)):i(l)?s.push(this.dehydrateReference(l,t)):s.push(l)}else n(o)?r[a]=this.dehydrateAstNode(o,t):i(o)?r[a]=this.dehydrateReference(o,t):void 0!==o&&(r[a]=o);return r}dehydrateReference(e,t){var r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=t.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,t){var r=t.cstNodes.get(e);return u(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=t.astNodes.get(e.astNode),s(e)?r.content=e.content.map((e=>this.dehydrateCstNode(e,t))):l(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){var t=e.value,r=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,r),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,r)}}createHydrationContext(e){var t,r=new Map,n=new Map;for(var i of Ae(e))r.set(i,{});if(e.$cstNode)for(var a of v(e.$cstNode)){var o=void 0;"fullText"in a?t=o=new Qs(a.fullText):"content"in a?o=new Xs:"tokenType"in a&&(o=this.hydrateCstLeafNode(a)),o&&(n.set(a,o),o.root=t)}return{astNodes:r,cstNodes:n}}hydrateAstNode(e,t){var r=t.astNodes.get(e);for(var[a,o]of(r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=t.cstNodes.get(e.$cstNode)),Object.entries(e)))if(!a.startsWith("$"))if(Array.isArray(o)){var s=[];for(var l of(r[a]=s,o))n(l)?s.push(this.setParent(this.hydrateAstNode(l,t),r)):i(l)?s.push(this.hydrateReference(l,r,a,t)):s.push(l)}else n(o)?r[a]=this.setParent(this.hydrateAstNode(o,t),r):i(o)?r[a]=this.hydrateReference(o,r,a,t):void 0!==o&&(r[a]=o);return r}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,r,n){return this.linker.buildReference(t,r,n.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=t.cstNodes.get(e);if("number"==typeof e.grammarSource&&(n.grammarSource=this.getGrammarElement(e.grammarSource)),n.astNode=t.astNodes.get(e.astNode),s(n))for(var i of e.content){var a=this.hydrateCstNode(i,t,r++);n.content.push(a)}return n}hydrateCstLeafNode(e){var t=this.getTokenType(e.tokenType),r=e.offset,n=e.length,i=e.startLine,a=e.startColumn,o=e.endLine,s=e.endColumn,l=e.hidden;return new Ys(r,n,{start:{line:i,character:a},end:{line:o,character:s}},t,l)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap();var t=this.grammarElementIdMap.getKey(e);if(t)return t;throw new Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){var e,t=0;for(var r of Ae(this.grammar))e=r,xe.isInstance(e,S)&&this.grammarElementIdMap.set(r,t++)}}function pc(e){return{documentation:{CommentProvider:e=>new lc(e),DocumentationProvider:e=>new sc(e)},parser:{AsyncParser:e=>new uc(e),GrammarConfig:e=>function(e){var t,r=[],n=e.Grammar;for(var i of n.rules)U(i)&&(t=i).hidden&&!lt(t).test(" ")&&Ye(lt(i))&&r.push(i.name);return{multilineCommentRules:r,nameRegexp:w}}(e),LangiumParser:e=>function(e){var t=function(e){var t=e.Grammar,r=e.parser.Lexer;return cl(t,new nl(e),r.definition)}(e);return t.finalize(),t}(e),CompletionParser:e=>function(e){var t=e.Grammar,r=e.parser.Lexer,n=new ol(e);return cl(t,n,r.definition),n.finalize(),n}(e),ValueConverter:()=>new bl,TokenBuilder:()=>new vl,Lexer:e=>new Mu(e),ParserErrorMessageProvider:()=>new al},workspace:{AstNodeLocator:()=>new ku,AstNodeDescriptionProvider:e=>new wu(e),ReferenceDescriptionProvider:e=>new Du(e)},references:{Linker:e=>new Vl(e),NameProvider:()=>new Yl,ScopeProvider:e=>new lu(e),ScopeComputation:e=>new tu(e),References:e=>new Xl(e)},serializer:{Hydrator:e=>new fc(e),JsonSerializer:e=>new cu(e)},validation:{DocumentValidator:e=>new yu(e),ValidationRegistry:e=>new pu(e)},shared:()=>e.shared}}function gc(e){return{ServiceRegistry:()=>new hu,workspace:{LangiumDocuments:e=>new Wl(e),LangiumDocumentFactory:e=>new Hl(e),DocumentBuilder:e=>new Fu(e),IndexManager:e=>new Nu(e),WorkspaceManager:e=>new Ru(e),FileSystemProvider:t=>e.fileSystemProvider(t),WorkspaceLock:()=>new dc,ConfigurationProvider:e=>new Cu(e)}}}function mc(e,t,r,n,i,a,o,s,l){return vc([e,t,r,n,i,a,o,s,l].reduce(wc,{}))}!function(e){e.merge=(e,t)=>wc(wc({},e),t)}(Uu||(Uu={}));var yc=Symbol("isProxy");function vc(e,t){var r=new Proxy({},{deleteProperty:()=>!1,get:(n,i)=>xc(n,i,e,t||r),getOwnPropertyDescriptor:(n,i)=>(xc(n,i,e,t||r),Object.getOwnPropertyDescriptor(n,i)),has:(t,r)=>r in e,ownKeys:()=>[...Reflect.ownKeys(e),yc]});return r[yc]=!0,r}var bc=Symbol();function xc(e,t,r,n){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===bc)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. See https://langium.org/docs/configuration-services/#resolving-cyclic-dependencies');return e[t]}if(t in r){var i=r[t];e[t]=bc;try{e[t]="function"==typeof i?i(n):vc(i,n)}catch(r){throw e[t]=r instanceof Error?r:void 0,r}return e[t]}}function wc(e,t){if(t)for(var[r,n]of Object.entries(t))if(void 0!==n){var i=e[r];e[r]=null!==i&&null!==n&&"object"==typeof i&&"object"==typeof n?wc(i,n):n}return e}function Dc(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}class kc{readFile(){throw new Error("No file system is available.")}readDirectory(){return(e=function*(){return[]},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Dc(a,n,i,o,s,"next",e)}function s(e){Dc(a,n,i,o,s,"throw",e)}o(void 0)}))})();var e}}var Ec={fileSystemProvider:()=>new kc},Ac={Grammar:()=>{},LanguageMetaData:()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})},Cc={AstReflection:()=>new be};function _c(e){var t,r,n,i=(r=mc(gc(Ec),Cc),n=mc(pc({shared:r}),Ac),r.ServiceRegistry.register(n),n),a=i.serializer.JsonSerializer.deserialize(e);return i.shared.workspace.LangiumDocumentFactory.fromModel(a,Rl.parse("memory://".concat(null!==(t=a.name)&&void 0!==t?t:"grammar",".langium"))),a}},7453:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(8049);const i=function(e,t){for(var r=e.length;r--;)if((0,n.A)(e[r][0],t))return r;return-1};var a=Array.prototype.splice;function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}o.prototype.clear=function(){this.__data__=[],this.size=0},o.prototype.delete=function(e){var t=this.__data__,r=i(t,e);return!(r<0||(r==t.length-1?t.pop():a.call(t,r,1),--this.size,0))},o.prototype.get=function(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]},o.prototype.has=function(e){return i(this.__data__,e)>-1},o.prototype.set=function(e,t){var r=this.__data__,n=i(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};const s=o},4998:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(3252),i=r(3330);const a=(0,n.A)(i.A,"Map")},4148:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});const n=(0,r(3252).A)(Object,"create");var i=Object.prototype.hasOwnProperty;var a=Object.prototype.hasOwnProperty;function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}o.prototype.clear=function(){this.__data__=n?n(null):{},this.size=0},o.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},o.prototype.get=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(t,e)?t[e]:void 0},o.prototype.has=function(e){var t=this.__data__;return n?void 0!==t[e]:a.call(t,e)},o.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this};const s=o;var l=r(7453),u=r(4998);const c=function(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map};function h(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}h.prototype.clear=function(){this.size=0,this.__data__={hash:new s,map:new(u.A||l.A),string:new s}},h.prototype.delete=function(e){var t=c(this,e).delete(e);return this.size-=t?1:0,t},h.prototype.get=function(e){return c(this,e).get(e)},h.prototype.has=function(e){return c(this,e).has(e)},h.prototype.set=function(e,t){var r=c(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};const d=h},292:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(3252),i=r(3330);const a=(0,n.A)(i.A,"Set")},1805:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(4148);function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n.A;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},i.prototype.has=function(e){return this.__data__.has(e)};const a=i},6482:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(7453);var i=r(4998),a=r(4148);function o(e){var t=this.__data__=new n.A(e);this.size=t.size}o.prototype.clear=function(){this.__data__=new n.A,this.size=0},o.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},o.prototype.get=function(e){return this.__data__.get(e)},o.prototype.has=function(e){return this.__data__.has(e)},o.prototype.set=function(e,t){var r=this.__data__;if(r instanceof n.A){var o=r.__data__;if(!i.A||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new a.A(o)}return r.set(e,t),this.size=r.size,this};const s=o},9798:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(3330).A.Symbol},3307:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=r(3330).A.Uint8Array},8300:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},1275:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}},9656:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(4917);const i=function(e,t){return!(null==e||!e.length)&&(0,n.A)(e,t,0)>-1}},9488:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}},3011:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(6168),i=r(4794),a=r(4393),o=r(8604),s=r(6672),l=Object.prototype.hasOwnProperty;const u=function(e,t){var r=(0,i.A)(e),u=!r&&(0,n.A)(e),c=!r&&!u&&(0,a.A)(e),h=!r&&!u&&!c&&(0,s.A)(e),d=r||u||c||h,f=d?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],p=f.length;for(var g in e)!t&&!l.call(e,g)||d&&("length"==g||c&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||(0,o.A)(g,p))||f.push(g);return f}},5576:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},2725:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}},4269:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},4914:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3053),i=r(8049),a=Object.prototype.hasOwnProperty;const o=function(e,t,r){var o=e[t];a.call(e,t)&&(0,i.A)(o,r)&&(void 0!==r||t in e)||(0,n.A)(e,t,r)}},3053:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(7088);const i=function(e,t,r){"__proto__"==t&&n.A?(0,n.A)(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},3913:(e,t,r)=>{"use strict";r.d(t,{A:()=>z});var n=r(6482),i=r(8300),a=r(4914),o=r(7908),s=r(9327);var l=r(2997);var u=r(5519),c=r(7422),h=r(3735);var d=r(5852);var f=r(1141),p=r(8502),g=r(6276),m=Object.prototype.hasOwnProperty;var y=r(7406);var v=/\w*$/;var b=r(9798),x=b.A?b.A.prototype:void 0,w=x?x.valueOf:void 0;var D=r(5284);const k=function(e,t,r){var n,i,a,o=e.constructor;switch(t){case"[object ArrayBuffer]":return(0,y.A)(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var r=t?(0,y.A)(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,D.A)(e,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(a=new(i=e).constructor(i.source,v.exec(i))).lastIndex=i.lastIndex,a;case"[object Symbol]":return n=e,w?Object(w.call(n)):{}}};var E=r(3320),A=r(4794),C=r(4393),_=r(6951);var T=r(9408),S=r(54),F=S.A&&S.A.isMap;const O=F?(0,T.A)(F):function(e){return(0,_.A)(e)&&"[object Map]"==(0,g.A)(e)};var B=r(9744);var N=S.A&&S.A.isSet;const L=N?(0,T.A)(N):function(e){return(0,_.A)(e)&&"[object Set]"==(0,g.A)(e)};var I="[object Arguments]",R="[object Function]",M="[object Object]",P={};P[I]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[M]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[R]=P["[object WeakMap]"]=!1;const z=function e(t,r,y,v,b,x){var w,D=1&r,_=2&r,T=4&r;if(y&&(w=b?y(t,v,b,x):y(t)),void 0!==w)return w;if(!(0,B.A)(t))return t;var S=(0,A.A)(t);if(S){if(w=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&m.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(t),!D)return(0,c.A)(t,w)}else{var F=(0,g.A)(t),N=F==R||"[object GeneratorFunction]"==F;if((0,C.A)(t))return(0,u.A)(t,D);if(F==M||F==I||N&&!b){if(w=_||N?{}:(0,E.A)(t),!D)return _?function(e,t){return(0,o.A)(e,(0,d.A)(e),t)}(t,function(e,t){return e&&(0,o.A)(t,(0,l.A)(t),e)}(w,t)):function(e,t){return(0,o.A)(e,(0,h.A)(e),t)}(t,function(e,t){return e&&(0,o.A)(t,(0,s.A)(t),e)}(w,t))}else{if(!P[F])return b?t:{};w=k(t,F,D)}}x||(x=new n.A);var z=x.get(t);if(z)return z;x.set(t,w),L(t)?t.forEach((function(n){w.add(e(n,r,y,n,t,x))})):O(t)&&t.forEach((function(n,i){w.set(i,e(n,r,y,i,t,x))}));var $=T?_?p.A:f.A:_?l.A:s.A,j=S?void 0:$(t);return(0,i.A)(j||t,(function(n,i){j&&(n=t[i=n]),(0,a.A)(w,i,e(n,r,y,i,t,x))})),w}},6819:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(6638),i=r(1061);const a=(o=n.A,function(e,t){if(null==e)return e;if(!(0,i.A)(e))return o(e,t);for(var r=e.length,n=-1,a=Object(e);++n<r&&!1!==t(a[n],n,a););return e});var o},7440:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1959);const i=function(e,t,r){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(void 0===l?s==s&&!(0,n.A)(s):r(s,l)))var l=s,u=o}return u}},4297:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(6819);const i=function(e,t){var r=[];return(0,n.A)(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}},638:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},8386:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(2725),i=r(9798),a=r(6168),o=r(4794),s=i.A?i.A.isConcatSpreadable:void 0;const l=function(e){return(0,o.A)(e)||(0,a.A)(e)||!!(s&&e&&e[s])},u=function e(t,r,i,a,o){var s=-1,u=t.length;for(i||(i=l),o||(o=[]);++s<u;){var c=t[s];r>0&&i(c)?r>1?e(c,r-1,i,a,o):(0,n.A)(o,c):a||(o[o.length]=c)}return o}},8269:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[++n];if(!1===t(i[s],s,i))break}return e}},6638:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(8269),i=r(9327);const a=function(e,t){return e&&(0,n.A)(e,t,i.A)}},7095:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2478),i=r(1044);const a=function(e,t){for(var r=0,a=(t=(0,n.A)(t,e)).length;null!=e&&r<a;)e=e[(0,i.A)(t[r++])];return r&&r==a?e:void 0}},6584:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2725),i=r(4794);const a=function(e,t,r){var a=t(e);return(0,i.A)(e)?a:(0,n.A)(a,r(e))}},5089:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(9798),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n.A?n.A.toStringTag:void 0;var l=Object.prototype.toString;var u=n.A?n.A.toStringTag:void 0;const c=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[s]=r:delete e[s]),i}(e):function(e){return l.call(e)}(e)}},4917:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(638);const i=function(e){return e!=e},a=function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):(0,n.A)(e,i,r)}},870:(e,t,r)=>{"use strict";r.d(t,{A:()=>j});var n=r(6482),i=r(1805),a=r(4269),o=r(9124);const s=function(e,t,r,n,s,l){var u=1&r,c=e.length,h=t.length;if(c!=h&&!(u&&h>c))return!1;var d=l.get(e),f=l.get(t);if(d&&f)return d==t&&f==e;var p=-1,g=!0,m=2&r?new i.A:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var y=e[p],v=t[p];if(n)var b=u?n(v,y,p,t,e,l):n(y,v,p,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!(0,a.A)(t,(function(e,t){if(!(0,o.A)(m,t)&&(y===e||s(y,e,r,n,l)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!s(y,v,r,n,l)){g=!1;break}}return l.delete(e),l.delete(t),g};var l=r(9798),u=r(3307),c=r(8049);const h=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var d=r(2160),f=l.A?l.A.prototype:void 0,p=f?f.valueOf:void 0;var g=r(1141),m=Object.prototype.hasOwnProperty;var y=r(6276),v=r(4794),b=r(4393),x=r(6672),w="[object Arguments]",D="[object Array]",k="[object Object]",E=Object.prototype.hasOwnProperty;const A=function(e,t,r,i,a,o){var l=(0,v.A)(e),f=(0,v.A)(t),A=l?D:(0,y.A)(e),C=f?D:(0,y.A)(t),_=(A=A==w?k:A)==k,T=(C=C==w?k:C)==k,S=A==C;if(S&&(0,b.A)(e)){if(!(0,b.A)(t))return!1;l=!0,_=!1}if(S&&!_)return o||(o=new n.A),l||(0,x.A)(e)?s(e,t,r,i,a,o):function(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new u.A(e),new u.A(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,c.A)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=h;case"[object Set]":var f=1&n;if(l||(l=d.A),e.size!=t.size&&!f)return!1;var g=o.get(e);if(g)return g==t;n|=2,o.set(e,t);var m=s(l(e),l(t),n,i,a,o);return o.delete(e),m;case"[object Symbol]":if(p)return p.call(e)==p.call(t)}return!1}(e,t,A,r,i,a,o);if(!(1&r)){var F=_&&E.call(e,"__wrapped__"),O=T&&E.call(t,"__wrapped__");if(F||O){var B=F?e.value():e,N=O?t.value():t;return o||(o=new n.A),a(B,N,r,i,o)}}return!!S&&(o||(o=new n.A),function(e,t,r,n,i,a){var o=1&r,s=(0,g.A)(e),l=s.length;if(l!=(0,g.A)(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:m.call(t,c)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var y=e[c=s[u]],v=t[c];if(n)var b=o?n(v,y,c,t,e,a):n(y,v,c,e,t,a);if(!(void 0===b?y===v||i(y,v,r,n,a):b)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,r,i,a,o))};var C=r(6951);const _=function e(t,r,n,i,a){return t===r||(null==t||null==r||!(0,C.A)(t)&&!(0,C.A)(r)?t!=t&&r!=r:A(t,r,n,i,e,a))};var T=r(9744);const S=function(e){return e==e&&!(0,T.A)(e)};var F=r(9327);const O=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},B=function(e){var t=function(e){for(var t=(0,F.A)(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,S(i)]}return t}(e);return 1==t.length&&t[0][2]?O(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,i){var a=r.length,o=a,s=!i;if(null==e)return!o;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=r[a])[0],c=e[u],h=l[1];if(s&&l[2]){if(void 0===c&&!(u in e))return!1}else{var d=new n.A;if(i)var f=i(c,h,u,e,t,d);if(!(void 0===f?_(h,c,3,i,d):f))return!1}}return!0}(r,e,t)}};var N=r(7095);var L=r(377),I=r(5567),R=r(1044);const M=function(e,t){return(0,I.A)(e)&&S(t)?O((0,R.A)(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:(0,N.A)(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?(0,L.A)(r,e):_(t,n,3)}};var P=r(3033),z=r(3558);const $=function(e){return(0,I.A)(e)?(0,z.A)((0,R.A)(e)):function(e){return function(t){return(0,N.A)(t,e)}}(e)},j=function(e){return"function"==typeof e?e:null==e?P.A:"object"==typeof e?(0,v.A)(e)?M(e[0],e[1]):B(e):$(e)}},6613:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(174);const i=(0,r(9818).A)(Object.keys,Object);var a=Object.prototype.hasOwnProperty;const o=function(e){if(!(0,n.A)(e))return i(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},2339:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){return e<t}},3669:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(6819),i=r(1061);const a=function(e,t){var r=-1,a=(0,i.A)(e)?Array(e.length):[];return(0,n.A)(e,(function(e,n,i){a[++r]=t(e,n,i)})),a}},3081:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(7095),i=r(4914),a=r(2478),o=r(8604),s=r(9744),l=r(1044);const u=function(e,t,r,n){if(!(0,s.A)(e))return e;for(var u=-1,c=(t=(0,a.A)(t,e)).length,h=c-1,d=e;null!=d&&++u<c;){var f=(0,l.A)(t[u]),p=r;if("__proto__"===f||"constructor"===f||"prototype"===f)return e;if(u!=h){var g=d[f];void 0===(p=n?n(g,f,d):void 0)&&(p=(0,s.A)(g)?g:(0,o.A)(t[u+1])?[]:{})}(0,i.A)(d,f,p),d=d[f]}return e},c=function(e,t,r){for(var i=-1,o=t.length,s={};++i<o;){var l=t[i],c=(0,n.A)(e,l);r(c,l)&&u(s,(0,a.A)(l,e),c)}return s}},3558:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return function(t){return null==t?void 0:t[e]}}},6701:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3033),i=r(2793),a=r(5805);const o=function(e,t){return(0,a.A)((0,i.A)(e,t,n.A),e+"")}},9408:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return function(t){return e(t)}}},4820:(e,t,r)=>{"use strict";r.d(t,{A:()=>h});var n=r(1805),i=r(9656),a=r(9488),o=r(9124),s=r(292),l=r(9651),u=r(2160);const c=s.A&&1/(0,u.A)(new s.A([,-0]))[1]==1/0?function(e){return new s.A(e)}:l.A,h=function(e,t,r){var s=-1,l=i.A,h=e.length,d=!0,f=[],p=f;if(r)d=!1,l=a.A;else if(h>=200){var g=t?null:c(e);if(g)return(0,u.A)(g);d=!1,l=o.A,p=new n.A}else p=t?[]:f;e:for(;++s<h;){var m=e[s],y=t?t(m):m;if(m=r||0!==m?m:0,d&&y==y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(m)}else l(p,y,r)||(p!==f&&p.push(y),f.push(m))}return f}},9124:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){return e.has(t)}},9553:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3033);const i=function(e){return"function"==typeof e?e:n.A}},2478:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(4794),i=r(5567),a=r(927),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g;const l=(u=(0,a.A)((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,i){t.push(n?i.replace(s,"$1"):r||e)})),t}),(function(e){return 500===c.size&&c.clear(),e})),c=u.cache,u);var u,c,h=r(5285);const d=function(e,t){return(0,n.A)(e)?e:(0,i.A)(e,t)?[e]:l((0,h.A)(e))}},7406:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3307);const i=function(e){var t=new e.constructor(e.byteLength);return new n.A(t).set(new n.A(e)),t}},5519:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(3330),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,o=a&&a.exports===i?n.A.Buffer:void 0,s=o?o.allocUnsafe:void 0;const l=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},5284:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(7406);const i=function(e,t){var r=t?(0,n.A)(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},7422:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},7908:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(4914),i=r(3053);const a=function(e,t,r,a){var o=!r;r||(r={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=a?a(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),o?(0,i.A)(r,u,c):(0,n.A)(r,u,c)}return r}},4916:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(6701),i=r(3195);const a=function(e){return(0,n.A)((function(t,r){var n=-1,a=r.length,o=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&(0,i.A)(r[0],r[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++n<a;){var l=r[n];l&&e(t,l,n,o)}return t}))}},7088:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3252);const i=function(){try{var e=(0,n.A)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},2459:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n="object"==typeof global&&global&&global.Object===Object&&global},1141:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(6584),i=r(3735),a=r(9327);const o=function(e){return(0,n.A)(e,a.A,i.A)}},8502:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(6584),i=r(5852),a=r(2997);const o=function(e){return(0,n.A)(e,a.A,i.A)}},3252:(e,t,r)=>{"use strict";r.d(t,{A:()=>m});var n=r(9939);const i=r(3330).A["__core-js_shared__"];var a,o=(a=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";var s=r(9744),l=r(1942),u=/^\[object .+?Constructor\]$/,c=Function.prototype,h=Object.prototype,d=c.toString,f=h.hasOwnProperty,p=RegExp("^"+d.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const g=function(e){return!(!(0,s.A)(e)||(t=e,o&&o in t))&&((0,n.A)(e)?p:u).test((0,l.A)(e));var t},m=function(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return g(r)?r:void 0}},2108:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=(0,r(9818).A)(Object.getPrototypeOf,Object)},3735:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(1275),i=r(78),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;const s=o?function(e){return null==e?[]:(e=Object(e),(0,n.A)(o(e),(function(t){return a.call(e,t)})))}:i.A},5852:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2725),i=r(2108),a=r(3735),o=r(78);const s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)(0,n.A)(t,(0,a.A)(e)),e=(0,i.A)(e);return t}:o.A},6276:(e,t,r)=>{"use strict";r.d(t,{A:()=>k});var n=r(3252),i=r(3330);const a=(0,n.A)(i.A,"DataView");var o=r(4998);const s=(0,n.A)(i.A,"Promise");var l=r(292);const u=(0,n.A)(i.A,"WeakMap");var c=r(5089),h=r(1942),d="[object Map]",f="[object Promise]",p="[object Set]",g="[object WeakMap]",m="[object DataView]",y=(0,h.A)(a),v=(0,h.A)(o.A),b=(0,h.A)(s),x=(0,h.A)(l.A),w=(0,h.A)(u),D=c.A;(a&&D(new a(new ArrayBuffer(1)))!=m||o.A&&D(new o.A)!=d||s&&D(s.resolve())!=f||l.A&&D(new l.A)!=p||u&&D(new u)!=g)&&(D=function(e){var t=(0,c.A)(e),r="[object Object]"==t?e.constructor:void 0,n=r?(0,h.A)(r):"";if(n)switch(n){case y:return m;case v:return d;case b:return f;case x:return p;case w:return g}return t});const k=D},8167:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(2478),i=r(6168),a=r(4794),o=r(8604),s=r(2911),l=r(1044);const u=function(e,t,r){for(var u=-1,c=(t=(0,n.A)(t,e)).length,h=!1;++u<c;){var d=(0,l.A)(t[u]);if(!(h=null!=e&&r(e,d)))break;e=e[d]}return h||++u!=c?h:!!(c=null==e?0:e.length)&&(0,s.A)(c)&&(0,o.A)(d,c)&&((0,a.A)(e)||(0,i.A)(e))}},3320:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(9744),i=Object.create;const a=function(){function e(){}return function(t){if(!(0,n.A)(t))return{};if(i)return i(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var o=r(2108),s=r(174);const l=function(e){return"function"!=typeof e.constructor||(0,s.A)(e)?{}:a((0,o.A)(e))}},8604:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=/^(?:0|[1-9]\d*)$/;const i=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},3195:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(8049),i=r(1061),a=r(8604),o=r(9744);const s=function(e,t,r){if(!(0,o.A)(r))return!1;var s=typeof t;return!!("number"==s?(0,i.A)(r)&&(0,a.A)(t,r.length):"string"==s&&t in r)&&(0,n.A)(r[t],e)}},5567:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(4794),i=r(1959),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;const s=function(e,t){if((0,n.A)(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!(0,i.A)(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},174:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=Object.prototype;const i=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},54:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(2459),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,o=a&&a.exports===i&&n.A.process;const s=function(){try{return a&&a.require&&a.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}()},9818:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){return function(r){return e(t(r))}}},2793:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=Math.max;const i=function(e,t,r){return t=n(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=n(i.length-t,0),s=Array(o);++a<o;)s[a]=i[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=i[a];return l[t]=r(s),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,l)}}},3330:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(2459),i="object"==typeof self&&self&&self.Object===Object&&self;const a=n.A||i||Function("return this")()},2160:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},5805:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(9551),i=r(7088),a=r(3033);const o=i.A?function(e,t){return(0,i.A)(e,"toString",{configurable:!0,enumerable:!1,value:(0,n.A)(t),writable:!0})}:a.A;var s=Date.now;const l=(u=o,c=0,h=0,function(){var e=s(),t=16-(e-h);if(h=e,t>0){if(++c>=800)return arguments[0]}else c=0;return u.apply(void 0,arguments)});var u,c,h},1044:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(1959);const i=function(e){if("string"==typeof e||(0,n.A)(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},1942:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=Function.prototype.toString;const i=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},6434:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(3913);const i=function(e){return(0,n.A)(e,4)}},9551:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return function(){return e}}},6081:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(6701),i=r(8049),a=r(3195),o=r(2997),s=Object.prototype,l=s.hasOwnProperty;const u=(0,n.A)((function(e,t){e=Object(e);var r=-1,n=t.length,u=n>2?t[2]:void 0;for(u&&(0,a.A)(t[0],t[1],u)&&(n=1);++r<n;)for(var c=t[r],h=(0,o.A)(c),d=-1,f=h.length;++d<f;){var p=h[d],g=e[p];(void 0===g||(0,i.A)(g,s[p])&&!l.call(e,p))&&(e[p]=c[p])}return e}))},8049:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e,t){return e===t||e!=e&&t!=t}},1497:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(1275),i=r(4297),a=r(870),o=r(4794);const s=function(e,t){return((0,o.A)(e)?n.A:i.A)(e,(0,a.A)(t,3))}},4596:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(870),i=r(1061),a=r(9327);var o=r(638),s=r(6278),l=Math.max;const u=(c=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=null==r?0:(0,s.A)(r);return a<0&&(a=l(i+a,0)),(0,o.A)(e,(0,n.A)(t,3),a)},function(e,t,r){var o=Object(e);if(!(0,i.A)(e)){var s=(0,n.A)(t,3);e=(0,a.A)(e),t=function(e){return s(o[e],e,o)}}var l=c(e,t,r);return l>-1?o[s?e[l]:l]:void 0});var c},3522:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(8386);const i=function(e){return null!=e&&e.length?(0,n.A)(e,1):[]}},8709:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(8300),i=r(6819),a=r(9553),o=r(4794);const s=function(e,t){return((0,o.A)(e)?n.A:i.A)(e,(0,a.A)(t))}},1127:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=Object.prototype.hasOwnProperty;const i=function(e,t){return null!=e&&n.call(e,t)};var a=r(8167);const o=function(e,t){return null!=e&&(0,a.A)(e,t,i)}},377:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});const n=function(e,t){return null!=e&&t in Object(e)};var i=r(8167);const a=function(e,t){return null!=e&&(0,i.A)(e,t,n)}},3033:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return e}},6168:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(5089),i=r(6951);const a=function(e){return(0,i.A)(e)&&"[object Arguments]"==(0,n.A)(e)};var o=Object.prototype,s=o.hasOwnProperty,l=o.propertyIsEnumerable;const u=a(function(){return arguments}())?a:function(e){return(0,i.A)(e)&&s.call(e,"callee")&&!l.call(e,"callee")}},4794:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=Array.isArray},1061:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(9939),i=r(2911);const a=function(e){return null!=e&&(0,i.A)(e.length)&&!(0,n.A)(e)}},2506:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(1061),i=r(6951);const a=function(e){return(0,i.A)(e)&&(0,n.A)(e)}},4393:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(3330);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof module&&module&&!module.nodeType&&module,o=a&&a.exports===i?n.A.Buffer:void 0;const s=(o?o.isBuffer:void 0)||function(){return!1}},3958:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(6613),i=r(6276),a=r(6168),o=r(4794),s=r(1061),l=r(4393),u=r(174),c=r(6672),h=Object.prototype.hasOwnProperty;const d=function(e){if(null==e)return!0;if((0,s.A)(e)&&((0,o.A)(e)||"string"==typeof e||"function"==typeof e.splice||(0,l.A)(e)||(0,c.A)(e)||(0,a.A)(e)))return!e.length;var t=(0,i.A)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,u.A)(e))return!(0,n.A)(e).length;for(var r in e)if(h.call(e,r))return!1;return!0}},9939:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5089),i=r(9744);const a=function(e){if(!(0,i.A)(e))return!1;var t=(0,n.A)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},2911:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},9744:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6951:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return null!=e&&"object"==typeof e}},3422:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(5089),i=r(4794),a=r(6951);const o=function(e){return"string"==typeof e||!(0,i.A)(e)&&(0,a.A)(e)&&"[object String]"==(0,n.A)(e)}},1959:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5089),i=r(6951);const a=function(e){return"symbol"==typeof e||(0,i.A)(e)&&"[object Symbol]"==(0,n.A)(e)}},6672:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(5089),i=r(2911),a=r(6951),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var s=r(9408),l=r(54),u=l.A&&l.A.isTypedArray;const c=u?(0,s.A)(u):function(e){return(0,a.A)(e)&&(0,i.A)(e.length)&&!!o[(0,n.A)(e)]}},9079:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){return void 0===e}},9327:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(3011),i=r(6613),a=r(1061);const o=function(e){return(0,a.A)(e)?(0,n.A)(e):(0,i.A)(e)}},2997:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var n=r(3011),i=r(9744),a=r(174);var o=Object.prototype.hasOwnProperty;const s=function(e){if(!(0,i.A)(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=(0,a.A)(e),r=[];for(var n in e)("constructor"!=n||!t&&o.call(e,n))&&r.push(n);return r};var l=r(1061);const u=function(e){return(0,l.A)(e)?(0,n.A)(e,!0):s(e)}},5939:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4389:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(5576),i=r(870),a=r(3669),o=r(4794);const s=function(e,t){return((0,o.A)(e)?n.A:a.A)(e,(0,i.A)(t,3))}},927:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(4148);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(i.Cache||n.A),r}i.Cache=n.A;const a=i},6014:(e,t,r)=>{"use strict";r.d(t,{A:()=>B});var n=r(6482),i=r(3053),a=r(8049);const o=function(e,t,r){(void 0!==r&&!(0,a.A)(e[t],r)||void 0===r&&!(t in e))&&(0,i.A)(e,t,r)};var s=r(8269),l=r(5519),u=r(5284),c=r(7422),h=r(3320),d=r(6168),f=r(4794),p=r(2506),g=r(4393),m=r(9939),y=r(9744),v=r(5089),b=r(2108),x=r(6951),w=Function.prototype,D=Object.prototype,k=w.toString,E=D.hasOwnProperty,A=k.call(Object);var C=r(6672);const _=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var T=r(7908),S=r(2997);const F=function(e,t,r,n,i,a,s){var w,D=_(e,r),F=_(t,r),O=s.get(F);if(O)o(e,r,O);else{var B=a?a(D,F,r+"",e,t,s):void 0,N=void 0===B;if(N){var L=(0,f.A)(F),I=!L&&(0,g.A)(F),R=!L&&!I&&(0,C.A)(F);B=F,L||I||R?(0,f.A)(D)?B=D:(0,p.A)(D)?B=(0,c.A)(D):I?(N=!1,B=(0,l.A)(F,!0)):R?(N=!1,B=(0,u.A)(F,!0)):B=[]:function(e){if(!(0,x.A)(e)||"[object Object]"!=(0,v.A)(e))return!1;var t=(0,b.A)(e);if(null===t)return!0;var r=E.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&k.call(r)==A}(F)||(0,d.A)(F)?(B=D,(0,d.A)(D)?(w=D,B=(0,T.A)(w,(0,S.A)(w))):(0,y.A)(D)&&!(0,m.A)(D)||(B=(0,h.A)(F))):N=!1}N&&(s.set(F,B),i(B,F,n,a,s),s.delete(F)),o(e,r,B)}},O=function e(t,r,i,a,l){t!==r&&(0,s.A)(r,(function(s,u){if(l||(l=new n.A),(0,y.A)(s))F(t,r,u,i,e,a,l);else{var c=a?a(_(t,u),s,u+"",t,r,l):void 0;void 0===c&&(c=s),o(t,u,c)}}),S.A)},B=(0,r(4916).A)((function(e,t,r){O(e,t,r)}))},7431:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(7440),i=r(2339),a=r(3033);const o=function(e){return e&&e.length?(0,n.A)(e,a.A,i.A):void 0}},9651:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(){}},3366:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});const n=function(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r};var i=r(6819),a=r(870);const o=function(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r};var s=r(4794);const l=function(e,t,r){var l=(0,s.A)(e)?n:o,u=arguments.length<3;return l(e,(0,a.A)(t,4),r,u,i.A)}},78:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});const n=function(){return[]}},6736:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var n=/\s/;var i=/^\s+/;const a=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}(e)+1).replace(i,""):e};var o=r(9744),s=r(1959),l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt;var d=1/0;const f=function(e){return e?(e=function(e){if("number"==typeof e)return e;if((0,s.A)(e))return NaN;if((0,o.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,o.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var r=u.test(e);return r||c.test(e)?h(e.slice(2),r?2:8):l.test(e)?NaN:+e}(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},6278:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(6736);const i=function(e){var t=(0,n.A)(e),r=t%1;return t==t?r?t-r:t:0}},5285:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(9798),i=r(5576),a=r(4794),o=r(1959),s=n.A?n.A.prototype:void 0,l=s?s.toString:void 0;const u=function e(t){if("string"==typeof t)return t;if((0,a.A)(t))return(0,i.A)(t,e)+"";if((0,o.A)(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},c=function(e){return null==e?"":u(e)}},1401:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(5576);var i=r(9327);const a=function(e){return null==e?[]:function(e,t){return(0,n.A)(t,(function(t){return e[t]}))}(e,(0,i.A)(e))}},165:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}r.d(t,{A:()=>$u});var d="undefined"==typeof window?null:window,f=d?d.navigator:null;d&&d.document;var p=n(""),g=n({}),m=n((function(){})),y="undefined"==typeof HTMLElement?"undefined":n(HTMLElement),v=function(e){return e&&e.instanceString&&x(e.instanceString)?e.instanceString():null},b=function(e){return null!=e&&n(e)==p},x=function(e){return null!=e&&n(e)===m},w=function(e){return!A(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},D=function(e){return null!=e&&n(e)===g&&!w(e)&&e.constructor===Object},k=function(e){return null!=e&&n(e)===n(1)&&!isNaN(e)},E=function(e){return"undefined"===y?void 0:null!=e&&e instanceof HTMLElement},A=function(e){return C(e)||_(e)},C=function(e){return"collection"===v(e)&&e._private.single},_=function(e){return"collection"===v(e)&&!e._private.single},T=function(e){return"core"===v(e)},S=function(e){return"stylesheet"===v(e)},F=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},O=function(e){return function(e){return null!=e&&n(e)===g}(e)&&x(e.then)},B=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var r=function r(){var n,i=arguments,a=t.apply(this,i),o=r.cache;return(n=o[a])||(n=o[a]=e.apply(this,i)),n};return r.cache={},r},N=B((function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))})),L=B((function(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))})),I=B((function(e,t){return e+t[0].toUpperCase()+t.substring(1)}),(function(e,t){return e+"$"+t})),R=function(e){return F(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},M="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",P="rgb[a]?\\(("+M+"[%]?)\\s*,\\s*("+M+"[%]?)\\s*,\\s*("+M+"[%]?)(?:\\s*,\\s*("+M+"))?\\)",z="rgb[a]?\\((?:"+M+"[%]?)\\s*,\\s*(?:"+M+"[%]?)\\s*,\\s*(?:"+M+"[%]?)(?:\\s*,\\s*(?:"+M+"))?\\)",$="hsl[a]?\\(("+M+")\\s*,\\s*("+M+"[%])\\s*,\\s*("+M+"[%])(?:\\s*,\\s*("+M+"))?\\)",j="hsl[a]?\\((?:"+M+")\\s*,\\s*(?:"+M+"[%])\\s*,\\s*(?:"+M+"[%])(?:\\s*,\\s*(?:"+M+"))?\\)",K=function(e,t){return e<t?-1:e>t?1:0},q=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(null!=n)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];e[o]=n[o]}}return e},U={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},H=function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(D(a))throw Error("Tried to set map with object key");i<r.length-1?(null==t[a]&&(t[a]={}),t=t[a]):t[a]=e.value}},W=function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(D(a))throw Error("Tried to get map with object key");if(null==(t=t[a]))return t}return t},G=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y="object"==typeof V&&V&&V.Object===Object&&V,X="object"==typeof self&&self&&self.Object===Object&&self,Z=Y||X||Function("return this")(),Q=function(){return Z.Date.now()},J=/\s/,ee=/^\s+/,te=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&J.test(e.charAt(t)););return t}(e)+1).replace(ee,""):e},re=Z.Symbol,ne=Object.prototype,ie=ne.hasOwnProperty,ae=ne.toString,oe=re?re.toStringTag:void 0,se=Object.prototype.toString,le=re?re.toStringTag:void 0,ue=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":le&&le in Object(e)?function(e){var t=ie.call(e,oe),r=e[oe];try{e[oe]=void 0;var n=!0}catch(e){}var i=ae.call(e);return n&&(t?e[oe]=r:delete e[oe]),i}(e):function(e){return se.call(e)}(e)},ce=function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==ue(e)},he=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,fe=/^0o[0-7]+$/i,pe=parseInt,ge=function(e){if("number"==typeof e)return e;if(ce(e))return NaN;if(G(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=G(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=te(e);var r=de.test(e);return r||fe.test(e)?pe(e.slice(2),r?2:8):he.test(e)?NaN:+e},me=Math.max,ye=Math.min,ve=function(e,t,r){var n,i,a,o,s,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,a=i;return n=i=void 0,u=t,o=e.apply(a,r)}function p(e){var r=e-l;return void 0===l||r>=t||r<0||h&&e-u>=a}function g(){var e=Q();if(p(e))return m(e);s=setTimeout(g,function(e){var r=t-(e-l);return h?ye(r,a-(e-u)):r}(e))}function m(e){return s=void 0,d&&n?f(e):(n=i=void 0,o)}function y(){var e=Q(),r=p(e);if(n=arguments,i=this,l=e,r){if(void 0===s)return function(e){return u=e,s=setTimeout(g,t),c?f(e):o}(l);if(h)return clearTimeout(s),s=setTimeout(g,t),f(l)}return void 0===s&&(s=setTimeout(g,t)),o}return t=ge(t)||0,G(r)&&(c=!!r.leading,a=(h="maxWait"in r)?me(ge(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=i=s=void 0},y.flush=function(){return void 0===s?o:m(Q())},y},be=d?d.performance:null,xe=be&&be.now?function(){return be.now()}:function(){return Date.now()},we=function(){if(d){if(d.requestAnimationFrame)return function(e){d.requestAnimationFrame(e)};if(d.mozRequestAnimationFrame)return function(e){d.mozRequestAnimationFrame(e)};if(d.webkitRequestAnimationFrame)return function(e){d.webkitRequestAnimationFrame(e)};if(d.msRequestAnimationFrame)return function(e){d.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout((function(){e(xe())}),1e3/60)}}(),De=function(e){return we(e)},ke=xe,Ee=9261,Ae=5381,Ce=function(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee;!(t=e.next()).done;)r=65599*r+t.value|0;return r},_e=function(e){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee)+e|0},Te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae;return(t<<5)+t+e|0},Se=function(e){return 2097152*e[0]+e[1]},Fe=function(e,t){return[_e(e[0],t[0]),Te(e[1],t[1])]},Oe=function(e,t){var r={value:0,done:!1},n=0,i=e.length;return Ce({next:function(){return n<i?r.value=e.charCodeAt(n++):r.done=!0,r}},t)},Be=function(){return Ne(arguments)},Ne=function(e){for(var t,r=0;r<e.length;r++){var n=e[r];t=0===r?Oe(n):Oe(n,t)}return t},Le=!0,Ie=null!=console.warn,Re=null!=console.trace,Me=Number.MAX_SAFE_INTEGER||9007199254740991,Pe=function(){return!0},ze=function(){return!1},$e=function(){return 0},je=function(){},Ke=function(e){throw new Error(e)},qe=function(e){if(void 0===e)return Le;Le=!!e},Ue=function(e){qe()&&(Ie?console.warn(e):(console.log(e),Re&&console.trace()))},He=function(e){return null==e?e:w(e)?e.slice():D(e)?function(e){return q({},e)}(e):e},We=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},Ge={},Ve=function(){return Ge},Ye=function(e){var t=Object.keys(e);return function(r){for(var n={},i=0;i<t.length;i++){var a=t[i],o=null==r?void 0:r[a];n[a]=void 0===o?e[a]:o}return n}},Xe=function(e,t,r){for(var n=e.length-1;n>=0&&(e[n]!==t||(e.splice(n,1),!r));n--);},Ze=function(e){e.splice(0,e.length)},Qe=function(e,t,r){return r&&(t=I(r,t)),e[t]},Je=function(e,t,r,n){r&&(t=I(r,t)),e[t]=n},et="undefined"!=typeof Map?Map:function(){function e(){i(this,e),this._obj={}}return o(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),tt=function(){function e(t){if(i(this,e),this._obj=Object.create(null),this.size=0,null!=t){var r;r=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var n=0;n<r.length;n++)this.add(r[n])}}return o(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter((function(t){return e.has(t)}))}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),rt="undefined"!==("undefined"==typeof Set?"undefined":n(Set))?Set:tt,nt=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&T(e)){var n=t.group;if(null==n&&(n=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===n||"edges"===n){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===n:!!t.pannable,active:!1,classes:new rt,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),t.renderedPosition){var a=t.renderedPosition,o=e.pan(),s=e.zoom();i.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}var l=[];w(t.classes)?l=t.classes:b(t.classes)&&(l=t.classes.split(/\s+/));for(var u=0,c=l.length;u<c;u++){var h=l[u];h&&""!==h&&i.classes.add(h)}this.createEmitter();var d=t.style||t.css;d&&(Ue("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(void 0===r||r)&&this.restore()}else Ke("An element must be of type `nodes` or `edges`; you specified `"+n+"`")}else Ke("An element must have a core reference and parameters set")},it=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,r,n){var i;D(t)&&!A(t)&&(t=(i=t).roots||i.root,r=i.visit,n=i.directed),n=2!==arguments.length||x(r)?n:r,r=x(r)?r:function(){};for(var a,o=this._private.cy,s=t=b(t)?this.filter(t):t,l=[],u=[],c={},h={},d={},f=0,p=this.byGroup(),g=p.nodes,m=p.edges,y=0;y<s.length;y++){var v=s[y],w=v.id();v.isNode()&&(l.unshift(v),e.bfs&&(d[w]=!0,u.push(v)),h[w]=0)}for(var k=function(){var t=e.bfs?l.shift():l.pop(),i=t.id();if(e.dfs){if(d[i])return"continue";d[i]=!0,u.push(t)}var o,s=h[i],p=c[i],y=null!=p?p.source():null,v=null!=p?p.target():null,b=null==p?void 0:t.same(y)?v[0]:y[0];if(!0===(o=r(t,p,b,f++,s)))return a=t,"break";if(!1===o)return"break";for(var x=t.connectedEdges().filter((function(e){return(!n||e.source().same(t))&&m.has(e)})),w=0;w<x.length;w++){var D=x[w],k=D.connectedNodes().filter((function(e){return!e.same(t)&&g.has(e)})),E=k.id();0===k.length||d[E]||(k=k[0],l.push(k),e.bfs&&(d[E]=!0,u.push(k)),c[E]=D,h[E]=h[i]+1)}};0!==l.length;){var E=k();if("continue"!==E&&"break"===E)break}for(var C=o.collection(),_=0;_<u.length;_++){var T=u[_],S=c[T.id()];null!=S&&C.push(S),C.push(T)}return{path:o.collection(C),found:o.collection(a)}}},at={breadthFirstSearch:it({bfs:!0}),depthFirstSearch:it({dfs:!0})};at.bfs=at.breadthFirstSearch,at.dfs=at.depthFirstSearch;var ot=function(e,t){return function(e){(function(){var t,r,n,i,a,o,s,l,u,c,h,d,f,p,g;n=Math.floor,c=Math.min,r=function(e,t){return e<t?-1:e>t?1:0},u=function(e,t,i,a,o){var s;if(null==i&&(i=0),null==o&&(o=r),i<0)throw new Error("lo must be non-negative");for(null==a&&(a=e.length);i<a;)o(t,e[s=n((i+a)/2)])<0?a=s:i=s+1;return[].splice.apply(e,[i,i-i].concat(t)),t},o=function(e,t,n){return null==n&&(n=r),e.push(t),p(e,0,e.length-1,n)},a=function(e,t){var n,i;return null==t&&(t=r),n=e.pop(),e.length?(i=e[0],e[0]=n,g(e,0,t)):i=n,i},l=function(e,t,n){var i;return null==n&&(n=r),i=e[0],e[0]=t,g(e,0,n),i},s=function(e,t,n){var i;return null==n&&(n=r),e.length&&n(e[0],t)<0&&(t=(i=[e[0],t])[0],e[0]=i[1],g(e,0,n)),t},i=function(e,t){var i,a,o,s,l,u;for(null==t&&(t=r),l=[],a=0,o=(s=function(){u=[];for(var t=0,r=n(e.length/2);0<=r?t<r:t>r;0<=r?t++:t--)u.push(t);return u}.apply(this).reverse()).length;a<o;a++)i=s[a],l.push(g(e,i,t));return l},f=function(e,t,n){var i;if(null==n&&(n=r),-1!==(i=e.indexOf(t)))return p(e,0,i,n),g(e,i,n)},h=function(e,t,n){var a,o,l,u,c;if(null==n&&(n=r),!(o=e.slice(0,t)).length)return o;for(i(o,n),l=0,u=(c=e.slice(t)).length;l<u;l++)a=c[l],s(o,a,n);return o.sort(n).reverse()},d=function(e,t,n){var o,s,l,h,d,f,p,g,m;if(null==n&&(n=r),10*t<=e.length){if(!(l=e.slice(0,t).sort(n)).length)return l;for(s=l[l.length-1],h=0,f=(p=e.slice(t)).length;h<f;h++)n(o=p[h],s)<0&&(u(l,o,0,null,n),l.pop(),s=l[l.length-1]);return l}for(i(e,n),m=[],d=0,g=c(t,e.length);0<=g?d<g:d>g;0<=g?++d:--d)m.push(a(e,n));return m},p=function(e,t,n,i){var a,o,s;for(null==i&&(i=r),a=e[n];n>t&&i(a,o=e[s=n-1>>1])<0;)e[n]=o,n=s;return e[n]=a},g=function(e,t,n){var i,a,o,s,l;for(null==n&&(n=r),a=e.length,l=t,o=e[t],i=2*t+1;i<a;)(s=i+1)<a&&!(n(e[i],e[s])<0)&&(i=s),e[t]=e[i],i=2*(t=i)+1;return e[t]=o,p(e,l,t,n)},t=function(){function e(e){this.cmp=null!=e?e:r,this.nodes=[]}return e.push=o,e.pop=a,e.replace=l,e.pushpop=s,e.heapify=i,e.updateItem=f,e.nlargest=h,e.nsmallest=d,e.prototype.push=function(e){return o(this.nodes,e,this.cmp)},e.prototype.pop=function(){return a(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return l(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return i(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return f(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}).call(V)}(t={exports:{}}),t.exports}(),st=ot,lt=Ye({root:null,weight:function(e){return 1},directed:!1}),ut={dijkstra:function(e){if(!D(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=lt(e),n=r.root,i=r.weight,a=r.directed,o=this,s=i,l=b(n)?this.filter(n)[0]:n[0],u={},c={},h={},d=this.byGroup(),f=d.nodes,p=d.edges;p.unmergeBy((function(e){return e.isLoop()}));for(var g=function(e){return u[e.id()]},m=function(e,t){u[e.id()]=t,y.updateItem(e)},y=new st((function(e,t){return g(e)-g(t)})),v=0;v<f.length;v++){var x=f[v];u[x.id()]=x.same(l)?0:1/0,y.push(x)}for(var w=function(e,t){for(var r,n=(a?e.edgesTo(t):e.edgesWith(t)).intersect(p),i=1/0,o=0;o<n.length;o++){var l=n[o],u=s(l);(u<i||!r)&&(i=u,r=l)}return{edge:r,dist:i}};y.size()>0;){var k=y.pop(),E=g(k),A=k.id();if(h[A]=E,E!==1/0)for(var C=k.neighborhood().intersect(f),_=0;_<C.length;_++){var T=C[_],S=T.id(),F=w(k,T),O=E+F.dist;O<g(T)&&(m(T,O),c[S]={node:k,edge:F.edge})}}return{distanceTo:function(e){var t=b(e)?f.filter(e)[0]:e[0];return h[t.id()]},pathTo:function(e){var t=b(e)?f.filter(e)[0]:e[0],r=[],n=t,i=n.id();if(t.length>0)for(r.unshift(t);c[i];){var a=c[i];r.unshift(a.edge),r.unshift(a.node),i=(n=a.node).id()}return o.spawn(r)}}}},ct={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),r=t.nodes,n=t.edges,i=r.length,a=new Array(i),o=r,s=function(e){for(var t=0;t<a.length;t++)if(a[t].has(e))return t},l=0;l<i;l++)a[l]=this.spawn(r[l]);for(var u=n.sort((function(t,r){return e(t)-e(r)})),c=0;c<u.length;c++){var h=u[c],d=h.source()[0],f=h.target()[0],p=s(d),g=s(f),m=a[p],y=a[g];p!==g&&(o.merge(h),m.merge(y),a.splice(g,1))}return o}},ht=Ye({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),dt={aStar:function(e){var t=this.cy(),r=ht(e),n=r.root,i=r.goal,a=r.heuristic,o=r.directed,s=r.weight;n=t.collection(n)[0],i=t.collection(i)[0];var l,u,c=n.id(),h=i.id(),d={},f={},p={},g=new st((function(e,t){return f[e.id()]-f[t.id()]})),m=new rt,y={},v={},b=function(e,t){g.push(e),m.add(t)};b(n,c),d[c]=0,f[c]=a(n);for(var x,w=0;g.size()>0;){if(u=(l=g.pop()).id(),m.delete(u),w++,u===h){for(var D=[],k=i,E=h,A=v[E];D.unshift(k),null!=A&&D.unshift(A),null!=(k=y[E]);)A=v[E=k.id()];return{found:!0,distance:d[u],path:this.spawn(D),steps:w}}p[u]=!0;for(var C=l._private.edges,_=0;_<C.length;_++){var T=C[_];if(this.hasElementWithId(T.id())&&(!o||T.data("source")===u)){var S=T.source(),F=T.target(),O=S.id()!==u?S:F,B=O.id();if(this.hasElementWithId(B)&&!p[B]){var N=d[u]+s(T);x=B,m.has(x)?N<d[B]&&(d[B]=N,f[B]=N+a(O),y[B]=l,v[B]=T):(d[B]=N,f[B]=N+a(O),b(O,B),y[B]=l,v[B]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},ft=Ye({weight:function(e){return 1},directed:!1}),pt={floydWarshall:function(e){for(var t=this.cy(),r=ft(e),n=r.weight,i=r.directed,a=n,o=this.byGroup(),s=o.nodes,l=o.edges,u=s.length,c=u*u,h=function(e){return s.indexOf(e)},d=function(e){return s[e]},f=new Array(c),p=0;p<c;p++){var g=p%u,m=(p-g)/u;f[p]=m===g?0:1/0}for(var y=new Array(c),v=new Array(c),x=0;x<l.length;x++){var w=l[x],D=w.source()[0],k=w.target()[0];if(D!==k){var E=h(D),A=h(k),C=E*u+A,_=a(w);if(f[C]>_&&(f[C]=_,y[C]=A,v[C]=w),!i){var T=A*u+E;!i&&f[T]>_&&(f[T]=_,y[T]=E,v[T]=w)}}}for(var S=0;S<u;S++)for(var F=0;F<u;F++)for(var O=F*u+S,B=0;B<u;B++){var N=F*u+B,L=S*u+B;f[O]+f[L]<f[N]&&(f[N]=f[O]+f[L],y[N]=y[O])}var I=function(e){return h(function(e){return(b(e)?t.filter(e):e)[0]}(e))},R={distance:function(e,t){var r=I(e),n=I(t);return f[r*u+n]},path:function(e,r){var n=I(e),i=I(r),a=d(n);if(n===i)return a.collection();if(null==y[n*u+i])return t.collection();var o,s=t.collection(),l=n;for(s.merge(a);n!==i;)l=n,n=y[n*u+i],o=v[l*u+n],s.merge(o),s.merge(d(n));return s}};return R}},gt=Ye({weight:function(e){return 1},directed:!1,root:null}),mt={bellmanFord:function(e){var t=this,r=gt(e),n=r.weight,i=r.directed,a=r.root,o=n,s=this,l=this.cy(),u=this.byGroup(),c=u.edges,h=u.nodes,d=h.length,f=new et,p=!1,g=[];a=l.collection(a)[0],c.unmergeBy((function(e){return e.isLoop()}));for(var m=c.length,y=function(e){var t=f.get(e.id());return t||(t={},f.set(e.id(),t)),t},v=function(e){return(b(e)?l.$(e):e)[0]},x=0;x<d;x++){var w=h[x],D=y(w);w.same(a)?D.dist=0:D.dist=1/0,D.pred=null,D.edge=null}for(var k=!1,E=function(e,t,r,n,i,a){var o=n.dist+a;o<i.dist&&!r.same(n.edge)&&(i.dist=o,i.pred=e,i.edge=r,k=!0)},A=1;A<d;A++){k=!1;for(var C=0;C<m;C++){var _=c[C],T=_.source(),S=_.target(),F=o(_),O=y(T),B=y(S);E(T,0,_,O,B,F),i||E(S,0,_,B,O,F)}if(!k)break}if(k)for(var N=[],L=0;L<m;L++){var I=c[L],R=I.source(),M=I.target(),P=o(I),z=y(R).dist,$=y(M).dist;if(z+P<$||!i&&$+P<z){if(p||(Ue("Graph contains a negative weight cycle for Bellman-Ford"),p=!0),!1===e.findNegativeWeightCycles)break;var j=[];z+P<$&&j.push(R),!i&&$+P<z&&j.push(M);for(var K=j.length,q=0;q<K;q++){var U=j[q],H=[U];H.push(y(U).edge);for(var W=y(U).pred;-1===H.indexOf(W);)H.push(W),H.push(y(W).edge),W=y(W).pred;for(var G=(H=H.slice(H.indexOf(W)))[0].id(),V=0,Y=2;Y<H.length;Y+=2)H[Y].id()<G&&(G=H[Y].id(),V=Y);(H=H.slice(V).concat(H.slice(0,V))).push(H[0]);var X=H.map((function(e){return e.id()})).join(",");-1===N.indexOf(X)&&(g.push(s.spawn(H)),N.push(X))}}}return{distanceTo:function(e){return y(v(e)).dist},pathTo:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=[],i=v(e);;){if(null==i)return t.spawn();var o=y(i),l=o.edge,u=o.pred;if(n.unshift(i[0]),i.same(r)&&n.length>0)break;null!=l&&n.unshift(l),i=u}return s.spawn(n)},hasNegativeWeightCycle:p,negativeWeightCycles:g}}},yt=Math.sqrt(2),vt=function(e,t,r){0===r.length&&Ke("Karger-Stein must be run on a connected (sub)graph");for(var n=r[e],i=n[1],a=n[2],o=t[i],s=t[a],l=r,u=l.length-1;u>=0;u--){var c=l[u],h=c[1],d=c[2];(t[h]===o&&t[d]===s||t[h]===s&&t[d]===o)&&l.splice(u,1)}for(var f=0;f<l.length;f++){var p=l[f];p[1]===s?(l[f]=p.slice(),l[f][1]=o):p[2]===s&&(l[f]=p.slice(),l[f][2]=o)}for(var g=0;g<t.length;g++)t[g]===s&&(t[g]=o);return l},bt=function(e,t,r,n){for(;r>n;){var i=Math.floor(Math.random()*t.length);t=vt(i,e,t),r--}return t},xt={kargerStein:function(){var e=this,t=this.byGroup(),r=t.nodes,n=t.edges;n.unmergeBy((function(e){return e.isLoop()}));var i=r.length,a=n.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/yt);if(!(i<2)){for(var l=[],u=0;u<a;u++){var c=n[u];l.push([u,r.indexOf(c.source()),r.indexOf(c.target())])}for(var h=1/0,d=[],f=new Array(i),p=new Array(i),g=new Array(i),m=function(e,t){for(var r=0;r<i;r++)t[r]=e[r]},y=0;y<=o;y++){for(var v=0;v<i;v++)p[v]=v;var b=bt(p,l.slice(),i,s),x=b.slice();m(p,g);var w=bt(p,b,s,2),D=bt(g,x,s,2);w.length<=D.length&&w.length<h?(h=w.length,d=w,m(p,f)):D.length<=w.length&&D.length<h&&(h=D.length,d=D,m(g,f))}for(var k=this.spawn(d.map((function(e){return n[e[0]]}))),E=this.spawn(),A=this.spawn(),C=f[0],_=0;_<f.length;_++){var T=f[_],S=r[_];T===C?E.merge(S):A.merge(S)}var F=function(t){var r=e.spawn();return t.forEach((function(t){r.merge(t),t.connectedEdges().forEach((function(t){e.contains(t)&&!k.contains(t)&&r.merge(t)}))})),r},O=[F(E),F(A)];return{cut:k,components:O,partition1:E,partition2:A}}Ke("At least 2 nodes are required for Karger-Stein algorithm")}},wt=function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},Dt=function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},kt=function(e){return{x:e[0],y:e[1]}},Et=function(e,t){return Math.atan2(t,e)-Math.PI/2},At=Math.log2||function(e){return Math.log(e)/Math.log(2)},Ct=function(e){return e>0?1:e<0?-1:0},_t=function(e,t){return Math.sqrt(Tt(e,t))},Tt=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n},St=function(e){for(var t=e.length,r=0,n=0;n<t;n++)r+=e[n];for(var i=0;i<t;i++)e[i]=e[i]/r;return e},Ft=function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r},Ot=function(e,t,r,n){return{x:Ft(e.x,t.x,r.x,n),y:Ft(e.y,t.y,r.y,n)}},Bt=function(e,t,r){return Math.max(e,Math.min(r,t))},Nt=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Lt=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},It=function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},Rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Mt=function(e){var t,r,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===a.length)t=r=n=i=a[0];else if(2===a.length)t=n=a[0],i=r=a[1];else if(4===a.length){var o=l(a,4);t=o[0],r=o[1],n=o[2],i=o[3]}return e.x1-=i,e.x2+=r,e.y1-=t,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Pt=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},zt=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},$t=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},jt=function(e,t){return $t(e,t.x1,t.y1)&&$t(e,t.x2,t.y2)},Kt=function(e,t,r,n,i,a,o){var s,l,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",c="auto"===u?or(i,a):u,h=i/2,d=a/2,f=(c=Math.min(c,h,d))!==h,p=c!==d;if(f){var g=n-d-o;if((s=er(e,t,r,n,r-h+c-o,g,r+h-c+o,g,!1)).length>0)return s}if(p){var m=r+h+o;if((s=er(e,t,r,n,m,n-d+c-o,m,n+d-c+o,!1)).length>0)return s}if(f){var y=n+d+o;if((s=er(e,t,r,n,r-h+c-o,y,r+h-c+o,y,!1)).length>0)return s}if(p){var v=r-h-o;if((s=er(e,t,r,n,v,n-d+c-o,v,n+d-c+o,!1)).length>0)return s}var b=r-h+c,x=n-d+c;if((l=Qt(e,t,r,n,b,x,c+o)).length>0&&l[0]<=b&&l[1]<=x)return[l[0],l[1]];var w=r+h-c,D=n-d+c;if((l=Qt(e,t,r,n,w,D,c+o)).length>0&&l[0]>=w&&l[1]<=D)return[l[0],l[1]];var k=r+h-c,E=n+d-c;if((l=Qt(e,t,r,n,k,E,c+o)).length>0&&l[0]>=k&&l[1]>=E)return[l[0],l[1]];var A=r-h+c,C=n+d-c;return(l=Qt(e,t,r,n,A,C,c+o)).length>0&&l[0]<=A&&l[1]>=C?[l[0],l[1]]:[]},qt=function(e,t,r,n,i,a,o){var s=o,l=Math.min(r,i),u=Math.max(r,i),c=Math.min(n,a),h=Math.max(n,a);return l-s<=e&&e<=u+s&&c-s<=t&&t<=h+s},Ut=function(e,t,r,n,i,a,o,s,l){var u=Math.min(r,o,i)-l,c=Math.max(r,o,i)+l,h=Math.min(n,s,a)-l,d=Math.max(n,s,a)+l;return!(e<u||e>c||t<h||t>d)},Ht=function(e,t,r,n,i,a,o,s){var l=[];!function(e,t,r,n,i){var a,o,s,l,u,c,h,d;0===e&&(e=1e-5),s=-27*(n/=e)+(t/=e)*(9*(r/=e)-t*t*2),a=(o=(3*r-t*t)/9)*o*o+(s/=54)*s,i[1]=0,h=t/3,a>0?(u=(u=s+Math.sqrt(a))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(a))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-h+u+c,h+=(u+c)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-c+u)/2,i[3]=h,i[5]=-h):(i[5]=i[3]=0,0===a?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*d-h,i[4]=i[2]=-(d+h)):(l=(o=-o)*o*o,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(o),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),i[4]=-h+d*Math.cos((l+4*Math.PI)/3)))}(1*r*r-4*r*i+2*r*o+4*i*i-4*i*o+o*o+n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s,9*r*i-3*r*r-3*r*o-6*i*i+3*i*o+9*n*a-3*n*n-3*n*s-6*a*a+3*a*s,3*r*r-6*r*i+r*o-r*e+2*i*i+2*i*e-o*e+3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t,1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,l);for(var u=[],c=0;c<6;c+=2)Math.abs(l[c+1])<1e-7&&l[c]>=0&&l[c]<=1&&u.push(l[c]);u.push(1),u.push(0);for(var h,d,f,p=-1,g=0;g<u.length;g++)h=Math.pow(1-u[g],2)*r+2*(1-u[g])*u[g]*i+u[g]*u[g]*o,d=Math.pow(1-u[g],2)*n+2*(1-u[g])*u[g]*a+u[g]*u[g]*s,f=Math.pow(h-e,2)+Math.pow(d-t,2),p>=0?f<p&&(p=f):p=f;return p},Wt=function(e,t,r,n,i,a){var o=[e-r,t-n],s=[i-r,a-n],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],h=c*c/l;return c<0?u:h>l?(e-i)*(e-i)+(t-a)*(t-a):u-h},Gt=function(e,t,r){for(var n,i,a,o,s=0,l=0;l<r.length/2;l++)if(n=r[2*l],i=r[2*l+1],l+1<r.length/2?(a=r[2*(l+1)],o=r[2*(l+1)+1]):(a=r[2*(l+1-r.length/2)],o=r[2*(l+1-r.length/2)+1]),n==e&&a==e);else{if(!(n>=e&&e>=a||n<=e&&e<=a))continue;(e-n)/(a-n)*(o-i)+i>t&&s++}return s%2!=0},Vt=function(e,t,r,n,i,a,o,s,l){var u,c=new Array(r.length);null!=s[0]?(u=Math.atan(s[1]/s[0]),s[0]<0?u+=Math.PI/2:u=-u-Math.PI/2):u=s;for(var h,d=Math.cos(-u),f=Math.sin(-u),p=0;p<c.length/2;p++)c[2*p]=a/2*(r[2*p]*d-r[2*p+1]*f),c[2*p+1]=o/2*(r[2*p+1]*d+r[2*p]*f),c[2*p]+=n,c[2*p+1]+=i;if(l>0){var g=Xt(c,-l);h=Yt(g)}else h=c;return Gt(e,t,h)},Yt=function(e){for(var t,r,n,i,a,o,s,l,u=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],r=e[4*c+1],n=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(a=e[4*(c+1)],o=e[4*(c+1)+1],s=e[4*(c+1)+2],l=e[4*(c+1)+3]):(a=e[0],o=e[1],s=e[2],l=e[3]);var h=er(t,r,n,i,a,o,s,l,!0);u[2*c]=h[0],u[2*c+1]=h[1]}return u},Xt=function(e,t){for(var r,n,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){r=e[2*s],n=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],a=e[2*(s+1)+1]):(i=e[0],a=e[1]);var l=a-n,u=-(i-r),c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;o[4*s]=r+h*t,o[4*s+1]=n+d*t,o[4*s+2]=i+h*t,o[4*s+3]=a+d*t}return o},Zt=function(e,t,r,n,i,a,o){return e-=i,t-=a,(e/=r/2+o)*e+(t/=n/2+o)*t<=1},Qt=function(e,t,r,n,i,a,o){var s=[r-e,n-t],l=[e-i,t-a],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),h=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-o*o);if(h<0)return[];var d=(-c+Math.sqrt(h))/(2*u),f=(-c-Math.sqrt(h))/(2*u),p=Math.min(d,f),g=Math.max(d,f),m=[];if(p>=0&&p<=1&&m.push(p),g>=0&&g<=1&&m.push(g),0===m.length)return[];var y=m[0]*s[0]+e,v=m[0]*s[1]+t;return m.length>1?m[0]==m[1]?[y,v]:[y,v,m[1]*s[0]+e,m[1]*s[1]+t]:[y,v]},Jt=function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},er=function(e,t,r,n,i,a,o,s,l){var u=e-i,c=r-e,h=o-i,d=t-a,f=n-t,p=s-a,g=h*d-p*u,m=c*d-f*u,y=p*c-h*f;if(0!==y){var v=g/y,b=m/y,x=-.001;return x<=v&&v<=1.001&&x<=b&&b<=1.001||l?[e+v*c,t+v*f]:[]}return 0===g||0===m?Jt(e,r,o)===o?[o,s]:Jt(e,r,i)===i?[i,a]:Jt(i,o,r)===r?[r,n]:[]:[]},tr=function(e,t,r,n,i,a,o,s){var l,u,c,h,d,f,p=[],g=new Array(r.length),m=!0;if(null==a&&(m=!1),m){for(var y=0;y<g.length/2;y++)g[2*y]=r[2*y]*a+n,g[2*y+1]=r[2*y+1]*o+i;if(s>0){var v=Xt(g,-s);u=Yt(v)}else u=g}else u=r;for(var b=0;b<u.length/2;b++)c=u[2*b],h=u[2*b+1],b<u.length/2-1?(d=u[2*(b+1)],f=u[2*(b+1)+1]):(d=u[0],f=u[1]),0!==(l=er(e,t,n,i,c,h,d,f)).length&&p.push(l[0],l[1]);return p},rr=function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;return a<0&&(a=1e-5),[t[0]+a*n[0],t[1]+a*n[1]]},nr=function(e,t){var r=ar(e,t);return ir(r)},ir=function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<n;l++)t=e[2*l],r=e[2*l+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,r),s=Math.max(s,r);for(var u=2/(o-i),c=2/(s-a),h=0;h<n;h++)t=e[2*h]=e[2*h]*u,r=e[2*h+1]=e[2*h+1]*c,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,r),s=Math.max(s,r);if(a<-1)for(var d=0;d<n;d++)r=e[2*d+1]=e[2*d+1]+(-1-a);return e},ar=function(e,t){var r=1/e*2*Math.PI,n=e%2==0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i,a=new Array(2*e),o=0;o<e;o++)i=o*r+n,a[2*o]=Math.cos(i),a[2*o+1]=Math.sin(-i);return a},or=function(e,t){return Math.min(e/4,t/4,8)},sr=function(e,t){return Math.min(e/10,t/10,8)},lr=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},ur=Ye({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),cr={pageRank:function(e){for(var t=ur(e),r=t.dampingFactor,n=t.precision,i=t.iterations,a=t.weight,o=this._private.cy,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,h=c*c,d=u.length,f=new Array(h),p=new Array(c),g=(1-r)/c,m=0;m<c;m++){for(var y=0;y<c;y++)f[m*c+y]=0;p[m]=0}for(var v=0;v<d;v++){var b=u[v],x=b.data("source"),w=b.data("target");if(x!==w){var D=l.indexOfId(x),k=l.indexOfId(w),E=a(b);f[k*c+D]+=E,p[D]+=E}}for(var A=1/c+g,C=0;C<c;C++)if(0===p[C])for(var _=0;_<c;_++)f[_*c+C]=A;else for(var T=0;T<c;T++){var S=T*c+C;f[S]=f[S]/p[C]+g}for(var F,O=new Array(c),B=new Array(c),N=0;N<c;N++)O[N]=1;for(var L=0;L<i;L++){for(var I=0;I<c;I++)B[I]=0;for(var R=0;R<c;R++)for(var M=0;M<c;M++){var P=R*c+M;B[R]+=f[P]*O[M]}St(B),F=O,O=B,B=F;for(var z=0,$=0;$<c;$++){var j=F[$]-O[$];z+=j*j}if(z<n)break}return{rank:function(e){return e=o.collection(e)[0],O[l.indexOf(e)]}}}},hr=Ye({root:null,weight:function(e){return 1},directed:!1,alpha:0}),dr={degreeCentralityNormalized:function(e){e=hr(e);var t=this.cy(),r=this.nodes(),n=r.length;if(e.directed){for(var i={},a={},o=0,s=0,l=0;l<n;l++){var u=r[l],c=u.id();e.root=u;var h=this.degreeCentrality(e);o<h.indegree&&(o=h.indegree),s<h.outdegree&&(s=h.outdegree),i[c]=h.indegree,a[c]=h.outdegree}return{indegree:function(e){return 0==o?0:(b(e)&&(e=t.filter(e)),i[e.id()]/o)},outdegree:function(e){return 0===s?0:(b(e)&&(e=t.filter(e)),a[e.id()]/s)}}}for(var d={},f=0,p=0;p<n;p++){var g=r[p];e.root=g;var m=this.degreeCentrality(e);f<m.degree&&(f=m.degree),d[g.id()]=m.degree}return{degree:function(e){return 0===f?0:(b(e)&&(e=t.filter(e)),d[e.id()]/f)}}},degreeCentrality:function(e){e=hr(e);var t=this.cy(),r=this,n=e,i=n.root,a=n.weight,o=n.directed,s=n.alpha;if(i=t.collection(i)[0],o){for(var l=i.connectedEdges(),u=l.filter((function(e){return e.target().same(i)&&r.has(e)})),c=l.filter((function(e){return e.source().same(i)&&r.has(e)})),h=u.length,d=c.length,f=0,p=0,g=0;g<u.length;g++)f+=a(u[g]);for(var m=0;m<c.length;m++)p+=a(c[m]);return{indegree:Math.pow(h,1-s)*Math.pow(f,s),outdegree:Math.pow(d,1-s)*Math.pow(p,s)}}for(var y=i.connectedEdges().intersection(r),v=y.length,b=0,x=0;x<y.length;x++)b+=a(y[x]);return{degree:Math.pow(v,1-s)*Math.pow(b,s)}}};dr.dc=dr.degreeCentrality,dr.dcn=dr.degreeCentralityNormalised=dr.degreeCentralityNormalized;var fr=Ye({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),pr={closenessCentralityNormalized:function(e){for(var t=fr(e),r=t.harmonic,n=t.weight,i=t.directed,a=this.cy(),o={},s=0,l=this.nodes(),u=this.floydWarshall({weight:n,directed:i}),c=0;c<l.length;c++){for(var h=0,d=l[c],f=0;f<l.length;f++)if(c!==f){var p=u.distance(d,l[f]);h+=r?1/p:p}r||(h=1/h),s<h&&(s=h),o[d.id()]=h}return{closeness:function(e){return 0==s?0:(e=b(e)?a.filter(e)[0].id():e.id(),o[e]/s)}}},closenessCentrality:function(e){var t=fr(e),r=t.root,n=t.weight,i=t.directed,a=t.harmonic;r=this.filter(r)[0];for(var o=this.dijkstra({root:r,weight:n,directed:i}),s=0,l=this.nodes(),u=0;u<l.length;u++){var c=l[u];if(!c.same(r)){var h=o.distanceTo(c);s+=a?1/h:h}}return a?s:1/s}};pr.cc=pr.closenessCentrality,pr.ccn=pr.closenessCentralityNormalised=pr.closenessCentralityNormalized;var gr=Ye({weight:null,directed:!1}),mr={betweennessCentrality:function(e){for(var t=gr(e),r=t.directed,n=t.weight,i=null!=n,a=this.cy(),o=this.nodes(),s={},l={},u=0,c=function(e,t){l[e]=t,t>u&&(u=t)},h=function(e){return l[e]},d=0;d<o.length;d++){var f=o[d],p=f.id();s[p]=r?f.outgoers().nodes():f.openNeighborhood().nodes(),c(p,0)}for(var g=function(e){for(var t=o[e].id(),r=[],l={},u={},d={},f=new st((function(e,t){return d[e]-d[t]})),p=0;p<o.length;p++){var g=o[p].id();l[g]=[],u[g]=0,d[g]=1/0}for(u[t]=1,d[t]=0,f.push(t);!f.empty();){var m=f.pop();if(r.push(m),i)for(var y=0;y<s[m].length;y++){var v,b=s[m][y],x=a.getElementById(m);v=x.edgesTo(b).length>0?x.edgesTo(b)[0]:b.edgesTo(x)[0];var w=n(v);b=b.id(),d[b]>d[m]+w&&(d[b]=d[m]+w,f.nodes.indexOf(b)<0?f.push(b):f.updateItem(b),u[b]=0,l[b]=[]),d[b]==d[m]+w&&(u[b]=u[b]+u[m],l[b].push(m))}else for(var D=0;D<s[m].length;D++){var k=s[m][D].id();d[k]==1/0&&(f.push(k),d[k]=d[m]+1),d[k]==d[m]+1&&(u[k]=u[k]+u[m],l[k].push(m))}}for(var E={},A=0;A<o.length;A++)E[o[A].id()]=0;for(;r.length>0;){for(var C=r.pop(),_=0;_<l[C].length;_++){var T=l[C][_];E[T]=E[T]+u[T]/u[C]*(1+E[C])}C!=o[e].id()&&c(C,h(C)+E[C])}},m=0;m<o.length;m++)g(m);var y={betweenness:function(e){var t=a.collection(e).id();return h(t)},betweennessNormalized:function(e){if(0==u)return 0;var t=a.collection(e).id();return h(t)/u}};return y.betweennessNormalised=y.betweennessNormalized,y}};mr.bc=mr.betweennessCentrality;var yr=Ye({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),vr=function(e,t){for(var r=0,n=0;n<t.length;n++)r+=t[n](e);return r},br=function(e,t){for(var r,n=0;n<t;n++){r=0;for(var i=0;i<t;i++)r+=e[i*t+n];for(var a=0;a<t;a++)e[a*t+n]=e[a*t+n]/r}},xr=function(e,t,r){for(var n=new Array(r*r),i=0;i<r;i++){for(var a=0;a<r;a++)n[i*r+a]=0;for(var o=0;o<r;o++)for(var s=0;s<r;s++)n[i*r+s]+=e[i*r+o]*t[o*r+s]}return n},wr=function(e,t,r){for(var n=e.slice(0),i=1;i<r;i++)e=xr(e,n,t);return e},Dr=function(e,t,r){for(var n=new Array(t*t),i=0;i<t*t;i++)n[i]=Math.pow(e[i],r);return br(n,t),n},kr=function(e,t,r,n){for(var i=0;i<r;i++)if(Math.round(e[i]*Math.pow(10,n))/Math.pow(10,n)!=Math.round(t[i]*Math.pow(10,n))/Math.pow(10,n))return!1;return!0},Er=function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},Ar=function(e){for(var t=this.nodes(),r=this.edges(),n=this.cy(),i=function(e){return yr(e)}(e),a={},o=0;o<t.length;o++)a[t[o].id()]=o;for(var s,l=t.length,u=l*l,c=new Array(u),h=0;h<u;h++)c[h]=0;for(var d=0;d<r.length;d++){var f=r[d],p=a[f.source().id()],g=a[f.target().id()],m=vr(f,i.attributes);c[p*l+g]+=m,c[g*l+p]+=m}!function(e,t,r){for(var n=0;n<t;n++)e[n*t+n]=r}(c,l,i.multFactor),br(c,l);for(var y=!0,v=0;y&&v<i.maxIterations;)y=!1,s=wr(c,l,i.expandFactor),c=Dr(s,l,i.inflateFactor),kr(c,s,u,4)||(y=!0),v++;var b=function(e,t,r,n){for(var i=[],a=0;a<t;a++){for(var o=[],s=0;s<t;s++)Math.round(1e3*e[a*t+s])/1e3>0&&o.push(r[s]);0!==o.length&&i.push(n.collection(o))}return i}(c,l,t,n);return b=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&Er(e[t],e[r])&&e.splice(r,1);return e}(b),b},Cr={markovClustering:Ar,mcl:Ar},_r=function(e){return e},Tr=function(e,t){return Math.abs(t-e)},Sr=function(e,t,r){return e+Tr(t,r)},Fr=function(e,t,r){return e+Math.pow(r-t,2)},Or=function(e){return Math.sqrt(e)},Br=function(e,t,r){return Math.max(e,Tr(t,r))},Nr=function(e,t,r,n,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_r,o=n,s=0;s<e;s++)o=i(o,t(s),r(s));return a(o)},Lr={euclidean:function(e,t,r){return e>=2?Nr(e,t,r,0,Fr,Or):Nr(e,t,r,0,Sr)},squaredEuclidean:function(e,t,r){return Nr(e,t,r,0,Fr)},manhattan:function(e,t,r){return Nr(e,t,r,0,Sr)},max:function(e,t,r){return Nr(e,t,r,-1/0,Br)}};function Ir(e,t,r,n,i,a){var o;return o=x(e)?e:Lr[e]||Lr.euclidean,0===t&&x(e)?o(i,a):o(t,r,n,i,a)}Lr["squared-euclidean"]=Lr.squaredEuclidean,Lr.squaredeuclidean=Lr.squaredEuclidean;var Rr=Ye({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Mr=function(e){return Rr(e)},Pr=function(e,t,r,n,i){var a="kMedoids"!==i?function(e){return r[e]}:function(e){return n[e](r)},o=r,s=t;return Ir(e,n.length,a,(function(e){return n[e](t)}),o,s)},zr=function(e,t,r){for(var n=r.length,i=new Array(n),a=new Array(n),o=new Array(t),s=null,l=0;l<n;l++)i[l]=e.min(r[l]).value,a[l]=e.max(r[l]).value;for(var u=0;u<t;u++){s=[];for(var c=0;c<n;c++)s[c]=Math.random()*(a[c]-i[c])+i[c];o[u]=s}return o},$r=function(e,t,r,n,i){for(var a=1/0,o=0,s=0;s<t.length;s++){var l=Pr(r,e,t[s],n,i);l<a&&(a=l,o=s)}return o},jr=function(e,t,r){for(var n=[],i=null,a=0;a<t.length;a++)r[(i=t[a]).id()]===e&&n.push(i);return n},Kr=function(e,t,r){return Math.abs(t-e)<=r},qr=function(e,t,r){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)if(Math.abs(e[n][i]-t[n][i])>r)return!1;return!0},Ur=function(e,t,r){for(var n=0;n<r;n++)if(e===t[n])return!0;return!1},Hr=function(e,t){var r=new Array(t);if(e.length<50)for(var n=0;n<t;n++){for(var i=e[Math.floor(Math.random()*e.length)];Ur(i,r,n);)i=e[Math.floor(Math.random()*e.length)];r[n]=i}else for(var a=0;a<t;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},Wr=function(e,t,r){for(var n=0,i=0;i<t.length;i++)n+=Pr("manhattan",t[i],e,r,"kMedoids");return n},Gr=function(e,t,r,n,i){for(var a,o,s=0;s<t.length;s++)for(var l=0;l<e.length;l++)n[s][l]=Math.pow(r[s][l],i.m);for(var u=0;u<e.length;u++)for(var c=0;c<i.attributes.length;c++){a=0,o=0;for(var h=0;h<t.length;h++)a+=n[h][u]*i.attributes[c](t[h]),o+=n[h][u];e[u][c]=a/o}},Vr=function(e,t,r,n,i){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var o,s,l,u=2/(i.m-1),c=0;c<r.length;c++)for(var h=0;h<n.length;h++){o=0;for(var d=0;d<r.length;d++)s=Pr(i.distance,n[h],r[c],i.attributes,"cmeans"),l=Pr(i.distance,n[h],r[d],i.attributes,"cmeans"),o+=Math.pow(s/l,u);e[h][c]=1/o}},Yr=function(e){var t,r,n,i,a,o=this.cy(),s=this.nodes(),l=Mr(e);i=new Array(s.length);for(var u=0;u<s.length;u++)i[u]=new Array(l.k);n=new Array(s.length);for(var c=0;c<s.length;c++)n[c]=new Array(l.k);for(var h=0;h<s.length;h++){for(var d=0,f=0;f<l.k;f++)n[h][f]=Math.random(),d+=n[h][f];for(var p=0;p<l.k;p++)n[h][p]=n[h][p]/d}r=new Array(l.k);for(var g=0;g<l.k;g++)r[g]=new Array(l.attributes.length);a=new Array(s.length);for(var m=0;m<s.length;m++)a[m]=new Array(l.k);for(var y=!0,v=0;y&&v<l.maxIterations;)y=!1,Gr(r,s,n,a,l),Vr(n,i,r,s,l),qr(n,i,l.sensitivityThreshold)||(y=!0),v++;return t=function(e,t,r,n){for(var i,a,o=new Array(r.k),s=0;s<o.length;s++)o[s]=[];for(var l=0;l<t.length;l++){i=-1/0,a=-1;for(var u=0;u<t[0].length;u++)t[l][u]>i&&(i=t[l][u],a=u);o[a].push(e[l])}for(var c=0;c<o.length;c++)o[c]=n.collection(o[c]);return o}(s,n,l,o),{clusters:t,degreeOfMembership:n}},Xr={kMeans:function(e){var t,r=this.cy(),i=this.nodes(),a=null,o=Mr(e),s=new Array(o.k),l={};o.testMode?"number"==typeof o.testCentroids?(o.testCentroids,t=zr(i,o.k,o.attributes)):t="object"===n(o.testCentroids)?o.testCentroids:zr(i,o.k,o.attributes):t=zr(i,o.k,o.attributes);for(var u=!0,c=0;u&&c<o.maxIterations;){for(var h=0;h<i.length;h++)l[(a=i[h]).id()]=$r(a,t,o.distance,o.attributes,"kMeans");u=!1;for(var d=0;d<o.k;d++){var f=jr(d,i,l);if(0!==f.length){for(var p=o.attributes.length,g=t[d],m=new Array(p),y=new Array(p),v=0;v<p;v++){y[v]=0;for(var b=0;b<f.length;b++)a=f[b],y[v]+=o.attributes[v](a);m[v]=y[v]/f.length,Kr(m[v],g[v],o.sensitivityThreshold)||(u=!0)}t[d]=m,s[d]=r.collection(f)}}c++}return s},kMedoids:function(e){var t,r,i=this.cy(),a=this.nodes(),o=null,s=Mr(e),l=new Array(s.k),u={},c=new Array(s.k);s.testMode?"number"==typeof s.testCentroids||(t="object"===n(s.testCentroids)?s.testCentroids:Hr(a,s.k)):t=Hr(a,s.k);for(var h=!0,d=0;h&&d<s.maxIterations;){for(var f=0;f<a.length;f++)u[(o=a[f]).id()]=$r(o,t,s.distance,s.attributes,"kMedoids");h=!1;for(var p=0;p<t.length;p++){var g=jr(p,a,u);if(0!==g.length){c[p]=Wr(t[p],g,s.attributes);for(var m=0;m<g.length;m++)(r=Wr(g[m],g,s.attributes))<c[p]&&(c[p]=r,t[p]=g[m],h=!0);l[p]=i.collection(g)}}d++}return l},fuzzyCMeans:Yr,fcm:Yr},Zr=Ye({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Qr={single:"min",complete:"max"},Jr=function(e,t,r,n,i){for(var a,o=0,s=1/0,l=i.attributes,u=function(e,t){return Ir(i.distance,l.length,(function(t){return l[t](e)}),(function(e){return l[e](t)}),e,t)},c=0;c<e.length;c++){var h=e[c].key,d=r[h][n[h]];d<s&&(o=h,s=d)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var f,p=t[o],g=t[n[o]];f="dendrogram"===i.mode?{left:p,right:g,key:p.key}:{value:p.value.concat(g.value),key:p.key},e[p.index]=f,e.splice(g.index,1),t[p.key]=f;for(var m=0;m<e.length;m++){var y=e[m];p.key===y.key?a=1/0:"min"===i.linkage?(a=r[p.key][y.key],r[p.key][y.key]>r[g.key][y.key]&&(a=r[g.key][y.key])):"max"===i.linkage?(a=r[p.key][y.key],r[p.key][y.key]<r[g.key][y.key]&&(a=r[g.key][y.key])):a="mean"===i.linkage?(r[p.key][y.key]*p.size+r[g.key][y.key]*g.size)/(p.size+g.size):"dendrogram"===i.mode?u(y.value,p.value):u(y.value[0],p.value[0]),r[p.key][y.key]=r[y.key][p.key]=a}for(var v=0;v<e.length;v++){var b=e[v].key;if(n[b]===p.key||n[b]===g.key){for(var x=b,w=0;w<e.length;w++){var D=e[w].key;r[b][D]<r[b][x]&&(x=D)}n[b]=x}e[v].index=v}return p.key=g.key=p.index=g.index=null,!0},en=function e(t,r,n){t&&(t.value?r.push(t.value):(t.left&&e(t.left,r),t.right&&e(t.right,r)))},tn=function e(t,r){if(!t)return"";if(t.left&&t.right){var n=e(t.left,r),i=e(t.right,r),a=r.add({group:"nodes",data:{id:n+","+i}});return r.add({group:"edges",data:{source:n,target:a.id()}}),r.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}return t.value?t.value.id():void 0},rn=function e(t,r,n){if(!t)return[];var i=[],a=[],o=[];return 0===r?(t.left&&en(t.left,i),t.right&&en(t.right,a),o=i.concat(a),[n.collection(o)]):1===r?t.value?[n.collection(t.value)]:(t.left&&en(t.left,i),t.right&&en(t.right,a),[n.collection(i),n.collection(a)]):t.value?[n.collection(t.value)]:(t.left&&(i=e(t.left,r-1,n)),t.right&&(a=e(t.right,r-1,n)),i.concat(a))},nn=function(e){for(var t=this.cy(),r=this.nodes(),n=function(e){var t=Zr(e),r=Qr[t.linkage];return null!=r&&(t.linkage=r),t}(e),i=n.attributes,a=function(e,t){return Ir(n.distance,i.length,(function(t){return i[t](e)}),(function(e){return i[e](t)}),e,t)},o=[],s=[],l=[],u=[],c=0;c<r.length;c++){var h={value:"dendrogram"===n.mode?r[c]:[r[c]],key:c,index:c};o[c]=h,u[c]=h,s[c]=[],l[c]=0}for(var d=0;d<o.length;d++)for(var f=0;f<=d;f++){var p;p="dendrogram"===n.mode?d===f?1/0:a(o[d].value,o[f].value):d===f?1/0:a(o[d].value[0],o[f].value[0]),s[d][f]=p,s[f][d]=p,p<s[d][l[d]]&&(l[d]=f)}for(var g,m=Jr(o,u,s,l,n);m;)m=Jr(o,u,s,l,n);return"dendrogram"===n.mode?(g=rn(o[0],n.dendrogramDepth,t),n.addDendrogram&&tn(o[0],t)):(g=new Array(o.length),o.forEach((function(e,r){e.key=e.index=null,g[r]=t.collection(e.value)}))),g},an={hierarchicalClustering:nn,hca:nn},on=Ye({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),sn=function(e,t,r,n){var i=function(e,t){return n[t](e)};return-Ir(e,n.length,(function(e){return i(t,e)}),(function(e){return i(r,e)}),t,r)},ln=function(e,t,r){for(var n=[],i=0;i<e;i++){for(var a=-1,o=-1/0,s=0;s<r.length;s++){var l=r[s];t[i*e+l]>o&&(a=l,o=t[i*e+l])}a>0&&n.push(a)}for(var u=0;u<r.length;u++)n[r[u]]=r[u];return n},un=function(e){for(var t,r,n,i,a,o,s=this.cy(),l=this.nodes(),u=function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||Ke("Damping must range on [0.5, 1).  Got: ".concat(t));var n=["median","mean","min","max"];return n.some((function(e){return e===r}))||k(r)||Ke("Preference must be one of [".concat(n.map((function(e){return"'".concat(e,"'")})).join(", "),"] or a number.  Got: ").concat(r)),on(e)}(e),c={},h=0;h<l.length;h++)c[l[h].id()]=h;r=(t=l.length)*t,n=new Array(r);for(var d=0;d<r;d++)n[d]=-1/0;for(var f=0;f<t;f++)for(var p=0;p<t;p++)f!==p&&(n[f*t+p]=sn(u.distance,l[f],l[p],u.attributes));i=function(e,t){var r;return r="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t)):e=e.slice(t,r);for(var a=0,o=e.length-1;o>=0;o--){var s=e[o];i?isFinite(s)||(e[o]=-1/0,a++):e.splice(o,1)}n&&e.sort((function(e,t){return e-t}));var l=e.length,u=Math.floor(l/2);return l%2!=0?e[u+1+a]:(e[u-1+a]+e[u+a])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=0,i=0,a=t;a<r;a++){var o=e[a];isFinite(o)&&(n+=o,i++)}return n/i}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.min(a,n))}return n}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=-1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.max(a,n))}return n}(e):t,r}(n,u.preference);for(var g=0;g<t;g++)n[g*t+g]=i;a=new Array(r);for(var m=0;m<r;m++)a[m]=0;o=new Array(r);for(var y=0;y<r;y++)o[y]=0;for(var v=new Array(t),b=new Array(t),x=new Array(t),w=0;w<t;w++)v[w]=0,b[w]=0,x[w]=0;for(var D,E=new Array(t*u.minIterations),A=0;A<E.length;A++)E[A]=0;for(D=0;D<u.maxIterations;D++){for(var C=0;C<t;C++){for(var _=-1/0,T=-1/0,S=-1,F=0,O=0;O<t;O++)v[O]=a[C*t+O],(F=o[C*t+O]+n[C*t+O])>=_?(T=_,_=F,S=O):F>T&&(T=F);for(var B=0;B<t;B++)a[C*t+B]=(1-u.damping)*(n[C*t+B]-_)+u.damping*v[B];a[C*t+S]=(1-u.damping)*(n[C*t+S]-T)+u.damping*v[S]}for(var N=0;N<t;N++){for(var L=0,I=0;I<t;I++)v[I]=o[I*t+N],b[I]=Math.max(0,a[I*t+N]),L+=b[I];L-=b[N],b[N]=a[N*t+N],L+=b[N];for(var R=0;R<t;R++)o[R*t+N]=(1-u.damping)*Math.min(0,L-b[R])+u.damping*v[R];o[N*t+N]=(1-u.damping)*(L-b[N])+u.damping*v[N]}for(var M=0,P=0;P<t;P++){var z=o[P*t+P]+a[P*t+P]>0?1:0;E[D%u.minIterations*t+P]=z,M+=z}if(M>0&&(D>=u.minIterations-1||D==u.maxIterations-1)){for(var $=0,j=0;j<t;j++){x[j]=0;for(var K=0;K<u.minIterations;K++)x[j]+=E[K*t+j];0!==x[j]&&x[j]!==u.minIterations||$++}if($===t)break}}for(var q=function(e,t,r){for(var n=[],i=0;i<e;i++)t[i*e+i]+r[i*e+i]>0&&n.push(i);return n}(t,a,o),U=function(e,t,r){for(var n=ln(e,t,r),i=0;i<r.length;i++){for(var a=[],o=0;o<n.length;o++)n[o]===r[i]&&a.push(o);for(var s=-1,l=-1/0,u=0;u<a.length;u++){for(var c=0,h=0;h<a.length;h++)c+=t[a[h]*e+a[u]];c>l&&(s=u,l=c)}r[i]=a[s]}return ln(e,t,r)}(t,n,q),H={},W=0;W<q.length;W++)H[q[W]]=[];for(var G=0;G<l.length;G++){var V=U[c[l[G].id()]];null!=V&&H[V].push(l[G])}for(var Y=new Array(q.length),X=0;X<q.length;X++)Y[X]=s.collection(H[q[X]]);return Y},cn={affinityPropagation:un,ap:un},hn=Ye({root:void 0,directed:!1}),dn=function(){var e=this,t={},r=0,n=0,i=[],a=[],o={},s=function s(l,u,c){l===c&&(n+=1),t[u]={id:r,low:r++,cutVertex:!1};var h,d,f,p,g=e.getElementById(u).connectedEdges().intersection(e);0===g.size()?i.push(e.spawn(e.getElementById(u))):g.forEach((function(r){h=r.source().id(),d=r.target().id(),(f=h===u?d:h)!==c&&(p=r.id(),o[p]||(o[p]=!0,a.push({x:u,y:f,edge:r})),f in t?t[u].low=Math.min(t[u].low,t[f].id):(s(l,f,u),t[u].low=Math.min(t[u].low,t[f].low),t[u].id<=t[f].low&&(t[u].cutVertex=!0,function(r,n){for(var o=a.length-1,s=[],l=e.spawn();a[o].x!=r||a[o].y!=n;)s.push(a.pop().edge),o--;s.push(a.pop().edge),s.forEach((function(r){var n=r.connectedNodes().intersection(e);l.merge(r),n.forEach((function(r){var n=r.id(),i=r.connectedEdges().intersection(e);l.merge(r),t[n].cutVertex?l.merge(i.filter((function(e){return e.isLoop()}))):l.merge(i)}))})),i.push(l)}(u,f))))}))};e.forEach((function(e){if(e.isNode()){var r=e.id();r in t||(n=0,s(r,r),t[r].cutVertex=n>1)}}));var l=Object.keys(t).filter((function(e){return t[e].cutVertex})).map((function(t){return e.getElementById(t)}));return{cut:e.spawn(l),components:i}},fn=function(){var e=this,t={},r=0,n=[],i=[],a=e.spawn(e),o=function o(s){if(i.push(s),t[s]={index:r,low:r++,explored:!1},e.getElementById(s).connectedEdges().intersection(e).forEach((function(e){var r=e.target().id();r!==s&&(r in t||o(r),t[r].explored||(t[s].low=Math.min(t[s].low,t[r].low)))})),t[s].index===t[s].low){for(var l=e.spawn();;){var u=i.pop();if(l.merge(e.getElementById(u)),t[u].low=t[s].index,t[u].explored=!0,u===s)break}var c=l.edgesWith(l),h=l.merge(c);n.push(h),a=a.difference(h)}};return e.forEach((function(e){if(e.isNode()){var r=e.id();r in t||o(r)}})),{cut:a,components:n}},pn={};[at,ut,ct,dt,pt,mt,xt,cr,dr,pr,mr,Cr,Xr,an,cn,{hierholzer:function(e){if(!D(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r,n,i,a=hn(e),o=a.root,s=a.directed,l=this,u=!1;o&&(i=b(o)?this.filter(o)[0].id():o[0].id());var c={},h={};s?l.forEach((function(e){var t=e.id();if(e.isNode()){var i=e.indegree(!0),a=e.outdegree(!0),o=i-a,s=a-i;1==o?r?u=!0:r=t:1==s?n?u=!0:n=t:(s>1||o>1)&&(u=!0),c[t]=[],e.outgoers().forEach((function(e){e.isEdge()&&c[t].push(e.id())}))}else h[t]=[void 0,e.target().id()]})):l.forEach((function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(r?n?u=!0:n=t:r=t),c[t]=[],e.connectedEdges().forEach((function(e){return c[t].push(e.id())}))):h[t]=[e.source().id(),e.target().id()]}));var d={found:!1,trail:void 0};if(u)return d;if(n&&r)if(s){if(i&&n!=i)return d;i=n}else{if(i&&n!=i&&r!=i)return d;i||(i=n)}else i||(i=l[0].id());var f=function(e){for(var t,r,n,i=e,a=[e];c[i].length;)t=c[i].shift(),r=h[t][0],i!=(n=h[t][1])?(c[n]=c[n].filter((function(e){return e!=t})),i=n):s||i==r||(c[r]=c[r].filter((function(e){return e!=t})),i=r),a.unshift(t),a.unshift(i);return a},p=[],g=[];for(g=f(i);1!=g.length;)0==c[g[0]].length?(p.unshift(l.getElementById(g.shift())),p.unshift(l.getElementById(g.shift()))):g=f(g.shift()).concat(g);for(var m in p.unshift(l.getElementById(g.shift())),c)if(c[m].length)return d;return d.found=!0,d.trail=this.spawn(p,!0),d}},{hopcroftTarjanBiconnected:dn,htbc:dn,htb:dn,hopcroftTarjanBiconnectedComponents:dn},{tarjanStronglyConnected:fn,tsc:fn,tscc:fn,tarjanStronglyConnectedComponents:fn}].forEach((function(e){q(pn,e)}));var gn=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};gn.prototype={fulfill:function(e){return mn(this,1,"fulfillValue",e)},reject:function(e){return mn(this,2,"rejectReason",e)},then:function(e,t){var r=this,n=new gn;return r.onFulfilled.push(bn(e,n,"fulfill")),r.onRejected.push(bn(t,n,"reject")),yn(r),n.proxy}};var mn=function(e,t,r,n){return 0===e.state&&(e.state=t,e[r]=n,yn(e)),e},yn=function(e){1===e.state?vn(e,"onFulfilled",e.fulfillValue):2===e.state&&vn(e,"onRejected",e.rejectReason)},vn=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},bn=function(e,t,r){return function(n){if("function"!=typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(e){return void t.reject(e)}xn(t,i)}}},xn=function e(t,r){if(t!==r&&t.proxy!==r){var i;if("object"===n(r)&&null!==r||"function"==typeof r)try{i=r.then}catch(e){return void t.reject(e)}if("function"!=typeof i)t.fulfill(r);else{var a=!1;try{i.call(r,(function(n){a||(a=!0,n===r?t.reject(new TypeError("circular thenable chain")):e(t,n))}),(function(e){a||(a=!0,t.reject(e))}))}catch(e){a||t.reject(e)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};gn.all=function(e){return new gn((function(t,r){for(var n=new Array(e.length),i=0,a=function(r,a){n[r]=a,++i===e.length&&t(n)},o=0;o<e.length;o++)!function(t){var n=e[t];null!=n&&null!=n.then?n.then((function(e){a(t,e)}),(function(e){r(e)})):a(t,n)}(o)}))},gn.resolve=function(e){return new gn((function(t,r){t(e)}))},gn.reject=function(e){return new gn((function(t,r){r(e)}))};var wn="undefined"!=typeof Promise?Promise:gn,Dn=function(e,t,r){var n=T(e),i=!n,a=this._private=q({duration:1e3},t,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&x(a.complete)&&a.completes.push(a.complete),i){var o=e.position();a.startPosition=a.startPosition||{x:o.x,y:o.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(n){var s=e.pan();a.startPan={x:s.x,y:s.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},kn=Dn.prototype;q(kn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),A(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,r=t.playing;return void 0===e?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(t,r){var n=e[t];null!=n&&(e[t]=e[r],e[r]=n)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var n=0;n<e.style.length;n++){var i=e.style[n],a=i.name,o=e.startStyle[a];e.startStyle[a]=i,e.style[n]=o}return t&&this.play(),this},promise:function(e){var t,r=this._private;return t="frame"===e?r.frames:r.completes,new wn((function(e,r){t.push((function(){e()}))}))}}),kn.complete=kn.completed,kn.run=kn.play,kn.running=kn.playing;var En,An={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var r=t[0];return r?r._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var r=0;r<t.length;r++)t[r]._private.animation.queue=[];return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],a=this._private.cy||this,o=!n,s=!o;if(!a.styleEnabled())return this;var l=a.style();if(e=q({},e,t),0===Object.keys(e).length)return new Dn(i[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(s&&(e.style=l.getPropsList(e.style||e.css),e.css=void 0),s&&null!=e.renderedPosition){var u=e.renderedPosition,c=a.pan(),h=a.zoom();e.position=Dt(u,h,c)}if(o&&null!=e.panBy){var d=e.panBy,f=a.pan();e.pan={x:f.x+d.x,y:f.y+d.y}}var p=e.center||e.centre;if(o&&null!=p){var g=a.getCenterPan(p.eles,e.zoom);null!=g&&(e.pan=g)}if(o&&null!=e.fit){var m=e.fit,y=a.getFitViewport(m.eles||m.boundingBox,m.padding);null!=y&&(e.pan=y.pan,e.zoom=y.zoom)}if(o&&D(e.zoom)){var v=a.getZoomedViewport(e.zoom);null!=v?(v.zoomed&&(e.zoom=v.zoom),v.panned&&(e.pan=v.pan)):e.zoom=null}return new Dn(i[0],e)}},animate:function(){return function(e,t){var r=this,n=void 0!==r.length?r:[r];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=q({},e,t));for(var i=0;i<n.length;i++){var a=n[i],o=a.animated()&&(void 0===e.queue||e.queue);a.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var r=this,n=void 0!==r.length?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var a=0;a<n.length;a++){for(var o=n[a]._private,s=o.animation.current,l=0;l<s.length;l++){var u=s[l]._private;t&&(u.duration=0)}e&&(o.animation.queue=[]),t||(o.animation.current=[])}return i.notify("draw"),this}}},Cn=Array.isArray,_n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tn=/^\w*$/,Sn=Z["__core-js_shared__"],Fn=(En=/[^.]+$/.exec(Sn&&Sn.keys&&Sn.keys.IE_PROTO||""))?"Symbol(src)_1."+En:"",On=Function.prototype.toString,Bn=/^\[object .+?Constructor\]$/,Nn=Function.prototype,Ln=Object.prototype,In=Nn.toString,Rn=Ln.hasOwnProperty,Mn=RegExp("^"+In.call(Rn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pn=function(e){return!(!G(e)||(t=e,Fn&&Fn in t))&&(function(e){if(!G(e))return!1;var t=ue(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}(e)?Mn:Bn).test(function(e){if(null!=e){try{return On.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t},zn=function(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Pn(r)?r:void 0},$n=zn(Object,"create"),jn=Object.prototype.hasOwnProperty,Kn=Object.prototype.hasOwnProperty;function qn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qn.prototype.clear=function(){this.__data__=$n?$n(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if($n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return jn.call(t,e)?t[e]:void 0},qn.prototype.has=function(e){var t=this.__data__;return $n?void 0!==t[e]:Kn.call(t,e)},qn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$n&&void 0===t?"__lodash_hash_undefined__":t,this};var Un=qn,Hn=function(e,t){return e===t||e!=e&&t!=t},Wn=function(e,t){for(var r=e.length;r--;)if(Hn(e[r][0],t))return r;return-1},Gn=Array.prototype.splice;function Vn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,r=Wn(t,e);return!(r<0||(r==t.length-1?t.pop():Gn.call(t,r,1),--this.size,0))},Vn.prototype.get=function(e){var t=this.__data__,r=Wn(t,e);return r<0?void 0:t[r][1]},Vn.prototype.has=function(e){return Wn(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var r=this.__data__,n=Wn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var Yn=Vn,Xn=zn(Z,"Map"),Zn=function(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map};function Qn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(Xn||Yn),string:new Un}},Qn.prototype.delete=function(e){var t=Zn(this,e).delete(e);return this.size-=t?1:0,t},Qn.prototype.get=function(e){return Zn(this,e).get(e)},Qn.prototype.has=function(e){return Zn(this,e).has(e)},Qn.prototype.set=function(e,t){var r=Zn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};var Jn=Qn;function ei(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(ei.Cache||Jn),r}ei.Cache=Jn;var ti=ei,ri=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ni=/\\(\\)?/g,ii=function(e){var t=ti(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ri,(function(e,r,n,i){t.push(n?i.replace(ni,"$1"):r||e)})),t})),ai=ii,oi=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},si=re?re.prototype:void 0,li=si?si.toString:void 0,ui=function e(t){if("string"==typeof t)return t;if(Cn(t))return oi(t,e)+"";if(ce(t))return li?li.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},ci=function(e){return null==e?"":ui(e)},hi=function(e,t){return Cn(e)?e:function(e,t){if(Cn(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ce(e))||Tn.test(e)||!_n.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:ai(ci(e))},di=function(e){if("string"==typeof e||ce(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},fi=function(e,t,r){var n=null==e?void 0:function(e,t){for(var r=0,n=(t=hi(t,e)).length;null!=e&&r<n;)e=e[di(t[r++])];return r&&r==n?e:void 0}(e,t);return void 0===n?r:n},pi=function(){try{var e=zn(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),gi=Object.prototype.hasOwnProperty,mi=function(e,t,r){var n=e[t];gi.call(e,t)&&Hn(n,r)&&(void 0!==r||t in e)||function(e,t,r){"__proto__"==t&&pi?pi(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}(e,t,r)},yi=/^(?:0|[1-9]\d*)$/,vi=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&yi.test(e))&&e>-1&&e%1==0&&e<t},bi=function(e,t,r){return null==e?e:function(e,t,r,n){if(!G(e))return e;for(var i=-1,a=(t=hi(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=di(t[i]),u=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=n?n(c,l,s):void 0)&&(u=G(c)?c:vi(t[i+1])?[]:{})}mi(s,l,u),s=s[l]}return e}(e,t,r)},xi=function(e){return Cn(e)?oi(e,di):ce(e)?[e]:function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(ai(ci(e)))},wi={data:function(e){return e=q({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,r){var n=e,i=this,a=void 0!==i.length,o=a?i:[i],l=a?i[0]:i;if(b(t)){var u,c=-1!==t.indexOf(".")&&xi(t);if(n.allowGetting&&void 0===r)return l&&(n.beforeGet(l),u=c&&void 0===l._private[n.field][t]?fi(l._private[n.field],c):l._private[n.field][t]),u;if(n.allowSetting&&void 0!==r&&!n.immutableKeys[t]){var h=s({},t,r);n.beforeSet(i,h);for(var d=0,f=o.length;d<f;d++){var p=o[d];n.canSet(p)&&(c&&void 0===l._private[n.field][t]?bi(p._private[n.field],c,r):p._private[n.field][t]=r)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}}else if(n.allowSetting&&D(t)){var g,m,y=t,v=Object.keys(y);n.beforeSet(i,y);for(var w=0;w<v.length;w++)if(m=y[g=v[w]],!n.immutableKeys[g])for(var k=0;k<o.length;k++){var E=o[k];n.canSet(E)&&(E._private[n.field][g]=m)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&x(t)){var A=t;i.on(n.bindingEvent,A)}else if(n.allowGetting&&void 0===t){var C;return l&&(n.beforeGet(l),C=l._private[n.field]),C}return i}},removeData:function(e){return e=q({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var r=e,n=this,i=void 0!==n.length?n:[n];if(b(t)){for(var a=t.split(/\s+/),o=a.length,s=0;s<o;s++){var l=a[s];if(!F(l)&&!r.immutableKeys[l])for(var u=0,c=i.length;u<c;u++)i[u]._private[r.field][l]=void 0}r.triggerEvent&&n[r.triggerFnName](r.event)}else if(void 0===t){for(var h=0,d=i.length;h<d;h++)for(var f=i[h]._private[r.field],p=Object.keys(f),g=0;g<p.length;g++){var m=p[g];!r.immutableKeys[m]&&(f[m]=void 0)}r.triggerEvent&&n[r.triggerFnName](r.event)}return n}}},Di={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var r=this,n=Array.prototype.slice.call(arguments,0);return new wn((function(e,t){var i=n.concat([function(t){r.off.apply(r,a),e(t)}]),a=i.concat([]);r.on.apply(r,i)}))}}},ki={};[An,wi,Di].forEach((function(e){q(ki,e)}));var Ei={animate:ki.animate(),animation:ki.animation(),animated:ki.animated(),clearQueue:ki.clearQueue(),delay:ki.delay(),delayAnimation:ki.delayAnimation(),stop:ki.stop()},Ai={classes:function(e){var t=this;if(void 0===e){var r=[];return t[0]._private.classes.forEach((function(e){return r.push(e)})),r}w(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],i=new rt(e),a=0;a<t.length;a++){for(var o=t[a],s=o._private,l=s.classes,u=!1,c=0;c<e.length;c++){var h=e[c];if(!l.has(h)){u=!0;break}}u||(u=l.size!==e.length),u&&(s.classes=i,n.push(o))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){w(e)||(e=e.match(/\S+/g)||[]);for(var r=this,n=void 0===t,i=[],a=0,o=r.length;a<o;a++)for(var s=r[a],l=s._private.classes,u=!1,c=0;c<e.length;c++){var h=e[c],d=l.has(h),f=!1;t||n&&!d?(l.add(h),f=!0):(!t||n&&d)&&(l.delete(h),f=!0),!u&&f&&(i.push(s),u=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var r=this;if(null==t)t=250;else if(0===t)return r;return r.addClass(e),setTimeout((function(){r.removeClass(e)}),t),r}};Ai.className=Ai.classNames=Ai.classes;var Ci={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:M,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Ci.variable="(?:[\\w-.]|(?:\\\\"+Ci.metaChar+"))+",Ci.className="(?:[\\w-]|(?:\\\\"+Ci.metaChar+"))+",Ci.value=Ci.string+"|"+Ci.number,Ci.id=Ci.variable,function(){var e,t,r;for(e=Ci.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Ci.comparatorOp+="|@"+t;for(e=Ci.comparatorOp.split("|"),r=0;r<e.length;r++)(t=e[r]).indexOf("!")>=0||"="!==t&&(Ci.comparatorOp+="|\\!"+t)}();var _i=20,Ti=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort((function(e,t){return function(e,t){return-1*K(e,t)}(e.selector,t.selector)})),Si=function(){for(var e,t={},r=0;r<Ti.length;r++)t[(e=Ti[r]).selector]=e.matches;return t}(),Fi="("+Ti.map((function(e){return e.selector})).join("|")+")",Oi=function(e){return e.replace(new RegExp("\\\\("+Ci.metaChar+")","g"),(function(e,t){return t}))},Bi=function(e,t,r){e[e.length-1]=r},Ni=[{name:"group",query:!0,regex:"("+Ci.group+")",populate:function(e,t,r){var n=l(r,1)[0];t.checks.push({type:0,value:"*"===n?n:n+"s"})}},{name:"state",query:!0,regex:Fi,populate:function(e,t,r){var n=l(r,1)[0];t.checks.push({type:7,value:n})}},{name:"id",query:!0,regex:"\\#("+Ci.id+")",populate:function(e,t,r){var n=l(r,1)[0];t.checks.push({type:8,value:Oi(n)})}},{name:"className",query:!0,regex:"\\.("+Ci.className+")",populate:function(e,t,r){var n=l(r,1)[0];t.checks.push({type:9,value:Oi(n)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Ci.variable+")\\s*\\]",populate:function(e,t,r){var n=l(r,1)[0];t.checks.push({type:4,field:Oi(n)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Ci.variable+")\\s*("+Ci.comparatorOp+")\\s*("+Ci.value+")\\s*\\]",populate:function(e,t,r){var n=l(r,3),i=n[0],a=n[1],o=n[2];o=null!=new RegExp("^"+Ci.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),t.checks.push({type:3,field:Oi(i),operator:a,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Ci.boolOp+")\\s*("+Ci.variable+")\\s*\\]",populate:function(e,t,r){var n=l(r,2),i=n[0],a=n[1];t.checks.push({type:5,field:Oi(a),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Ci.meta+")\\s*("+Ci.comparatorOp+")\\s*("+Ci.number+")\\s*\\]\\]",populate:function(e,t,r){var n=l(r,3),i=n[0],a=n[1],o=n[2];t.checks.push({type:6,field:Oi(i),operator:a,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Ci.separator,populate:function(e,t){var r=e.currentSubject,n=e.edgeCount,i=e.compoundCount,a=e[e.length-1];return null!=r&&(a.subject=r,e.currentSubject=null),a.edgeCount=n,a.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Ci.directedEdge,populate:function(e,t){if(null==e.currentSubject){var r={checks:[]},n=t,i={checks:[]};return r.checks.push({type:11,source:n,target:i}),Bi(e,0,r),e.edgeCount++,i}var a={checks:[]},o=t,s={checks:[]};return a.checks.push({type:12,source:o,target:s}),Bi(e,0,a),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:Ci.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var r={checks:[]},n=t,i={checks:[]};return r.checks.push({type:10,nodes:[n,i]}),Bi(e,0,r),e.edgeCount++,i}var a={checks:[]},o=t,s={checks:[]};return a.checks.push({type:14,node:o,neighbor:s}),Bi(e,0,a),s}},{name:"child",separator:!0,regex:Ci.child,populate:function(e,t){if(null==e.currentSubject){var r={checks:[]},n={checks:[]},i=e[e.length-1];return r.checks.push({type:15,parent:i,child:n}),Bi(e,0,r),e.compoundCount++,n}if(e.currentSubject===t){var a={checks:[]},o=e[e.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return a.checks.push({type:19,left:o,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:_i}],c.checks.push({type:_i}),s.checks.push({type:17,parent:c,child:u}),Bi(e,0,a),e.currentSubject=l,e.compoundCount++,u}var h={checks:[]},d={checks:[]},f=[{type:17,parent:h,child:d}];return h.checks=t.checks,t.checks=f,e.compoundCount++,d}},{name:"descendant",separator:!0,regex:Ci.descendant,populate:function(e,t){if(null==e.currentSubject){var r={checks:[]},n={checks:[]},i=e[e.length-1];return r.checks.push({type:16,ancestor:i,descendant:n}),Bi(e,0,r),e.compoundCount++,n}if(e.currentSubject===t){var a={checks:[]},o=e[e.length-1],s={checks:[]},l={checks:[]},u={checks:[]},c={checks:[]};return a.checks.push({type:19,left:o,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:_i}],c.checks.push({type:_i}),s.checks.push({type:18,ancestor:c,descendant:u}),Bi(e,0,a),e.currentSubject=l,e.compoundCount++,u}var h={checks:[]},d={checks:[]},f=[{type:18,ancestor:h,descendant:d}];return h.checks=t.checks,t.checks=f,e.compoundCount++,d}},{name:"subject",modifier:!0,regex:Ci.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return Ue("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1].checks[0],n=null==r?null:r.type;11===n?r.type=13:10===n&&(r.type=14,r.node=r.nodes[1],r.neighbor=r.nodes[0],r.nodes=null)}}];Ni.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var Li=function(e){for(var t,r,n,i=0;i<Ni.length;i++){var a=Ni[i],o=a.name,s=e.match(a.regexObj);if(null!=s){r=s,t=a,n=o;var l=s[0];e=e.substring(l.length);break}}return{expr:t,match:r,name:n,remaining:e}},Ii={parse:function(e){var t=this,r=t.inputText=e,n=t[0]={checks:[]};for(t.length=1,r=function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e}(r);;){var i=Li(r);if(null==i.expr)return Ue("The selector `"+e+"`is invalid"),!1;var a=i.match.slice(1),o=i.expr.populate(t,n,a);if(!1===o)return!1;if(null!=o&&(n=o),(r=i.remaining).match(/^\s*$/))break}var s=t[t.length-1];null!=t.currentSubject&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var u=t[l];if(u.compoundCount>0&&u.edgeCount>0)return Ue("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(u.edgeCount>1)return Ue("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===u.edgeCount&&Ue("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return b(t)?'"'+t+'"':e(t)},r=function(e){return" "+e+" "},n=function(i,a){return i.checks.reduce((function(o,s,l){return o+(a===i&&0===l?"$":"")+function(i,a){var o=i.type,s=i.value;switch(o){case 0:var l=e(s);return l.substring(0,l.length-1);case 3:var u=i.field,c=i.operator;return"["+u+r(e(c))+t(s)+"]";case 5:var h=i.operator,d=i.field;return"["+e(h)+d+"]";case 4:return"["+i.field+"]";case 6:var f=i.operator;return"[["+i.field+r(e(f))+t(s)+"]]";case 7:return s;case 8:return"#"+s;case 9:return"."+s;case 17:case 15:return n(i.parent,a)+r(">")+n(i.child,a);case 18:case 16:return n(i.ancestor,a)+" "+n(i.descendant,a);case 19:var p=n(i.left,a),g=n(i.subject,a),m=n(i.right,a);return p+(p.length>0?" ":"")+g+m;case _i:return""}}(s,a)}),"")},i="",a=0;a<this.length;a++){var o=this[a];i+=n(o,o.subject),this.length>1&&a<this.length-1&&(i+=", ")}return this.toStringCache=i,i}},Ri=function(e,t,r){var n,i,a,o=b(e),s=k(e),l=b(r),u=!1,c=!1,h=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),u=!0),(o||l||u)&&(i=o||s?""+e:"",a=""+r),u&&(e=i=i.toLowerCase(),r=a=a.toLowerCase()),t){case"*=":n=i.indexOf(a)>=0;break;case"$=":n=i.indexOf(a,i.length-a.length)>=0;break;case"^=":n=0===i.indexOf(a);break;case"=":n=e===r;break;case">":h=!0,n=e>r;break;case">=":h=!0,n=e>=r;break;case"<":h=!0,n=e<r;break;case"<=":h=!0,n=e<=r;break;default:n=!1}return!c||null==e&&h||(n=!n),n},Mi=function(e,t){return e.data(t)},Pi=[],zi=function(e,t){return e.checks.every((function(e){return Pi[e.type](e,t)}))};Pi[0]=function(e,t){var r=e.value;return"*"===r||r===t.group()},Pi[7]=function(e,t){return function(e,t){return Si[e](t)}(e.value,t)},Pi[8]=function(e,t){var r=e.value;return t.id()===r},Pi[9]=function(e,t){var r=e.value;return t.hasClass(r)},Pi[6]=function(e,t){var r=e.field,n=e.operator,i=e.value;return Ri(function(e,t){return e[t]()}(t,r),n,i)},Pi[3]=function(e,t){var r=e.field,n=e.operator,i=e.value;return Ri(Mi(t,r),n,i)},Pi[5]=function(e,t){var r=e.field,n=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(Mi(t,r),n)},Pi[4]=function(e,t){var r=e.field;return e.operator,void 0!==Mi(t,r)},Pi[10]=function(e,t){var r=e.nodes[0],n=e.nodes[1],i=t.source(),a=t.target();return zi(r,i)&&zi(n,a)||zi(n,i)&&zi(r,a)},Pi[14]=function(e,t){return zi(e.node,t)&&t.neighborhood().some((function(t){return t.isNode()&&zi(e.neighbor,t)}))},Pi[11]=function(e,t){return zi(e.source,t.source())&&zi(e.target,t.target())},Pi[12]=function(e,t){return zi(e.source,t)&&t.outgoers().some((function(t){return t.isNode()&&zi(e.target,t)}))},Pi[13]=function(e,t){return zi(e.target,t)&&t.incomers().some((function(t){return t.isNode()&&zi(e.source,t)}))},Pi[15]=function(e,t){return zi(e.child,t)&&zi(e.parent,t.parent())},Pi[17]=function(e,t){return zi(e.parent,t)&&t.children().some((function(t){return zi(e.child,t)}))},Pi[16]=function(e,t){return zi(e.descendant,t)&&t.ancestors().some((function(t){return zi(e.ancestor,t)}))},Pi[18]=function(e,t){return zi(e.ancestor,t)&&t.descendants().some((function(t){return zi(e.descendant,t)}))},Pi[19]=function(e,t){return zi(e.subject,t)&&zi(e.left,t)&&zi(e.right,t)},Pi[20]=function(){return!0},Pi[1]=function(e,t){return e.value.has(t)},Pi[2]=function(e,t){return(0,e.value)(t)};var $i={matches:function(e){for(var t=0;t<this.length;t++){var r=this[t];if(zi(r,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&8===t[0].checks[0].type)return e.getElementById(t[0].checks[0].value).collection();var r=function(e){for(var r=0;r<t.length;r++){var n=t[r];if(zi(n,e))return!0}return!1};return null==t.text()&&(r=function(){return!0}),e.filter(r)}},ji=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||b(e)&&e.match(/^\s*$/)||(A(e)?this.addQuery({checks:[{type:1,value:e.collection()}]}):x(e)?this.addQuery({checks:[{type:2,value:e}]}):b(e)?this.parse(e)||(this.invalid=!0):Ke("A selector must be created from a string; found "))},Ki=ji.prototype;[Ii,$i].forEach((function(e){return q(Ki,e)})),Ki.text=function(){return this.inputText},Ki.size=function(){return this.length},Ki.eq=function(e){return this[e]},Ki.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},Ki.addQuery=function(e){this[this.length++]=e},Ki.selector=Ki.toString;var qi={allAre:function(e){var t=new ji(e);return this.every((function(e){return t.matches(e)}))},is:function(e){var t=new ji(e);return this.some((function(e){return t.matches(e)}))},some:function(e,t){for(var r=0;r<this.length;r++)if(t?e.apply(t,[this[r],r,this]):e(this[r],r,this))return!0;return!1},every:function(e,t){for(var r=0;r<this.length;r++)if(!(t?e.apply(t,[this[r],r,this]):e(this[r],r,this)))return!1;return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every((function(t){return e.hasElementWithId(t.id())})))},anySame:function(e){return e=this.cy().collection(e),this.some((function(t){return e.hasElementWithId(t.id())}))},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every((function(e){return t.hasElementWithId(e.id())}))},contains:function(e){e=this.cy().collection(e);var t=this;return e.every((function(e){return t.hasElementWithId(e.id())}))}};qi.allAreNeighbours=qi.allAreNeighbors,qi.has=qi.contains,qi.equal=qi.equals=qi.same;var Ui,Hi,Wi=function(e,t){return function(r,n,i,a){var o,s=r,l=this;if(null==s?o="":A(s)&&1===s.length&&(o=s.id()),1===l.length&&o){var u=l[0]._private,c=u.traversalCache=u.traversalCache||{},h=c[t]=c[t]||[],d=Oe(o);return h[d]||(h[d]=e.call(l,r,n,i,a))}return e.call(l,r,n,i,a)}},Gi={parent:function(e){var t=[];if(1===this.length){var r=this[0]._private.parent;if(r)return r}for(var n=0;n<this.length;n++){var i=this[n]._private.parent;i&&t.push(i)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}r=r.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var n=this[r].parents();t=(t=t||n).intersect(n)}return t.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isOrphan()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isChild()})).filter(e)},children:Wi((function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r]._private.children,i=0;i<n.length;i++)t.push(n[i]);return this.spawn(t,!0).filter(e)}),"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(r){for(var n=0;n<r.length;n++){var i=r[n];t.push(i),i.children().nonempty()&&e(i.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function Vi(e,t,r,n){for(var i=[],a=new rt,o=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];r?i.push(l):o&&n(i,a,l)}for(;i.length>0;){var u=i.shift();t(u),a.add(u.id()),o&&n(i,a,u)}return e}function Yi(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];t.has(a.id())||e.push(a)}}function Xi(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}function Zi(e,t,r){Xi(e,t,r),Yi(e,t,r)}Gi.forEachDown=function(e){return Vi(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Yi)},Gi.forEachUp=function(e){return Vi(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Xi)},Gi.forEachUpAndDown=function(e){return Vi(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Zi)},Gi.ancestors=Gi.parents,(Ui=Hi={data:ki.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ki.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ki.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ki.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ki.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ki.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=Ui.data,Ui.removeAttr=Ui.removeData;var Qi,Ji,ea=Hi,ta={};function ra(e){return function(t){var r=this;if(void 0===t&&(t=!0),0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(n+=e(i,s))}return n}}}function na(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a][e](r);void 0===o||void 0!==n&&!t(o,n)||(n=o)}return n}}q(ta,{degree:ra((function(e,t){return t.source().same(t.target())?2:1})),indegree:ra((function(e,t){return t.target().same(e)?1:0})),outdegree:ra((function(e,t){return t.source().same(e)?1:0}))}),q(ta,{minDegree:na("degree",(function(e,t){return e<t})),maxDegree:na("degree",(function(e,t){return e>t})),minIndegree:na("indegree",(function(e,t){return e<t})),maxIndegree:na("indegree",(function(e,t){return e>t})),minOutdegree:na("outdegree",(function(e,t){return e<t})),maxOutdegree:na("outdegree",(function(e,t){return e>t}))}),q(ta,{totalDegree:function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t}});var ia=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(!i.locked()){var a=i._private.position,o={x:null!=t.x?t.x-a.x:0,y:null!=t.y?t.y-a.y:0};!i.isParent()||0===o.x&&0===o.y||i.children().shift(o,r),i.dirtyBoundingBoxCache()}}},aa={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){ia(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Qi=Ji={position:ki.data(aa),silentPosition:ki.data(q({},aa,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){ia(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(D(e))t?this.silentPosition(e):this.position(e);else if(x(e)){var r=e,n=this.cy();n.startBatch();for(var i=0;i<this.length;i++){var a,o=this[i];(a=r(o,i))&&(t?o.silentPosition(a):o.position(a))}n.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,r){var n;if(D(e)?(n={x:k(e.x)?e.x:0,y:k(e.y)?e.y:0},r=t):b(e)&&k(t)&&((n={x:0,y:0})[e]=t),null!=n){var i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a];if(!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var s=o.position(),l={x:s.x+n.x,y:s.y+n.y};r?o.silentPosition(l):o.position(l)}}i.endBatch()}return this},silentShift:function(e,t){return D(e)?this.shift(e,!0):b(e)&&k(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var r=this[0],n=this.cy(),i=n.zoom(),a=n.pan(),o=D(e)?e:void 0,s=void 0!==o||void 0!==t&&b(e);if(r&&r.isNode()){if(!s){var l=r.position();return o=wt(l,i,a),void 0===e?o:o[e]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==t?c.position(e,(t-a[e])/i):void 0!==o&&c.position(Dt(o,i,a))}}else if(!s)return;return this},relativePosition:function(e,t){var r=this[0],n=this.cy(),i=D(e)?e:void 0,a=void 0!==i||void 0!==t&&b(e),o=n.hasCompoundNodes();if(r&&r.isNode()){if(!a){var s=r.position(),l=o?r.parent():null,u=l&&l.length>0,c=u;u&&(l=l[0]);var h=c?l.position():{x:0,y:0};return i={x:s.x-h.x,y:s.y-h.y},void 0===e?i:i[e]}for(var d=0;d<this.length;d++){var f=this[d],p=o?f.parent():null,g=p&&p.length>0,m=g;g&&(p=p[0]);var y=m?p.position():{x:0,y:0};void 0!==t?f.position(e,t+y[e]):void 0!==i&&f.position({x:i.x+y.x,y:i.y+y.y})}}else if(!a)return;return this}},Qi.modelPosition=Qi.point=Qi.position,Qi.modelPositions=Qi.points=Qi.positions,Qi.renderedPoint=Qi.renderedPosition,Qi.relativePoint=Qi.relativePosition;var oa,sa,la=Ji;oa=sa={},sa.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,l=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},sa.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){if(t.isParent()){var r=t._private;r.compoundBoundsClean=!1,r.bbCache=null,e||t.emitAndNotify("bounds")}})),this):this},sa.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(e){if(e.isParent()){var t=e._private,r=e.children(),n="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},a=r.boundingBox({includeLabels:n,includeOverlays:!1,useCache:!1}),o=t.position;0!==a.w&&0!==a.h||((a={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-a.w/2,a.x2=o.x+a.w/2,a.y1=o.y-a.h/2,a.y2=o.y+a.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(l=100*l/i.width.val);var u=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(u=100*u/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(c=100*c/i.height.val);var h=y(i.width.val-a.w,s,l),d=h.biasDiff,f=h.biasComplementDiff,p=y(i.height.val-a.h,u,c),g=p.biasDiff,m=p.biasComplementDiff;t.autoPadding=function(e,t,r,n){if("%"!==r.units)return"px"===r.units?r.pfValue:0;switch(n){case"width":return e>0?r.pfValue*e:0;case"height":return t>0?r.pfValue*t:0;case"average":return e>0&&t>0?r.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?r.pfValue*t:r.pfValue*e:0;case"max":return e>0&&t>0?e>t?r.pfValue*e:r.pfValue*t:0;default:return 0}}(a.w,a.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(a.w,i.width.val),o.x=(-d+a.x1+a.x2+f)/2,t.autoHeight=Math.max(a.h,i.height.val),o.y=(-g+a.y1+a.y2+m)/2}function y(e,t,r){var n=0,i=0,a=t+r;return e>0&&a>0&&(n=t/a*e,i=r/a*e),{biasDiff:n,biasComplementDiff:i}}}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;a.compoundBoundsClean&&!e||(r(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var ua=function(e){return e===1/0||e===-1/0?0:e},ca=function(e,t,r,n,i){n-t!=0&&i-r!=0&&null!=t&&null!=r&&null!=n&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=n>e.x2?n:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},ha=function(e,t){return null==t?e:ca(e,t.x1,t.y1,t.x2,t.y2)},da=function(e,t,r){return Qe(e,t,r)},fa=function(e,t,r){if(!t.cy().headless()){var n,i,a=t._private,o=a.rstyle,s=o.arrowWidth/2;if("none"!==t.pstyle(r+"-arrow-shape").value){"source"===r?(n=o.srcX,i=o.srcY):"target"===r?(n=o.tgtX,i=o.tgtY):(n=o.midX,i=o.midY);var l=a.arrowBounds=a.arrowBounds||{},u=l[r]=l[r]||{};u.x1=n-s,u.y1=i-s,u.x2=n+s,u.y2=i+s,u.w=u.x2-u.x1,u.h=u.y2-u.y1,Rt(u,1),ca(e,u.x1,u.y1,u.x2,u.y2)}}},pa=function(e,t,r){if(!t.cy().headless()){var n;n=r?r+"-":"";var i=t._private,a=i.rstyle;if(t.pstyle(n+"label").strValue){var o,s,l,u,c=t.pstyle("text-halign"),h=t.pstyle("text-valign"),d=da(a,"labelWidth",r),f=da(a,"labelHeight",r),p=da(a,"labelX",r),g=da(a,"labelY",r),m=t.pstyle(n+"text-margin-x").pfValue,y=t.pstyle(n+"text-margin-y").pfValue,v=t.isEdge(),b=t.pstyle(n+"text-rotation"),x=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,D=t.pstyle("text-background-padding").pfValue,k=f,E=d,A=E/2,C=k/2;if(v)o=p-A,s=p+A,l=g-C,u=g+C;else{switch(c.value){case"left":o=p-E,s=p;break;case"center":o=p-A,s=p+A;break;case"right":o=p,s=p+E}switch(h.value){case"top":l=g-k,u=g;break;case"center":l=g-C,u=g+C;break;case"bottom":l=g,u=g+k}}var _=m-Math.max(x,w)-D-2,T=m+Math.max(x,w)+D+2,S=y-Math.max(x,w)-D-2,F=y+Math.max(x,w)+D+2;o+=_,s+=T,l+=S,u+=F;var O=r||"main",B=i.labelBounds,N=B[O]=B[O]||{};N.x1=o,N.y1=l,N.x2=s,N.y2=u,N.w=s-o,N.h=u-l,N.leftPad=_,N.rightPad=T,N.topPad=S,N.botPad=F;var L=v&&"autorotate"===b.strValue,I=null!=b.pfValue&&0!==b.pfValue;if(L||I){var R=L?da(i.rstyle,"labelAngle",r):b.pfValue,M=Math.cos(R),P=Math.sin(R),z=(o+s)/2,$=(l+u)/2;if(!v){switch(c.value){case"left":z=s;break;case"right":z=o}switch(h.value){case"top":$=u;break;case"bottom":$=l}}var j=function(e,t){return{x:(e-=z)*M-(t-=$)*P+z,y:e*P+t*M+$}},K=j(o,l),q=j(o,u),U=j(s,l),H=j(s,u);o=Math.min(K.x,q.x,U.x,H.x),s=Math.max(K.x,q.x,U.x,H.x),l=Math.min(K.y,q.y,U.y,H.y),u=Math.max(K.y,q.y,U.y,H.y)}var W=O+"Rot",G=B[W]=B[W]||{};G.x1=o,G.y1=l,G.x2=s,G.y2=u,G.w=s-o,G.h=u-l,ca(e,o,l,s,u),ca(i.labelBounds.all,o,l,s,u)}return e}},ga=function(e){var t=0,r=function(e){return(e?1:0)<<t++},n=0;return n+=r(e.incudeNodes),n+=r(e.includeEdges),n+=r(e.includeLabels),n+=r(e.includeMainLabels),n+=r(e.includeSourceLabels),n+=r(e.includeTargetLabels),(n+=r(e.includeOverlays))+r(e.includeOutlines)},ma=function(e){if(e.isEdge()){var t=e.source().position(),r=e.target().position(),n=function(e){return Math.round(e)};return function(e){var t={value:0,done:!1},r=0,n=e.length;return Ce({next:function(){return r<n?t.value=e[r++]:t.done=!0,t}},void 0)}([n(t.x),n(t.y),n(r.x),n(r.y)])}return 0},ya=function(e,t){var r,n=e._private,i=e.isEdge(),a=(null==t?ba:ga(t))===ba,o=ma(e),s=n.bbCachePosKey===o,l=t.useCache&&s,u=function(e){return null==e._private.bbCache||e._private.styleDirty};if(!l||u(e)||i&&(u(e.source())||u(e.target()))?(s||e.recalculateRenderedStyle(l),r=function(e,t){var r,n,i,a,o,s,l,u=e._private.cy,c=u.styleEnabled(),h=u.headless(),d=Nt(),f=e._private,p=e.isNode(),g=e.isEdge(),m=f.rstyle,y=p&&c?e.pstyle("bounds-expansion").pfValue:[0],v=function(e){return"none"!==e.pstyle("display").value},b=!c||v(e)&&(!g||v(e.source())&&v(e.target()));if(b){var x=0;c&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(x=e.pstyle("overlay-padding").value);var w=0;c&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(w=e.pstyle("underlay-padding").value);var D=Math.max(x,w),k=0;if(c&&(k=e.pstyle("width").pfValue/2),p&&t.includeNodes){var E=e.position();o=E.x,s=E.y;var A=e.outerWidth()/2,C=e.outerHeight()/2;ca(d,r=o-A,i=s-C,n=o+A,a=s+C),c&&t.includeOutlines&&function(e,t){if(!t.cy().headless()){var r,n,i=t.pstyle("outline-opacity").value,a=t.pstyle("outline-width").value;if(i>0&&a>0){var o=t.pstyle("outline-offset").value,s=t.pstyle("shape").value,l=a+o,u=(e.w+2*l)/e.w,c=(e.h+2*l)/e.h,h=0;["diamond","pentagon","round-triangle"].includes(s)?(u=(e.w+2.4*l)/e.w,h=-l/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(s)?u=(e.w+2.4*l)/e.w:"star"===s?(u=(e.w+2.8*l)/e.w,c=(e.h+2.6*l)/e.h,h=-l/3.8):"triangle"===s?(u=(e.w+2.8*l)/e.w,c=(e.h+2.4*l)/e.h,h=-l/1.4):"vee"===s&&(u=(e.w+4.4*l)/e.w,c=(e.h+3.8*l)/e.h,h=.5*-l);var d=e.h*c-e.h,f=e.w*u-e.w;if(Mt(e,[Math.ceil(d/2),Math.ceil(f/2)]),0!==h){var p=(n=h,{x1:(r=e).x1+0,x2:r.x2+0,y1:r.y1+n,y2:r.y2+n,w:r.w,h:r.h});Lt(e,p)}}}}(d,e)}else if(g&&t.includeEdges)if(c&&!h){var _=e.pstyle("curve-style").strValue;if(r=Math.min(m.srcX,m.midX,m.tgtX),n=Math.max(m.srcX,m.midX,m.tgtX),i=Math.min(m.srcY,m.midY,m.tgtY),a=Math.max(m.srcY,m.midY,m.tgtY),ca(d,r-=k,i-=k,n+=k,a+=k),"haystack"===_){var T=m.haystackPts;if(T&&2===T.length){if(r=T[0].x,i=T[0].y,r>(n=T[1].x)){var S=r;r=n,n=S}if(i>(a=T[1].y)){var F=i;i=a,a=F}ca(d,r-k,i-k,n+k,a+k)}}else if("bezier"===_||"unbundled-bezier"===_||_.endsWith("segments")||_.endsWith("taxi")){var O;switch(_){case"bezier":case"unbundled-bezier":O=m.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":O=m.linePts}if(null!=O)for(var B=0;B<O.length;B++){var N=O[B];r=N.x-k,n=N.x+k,i=N.y-k,a=N.y+k,ca(d,r,i,n,a)}}}else{var L=e.source().position(),I=e.target().position();if((r=L.x)>(n=I.x)){var R=r;r=n,n=R}if((i=L.y)>(a=I.y)){var M=i;i=a,a=M}ca(d,r-=k,i-=k,n+=k,a+=k)}if(c&&t.includeEdges&&g&&(fa(d,e,"mid-source"),fa(d,e,"mid-target"),fa(d,e,"source"),fa(d,e,"target")),c&&"yes"===e.pstyle("ghost").value){var P=e.pstyle("ghost-offset-x").pfValue,z=e.pstyle("ghost-offset-y").pfValue;ca(d,d.x1+P,d.y1+z,d.x2+P,d.y2+z)}var $=f.bodyBounds=f.bodyBounds||{};Pt($,d),Mt($,y),Rt($,1),c&&(r=d.x1,n=d.x2,i=d.y1,a=d.y2,ca(d,r-D,i-D,n+D,a+D));var j=f.overlayBounds=f.overlayBounds||{};Pt(j,d),Mt(j,y),Rt(j,1);var K=f.labelBounds=f.labelBounds||{};null!=K.all?((l=K.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):K.all=Nt(),c&&t.includeLabels&&(t.includeMainLabels&&pa(d,e,null),g&&(t.includeSourceLabels&&pa(d,e,"source"),t.includeTargetLabels&&pa(d,e,"target")))}return d.x1=ua(d.x1),d.y1=ua(d.y1),d.x2=ua(d.x2),d.y2=ua(d.y2),d.w=ua(d.x2-d.x1),d.h=ua(d.y2-d.y1),d.w>0&&d.h>0&&b&&(Mt(d,y),Rt(d,1)),d}(e,va),n.bbCache=r,n.bbCachePosKey=o):r=n.bbCache,!a){var c=e.isNode();r=Nt(),(t.includeNodes&&c||t.includeEdges&&!c)&&(t.includeOverlays?ha(r,n.overlayBounds):ha(r,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?ha(r,n.labelBounds.all):(t.includeMainLabels&&ha(r,n.labelBounds.mainRot),t.includeSourceLabels&&ha(r,n.labelBounds.sourceRot),t.includeTargetLabels&&ha(r,n.labelBounds.targetRot))),r.w=r.x2-r.x1,r.h=r.y2-r.y1}return r},va={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},ba=ga(va),xa=Ye(va);sa.boundingBox=function(e){var t;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==e&&void 0!==e.useCache&&!0!==e.useCache){t=Nt();var r=xa(e=e||va),n=this;if(n.cy().styleEnabled())for(var i=0;i<n.length;i++){var a=n[i],o=a._private,s=ma(a),l=o.bbCachePosKey===s,u=r.useCache&&l&&!o.styleDirty;a.recalculateRenderedStyle(u)}this.updateCompoundBounds(!e.useCache);for(var c=0;c<n.length;c++){var h=n[c];ha(t,ya(h,r))}}else e=void 0===e?va:xa(e),t=ya(this[0],e);return t.x1=ua(t.x1),t.y1=ua(t.y1),t.x2=ua(t.x2),t.y2=ua(t.y2),t.w=ua(t.x2-t.x1),t.h=ua(t.y2-t.y1),t},sa.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},sa.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=t.filter((function(e){return e.isParent()})),t=t.not(i)),D(e)){var a=e;e=function(){return a}}r.startBatch(),t.forEach((function(t,r){return t._private.bbAtOldPos=e(t,r)})).silentPositions(e),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions((function(e){return e._private.bbAtOldPos})),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),o},oa.boundingbox=oa.bb=oa.boundingBox,oa.renderedBoundingbox=oa.renderedBoundingBox;var wa,Da,ka=sa;wa=Da={};var Ea=function(e){e.uppercaseName=R(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=R(e.outerName),wa[e.name]=function(){var t=this[0],r=t._private,n=r.cy._private.styleEnabled;if(t){if(n){if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var i=t.pstyle(e.name);return"label"===i.strValue?(t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0):i.pfValue}return 1}},wa["outer"+e.uppercaseName]=function(){var t=this[0],r=t._private.cy._private.styleEnabled;if(t)return r?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},wa["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},wa["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};Ea({name:"width"}),Ea({name:"height"}),Da.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Da.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Da.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var Aa=Da,Ca={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},_a=Object.keys(Ca).reduce((function(e,t){var r=Ca[t],n=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,r.get)},r.mult?e[n]=function(){return function(e,t){if(e.isEdge()){var r=e.cy(),n=r.pan(),i=r.zoom();return t(e).map((function(e){return wt(e,i,n)}))}}(this,r.get)}:e[n]=function(){return function(e,t){if(e.isEdge()){var r=e.cy();return wt(t(e),r.zoom(),r.pan())}}(this,r.get)},e}),{}),Ta=q({},la,ka,Aa,_a),Sa=function(e,t){this.recycle(e,t)};function Fa(){return!1}function Oa(){return!0}Sa.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Fa,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Oa:Fa):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var r=this.position,n=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:r.x*n+i.x,y:r.y*n+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Oa;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Oa;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Oa,this.stopPropagation()},isDefaultPrevented:Fa,isPropagationStopped:Fa,isImmediatePropagationStopped:Fa};var Ba=/^([^.]+)(\.(?:[^.]+))?$/,Na={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},La=Object.keys(Na),Ia={};function Ra(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ia,t=arguments.length>1?arguments[1]:void 0,r=0;r<La.length;r++){var n=La[r];this[n]=e[n]||Na[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Ma=Ra.prototype,Pa=function(e,t,r,n,i,a,o){x(n)&&(i=n,n=null),o&&(a=null==a?o:q({},a,o));for(var s=w(r)?r:r.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!F(u)){var c=u.match(Ba);if(c&&!1===t(e,u,c[1],c[2]?c[2]:null,n,i,a))break}}},za=function(e,t){return e.addEventFields(e.context,t),new Sa(t.type,t)};Ma.on=Ma.addListener=function(e,t,r,n,i){return Pa(this,(function(e,t,r,n,i,a,o){x(a)&&e.listeners.push({event:t,callback:a,type:r,namespace:n,qualifier:i,conf:o})}),e,t,r,n,i),this},Ma.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})},Ma.removeListener=Ma.off=function(e,t,r,n){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var a=this.listeners,o=function(o){var s=a[o];Pa(i,(function(t,r,n,i,l,u){if((s.type===n||"*"===e)&&(!i&&".*"!==s.namespace||s.namespace===i)&&(!l||t.qualifierCompare(s.qualifier,l))&&(!u||s.callback===u))return a.splice(o,1),!1}),e,t,r,n)},s=a.length-1;s>=0;s--)o(s);return this},Ma.removeAllListeners=function(){return this.removeListener("*")},Ma.emit=Ma.trigger=function(e,t,r){var n=this.listeners,i=n.length;return this.emitting++,w(t)||(t=[t]),function(e,t,r){if("event"!==v(r))if(D(r))t(e,za(e,r));else for(var n=w(r)?r:r.split(/\s+/),i=0;i<n.length;i++){var a=n[i];if(!F(a)){var o=a.match(Ba);if(o){var s=o[1],l=o[2]?o[2]:null;t(e,za(e,{type:s,namespace:l,target:e.context}))}}}else t(e,r)}(this,(function(e,a){null!=r&&(n=[{event:a.event,type:a.type,namespace:a.namespace,callback:r}],i=n.length);for(var o=function(r){var i=n[r];if(i.type===a.type&&(!i.namespace||i.namespace===a.namespace||".*"===i.namespace)&&e.eventMatches(e.context,i,a)){var o=[a];null!=t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.push(n)}}(o,t),e.beforeEmit(e.context,i,a),i.conf&&i.conf.one&&(e.listeners=e.listeners.filter((function(e){return e!==i})));var s=e.callbackContext(e.context,i,a),l=i.callback.apply(s,o);e.afterEmit(e.context,i,a),!1===l&&(a.stopPropagation(),a.preventDefault())}},s=0;s<i;s++)o(s);e.bubble(e.context)&&!a.isPropagationStopped()&&e.parent(e.context).emit(a,t)}),e),this.emitting--,this};var $a={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,r){var n=t.qualifier;return null==n||e!==r.target&&C(r.target)&&n.matches(r.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,r){return null!=t.qualifier?r.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},ja=function(e){return b(e)?new ji(e):e},Ka={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new Ra($a,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,r){for(var n=ja(t),i=0;i<this.length;i++)this[i].emitter().on(e,n,r);return this},removeListener:function(e,t,r){for(var n=ja(t),i=0;i<this.length;i++)this[i].emitter().removeListener(e,n,r);return this},removeAllListeners:function(){for(var e=0;e<this.length;e++)this[e].emitter().removeAllListeners();return this},one:function(e,t,r){for(var n=ja(t),i=0;i<this.length;i++)this[i].emitter().one(e,n,r);return this},once:function(e,t,r){for(var n=ja(t),i=0;i<this.length;i++)this[i].emitter().on(e,n,r,{once:!0,onceCollection:this})},emit:function(e,t){for(var r=0;r<this.length;r++)this[r].emitter().emit(e,t);return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};ki.eventAliasesOn(Ka);var qa={nodes:function(e){return this.filter((function(e){return e.isNode()})).filter(e)},edges:function(e){return this.filter((function(e){return e.isEdge()})).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var n=this[r];n.isNode()?e.push(n):t.push(n)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(b(e)||A(e))return new ji(e).filter(this);if(x(e)){for(var r=this.spawn(),n=this,i=0;i<n.length;i++){var a=n[i];(t?e.apply(t,[a,i,n]):e(a,i,n))&&r.push(a)}return r}return this.spawn()},not:function(e){if(e){b(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var n=this[r];e.has(n)||t.push(n)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(b(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),n=e,i=this.length<e.length,a=i?this:n,o=i?n:this,s=0;s<a.length;s++){var l=a[s];o.has(l)&&r.push(l)}return r},xor:function(e){var t=this._private.cy;b(e)&&(e=t.$(e));var r=this.spawn(),n=e,i=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=i._private.data.id;t.hasElementWithId(a)||r.push(i)}};return i(this,n),i(n,this),r},diff:function(e){var t=this._private.cy;b(e)&&(e=t.$(e));var r=this.spawn(),n=this.spawn(),i=this.spawn(),a=e,o=function(e,t,r){for(var n=0;n<e.length;n++){var a=e[n],o=a._private.data.id;t.hasElementWithId(o)?i.merge(a):r.push(a)}};return o(this,a,r),o(a,this,n),{left:r,right:n,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if(b(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=this.spawnSelf(),i=0;i<e.length;i++){var a=e[i];!this.has(a)&&n.push(a)}return n},merge:function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&b(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=t.map,a=0;a<e.length;a++){var o=e[a],s=o._private.data.id;if(!i.has(s)){var l=this.length++;this[l]=o,i.set(s,{ele:o,index:l})}}return this},unmergeAt:function(e){var t=this[e].id(),r=this._private.map;this[e]=void 0,r.delete(t);var n=e===this.length-1;if(this.length>1&&!n){var i=this.length-1,a=this[i],o=a._private.data.id;this[i]=void 0,this[e]=a,r.set(o,{ele:a,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,r=e._private.data.id,n=t.map.get(r);if(!n)return this;var i=n.index;return this.unmergeAt(i),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&b(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=0;n<e.length;n++)this.unmergeOne(e[n]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--)e(this[t])&&this.unmergeAt(t);return this},map:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],o=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(o)}return r},reduce:function(e,t){for(var r=t,n=this,i=0;i<n.length;i++)r=e(r,n[i],i,n);return r},max:function(e,t){for(var r,n=-1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s>n&&(n=s,r=o)}return{value:n,ele:r}},min:function(e,t){for(var r,n=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s<n&&(n=s,r=o)}return{value:n,ele:r}}},Ua=qa;Ua.u=Ua["|"]=Ua["+"]=Ua.union=Ua.or=Ua.add,Ua["\\"]=Ua["!"]=Ua["-"]=Ua.difference=Ua.relativeComplement=Ua.subtract=Ua.not,Ua.n=Ua["&"]=Ua["."]=Ua.and=Ua.intersection=Ua.intersect,Ua["^"]=Ua["(+)"]=Ua["(-)"]=Ua.symmetricDifference=Ua.symdiff=Ua.xor,Ua.fnFilter=Ua.filterFn=Ua.stdFilter=Ua.filter,Ua.complement=Ua.abscomp=Ua.absoluteComplement;var Ha,Wa=function(e,t){var r=e.cy().hasCompoundNodes();function n(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?r?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?Me:0}var i=n(e)-n(t);if(0!==i)return i;function a(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=a(e)-a(t);if(0!==o)return o;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},Ga={forEach:function(e,t){if(x(e))for(var r=this.length,n=0;n<r;n++){var i=this[n];if(!1===(t?e.apply(t,[i,n,this]):e(i,n,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var r=[],n=this.length;null==t&&(t=n),null==e&&(e=0),e<0&&(e=n+e),t<0&&(t=n+t);for(var i=e;i>=0&&i<t&&i<n;i++)r.push(this[i]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!x(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Wa)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var r=t.data.parent?e.parents().size():0;return e.isParent()?r:Me-1}var n=t.source,i=t.target,a=n.zDepth(),o=i.zDepth();return Math.max(a,o,0)}}};Ga.each=Ga.forEach,Ha="undefined",("undefined"==typeof Symbol?"undefined":n(Symbol))!=Ha&&n(Symbol.iterator)!=Ha&&(Ga[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},r=0,n=this.length;return s({next:function(){return r<n?t.value=e[r++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,(function(){return this}))});var Va=Ye({nodeDimensionsIncludeLabels:!1}),Ya={layoutDimensions:function(e){var t;if(e=Va(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,r){var n=this.nodes().filter((function(e){return!e.isParent()})),i=this.cy(),a=t.eles,o=function(e){return e.id()},s=B(r,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,u=function(){if(!l)return null;for(var e=Nt(),t=0;t<n.length;t++){var r=n[t],i=s(r,t);It(e,i.x,i.y)}return e}(),c=B((function(e,r){var n,i,a,o,c,h=s(e,r);return l&&(n=Math.abs(t.spacingFactor),a=h,o=(i=u).x1+i.w/2,c=i.y1+i.h/2,h={x:o+(a.x-o)*n,y:c+(a.y-c)*n}),null!=t.transform&&(h=t.transform(e,h)),h}),o);if(t.animate){for(var h=0;h<n.length;h++){var d=n[h],f=c(d,h);if(null==t.animateFilter||t.animateFilter(d,h)){var p=d.animation({position:f,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(p)}else d.position(f)}if(t.fit){var g=i.animation({fit:{boundingBox:a.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var m=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}e.animations.forEach((function(e){return e.play()})),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),wn.all(e.animations.map((function(e){return e.promise()}))).then((function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}))}else n.positions(c),t.fit&&i.fit(t.eles,t.padding),null!=t.zoom&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(q({},e,{eles:this}))}};function Xa(e,t,r){var n,i=r._private,a=i.styleCache=i.styleCache||[];return null!=(n=a[e])?n:n=a[e]=t(r)}function Za(e,t){return e=Oe(e),function(r){return Xa(e,t,r)}}function Qa(e,t){e=Oe(e);var r=function(e){return t.call(e)};return function(){var t=this[0];if(t)return Xa(e,r,t)}}Ya.createLayout=Ya.makeLayout=Ya.layout;var Ja={recalculateRenderedStyle:function(e){var t=this.cy(),r=t.renderer(),n=t.styleEnabled();return r&&n&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),r=function(e){return e._private.styleCache=null};return t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(r)):this.forEach((function(e){r(e),e.connectedEdges().forEach(r)})),this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var r=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(r=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var n=r;return e?n.emitAndNotify("style"):n.emit("style"),r.forEach((function(e){return e._private.styleDirty=!0})),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this[0],n=r.cy();if(n.styleEnabled()&&r){this.cleanStyle();var i=r._private.style[e];return null!=i?i:t?n.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return void 0!==r.pfValue?r.pfValue:r.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];return r?t.style().getRenderedStyle(r,e):void 0},style:function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style();if(D(e)){var a=e;i.applyBypass(this,a,n),this.emitAndNotify("style")}else if(b(e)){if(void 0===t){var o=this[0];return o?i.getStylePropertyValue(o,e):void 0}i.applyBypass(this,e,t,n),this.emitAndNotify("style")}else if(void 0===e){var s=this[0];return s?i.getRawStyle(s):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(void 0===e)for(var a=0;a<i.length;a++){var o=i[a];n.removeAllBypasses(o,r)}else{e=e.split(/\s+/);for(var s=0;s<i.length;s++){var l=i[s];n.removeBypasses(l,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!t)return i;var a=n.data.parent?r.parents():null;if(a)for(var o=0;o<a.length;o++)i*=a[o].pstyle("opacity").value;return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function eo(e,t){var r=e._private.data.parent?e.parents():null;if(r)for(var n=0;n<r.length;n++)if(!t(r[n]))return!1;return!0}function to(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],a=e.hasCompoundNodes();if(i){var o=i._private;if(!t(i))return!1;if(i.isNode())return!a||eo(i,n);var s=o.source,l=o.target;return r(s)&&(!a||eo(s,r))&&(s===l||r(l)&&(!a||eo(l,r)))}}}var ro=Za("eleTakesUpSpace",(function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())}));Ja.takesUpSpace=Qa("takesUpSpace",to({ok:ro}));var no=Za("eleInteractive",(function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&ro(e)})),io=Za("parentInteractive",(function(e){return"visible"===e.pstyle("visibility").value&&ro(e)}));Ja.interactive=Qa("interactive",to({ok:no,parentOk:io,edgeOkViaNode:ro})),Ja.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var ao=Za("eleVisible",(function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&ro(e)})),oo=ro;Ja.visible=Qa("visible",to({ok:ao,edgeOkViaNode:oo})),Ja.hidden=function(){var e=this[0];if(e)return!e.visible()},Ja.isBundledBezier=Qa("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),Ja.bypass=Ja.css=Ja.style,Ja.renderedCss=Ja.renderedStyle,Ja.removeBypass=Ja.removeCss=Ja.removeStyle,Ja.pstyle=Ja.parsedStyle;var so={};function lo(e){return function(){var t=arguments,r=[];if(2===t.length){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(1===t.length&&x(t[0])){var a=t[0];this.on(e.event,a)}else if(0===t.length||1===t.length&&w(t[0])){for(var o=1===t.length?t[0]:null,s=0;s<this.length;s++){var l=this[s],u=!e.ableField||l._private[e.ableField],c=l._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(l);if(void 0!==h&&(u=h,!h))return this}u&&(l._private[e.field]=e.value,c&&r.push(l))}var d=this.spawn(r);d.updateStyle(),d.emit(e.event),o&&d.emit(o)}return this}}function uo(e){so[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(void 0!==r)return r}return t._private[e.field]}},so[e.on]=lo({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),so[e.off]=lo({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}uo({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),uo({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),uo({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),uo({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),so.deselect=so.unselect,so.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},uo({field:"active",on:"activate",off:"unactivate"}),uo({field:"pannable",on:"panify",off:"unpanify"}),so.inactive=function(){var e=this[0];if(e)return!e._private.active};var co={},ho=function(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode()){for(var a=!1,o=i.connectedEdges(),s=0;s<o.length;s++){var l=o[s],u=l.source(),c=l.target();if(e.noIncomingEdges&&c===i&&u!==i||e.noOutgoingEdges&&u===i&&c!==i){a=!0;break}}a||r.push(i)}}return this.spawn(r,!0).filter(t)}},fo=function(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target();e.outgoing&&l===i?(r.push(s),r.push(u)):e.incoming&&u===i&&(r.push(s),r.push(l))}}return this.spawn(r,!0).filter(t)}},po=function(e){return function(t){for(var r=this,n=[],i={};;){var a=e.outgoing?r.outgoers():r.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var l=a[s],u=l.id();i[u]||(i[u]=!0,n.push(l),o=!0)}if(!o)break;r=a}return this.spawn(n,!0).filter(t)}};function go(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n]._private[e.attr];i&&r.push(i)}return this.spawn(r,!0).filter(t)}}function mo(e){return function(t){var r=[],n=this._private.cy,i=e||{};b(t)&&(t=n.$(t));for(var a=0;a<t.length;a++)for(var o=t[a]._private.edges,s=0;s<o.length;s++){var l=o[s],u=l._private.data,c=this.hasElementWithId(u.source)&&t.hasElementWithId(u.target),h=t.hasElementWithId(u.source)&&this.hasElementWithId(u.target);if(c||h){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!c)continue;if(i.thisIsTgt&&!h)continue}r.push(l)}}return this.spawn(r,!0)}}function yo(e){return e=q({},{codirected:!1},e),function(t){for(var r=[],n=this.edges(),i=e,a=0;a<n.length;a++)for(var o=n[a]._private,s=o.source,l=s._private.data.id,u=o.data.target,c=s._private.edges,h=0;h<c.length;h++){var d=c[h],f=d._private.data,p=f.target,g=f.source,m=p===u&&g===l,y=l===p&&u===g;(i.codirected&&m||!i.codirected&&(m||y))&&r.push(d)}return this.spawn(r,!0).filter(t)}}co.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},q(co,{roots:ho({noIncomingEdges:!0}),leaves:ho({noOutgoingEdges:!0}),outgoers:Wi(fo({outgoing:!0}),"outgoers"),successors:po({outgoing:!0}),incomers:Wi(fo({incoming:!0}),"incomers"),predecessors:po({incoming:!0})}),q(co,{neighborhood:Wi((function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)}),"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),co.neighbourhood=co.neighborhood,co.closedNeighbourhood=co.closedNeighborhood,co.openNeighbourhood=co.openNeighborhood,q(co,{source:Wi((function(e){var t,r=this[0];return r&&(t=r._private.source||r.cy().collection()),t&&e?t.filter(e):t}),"source"),target:Wi((function(e){var t,r=this[0];return r&&(t=r._private.target||r.cy().collection()),t&&e?t.filter(e):t}),"target"),sources:go({attr:"source"}),targets:go({attr:"target"})}),q(co,{edgesWith:Wi(mo(),"edgesWith"),edgesTo:Wi(mo({thisIsSrc:!0}),"edgesTo")}),q(co,{connectedEdges:Wi((function(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];if(n.isNode())for(var i=n._private.edges,a=0;a<i.length;a++){var o=i[a];t.push(o)}}return this.spawn(t,!0).filter(e)}),"connectedEdges"),connectedNodes:Wi((function(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];n.isEdge()&&(t.push(n.source()[0]),t.push(n.target()[0]))}return this.spawn(t,!0).filter(e)}),"connectedNodes"),parallelEdges:Wi(yo(),"parallelEdges"),codirectedEdges:Wi(yo({codirected:!0}),"codirectedEdges")}),q(co,{components:function(e){var t=this,r=t.cy(),n=r.collection(),i=null==e?t.nodes():e.nodes(),a=[];null!=e&&i.empty()&&(i=e.sources());var o=function(e,t){n.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();var s=function(){var e=r.collection();a.push(e);var n=i[0];o(n,e),t.bfs({directed:!1,roots:n,visit:function(t){return o(t,e)}}),e.forEach((function(r){r.connectedEdges().forEach((function(r){t.has(r)&&e.has(r.source())&&e.has(r.target())&&e.merge(r)}))}))};do{s()}while(i.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),co.componentsOf=co.components;var vo=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var i=new et,a=!1;if(t){if(t.length>0&&D(t[0])&&!C(t[0])){a=!0;for(var o=[],s=new rt,l=0,u=t.length;l<u;l++){var c=t[l];null==c.data&&(c.data={});var h=c.data;if(null==h.id)h.id=We();else if(e.hasElementWithId(h.id)||s.has(h.id))continue;var d=new nt(e,c,!1);o.push(d),s.add(h.id)}t=o}}else t=[];this.length=0;for(var f=0,p=t.length;f<p;f++){var g=t[f][0];if(null!=g){var m=g._private.data.id;r&&i.has(m)||(r&&i.set(m,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new et,t=this.eles,r=0;r<t.length;r++){var n=t[r];e.set(n.id(),{index:r,ele:n})}}},r&&(this._private.map=i),a&&!n&&this.restore()}else Ke("A collection must have a reference to the core")},bo=nt.prototype=vo.prototype=Object.create(Array.prototype);bo.instanceString=function(){return"collection"},bo.spawn=function(e,t){return new vo(this.cy(),e,t)},bo.spawnSelf=function(){return this.spawn(this)},bo.cy=function(){return this._private.cy},bo.renderer=function(){return this._private.cy.renderer()},bo.element=function(){return this[0]},bo.collection=function(){return _(this)?this:new vo(this._private.cy,[this])},bo.unique=function(){return new vo(this._private.cy,this,!0)},bo.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},bo.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new vo(t)},bo.$id=bo.getElementById,bo.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},bo.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},bo.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},bo.json=function(e){var t=this.element(),r=this.cy();if(null==t&&e)return this;if(null!=t){var n=t._private;if(D(e)){if(r.startBatch(),e.data){t.data(e.data);var i=n.data;if(t.isEdge()){var a=!1,o={},s=e.data.source,l=e.data.target;null!=s&&s!=i.source&&(o.source=""+s,a=!0),null!=l&&l!=i.target&&(o.target=""+l,a=!0),a&&(t=t.move(o))}else{var u="parent"in e.data,c=e.data.parent;!u||null==c&&null==i.parent||c==i.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var h=function(r,i,a){var o=e[r];null!=o&&o!==n[r]&&(o?t[i]():t[a]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),r.endBatch(),this}if(void 0===e){var d={data:He(n.data),position:He(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:""},f=0;return n.classes.forEach((function(e){return d.classes+=0==f++?e:" "+e})),d}}},bo.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t].json();e.push(r)}return e},bo.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r].json(),i=new nt(e,n,!1);t.push(i)}return new vo(e,t)},bo.copy=bo.clone,bo.restore=function(){for(var e,t,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,a=i.cy(),o=a._private,s=[],l=[],u=0,c=i.length;u<c;u++){var h=i[u];n&&!h.removed()||(h.isNode()?s.push(h):l.push(h))}e=s.concat(l);var d=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var f=e[t],p=f._private,g=p.data;if(f.clearTraversalCache(),n||p.removed)if(void 0===g.id)g.id=We();else if(k(g.id))g.id=""+g.id;else{if(F(g.id)||!b(g.id)){Ke("Can not create element with invalid string ID `"+g.id+"`"),d();continue}if(a.hasElementWithId(g.id)){Ke("Can not create second element with ID `"+g.id+"`"),d();continue}}var m=g.id;if(f.isNode()){var y=p.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(f.isEdge()){for(var v=f,x=["source","target"],w=x.length,D=!1,E=0;E<w;E++){var A=x[E],C=g[A];k(C)&&(C=g[A]=""+g[A]),null==C||""===C?(Ke("Can not create edge `"+m+"` with unspecified "+A),D=!0):a.hasElementWithId(C)||(Ke("Can not create edge `"+m+"` with nonexistant "+A+" `"+C+"`"),D=!0)}if(D){d();continue}var _=a.getElementById(g.source),T=a.getElementById(g.target);_.same(T)?_._private.edges.push(v):(_._private.edges.push(v),T._private.edges.push(v)),v._private.source=_,v._private.target=T}p.map=new et,p.map.set(m,{ele:f,index:0}),p.removed=!1,n&&a.addToPool(f)}for(var S=0;S<s.length;S++){var O=s[S],B=O._private.data;k(B.parent)&&(B.parent=""+B.parent);var N=B.parent;if(null!=N||O._private.parent){var L=O._private.parent?a.collection().merge(O._private.parent):a.getElementById(N);if(L.empty())B.parent=void 0;else if(L[0].removed())Ue("Node added with missing parent, reference to parent removed"),B.parent=void 0,O._private.parent=null;else{for(var I=!1,R=L;!R.empty();){if(O.same(R)){I=!0,B.parent=void 0;break}R=R.parent()}I||(L[0]._private.children.push(O),O._private.parent=L[0],o.hasCompoundNodes=!0)}}}if(e.length>0){for(var M=e.length===i.length?i:new vo(a,e),P=0;P<M.length;P++){var z=M[P];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}(o.hasCompoundNodes?a.collection().merge(M).merge(M.connectedNodes()).merge(M.parent()):M).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?M.emitAndNotify("add"):n&&M.emit("add")}return i},bo.removed=function(){var e=this[0];return e&&e._private.removed},bo.inside=function(){var e=this[0];return e&&!e._private.removed},bo.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,n=[],i={},a=r._private.cy;function o(e){var r=i[e.id()];t&&e.removed()||r||(i[e.id()]=!0,e.isNode()?(n.push(e),function(e){for(var t=e._private.edges,r=0;r<t.length;r++)o(t[r])}(e),function(e){for(var t=e._private.children,r=0;r<t.length;r++)o(t[r])}(e)):n.unshift(e))}for(var s=0,l=r.length;s<l;s++)o(r[s]);function u(e,t){var r=e._private.edges;Xe(r,t),e.clearTraversalCache()}function c(e){e.clearTraversalCache()}var h=[];function d(e,t){t=t[0];var r=(e=e[0])._private.children,n=e.id();Xe(r,t),t._private.parent=null,h.ids[n]||(h.ids[n]=!0,h.push(e))}h.ids={},r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(n);for(var f=0;f<n.length;f++){var p=n[f];if(p.isEdge()){var g=p.source()[0],m=p.target()[0];u(g,p),u(m,p);for(var y=p.parallelEdges(),v=0;v<y.length;v++){var b=y[v];c(b),b.isBundledBezier()&&b.dirtyBoundingBoxCache()}}else{var x=p.parent();0!==x.length&&d(x,p)}t&&(p._private.removed=!0)}var w=a._private.elements;a._private.hasCompoundNodes=!1;for(var D=0;D<w.length;D++)if(w[D].isParent()){a._private.hasCompoundNodes=!0;break}var k=new vo(this.cy(),n);k.size()>0&&(e?k.emitAndNotify("remove"):t&&k.emit("remove"));for(var E=0;E<h.length;E++){var A=h[E];t&&A.removed()||A.updateStyle()}return k},bo.move=function(e){var t=this._private.cy,r=this,n=!1,i=!1,a=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var o=a(e.source),s=a(e.target),l=null!=o&&t.hasElementWithId(o),u=null!=s&&t.hasElementWithId(s);(l||u)&&(t.batch((function(){r.remove(n,i),r.emitAndNotify("moveout");for(var e=0;e<r.length;e++){var t=r[e],a=t._private.data;t.isEdge()&&(l&&(a.source=o),u&&(a.target=s))}r.restore(n,i)})),r.emitAndNotify("move"))}else if(void 0!==e.parent){var c=a(e.parent);if(null===c||t.hasElementWithId(c)){var h=null===c?void 0:c;t.batch((function(){var e=r.remove(n,i);e.emitAndNotify("moveout");for(var t=0;t<r.length;t++){var a=r[t],o=a._private.data;a.isNode()&&(o.parent=h)}e.restore(n,i)})),r.emitAndNotify("move")}}return this},[pn,Ei,Ai,qi,Gi,ea,ta,Ta,Ka,qa,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Ga,Ya,Ja,so,co].forEach((function(e){q(bo,e)}));var xo={add:function(e){var t,r=this;if(A(e)){var n=e;if(n._private.cy===r)t=n.restore();else{for(var i=[],a=0;a<n.length;a++){var o=n[a];i.push(o.json())}t=new vo(r,i)}}else if(w(e))t=new vo(r,e);else if(D(e)&&(w(e.nodes)||w(e.edges))){for(var s=e,l=[],u=["nodes","edges"],c=0,h=u.length;c<h;c++){var d=u[c],f=s[d];if(w(f))for(var p=0,g=f.length;p<g;p++){var m=q({group:d},f[p]);l.push(m)}}t=new vo(r,l)}else t=new nt(r,e).collection();return t},remove:function(e){if(A(e));else if(b(e)){var t=e;e=this.$(t)}return e.remove()}};function wo(e,t,r,n){var i=.1,a="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var o=0;o<4;++o)if("number"!=typeof arguments[o]||isNaN(arguments[o])||!isFinite(arguments[o]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var s=a?new Float32Array(11):new Array(11);function l(e,t){return 1-3*t+3*e}function u(e,t){return 3*t-6*e}function c(e){return 3*e}function h(e,t,r){return((l(t,r)*e+u(t,r))*e+c(t))*e}function d(e,t,r){return 3*l(t,r)*e*e+2*u(t,r)*e+c(t)}var f=!1;var p=function(a){return f||(f=!0,e===t&&r===n||function(){for(var t=0;t<11;++t)s[t]=h(t*i,e,r)}()),e===t&&r===n?a:0===a?0:1===a?1:h(function(t){for(var n=0,a=1;10!==a&&s[a]<=t;++a)n+=i;--a;var o=n+(t-s[a])/(s[a+1]-s[a])*i,l=d(o,e,r);return l>=.001?function(t,n){for(var i=0;i<4;++i){var a=d(n,e,r);if(0===a)return n;n-=(h(n,e,r)-t)/a}return n}(t,o):0===l?o:function(t,n,i){var a,o,s=0;do{(a=h(o=n+(i-n)/2,e,r)-t)>0?i=o:n=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,n,n+i)}(a),t,n)};p.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var g="generateBezier("+[e,t,r,n]+")";return p.toString=function(){return g},p}var Do=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var i={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,n){var i={dx:r.v,dv:e(r)},a=t(r,.5*n,i),o=t(r,.5*n,a),s=t(r,n,o),l=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),u=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return r.x=r.x+l*n,r.v=r.v+u*n,r}return function e(t,n,i){var a,o,s,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,h=1e-4;for(t=parseFloat(t)||500,n=parseFloat(n)||20,i=i||null,l.tension=t,l.friction=n,o=(a=null!==i)?(c=e(t,n))/i*.016:.016;s=r(s||l,o),u.push(1+s.x),c+=16,Math.abs(s.x)>h&&Math.abs(s.v)>h;);return a?function(e){return u[e*(u.length-1)|0]}:c}}(),ko=function(e,t,r,n){var i=wo(e,t,r,n);return function(e,t,r){return e+(t-e)*i(r)}},Eo={linear:function(e,t,r){return e+(t-e)*r},ease:ko(.25,.1,.25,1),"ease-in":ko(.42,0,1,1),"ease-out":ko(0,0,.58,1),"ease-in-out":ko(.42,0,.58,1),"ease-in-sine":ko(.47,0,.745,.715),"ease-out-sine":ko(.39,.575,.565,1),"ease-in-out-sine":ko(.445,.05,.55,.95),"ease-in-quad":ko(.55,.085,.68,.53),"ease-out-quad":ko(.25,.46,.45,.94),"ease-in-out-quad":ko(.455,.03,.515,.955),"ease-in-cubic":ko(.55,.055,.675,.19),"ease-out-cubic":ko(.215,.61,.355,1),"ease-in-out-cubic":ko(.645,.045,.355,1),"ease-in-quart":ko(.895,.03,.685,.22),"ease-out-quart":ko(.165,.84,.44,1),"ease-in-out-quart":ko(.77,0,.175,1),"ease-in-quint":ko(.755,.05,.855,.06),"ease-out-quint":ko(.23,1,.32,1),"ease-in-out-quint":ko(.86,0,.07,1),"ease-in-expo":ko(.95,.05,.795,.035),"ease-out-expo":ko(.19,1,.22,1),"ease-in-out-expo":ko(1,0,0,1),"ease-in-circ":ko(.6,.04,.98,.335),"ease-out-circ":ko(.075,.82,.165,1),"ease-in-out-circ":ko(.785,.135,.15,.86),spring:function(e,t,r){if(0===r)return Eo.linear;var n=Do(e,t,r);return function(e,t,r){return e+(t-e)*n(r)}},"cubic-bezier":ko};function Ao(e,t,r,n,i){if(1===n)return r;if(t===r)return r;var a=i(t,r,n);return null==e||((e.roundValue||e.color)&&(a=Math.round(a)),void 0!==e.min&&(a=Math.max(a,e.min)),void 0!==e.max&&(a=Math.min(a,e.max))),a}function Co(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function _o(e,t,r,n,i){var a=null!=i?i.type:null;r<0?r=0:r>1&&(r=1);var o=Co(e,i),s=Co(t,i);if(k(o)&&k(s))return Ao(a,o,s,r,n);if(w(o)&&w(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],h=s[u];if(null!=c&&null!=h){var d=Ao(a,c,h,r,n);l.push(d)}else l.push(h)}return l}}function To(e,t,r,n){var i=!n,a=e._private,o=t._private,s=o.easing,l=o.startTime,u=(n?e:e.cy()).style();if(!o.easingImpl)if(null==s)o.easingImpl=Eo.linear;else{var c,h,d;c=b(s)?u.parse("transition-timing-function",s).value:s,b(c)?(h=c,d=[]):(h=c[1],d=c.slice(2).map((function(e){return+e}))),d.length>0?("spring"===h&&d.push(o.duration),o.easingImpl=Eo[h].apply(null,d)):o.easingImpl=Eo[h]}var f,p=o.easingImpl;if(f=0===o.duration?1:(r-l)/o.duration,o.applying&&(f=o.progress),f<0?f=0:f>1&&(f=1),null==o.delay){var g=o.startPosition,m=o.position;if(m&&i&&!e.locked()){var y={};So(g.x,m.x)&&(y.x=_o(g.x,m.x,f,p)),So(g.y,m.y)&&(y.y=_o(g.y,m.y,f,p)),e.position(y)}var v=o.startPan,x=o.pan,w=a.pan,D=null!=x&&n;D&&(So(v.x,x.x)&&(w.x=_o(v.x,x.x,f,p)),So(v.y,x.y)&&(w.y=_o(v.y,x.y,f,p)),e.emit("pan"));var k=o.startZoom,E=o.zoom,A=null!=E&&n;A&&(So(k,E)&&(a.zoom=Bt(a.minZoom,_o(k,E,f,p),a.maxZoom)),e.emit("zoom")),(D||A)&&e.emit("viewport");var C=o.style;if(C&&C.length>0&&i){for(var _=0;_<C.length;_++){var T=C[_],S=T.name,F=T,O=o.startStyle[S],B=_o(O,F,f,p,u.properties[O.name]);u.overrideBypass(e,S,B)}e.emit("style")}}return o.progress=f,f}function So(e,t){return!!(null!=e&&null!=t&&(k(e)&&k(t)||e&&t))}function Fo(e,t,r,n){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function Oo(e,t){var r=t._private.aniEles,n=[];function i(t,r){var i=t._private,a=i.animation.current,o=i.animation.queue,s=!1;if(0===a.length){var l=o.shift();l&&a.push(l)}for(var u=function(e){for(var t=e.length-1;t>=0;t--)(0,e[t])();e.splice(0,e.length)},c=a.length-1;c>=0;c--){var h=a[c],d=h._private;d.stopped?(a.splice(c,1),d.hooked=!1,d.playing=!1,d.started=!1,u(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||Fo(0,h,e),To(t,h,e,r),d.applying&&(d.applying=!1),u(d.frames),null!=d.step&&d.step(e),h.completed()&&(a.splice(c,1),d.hooked=!1,d.playing=!1,d.started=!1,u(d.completes)),s=!0)}return r||0!==a.length||0!==o.length||n.push(t),s}for(var a=!1,o=0;o<r.length;o++){var s=i(r[o]);a=a||s}var l=i(t,!0);(a||l)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var Bo={animate:ki.animate(),animation:ki.animation(),animated:ki.animated(),clearQueue:ki.clearQueue(),delay:ki.delay(),delayAnimation:ki.delayAnimation(),stop:ki.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender((function(t,r){Oo(r,e)}),t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&De((function(r){Oo(r,e),t()}))}()}}},No={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,r){var n=t.qualifier;return null==n||e!==r.target&&C(r.target)&&n.matches(r.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,r){return null!=t.qualifier?r.target:e}},Lo=function(e){return b(e)?new ji(e):e},Io={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Ra(No,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,r){return this.emitter().on(e,Lo(t),r),this},removeListener:function(e,t,r){return this.emitter().removeListener(e,Lo(t),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,r){return this.emitter().one(e,Lo(t),r),this},once:function(e,t,r){return this.emitter().one(e,Lo(t),r),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};ki.eventAliasesOn(Io);var Ro={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};Ro.jpeg=Ro.jpg;var Mo={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var r,n=e.name,i=t.extension("layout",n);if(null!=i)return r=b(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$(),new i(q({},e,{cy:t,eles:r}));Ke("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Ke("A `name` must be specified to make a layout");else Ke("Layout options must be specified to make a layout")}};Mo.createLayout=Mo.makeLayout=Mo.layout;var Po={notify:function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var n=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();null!=t&&n.merge(t)}else if(r.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach((function(r){var n=e.batchNotifications[r];n.empty()?t.notify(r):t.notify(r,n)}))}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch((function(){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],a=e[i];t.getElementById(i).data(a)}}))}},zo=Ye({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),$o={renderTo:function(e,t,r,n){return this._private.renderer.renderTo(e,t,r,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,r=t.extension("renderer",e.name);if(null!=r){void 0!==e.wheelSensitivity&&Ue("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=zo(e);n.cy=t,t._private.renderer=new r(n),this.notify("init")}else Ke("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach((function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]}))},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};$o.invalidateDimensions=$o.resize;var jo={collection:function(e,t){return b(e)?this.$(e):A(e)?e.collection():w(e)?(t||(t={}),new vo(this,e,t.unique,t.removed)):new vo(this)},nodes:function(e){var t=this.$((function(e){return e.isNode()}));return e?t.filter(e):t},edges:function(e){var t=this.$((function(e){return e.isEdge()}));return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};jo.elements=jo.filter=jo.$;var Ko={},qo="t";Ko.apply=function(e){for(var t=this,r=t._private.cy.collection(),n=0;n<e.length;n++){var i=e[n],a=t.getContextMeta(i);if(!a.empty){var o=t.getContextStyle(a),s=t.applyContextStyle(a,o,i);i._private.appliedInitStyle?t.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0,t.updateStyleHints(i)&&r.push(i)}}return r},Ko.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c=e[l]===qo,h=t[l]===qo,d=c!==h,f=u.mappedProperties.length>0;if(d||h&&f){var p=void 0;d&&f||d?p=u.properties:f&&(p=u.mappedProperties);for(var g=0;g<p.length;g++){for(var m=p[g],y=m.name,v=!1,b=l+1;b<r.length;b++){var x=r[b];if(t[b]===qo&&(v=null!=x.properties[m.name]))break}s[y]||v||(s[y]=!0,o.push(y))}}}return n[i]=o,o},Ko.getContextMeta=function(e){for(var t,r=this,n="",i=e._private.styleCxtKey||"",a=0;a<r.length;a++){var o=r[a];n+=o.selector&&o.selector.matches(e)?qo:"f"}return t=r.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t,empty:0===t.length}},Ko.getContextStyle=function(e){var t=e.key,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var n={_private:{key:t}},i=0;i<this.length;i++){var a=this[i];if(t[i]===qo)for(var o=0;o<a.properties.length;o++){var s=a.properties[o];n[s.name]=s}}return r[t]=n,n},Ko.applyContextStyle=function(e,t,r){for(var n=e.diffPropNames,i={},a=this.types,o=0;o<n.length;o++){var s=n[o],l=t[s],u=r.pstyle(s);if(!l){if(!u)continue;l=u.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(u!==l){if(l.mapped===a.fn&&null!=u&&null!=u.mapping&&u.mapping.value===l.value){var c=u.mapping;if((c.fnValue=l.value(r))===c.prevFnValue)continue}var h=i[s]={prev:u};this.applyParsedProperty(r,l),h.next=r.pstyle(s),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}},Ko.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(e,t,n){return r.getPropertiesHash(e,t,n)},o=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,l=e._private.style;n=Object.keys(l);for(var u=0;u<i.length;u++){var c=i[u];t.styleKeys[c]=[Ee,Ae]}for(var h,d=function(e,r){return t.styleKeys[r][0]=_e(e,t.styleKeys[r][0])},f=function(e,r){return t.styleKeys[r][1]=Te(e,t.styleKeys[r][1])},p=function(e,t){d(e,t),f(e,t)},g=function(e,t){for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);d(n,t),f(n,t)}},m=0;m<n.length;m++){var y=n[m],v=l[y];if(null!=v){var b=this.properties[y],x=b.type,w=b.groupKey,D=void 0;null!=b.hashOverride?D=b.hashOverride(e,v):null!=v.pfValue&&(D=v.pfValue);var k=null==b.enums?v.value:null,E=null!=D,A=E||null!=k,C=v.units;x.number&&A&&!x.multiple?(p(-128<(h=E?D:k)&&h<128&&Math.floor(h)!==h?2e9-(1024*h|0):h,w),E||null==C||g(C,w)):g(v.strValue,w)}}for(var _=[Ee,Ae],T=0;T<i.length;T++){var S=i[T],F=t.styleKeys[S];_[0]=_e(F[0],_[0]),_[1]=Te(F[1],_[1])}t.styleKey=2097152*_[0]+_[1];var O=t.styleKeys;t.labelDimsKey=Se(O.labelDimensions);var B=a(e,["label"],O.labelDimensions);if(t.labelKey=Se(B),t.labelStyleKey=Se(Fe(O.commonLabel,B)),!s){var N=a(e,["source-label"],O.labelDimensions);t.sourceLabelKey=Se(N),t.sourceLabelStyleKey=Se(Fe(O.commonLabel,N));var L=a(e,["target-label"],O.labelDimensions);t.targetLabelKey=Se(L),t.targetLabelStyleKey=Se(Fe(O.commonLabel,L))}if(s){var I=t.styleKeys,R=I.nodeBody,M=I.nodeBorder,P=I.nodeOutline,z=I.backgroundImage,$=I.compound,j=I.pie,K=[R,M,P,z,$,j].filter((function(e){return null!=e})).reduce(Fe,[Ee,Ae]);t.nodeKey=Se(K),t.hasPie=null!=j&&j[0]!==Ee&&j[1]!==Ae}return o!==t.styleKey},Ko.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},Ko.applyParsedProperty=function(e,t){var r,n=this,i=t,a=e._private.style,o=n.types,s=n.properties[i.name].type,l=i.bypass,u=a[i.name],c=u&&u.bypass,h=e._private,d="mapping",f=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},p=function(){var t=f(u),r=f(i);n.checkTriggers(e,i.name,t,r)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",l)),i.delete)return a[i.name]=void 0,p(),!0;if(i.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,p(),!0):(p(),!0);if(i.deleteBypass)return u?!!u.bypass&&(a[i.name]=u.bypassed,p(),!0):(p(),!0);var g=function(){Ue("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case o.mapData:for(var m,y=i.field.split("."),v=h.data,b=0;b<y.length&&v;b++)v=v[y[b]];if(null==v)return g(),!1;if(!k(v))return Ue("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+v+"` for `"+e.id()+"` is non-numeric)"),!1;var x=i.fieldMax-i.fieldMin;if((m=0===x?0:(v-i.fieldMin)/x)<0?m=0:m>1&&(m=1),s.color){var w=i.valueMin[0],D=i.valueMax[0],E=i.valueMin[1],A=i.valueMax[1],C=i.valueMin[2],_=i.valueMax[2],T=null==i.valueMin[3]?1:i.valueMin[3],S=null==i.valueMax[3]?1:i.valueMax[3],F=[Math.round(w+(D-w)*m),Math.round(E+(A-E)*m),Math.round(C+(_-C)*m),Math.round(T+(S-T)*m)];r={bypass:i.bypass,name:i.name,value:F,strValue:"rgb("+F[0]+", "+F[1]+", "+F[2]+")"}}else{if(!s.number)return!1;var O=i.valueMin+(i.valueMax-i.valueMin)*m;r=this.parse(i.name,O,i.bypass,d)}if(!r)return g(),!1;r.mapping=i,i=r;break;case o.data:for(var B=i.field.split("."),N=h.data,L=0;L<B.length&&N;L++)N=N[B[L]];if(null!=N&&(r=this.parse(i.name,N,i.bypass,d)),!r)return g(),!1;r.mapping=i,i=r;break;case o.fn:var I=i.value,R=null!=i.fnValue?i.fnValue:I(e);if(i.prevFnValue=R,null==R)return Ue("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(r=this.parse(i.name,R,i.bypass,d)))return Ue("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;r.mapping=He(i),i=r;break;case void 0:break;default:return!1}return l?(i.bypassed=c?u.bypassed:u,a[i.name]=i):c?u.bypassed=i:a[i.name]=i,p(),!0},Ko.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),t)for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],l=i[s];null!=l&&(l.bypass?l.bypassed=null:i[s]=null)}else n._private.style={}}},Ko.update=function(){this._private.cy.mutableElements().updateStyle()},Ko.updateTransitions=function(e,t){var r=this,n=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},l=!1,u=0;u<i.length;u++){var c=i[u],h=e.pstyle(c),d=t[c];if(d){var f=d.prev,p=null!=d.next?d.next:h,g=!1,m=void 0,y=1e-6;f&&(k(f.pfValue)&&k(p.pfValue)?(g=p.pfValue-f.pfValue,m=f.pfValue+y*g):k(f.value)&&k(p.value)?(g=p.value-f.value,m=f.value+y*g):w(f.value)&&w(p.value)&&(g=f.value[0]!==p.value[0]||f.value[1]!==p.value[1]||f.value[2]!==p.value[2],m=f.strValue),g&&(s[c]=p.strValue,this.applyBypass(e,c,m),l=!0))}}if(!l)return;n.transitioning=!0,new wn((function(t){o>0?e.delayAnimation(o).play().promise().then(t):t()})).then((function(){return e.animation({style:s,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){r.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1}))}else n.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1)},Ko.checkTrigger=function(e,t,r,n,i,a){var o=this.properties[t],s=i(o);null!=s&&s(r,n)&&a(o)},Ko.checkZOrderTrigger=function(e,t,r,n){var i=this;this.checkTrigger(e,t,r,n,(function(e){return e.triggersZOrder}),(function(){i._private.cy.notify("zorder",e)}))},Ko.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,(function(e){return e.triggersBounds}),(function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),!i.triggersBoundsOfParallelBeziers||"curve-style"!==t||"bezier"!==r&&"bezier"!==n||e.parallelEdges().forEach((function(e){e.dirtyBoundingBoxCache()})),!i.triggersBoundsOfConnectedEdges||"display"!==t||"none"!==r&&"none"!==n||e.connectedEdges().forEach((function(e){e.dirtyBoundingBoxCache()}))}))},Ko.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n)};var Uo={applyBypass:function(e,t,r,n){var i=[];if("*"===t||"**"===t){if(void 0!==r)for(var a=0;a<this.properties.length;a++){var o=this.properties[a].name,s=this.parse(o,r,!0);s&&i.push(s)}}else if(b(t)){var l=this.parse(t,r,!0);l&&i.push(l)}else{if(!D(t))return!1;var u=t;n=r;for(var c=Object.keys(u),h=0;h<c.length;h++){var d=c[h],f=u[d];if(void 0===f&&(f=u[L(d)]),void 0!==f){var p=this.parse(d,f,!0);p&&i.push(p)}}}if(0===i.length)return!1;for(var g=!1,m=0;m<e.length;m++){for(var y=e[m],v={},x=void 0,w=0;w<i.length;w++){var k=i[w];if(n){var E=y.pstyle(k.name);x=v[k.name]={prev:E}}g=this.applyParsedProperty(y,He(k))||g,n&&(x.next=y.pstyle(k.name))}g&&this.updateStyleHints(y),n&&this.updateTransitions(y,v,!0)}return g},overrideBypass:function(e,t,r){t=N(t);for(var n=0;n<e.length;n++){var i=e[n],a=i._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple,u=a?null!=a.pfValue?a.pfValue:a.value:null;a&&a.bypass?(a.value=r,null!=a.pfValue&&(a.pfValue=r),a.strValue=s?"rgb("+r.join(",")+")":l?r.join(" "):""+r,this.updateStyleHints(i)):this.applyBypass(i,t,r),this.checkTriggers(i,t,u,r)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,r){for(var n=0;n<e.length;n++){for(var i=e[n],a={},o=0;o<t.length;o++){var s=t[o],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),h=a[l.name]={prev:u};this.applyParsedProperty(i,c),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,a,!0)}}},Ho={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)}},Wo={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var r=this;if(e=e[0]){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],o=r.getStylePropertyValue(e,a.name,t);null!=o&&(n[a.name]=o,n[L(a.name)]=o)}return n}},getIndexedStyle:function(e,t,r,n){var i=e.pstyle(t)[r][n];return null!=i?i:e.cy().style().getDefaultProperty(t)[r][0]},getStylePropertyValue:function(e,t,r){if(e=e[0]){var n=this.properties[t];n.alias&&(n=n.pointsTo);var i=n.type,a=e.pstyle(n.name);if(a){var o=a.value,s=a.units,l=a.strValue;if(r&&i.number&&null!=o&&k(o)){var u=e.cy().zoom(),c=function(e){return e*u},h=function(e,t){return c(e)+t},d=w(o);return(d?s.every((function(e){return null!=e})):null!=s)?d?o.map((function(e,t){return h(e,s[t])})).join(" "):h(o,s):d?o.map((function(e){return b(e)?e:""+c(e)})).join(" "):""+c(o)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n].name,a=e.pstyle(i);void 0!==a&&(a=D(a)?this.parse(i,a.strValue):this.parse(i,a)),a&&(r[i]=a)}return r},getPropsList:function(e){var t=[],r=e,n=this.properties;if(r)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a],s=r[o],l=n[o]||n[N(o)],u=this.parse(l.name,s);u&&t.push(u)}return t},getNonDefaultPropertiesHash:function(e,t,r){var n,i,a,o,s,l,u=r.slice();for(s=0;s<t.length;s++)if(n=t[s],null!=(i=e.pstyle(n,!1)))if(null!=i.pfValue)u[0]=_e(o,u[0]),u[1]=Te(o,u[1]);else for(a=i.strValue,l=0;l<a.length;l++)o=a.charCodeAt(l),u[0]=_e(o,u[0]),u[1]=Te(o,u[1]);return u}};Wo.getPropertiesHash=Wo.getNonDefaultPropertiesHash;var Go={appendFromJson:function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,o=Object.keys(a);t.selector(i);for(var s=0;s<o.length;s++){var l=o[s],u=a[l];t.css(l,u)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e}},Vo={appendFromString:function(e){var t,r,n,i=this,a=""+e;function o(){a=a.length>t.length?a.substr(t.length):""}function s(){r=r.length>n.length?r.substr(n.length):""}for(a=a.replace(/[/][*](\s|.)+?[*][/]/g,"");!a.match(/^\s*$/);){var l=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!l){Ue("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}t=l[0];var u=l[1];if("core"!==u&&new ji(u).invalid)Ue("Skipping parsing of block: Invalid selector found in string stylesheet: "+u),o();else{var c=l[2],h=!1;r=c;for(var d=[];!r.match(/^\s*$/);){var f=r.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!f){Ue("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+c),h=!0;break}n=f[0];var p=f[1],g=f[2];this.properties[p]?i.parse(p,g)?(d.push({name:p,val:g}),s()):(Ue("Skipping property: Invalid property definition in: "+n),s()):(Ue("Skipping property: Invalid property name in: "+n),s())}if(h){o();break}i.selector(u);for(var m=0;m<d.length;m++){var y=d[m];i.css(y.name,y.val)}o()}}return i},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},Yo={};!function(){var e=M,t=z,r=j,n=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(n){var i=e+"|\\w+|"+t+"|"+r+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+n+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},a=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Yo.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:n("data")},layoutData:{mapping:!0,regex:n("layoutData")},scratch:{mapping:!0,regex:n("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:a,singleRegexMatchValue:!0},urls:{regexes:a,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return b(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var o={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||0==e&&0!=t||0!=e&&0==t},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var r=F(e),n=F(t);return r&&!n||!r&&n}},s=Yo.types,l=[{name:"label",type:s.text,triggersBounds:o.any,triggersZOrder:o.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any}],u=[{name:"source-label",type:s.text,triggersBounds:o.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"source-text-offset",type:s.size,triggersBounds:o.any}],c=[{name:"target-label",type:s.text,triggersBounds:o.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"target-text-offset",type:s.size,triggersBounds:o.any}],h=[{name:"font-family",type:s.fontFamily,triggersBounds:o.any},{name:"font-style",type:s.fontStyle,triggersBounds:o.any},{name:"font-weight",type:s.fontWeight,triggersBounds:o.any},{name:"font-size",type:s.size,triggersBounds:o.any},{name:"text-transform",type:s.textTransform,triggersBounds:o.any},{name:"text-wrap",type:s.textWrap,triggersBounds:o.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:o.any},{name:"text-max-width",type:s.size,triggersBounds:o.any},{name:"text-outline-width",type:s.size,triggersBounds:o.any},{name:"line-height",type:s.positiveNumber,triggersBounds:o.any}],d=[{name:"text-valign",type:s.valign,triggersBounds:o.any},{name:"text-halign",type:s.halign,triggersBounds:o.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:o.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:o.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:o.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:o.any},{name:"text-justification",type:s.justification}],f=[{name:"events",type:s.bool,triggersZOrder:o.any},{name:"text-events",type:s.bool,triggersZOrder:o.any}],p=[{name:"display",type:s.display,triggersZOrder:o.any,triggersBounds:o.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:s.visibility,triggersZOrder:o.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:o.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:o.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:o.any},{name:"z-index",type:s.number,triggersZOrder:o.any}],g=[{name:"overlay-padding",type:s.size,triggersBounds:o.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:o.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:o.any},{name:"overlay-corner-radius",type:s.cornerRadius}],m=[{name:"underlay-padding",type:s.size,triggersBounds:o.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:o.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:o.any},{name:"underlay-corner-radius",type:s.cornerRadius}],y=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],v=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},x=[{name:"height",type:s.nodeSize,triggersBounds:o.any,hashOverride:v},{name:"width",type:s.nodeSize,triggersBounds:o.any,hashOverride:v},{name:"shape",type:s.nodeShape,triggersBounds:o.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:o.any},{name:"corner-radius",type:s.cornerRadius},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:o.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:o.any}],w=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:o.any},{name:"border-style",type:s.borderStyle},{name:"border-cap",type:s.lineCap},{name:"border-join",type:s.lineJoin},{name:"border-dash-pattern",type:s.numbers},{name:"border-dash-offset",type:s.number},{name:"border-position",type:s.linePosition}],D=[{name:"outline-color",type:s.color},{name:"outline-opacity",type:s.zeroOneNumber},{name:"outline-width",type:s.size,triggersBounds:o.any},{name:"outline-style",type:s.borderStyle},{name:"outline-offset",type:s.size,triggersBounds:o.any}],k=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],E=[{name:"position",type:s.position,triggersBounds:o.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:o.any},{name:"min-width",type:s.size,triggersBounds:o.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-height",type:s.size,triggersBounds:o.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:o.any}],A=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-outline-width",type:s.size},{name:"line-outline-color",type:s.color},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:o.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:o.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:o.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:o.any},{name:"control-point-step-size",type:s.size,triggersBounds:o.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:o.any},{name:"control-point-weights",type:s.numbers,triggersBounds:o.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:o.any},{name:"segment-weights",type:s.numbers,triggersBounds:o.any},{name:"segment-radii",type:s.numbers,triggersBounds:o.any},{name:"radius-type",type:s.radiusType,triggersBounds:o.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:o.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:o.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:o.any},{name:"taxi-radius",type:s.number,triggersBounds:o.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:o.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:o.any},{name:"loop-direction",type:s.angle,triggersBounds:o.any},{name:"loop-sweep",type:s.angle,triggersBounds:o.any},{name:"source-distance-from-node",type:s.size,triggersBounds:o.any},{name:"target-distance-from-node",type:s.size,triggersBounds:o.any}],C=[{name:"ghost",type:s.bool,triggersBounds:o.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"ghost-opacity",type:s.zeroOneNumber}],_=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],T=[];Yo.pieBackgroundN=16,T.push({name:"pie-size",type:s.sizeMaybePercent});for(var S=1;S<=Yo.pieBackgroundN;S++)T.push({name:"pie-"+S+"-background-color",type:s.color}),T.push({name:"pie-"+S+"-background-size",type:s.percent}),T.push({name:"pie-"+S+"-background-opacity",type:s.zeroOneNumber});var O=[],B=Yo.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:o.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill},{name:"arrow-width",type:s.arrowWidth}].forEach((function(e){B.forEach((function(t){var r=t+"-"+e.name,n=e.type,i=e.triggersBounds;O.push({name:r,type:n,triggersBounds:i})}))}),{});var N=Yo.properties=[].concat(f,y,p,g,m,C,d,h,l,u,c,x,w,D,k,T,E,A,O,_),L=Yo.propertyGroups={behavior:f,transition:y,visibility:p,overlay:g,underlay:m,ghost:C,commonLabel:d,labelDimensions:h,mainLabel:l,sourceLabel:u,targetLabel:c,nodeBody:x,nodeBorder:w,nodeOutline:D,backgroundImage:k,pie:T,compound:E,edgeLine:A,edgeArrow:O,core:_},I=Yo.propertyGroupNames={};(Yo.propertyGroupKeys=Object.keys(L)).forEach((function(e){I[e]=L[e].map((function(e){return e.name})),L[e].forEach((function(t){return t.groupKey=e}))}));var R=Yo.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Yo.propertyNames=N.map((function(e){return e.name}));for(var P=0;P<N.length;P++){var $=N[P];N[$.name]=$}for(var K=0;K<R.length;K++){var q=R[K],U=N[q.pointsTo],H={name:q.name,alias:!0,pointsTo:U};N.push(H),N[q.name]=H}}(),Yo.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},Yo.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=q({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(e,t){for(var r=1;r<=Yo.pieBackgroundN;r++){var n=t.name.replace("{{i}}",r),i=t.value;e[n]=i}return e}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce((function(e,t){return Yo.arrowPrefixes.forEach((function(r){var n=r+"-"+t.name,i=t.value;e[n]=i})),e}),{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=t[a],s=this.parse(a,o);r[a]=s}}return e.defaultProperties=r,e.defaultProperties},Yo.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Xo={parse:function(e,t,r,n){var i=this;if(x(t))return i.parseImplWarn(e,t,r,n);var a,o=Be(e,""+t,r?"t":"f","mapping"===n||!0===n||!1===n||null==n?"dontcare":n),s=i.propCache=i.propCache||[];return(a=s[o])||(a=s[o]=i.parseImplWarn(e,t,r,n)),(r||"mapping"===n)&&(a=He(a))&&(a.value=He(a.value)),a},parseImplWarn:function(e,t,r,n){var i=this.parseImpl(e,t,r,n);return i||null==t||Ue("The style property `".concat(e,": ").concat(t,"` is invalid")),!i||"width"!==i.name&&"height"!==i.name||"label"!==t||Ue("The style value of `label` is deprecated for `"+i.name+"`"),i}};Xo.parseImpl=function(e,t,r,n){var i=this;e=N(e);var a=i.properties[e],o=t,s=i.types;if(!a)return null;if(void 0===t)return null;a.alias&&(a=a.pointsTo,e=a.name);var l=b(t);l&&(t=t.trim());var u,c,h=a.type;if(!h)return null;if(r&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(x(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:r};if(!l||n||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(u=new RegExp(s.data.regex).exec(t))){if(r)return!1;var d=s.data;return{name:e,value:u,strValue:""+t,mapped:d,field:u[1],bypass:r}}if(t.length>=10&&"m"===t[0]&&(c=new RegExp(s.mapData.regex).exec(t))){if(r)return!1;if(h.multiple)return!1;var f=s.mapData;if(!h.color&&!h.number)return!1;var p=this.parse(e,c[4]);if(!p||p.mapped)return!1;var g=this.parse(e,c[5]);if(!g||g.mapped)return!1;if(p.pfValue===g.pfValue||p.strValue===g.strValue)return Ue("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+p.strValue+"`"),this.parse(e,p.strValue);if(h.color){var m=p.value,y=g.value;if(!(m[0]!==y[0]||m[1]!==y[1]||m[2]!==y[2]||m[3]!==y[3]&&(null!=m[3]&&1!==m[3]||null!=y[3]&&1!==y[3])))return!1}return{name:e,value:c,strValue:""+t,mapped:f,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:p.value,valueMax:g.value,bypass:r}}}if(h.multiple&&"multiple"!==n){var v;if(v=l?t.split(/\s+/):w(t)?t:[t],h.evenMultiple&&v.length%2!=0)return null;for(var D=[],E=[],A=[],C="",_=!1,T=0;T<v.length;T++){var S=i.parse(e,v[T],r,"multiple");_=_||b(S.value),D.push(S.value),A.push(null!=S.pfValue?S.pfValue:S.value),E.push(S.units),C+=(T>0?" ":"")+S.strValue}return h.validate&&!h.validate(D,E)?null:h.singleEnum&&_?1===D.length&&b(D[0])?{name:e,value:D[0],strValue:D[0],bypass:r}:null:{name:e,value:D,pfValue:A,strValue:C,bypass:r,units:E}}var F,O,B,L=function(){for(var n=0;n<h.enums.length;n++)if(h.enums[n]===t)return{name:e,value:t,strValue:""+t,bypass:r};return null};if(h.number){var I,R="px";if(h.units&&(I=h.units),h.implicitUnits&&(R=h.implicitUnits),!h.unitless)if(l){var z="px|em"+(h.allowPercent?"|\\%":"");I&&(z=I);var j=t.match("^("+M+")("+z+")?$");j&&(t=j[1],I=j[2]||R)}else I&&!h.implicitUnits||(I=R);if(t=parseFloat(t),isNaN(t)&&void 0===h.enums)return null;if(isNaN(t)&&void 0!==h.enums)return t=o,L();if(h.integer&&(!k(O=t)||Math.floor(O)!==O))return null;if(void 0!==h.min&&(t<h.min||h.strictMin&&t===h.min)||void 0!==h.max&&(t>h.max||h.strictMax&&t===h.max))return null;var K={name:e,value:t,strValue:""+t+(I||""),units:I,bypass:r};return h.unitless||"px"!==I&&"em"!==I?K.pfValue=t:K.pfValue="px"!==I&&I?this.getEmSizeInPixels()*t:t,"ms"!==I&&"s"!==I||(K.pfValue="ms"===I?t:1e3*t),"deg"!==I&&"rad"!==I||(K.pfValue="rad"===I?t:(F=t,Math.PI*F/180)),"%"===I&&(K.pfValue=t/100),K}if(h.propList){var q=[],H=""+t;if("none"===H);else{for(var W=H.split(/\s*,\s*|\s+/),G=0;G<W.length;G++){var V=W[G].trim();i.properties[V]?q.push(V):Ue("`"+V+"` is not a valid property name")}if(0===q.length)return null}return{name:e,value:q,strValue:0===q.length?"none":q.join(" "),bypass:r}}if(h.color){var Y=(w(B=t)?B:null)||function(e){return U[e.toLowerCase()]}(B)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,r,n,i=16;return 4===e.length?(t=parseInt(e[1]+e[1],i),r=parseInt(e[2]+e[2],i),n=parseInt(e[3]+e[3],i)):(t=parseInt(e[1]+e[2],i),r=parseInt(e[3]+e[4],i),n=parseInt(e[5]+e[6],i)),[t,r,n]}}(B)||function(e){var t,r=new RegExp("^"+P+"$").exec(e);if(r){t=[];for(var n=[],i=1;i<=3;i++){var a=r[i];if("%"===a[a.length-1]&&(n[i]=!0),a=parseFloat(a),n[i]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var o=n[1]||n[2]||n[3],s=n[1]&&n[2]&&n[3];if(o&&!s)return;var l=r[4];if(void 0!==l){if((l=parseFloat(l))<0||l>1)return;t.push(l)}}return t}(B)||function(e){var t,r,n,i,a,o,s,l;function u(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var c=new RegExp("^"+$+"$").exec(e);if(c){if((r=parseInt(c[1]))<0?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,(n=parseFloat(c[2]))<0||n>100)return;if(n/=100,(i=parseFloat(c[3]))<0||i>100)return;if(i/=100,void 0!==(a=c[4])&&((a=parseFloat(a))<0||a>1))return;if(0===n)o=s=l=Math.round(255*i);else{var h=i<.5?i*(1+n):i+n-i*n,d=2*i-h;o=Math.round(255*u(d,h,r+1/3)),s=Math.round(255*u(d,h,r)),l=Math.round(255*u(d,h,r-1/3))}t=[o,s,l,a]}return t}(B);return Y?{name:e,value:Y,pfValue:Y,strValue:"rgb("+Y[0]+","+Y[1]+","+Y[2]+")",bypass:r}:null}if(h.regex||h.regexes){if(h.enums){var X=L();if(X)return X}for(var Z=h.regexes?h.regexes:[h.regex],Q=0;Q<Z.length;Q++){var J=new RegExp(Z[Q]).exec(t);if(J)return{name:e,value:h.singleRegexMatchValue?J[1]:J,strValue:""+t,bypass:r}}return null}return h.string?{name:e,value:""+t,strValue:""+t,bypass:r}:h.enums?L():null};var Zo=function e(t){if(!(this instanceof e))return new e(t);T(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):Ke("A style must have a core reference")},Qo=Zo.prototype;Qo.instanceString=function(){return"style"},Qo.clear=function(){for(var e=this._private,t=e.cy.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach((function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1})),this},Qo.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Qo.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},Qo.selector=function(e){var t="core"===e?null:new ji(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this},Qo.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],r=0;r<this.properties.length;r++){var n=this.properties[r],i=t[n.name];void 0===i&&(i=t[L(n.name)]),void 0!==i&&this.cssRule(n.name,i)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},Qo.style=Qo.css,Qo.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r),!this[n].selector&&(this._private.coreStyle[r.name]=r)}return this},Qo.append=function(e){return S(e)?e.appendToStyle(this):w(e)?this.appendFromJson(e):b(e)&&this.appendFromString(e),this},Zo.fromJson=function(e,t){var r=new Zo(e);return r.fromJson(t),r},Zo.fromString=function(e,t){return new Zo(e).fromString(t)},[Ko,Uo,Ho,Wo,Go,Vo,Yo,Xo].forEach((function(e){q(Qo,e)})),Zo.types=Qo.types,Zo.properties=Qo.properties,Zo.propertyGroups=Qo.propertyGroups,Zo.propertyGroupNames=Qo.propertyGroupNames,Zo.propertyGroupKeys=Qo.propertyGroupKeys;var Jo={style:function(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function(e){var t=this._private;return S(e)?t.style=e.generateStyle(this):w(e)?t.style=Zo.fromJson(this,e):b(e)?t.style=Zo.fromString(this,e):t.style=Zo(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},es={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,r,n,i,a=arguments,o=this._private.pan;switch(a.length){case 0:return o;case 1:if(b(a[0]))return o[e=a[0]];if(D(a[0])){if(!this._private.panningEnabled)return this;n=(r=a[0]).x,i=r.y,k(n)&&(o.x=n),k(i)&&(o.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=a[1],"x"!==(e=a[0])&&"y"!==e||!k(t)||(o[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var r,n,i,a,o,s=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:D(e)&&(a=(i=s[0]).x,o=i.y,k(a)&&(l.x+=a),k(o)&&(l.y+=o),this.emit("pan viewport"));break;case 2:n=t,"x"!==(r=e)&&"y"!==r||!k(n)||(l[r]+=n),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(k(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var r,n;if(b(e)){var i=e;e=this.$(i)}else if(D(n=e)&&k(n.x1)&&k(n.x2)&&k(n.y1)&&k(n.y2)){var a=e;(r={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}).w=r.x2-r.x1,r.h=r.y2-r.y1}else A(e)||(e=this.mutableElements());if(!A(e)||!e.empty()){r=r||e.boundingBox();var o,s=this.width(),l=this.height();if(t=k(t)?t:0,!isNaN(s)&&!isNaN(l)&&s>0&&l>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0)return{zoom:o=(o=(o=Math.min((s-2*t)/r.w,(l-2*t)/r.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(s-o*(r.x1+r.x2))/2,y:(l-o*(r.y1+r.y2))/2}}}}},zoomRange:function(e,t){var r=this._private;if(null==t){var n=e;e=n.min,t=n.max}return k(e)&&k(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):k(e)&&void 0===t&&e<=r.maxZoom?r.minZoom=e:k(t)&&void 0===e&&t>=r.minZoom&&(r.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,r,n=this._private,i=n.pan,a=n.zoom,o=!1;if(n.zoomingEnabled||(o=!0),k(e)?r=e:D(e)&&(r=e.level,null!=e.position?t=wt(e.position,a,i):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||n.panningEnabled||(o=!0)),r=(r=r>n.maxZoom?n.maxZoom:r)<n.minZoom?n.minZoom:r,o||!k(r)||r===a||null!=t&&(!k(t.x)||!k(t.y)))return null;if(null!=t){var s=i,l=a,u=r;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/l*(t.x-s.x)+t.x,y:-u/l*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:r,pan:i}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return null!=t&&t.zoomed?(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,r=!0,n=!0,i=[],a=!1,o=!1;if(!e)return this;if(k(e.zoom)||(r=!1),D(e.pan)||(n=!1),!r&&!n)return this;if(r){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=s,i.push("zoom"))}if(n&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;k(l.x)&&(t.pan.x=l.x,o=!1),k(l.y)&&(t.pan.y=l.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(b(e)){var r=e;e=this.mutableElements().filter(r)}else A(e)||(e=this.mutableElements());if(0!==e.length){var n=e.boundingBox(),i=this.width(),a=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(n.x1+n.x2))/2,y:(a-t*(n.y1+n.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,r=this._private,n=r.container;return r.sizeCache=r.sizeCache||(n?(e=this.window().getComputedStyle(n),t=function(t){return parseFloat(e.getPropertyValue(t))},{width:n.clientWidth-t("padding-left")-t("padding-right"),height:n.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};es.centre=es.center,es.autolockNodes=es.autolock,es.autoungrabifyNodes=es.autoungrabify;var ts={data:ki.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ki.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ki.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ki.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ts.attr=ts.data,ts.removeAttr=ts.removeData;var rs=function(e){var t=this,r=(e=q({},e)).container;r&&!E(r)&&E(r[0])&&(r=r[0]);var n=r?r._cyreg:null;(n=n||{})&&n.cy&&(n.cy.destroy(),n={});var i=n.readies=n.readies||[];r&&(r._cyreg=n),n.cy=t;var a=void 0!==d&&void 0!==r&&!e.headless,o=e;o.layout=q({name:a?"grid":"null"},o.layout),o.renderer=q({name:a?"canvas":"null"},o.renderer);var s=function(e,t,r){return void 0!==t?t:void 0!==r?r:e},l=this._private={container:r,ready:!1,options:o,elements:new vo(this),listeners:[],aniEles:new vo(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,o.zoomingEnabled),userZoomingEnabled:s(!0,o.userZoomingEnabled),panningEnabled:s(!0,o.panningEnabled),userPanningEnabled:s(!0,o.userPanningEnabled),boxSelectionEnabled:s(!0,o.boxSelectionEnabled),autolock:s(!1,o.autolock,o.autolockNodes),autoungrabify:s(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:s(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?a:o.styleEnabled,zoom:k(o.zoom)?o.zoom:1,pan:{x:D(o.pan)&&k(o.pan.x)?o.pan.x:0,y:D(o.pan)&&k(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom}),l.styleEnabled&&t.setStyle([]);var u=q({},o,o.renderer);t.initRenderer(u),function(e,t){if(e.some(O))return wn.all(e).then(t);t(e)}([o.style,o.elements],(function(e){var r=e[0],a=e[1];l.styleEnabled&&t.style().append(r),function(e,r,n){t.notifications(!1);var i=t.mutableElements();i.length>0&&i.remove(),null!=e&&(D(e)||w(e))&&t.add(e),t.one("layoutready",(function(e){t.notifications(!0),t.emit(e),t.one("load",r),t.emitAndNotify("load")})).one("layoutstop",(function(){t.one("done",n),t.emit("done")}));var a=q({},t._private.options.layout);a.eles=t.elements(),t.layout(a).run()}(a,(function(){t.startAnimationLoop(),l.ready=!0,x(o.ready)&&t.on("ready",o.ready);for(var e=0;e<i.length;e++){var r=i[e];t.on("ready",r)}n&&(n.readies=[]),t.emit("ready")}),o.done)}))},ns=rs.prototype;q(ns,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return d;var e=this._private.container.ownerDocument;return void 0===e||null==e?d:e.defaultView||d},mount:function(e){if(null!=e){var t=this,r=t._private,n=r.options;return!E(e)&&E(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(q({},n,n.renderer,{name:"null"===n.renderer.name?"canvas":n.renderer.name})),t.startAnimationLoop(),t.style(n.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return He(this._private.options)},json:function(e){var t=this,r=t._private,n=t.mutableElements();if(D(e)){if(t.startBatch(),e.elements){var i={},a=function(e,r){for(var n=[],a=[],o=0;o<e.length;o++){var s=e[o];if(s.data.id){var l=""+s.data.id,u=t.getElementById(l);i[l]=!0,0!==u.length?a.push({ele:u,json:s}):r?(s.group=r,n.push(s)):n.push(s)}else Ue("cy.json() cannot handle elements without an ID attribute")}t.add(n);for(var c=0;c<a.length;c++){var h=a[c],d=h.ele,f=h.json;d.json(f)}};if(w(e.elements))a(e.elements);else for(var o=["nodes","edges"],s=0;s<o.length;s++){var l=o[s],u=e.elements[l];w(u)&&a(u,l)}var c=t.collection();n.filter((function(e){return!i[e.id()]})).forEach((function(e){e.isParent()?c.merge(e):e.remove()})),c.forEach((function(e){return e.children().move({parent:null})})),c.forEach((function(e){return function(e){return t.getElementById(e.id())}(e).remove()}))}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===r.pan.x&&e.pan.y===r.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],d=0;d<h.length;d++){var f=h[d];null!=e[f]&&t[f](e[f])}return t.endBatch(),this}var p={};e?p.elements=this.elements().map((function(e){return e.json()})):(p.elements={},n.forEach((function(e){var t=e.group();p.elements[t]||(p.elements[t]=[]),p.elements[t].push(e.json())}))),this._private.styleEnabled&&(p.style=t.style().json()),p.data=He(t.data());var g=r.options;return p.zoomingEnabled=r.zoomingEnabled,p.userZoomingEnabled=r.userZoomingEnabled,p.zoom=r.zoom,p.minZoom=r.minZoom,p.maxZoom=r.maxZoom,p.panningEnabled=r.panningEnabled,p.userPanningEnabled=r.userPanningEnabled,p.pan=He(r.pan),p.boxSelectionEnabled=r.boxSelectionEnabled,p.renderer=He(g.renderer),p.hideEdgesOnViewport=g.hideEdgesOnViewport,p.textureOnViewport=g.textureOnViewport,p.wheelSensitivity=g.wheelSensitivity,p.motionBlur=g.motionBlur,p.multiClickDebounceTime=g.multiClickDebounceTime,p}}),ns.$id=ns.getElementById,[xo,Bo,Io,Ro,Mo,Po,$o,jo,Jo,es,ts].forEach((function(e){q(ns,e)}));var is={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},as={maximal:!1,acyclic:!1},os=function(e){return e.scratch("breadthfirst")},ss=function(e,t){return e.scratch("breadthfirst",t)};function ls(e){this.options=q({},is,as,e)}ls.prototype.run=function(){var e,t=this.options,r=t,n=t.cy,i=r.eles,a=i.nodes().filter((function(e){return!e.isParent()})),o=i,s=r.directed,l=r.acyclic||r.maximal||r.maximalAdjustments>0,u=Nt(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(A(r.roots))e=r.roots;else if(w(r.roots)){for(var c=[],h=0;h<r.roots.length;h++){var d=r.roots[h],f=n.getElementById(d);c.push(f)}e=n.collection(c)}else if(b(r.roots))e=n.$(r.roots);else if(s)e=a.roots();else{var p=i.components();e=n.collection();for(var g=function(t){var r=p[t],n=r.maxDegree(!1),i=r.filter((function(e){return e.degree(!1)===n}));e=e.add(i)},m=0;m<p.length;m++)g(m)}var y=[],v={},x=function(e,t){null==y[t]&&(y[t]=[]);var r=y[t].length;y[t].push(e),ss(e,{index:r,depth:t})};o.bfs({roots:e,directed:r.directed,visit:function(e,t,r,n,i){var a=e[0],o=a.id();x(a,i),v[o]=!0}});for(var D=[],k=0;k<a.length;k++){var E=a[k];v[E.id()]||D.push(E)}var C=function(e){for(var t=y[e],r=0;r<t.length;r++){var n=t[r];null!=n?ss(n,{depth:e,index:r}):(t.splice(r,1),r--)}},_=function(){for(var e=0;e<y.length;e++)C(e)},T=function(e,t){for(var n=os(e),a=e.incomers().filter((function(e){return e.isNode()&&i.has(e)})),o=-1,s=e.id(),l=0;l<a.length;l++){var u=a[l],c=os(u);o=Math.max(o,c.depth)}if(n.depth<=o){if(!r.acyclic&&t[s])return null;var h=o+1;return function(e,t){var r=os(e),n=r.depth,i=r.index;y[n][i]=null,x(e,t)}(e,h),t[s]=h,!0}return!1};if(s&&l){var S=[],F={},O=function(e){return S.push(e)};for(a.forEach((function(e){return S.push(e)}));S.length>0;){var B=S.shift(),N=T(B,F);if(N)B.outgoers().filter((function(e){return e.isNode()&&i.has(e)})).forEach(O);else if(null===N){Ue("Detected double maximal shift for node `"+B.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}_();var L=0;if(r.avoidOverlap)for(var I=0;I<a.length;I++){var R=a[I].layoutDimensions(r),M=R.w,P=R.h;L=Math.max(L,M,P)}var z={},$=function(e){if(z[e.id()])return z[e.id()];for(var t=os(e).depth,r=e.neighborhood(),n=0,i=0,o=0;o<r.length;o++){var s=r[o];if(!s.isEdge()&&!s.isParent()&&a.has(s)){var l=os(s);if(null!=l){var u=l.index,c=l.depth;if(null!=u&&null!=c){var h=y[c].length;c<t&&(n+=u/h,i++)}}}}return n/=i=Math.max(1,i),0===i&&(n=0),z[e.id()]=n,n},j=function(e,t){var r=$(e)-$(t);return 0===r?K(e.id(),t.id()):r};void 0!==r.depthSort&&(j=r.depthSort);for(var q=0;q<y.length;q++)y[q].sort(j),C(q);for(var U=[],H=0;H<D.length;H++)U.push(D[H]);y.unshift(U),_();for(var W=0,G=0;G<y.length;G++)W=Math.max(y[G].length,W);var V=u.x1+u.w/2,Y=u.x1+u.h/2,X=y.reduce((function(e,t){return Math.max(e,t.length)}),0);return i.nodes().layoutPositions(this,r,(function(e){var t=os(e),n=t.depth,i=t.index,a=y[n].length,o=Math.max(u.w/((r.grid?X:a)+1),L),s=Math.max(u.h/(y.length+1),L),l=Math.min(u.w/2/y.length,u.h/2/y.length);if(l=Math.max(l,L),r.circle){var c=l*n+l-(y.length>0&&y[0].length<=3?l/2:0),h=2*Math.PI/y[n].length*i;return 0===n&&1===y[0].length&&(c=1),{x:V+c*Math.cos(h),y:Y+c*Math.sin(h)}}return{x:V+(i+1-(a+1)/2)*o,y:(n+1)*s}})),this};var us={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function cs(e){this.options=q({},us,e)}cs.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var o,s=Nt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l=s.x1+s.w/2,u=s.y1+s.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/a.length:t.sweep)/Math.max(1,a.length-1),h=0,d=0;d<a.length;d++){var f=a[d].layoutDimensions(t),p=f.w,g=f.h;h=Math.max(h,p,g)}if(o=k(t.radius)?t.radius:a.length<=1?0:Math.min(s.h,s.w)/2-h,a.length>1&&t.avoidOverlap){h*=1.75;var m=Math.cos(c)-Math.cos(0),y=Math.sin(c)-Math.sin(0),v=Math.sqrt(h*h/(m*m+y*y));o=Math.max(v,o)}return n.nodes().layoutPositions(this,t,(function(e,r){var n=t.startAngle+r*c*(i?1:-1),a=o*Math.cos(n),s=o*Math.sin(n);return{x:l+a,y:u+s}})),this};var hs,ds={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function fs(e){this.options=q({},ds,e)}fs.prototype.run=function(){for(var e=this.options,t=e,r=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),o=Nt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=o.x1+o.w/2,l=o.y1+o.h/2,u=[],c=0,h=0;h<a.length;h++){var d,f=a[h];d=t.concentric(f),u.push({value:d,node:f}),f._private.scratch.concentric=d}a.updateStyle();for(var p=0;p<a.length;p++){var g=a[p].layoutDimensions(t);c=Math.max(c,g.w,g.h)}u.sort((function(e,t){return t.value-e.value}));for(var m=t.levelWidth(a),y=[[]],v=y[0],b=0;b<u.length;b++){var x=u[b];v.length>0&&Math.abs(v[0].value-x.value)>=m&&(v=[],y.push(v)),v.push(x)}var w=c+t.minNodeSpacing;if(!t.avoidOverlap){var D=y.length>0&&y[0].length>1,k=(Math.min(o.w,o.h)/2-w)/(y.length+D?1:0);w=Math.min(w,k)}for(var E=0,A=0;A<y.length;A++){var C=y[A],_=void 0===t.sweep?2*Math.PI-2*Math.PI/C.length:t.sweep,T=C.dTheta=_/Math.max(1,C.length-1);if(C.length>1&&t.avoidOverlap){var S=Math.cos(T)-Math.cos(0),F=Math.sin(T)-Math.sin(0),O=Math.sqrt(w*w/(S*S+F*F));E=Math.max(O,E)}C.r=E,E+=w}if(t.equidistant){for(var B=0,N=0,L=0;L<y.length;L++){var I=y[L].r-N;B=Math.max(B,I)}N=0;for(var R=0;R<y.length;R++){var M=y[R];0===R&&(N=M.r),M.r=N,N+=B}}for(var P={},z=0;z<y.length;z++)for(var $=y[z],j=$.dTheta,K=$.r,q=0;q<$.length;q++){var U=$[q],H=t.startAngle+(r?1:-1)*j*q,W={x:s+K*Math.cos(H),y:l+K*Math.sin(H)};P[U.node.id()]=W}return i.nodes().layoutPositions(this,t,(function(e){var t=e.id();return P[t]})),this};var ps={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function gs(e){this.options=q({},ps,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges().filter((function(e){var r=e.source().data("id"),n=e.target().data("id"),i=t.some((function(e){return e.data("id")===r})),a=t.some((function(e){return e.data("id")===n}));return!i||!a}));this.options.eles=this.options.eles.not(r)}gs.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,!0!==e.animate&&!1!==e.animate||r.emit({type:"layoutstart",layout:r}),hs=!0===e.debug;var n=ms(t,r,e);hs&&(void 0)(n),e.randomize&&bs(n);var i=ke(),a=function(){ws(n,t,e),!0===e.fit&&t.fit(e.padding)},o=function(t){return!(r.stopped||t>=e.numIter||(Ds(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},s=function(){if(!0===e.animate||!1===e.animate)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var t=e.eles.nodes(),i=xs(n,e,t);t.layoutPositions(r,e,i)}},l=0,u=!0;if(!0===e.animate)!function t(){for(var r=0;u&&r<e.refresh;)u=o(l),l++,r++;u?(ke()-i>=e.animationThreshold&&a(),De(t)):(Ls(n,e),s())}();else{for(;u;)u=o(l),l++;Ls(n,e),s()}return this},gs.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},gs.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var ms=function(e,t,r){for(var n=r.eles.edges(),i=r.eles.nodes(),a=Nt(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},s=r.eles.components(),l={},u=0;u<s.length;u++)for(var c=s[u],h=0;h<c.length;h++)l[c[h].id()]=u;for(u=0;u<o.nodeSize;u++){var d=(y=i[u]).layoutDimensions(r);(L={}).isLocked=y.locked(),L.id=y.data("id"),L.parentId=y.data("parent"),L.cmptId=l[y.id()],L.children=[],L.positionX=y.position("x"),L.positionY=y.position("y"),L.offsetX=0,L.offsetY=0,L.height=d.w,L.width=d.h,L.maxX=L.positionX+L.width/2,L.minX=L.positionX-L.width/2,L.maxY=L.positionY+L.height/2,L.minY=L.positionY-L.height/2,L.padLeft=parseFloat(y.style("padding")),L.padRight=parseFloat(y.style("padding")),L.padTop=parseFloat(y.style("padding")),L.padBottom=parseFloat(y.style("padding")),L.nodeRepulsion=x(r.nodeRepulsion)?r.nodeRepulsion(y):r.nodeRepulsion,o.layoutNodes.push(L),o.idToIndex[L.id]=u}var f=[],p=0,g=-1,m=[];for(u=0;u<o.nodeSize;u++){var y,v=(y=o.layoutNodes[u]).parentId;null!=v?o.layoutNodes[o.idToIndex[v]].children.push(y.id):(f[++g]=y.id,m.push(y.id))}for(o.graphSet.push(m);p<=g;){var b=f[p++],w=o.idToIndex[b],D=o.layoutNodes[w].children;if(D.length>0)for(o.graphSet.push(D),u=0;u<D.length;u++)f[++g]=D[u]}for(u=0;u<o.graphSet.length;u++){var k=o.graphSet[u];for(h=0;h<k.length;h++){var E=o.idToIndex[k[h]];o.indexToGraph[E]=u}}for(u=0;u<o.edgeSize;u++){var A=n[u],C={};C.id=A.data("id"),C.sourceId=A.data("source"),C.targetId=A.data("target");var _=x(r.idealEdgeLength)?r.idealEdgeLength(A):r.idealEdgeLength,T=x(r.edgeElasticity)?r.edgeElasticity(A):r.edgeElasticity,S=o.idToIndex[C.sourceId],F=o.idToIndex[C.targetId];if(o.indexToGraph[S]!=o.indexToGraph[F]){for(var O=ys(C.sourceId,C.targetId,o),B=o.graphSet[O],N=0,L=o.layoutNodes[S];-1===B.indexOf(L.id);)L=o.layoutNodes[o.idToIndex[L.parentId]],N++;for(L=o.layoutNodes[F];-1===B.indexOf(L.id);)L=o.layoutNodes[o.idToIndex[L.parentId]],N++;_*=N*r.nestingFactor}C.idealLength=_,C.elasticity=T,o.layoutEdges.push(C)}return o},ys=function(e,t,r){var n=vs(e,t,0,r);return 2>n.count?0:n.graph},vs=function e(t,r,n,i){var a=i.graphSet[n];if(-1<a.indexOf(t)&&-1<a.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var h=e(t,r,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==h.count){if(1!==h.count)return h;if(2==++o)break}}}return{count:o,graph:n}},bs=function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];0!==a.children.length||a.isLocked||(a.positionX=Math.random()*r,a.positionY=Math.random()*n)}},xs=function(e,t,r){var n=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach((function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];i.x1=Math.min(i.x1,r.positionX),i.x2=Math.max(i.x2,r.positionX),i.y1=Math.min(i.y1,r.positionY),i.y2=Math.max(i.y2,r.positionY)})),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(r,a){var o=e.layoutNodes[e.idToIndex[r.data("id")]];if(t.boundingBox){var s=(o.positionX-i.x1)/i.w,l=(o.positionY-i.y1)/i.h;return{x:n.x1+s*n.w,y:n.y1+l*n.h}}return{x:o.positionX,y:o.positionY}}},ws=function(e,t,r){var n=r.layout,i=r.eles.nodes(),a=xs(e,r,i);i.positions(a),!0!==e.ready&&(e.ready=!0,n.one("layoutready",r.ready),n.emit({type:"layoutready",layout:this}))},Ds=function(e,t,r){ks(e,t),Ts(e),Ss(e,t),Fs(e),Os(e)},ks=function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var n=e.graphSet[r],i=n.length,a=0;a<i;a++)for(var o=e.layoutNodes[e.idToIndex[n[a]]],s=a+1;s<i;s++){var l=e.layoutNodes[e.idToIndex[n[s]]];As(o,l,e,t)}},Es=function(e){return-e+2*e*Math.random()},As=function(e,t,r,n){if(e.cmptId===t.cmptId||r.isCompound){var i=t.positionX-e.positionX,a=t.positionY-e.positionY;0===i&&0===a&&(i=Es(1),a=Es(1));var o=Cs(e,t,i,a);if(o>0)var s=(u=n.nodeOverlap*o)*i/(g=Math.sqrt(i*i+a*a)),l=u*a/g;else{var u,c=_s(e,i,a),h=_s(t,-1*i,-1*a),d=h.x-c.x,f=h.y-c.y,p=d*d+f*f,g=Math.sqrt(p);s=(u=(e.nodeRepulsion+t.nodeRepulsion)/p)*d/g,l=u*f/g}e.isLocked||(e.offsetX-=s,e.offsetY-=l),t.isLocked||(t.offsetX+=s,t.offsetY+=l)}},Cs=function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},_s=function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=r/t,l=a/o,u={};return 0===t&&0<r||0===t&&0>r?(u.x=n,u.y=i+a/2,u):0<t&&-1*l<=s&&s<=l?(u.x=n+o/2,u.y=i+o*r/2/t,u):0>t&&-1*l<=s&&s<=l?(u.x=n-o/2,u.y=i-o*r/2/t,u):0<r&&(s<=-1*l||s>=l)?(u.x=n+a*t/2/r,u.y=i+a/2,u):0>r&&(s<=-1*l||s>=l)?(u.x=n-a*t/2/r,u.y=i-a/2,u):u},Ts=function(e,t){for(var r=0;r<e.edgeSize;r++){var n=e.layoutEdges[r],i=e.idToIndex[n.sourceId],a=e.layoutNodes[i],o=e.idToIndex[n.targetId],s=e.layoutNodes[o],l=s.positionX-a.positionX,u=s.positionY-a.positionY;if(0!==l||0!==u){var c=_s(a,l,u),h=_s(s,-1*l,-1*u),d=h.x-c.x,f=h.y-c.y,p=Math.sqrt(d*d+f*f),g=Math.pow(n.idealLength-p,2)/n.elasticity;if(0!==p)var m=g*d/p,y=g*f/p;else m=0,y=0;a.isLocked||(a.offsetX+=m,a.offsetY+=y),s.isLocked||(s.offsetX-=m,s.offsetY-=y)}}},Ss=function(e,t){if(0!==t.gravity)for(var r=0;r<e.graphSet.length;r++){var n=e.graphSet[r],i=n.length;if(0===r)var a=e.clientHeight/2,o=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[n[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]];a=l.positionX,o=l.positionY}for(var u=0;u<i;u++){var c=e.layoutNodes[e.idToIndex[n[u]]];if(!c.isLocked){var h=a-c.positionX,d=o-c.positionY,f=Math.sqrt(h*h+d*d);if(f>1){var p=t.gravity*h/f,g=t.gravity*d/f;c.offsetX+=p,c.offsetY+=g}}}}},Fs=function(e,t){var r=[],n=0,i=-1;for(r.push.apply(r,e.graphSet[0]),i+=e.graphSet[0].length;n<=i;){var a=r[n++],o=e.idToIndex[a],s=e.layoutNodes[o],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=u,d.offsetY+=c,r[++i]=l[h]}s.offsetX=0,s.offsetY=0}}},Os=function(e,t){for(var r=0;r<e.nodeSize;r++)0<(i=e.layoutNodes[r]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0);for(r=0;r<e.nodeSize;r++)if(!(0<(i=e.layoutNodes[r]).children.length||i.isLocked)){var n=Bs(i.offsetX,i.offsetY,e.temperature);i.positionX+=n.x,i.positionY+=n.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,Ns(i,e)}for(r=0;r<e.nodeSize;r++){var i;0<(i=e.layoutNodes[r]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Bs=function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else i={x:e,y:t};return i},Ns=function e(t,r){var n=t.parentId;if(null!=n){var i=r.layoutNodes[r.idToIndex[n]],a=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a?e(i,r):void 0}},Ls=function(e,t){for(var r=e.layoutNodes,n=[],i=0;i<r.length;i++){var a=r[i],o=a.cmptId;(n[o]=n[o]||[]).push(a)}var s=0;for(i=0;i<n.length;i++)if(g=n[i]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var l=0;l<g.length;l++){var u=g[l];g.x1=Math.min(g.x1,u.positionX-u.width/2),g.x2=Math.max(g.x2,u.positionX+u.width/2),g.y1=Math.min(g.y1,u.positionY-u.height/2),g.y2=Math.max(g.y2,u.positionY+u.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,s+=g.w*g.h}n.sort((function(e,t){return t.w*t.h-e.w*e.h}));var c=0,h=0,d=0,f=0,p=Math.sqrt(s)*e.clientWidth/e.clientHeight;for(i=0;i<n.length;i++){var g;if(g=n[i]){for(l=0;l<g.length;l++)(u=g[l]).isLocked||(u.positionX+=c-g.x1,u.positionY+=h-g.y1);c+=g.w+t.componentSpacing,d+=g.w+t.componentSpacing,f=Math.max(f,g.h),d>p&&(h+=f+t.componentSpacing,c=0,d=0,f=0)}}},Is={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Rs(e){this.options=q({},Is,e)}Rs.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=Nt(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===a.h||0===a.w)n.nodes().layoutPositions(this,t,(function(e){return{x:a.x1,y:a.y1}}));else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),l=Math.round(s),u=Math.round(a.w/a.h*s),c=function(e){if(null==e)return Math.min(l,u);Math.min(l,u)==l?l=e:u=e},h=function(e){if(null==e)return Math.max(l,u);Math.max(l,u)==l?l=e:u=e},d=t.rows,f=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=f)l=d,u=f;else if(null!=d&&null==f)l=d,u=Math.ceil(o/l);else if(null==d&&null!=f)u=f,l=Math.ceil(o/u);else if(u*l>o){var p=c(),g=h();(p-1)*g>=o?c(p-1):(g-1)*p>=o&&h(g-1)}else for(;u*l<o;){var m=c(),y=h();(y+1)*m>=o?h(y+1):c(m+1)}var v=a.w/u,b=a.h/l;if(t.condense&&(v=0,b=0),t.avoidOverlap)for(var x=0;x<i.length;x++){var w=i[x],D=w._private.position;null!=D.x&&null!=D.y||(D.x=0,D.y=0);var k=w.layoutDimensions(t),E=t.avoidOverlapPadding,A=k.w+E,C=k.h+E;v=Math.max(v,A),b=Math.max(b,C)}for(var _={},T=function(e,t){return!!_["c-"+e+"-"+t]},S=function(e,t){_["c-"+e+"-"+t]=!0},F=0,O=0,B=function(){++O>=u&&(O=0,F++)},N={},L=0;L<i.length;L++){var I=i[L],R=t.position(I);if(R&&(void 0!==R.row||void 0!==R.col)){var M={row:R.row,col:R.col};if(void 0===M.col)for(M.col=0;T(M.row,M.col);)M.col++;else if(void 0===M.row)for(M.row=0;T(M.row,M.col);)M.row++;N[I.id()]=M,S(M.row,M.col)}}i.layoutPositions(this,t,(function(e,t){var r,n;if(e.locked()||e.isParent())return!1;var i=N[e.id()];if(i)r=i.col*v+v/2+a.x1,n=i.row*b+b/2+a.y1;else{for(;T(F,O);)B();r=O*v+v/2+a.x1,n=F*b+b/2+a.y1,S(F,O),B()}return{x:r,y:n}}))}return this};var Ms={ready:function(){},stop:function(){}};function Ps(e){this.options=q({},Ms,e)}Ps.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions((function(){return{x:0,y:0}})),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this},Ps.prototype.stop=function(){return this};var zs={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function $s(e){this.options=q({},zs,e)}$s.prototype.run=function(){var e=this.options,t=e.eles.nodes(),r=x(e.positions);return t.layoutPositions(this,e,(function(t,n){var i=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(r)return e.positions(t);var n=e.positions[t._private.data.id];return null==n?null:n}(t);return!t.locked()&&null!=i&&i})),this};var js={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ks(e){this.options=q({},js,e)}Ks.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=Nt(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return r.nodes().layoutPositions(this,e,(function(e,t){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}})),this};var qs=[{name:"breadthfirst",impl:ls},{name:"circle",impl:cs},{name:"concentric",impl:fs},{name:"cose",impl:gs},{name:"grid",impl:Rs},{name:"null",impl:Ps},{name:"preset",impl:$s},{name:"random",impl:Ks}];function Us(e){this.options=e,this.notifications=0}var Hs=function(){},Ws=function(){throw new Error("A headless instance can not render images")};Us.prototype={recalculateRenderedStyle:Hs,notify:function(){this.notifications++},init:Hs,isHeadless:function(){return!0},png:Ws,jpg:Ws};var Gs={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,r=function(e,t,r,n,i,a,o){var s=i.x-r/2-o,l=i.x+r/2+o,u=i.y-r/2-o,c=i.y+r/2+o;return s<=e&&e<=l&&u<=t&&t<=c},n=function(e,t,r,n,i){var a=e*Math.cos(n)-t*Math.sin(n),o=(e*Math.sin(n)+t*Math.cos(n))*r;return{x:a*r+i.x,y:o+i.y}},i=function(e,t,r,i){for(var a=[],o=0;o<e.length;o+=2){var s=e[o],l=e[o+1];a.push(n(s,l,t,r,i))}return a},a=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n.x,n.y)}return t},o=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(n,s){b(s)&&(s=e[s]),e[n]=q({name:n,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,r,n,o,s){var l=a(i(this.points,r+2*s,n,o));return Gt(e,t,l)},roughCollide:r,draw:function(e,r,n,a){var o=i(this.points,r,n,a);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:o},s)};s("none",{collide:ze,roughCollide:ze,draw:je,spacing:$e,gap:$e}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(e,r,a,o,s){var l=i(this.points,r,a,o),u=this.controlPoint,c=n(u[0],u[1],r,a,o);t.arrowShapeImpl(this.name)(e,l,c)},gap:function(e){return.8*o(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,r,n,o,s,l){var u=a(i(this.points,r+2*l,n,o)),c=a(i(this.pointsTee,r+2*l,n,o));return Gt(e,t,u)||Gt(e,t,c)},draw:function(e,r,n,a,o){var s=i(this.points,r,n,a),l=i(this.pointsTee,r,n,a);t.arrowShapeImpl(this.name)(e,s,l)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,r,n,o,s,l){var u=o,c=Math.pow(u.x-e,2)+Math.pow(u.y-t,2)<=Math.pow((r+2*l)*this.radius,2),h=a(i(this.points,r+2*l,n,o));return Gt(e,t,h)||c},draw:function(e,r,n,a,o){var s=i(this.pointsTr,r,n,a);t.arrowShapeImpl(this.name)(e,s,a.x,a.y,this.radius*r)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var r=this.baseCrossLinePts.slice(),n=t/e;return r[3]=r[3]-n,r[5]=r[5]-n,r},collide:function(e,t,r,n,o,s,l){var u=a(i(this.points,r+2*l,n,o)),c=a(i(this.crossLinePts(r,s),r+2*l,n,o));return Gt(e,t,u)||Gt(e,t,c)},draw:function(e,r,n,a,o){var s=i(this.points,r,n,a),l=i(this.crossLinePts(r,o),r,n,a);t.arrowShapeImpl(this.name)(e,s,l)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*o(e)}}),s("circle",{radius:.15,collide:function(e,t,r,n,i,a,o){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((r+2*o)*this.radius,2)},draw:function(e,r,n,i,a){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*r)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Vs={projectIntoViewport:function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],s=r.pan(),l=r.zoom();return[((e-i)/o-s.x)/l,((t-a)/o-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(e){return parseFloat(r.getPropertyValue(e))},i=n("padding-left"),a=n("padding-right"),o=n("padding-top"),s=n("padding-bottom"),l=n("border-left-width"),u=n("border-right-width"),c=n("border-top-width"),h=(n("border-bottom-width"),e.clientWidth),d=e.clientHeight,f=i+a,p=o+s,g=l+u,m=t.width/(h+g),y=h-f,v=d-p,b=t.left+i+l,x=t.top+o+c;return this.containerBB=[b,x,y,v,m]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]},findNearestElements:function(e,t,r,n){var i,a,o=this,s=this,l=s.getCachedZSortedEles(),u=[],c=s.cy.zoom(),h=s.cy.hasCompoundNodes(),d=(n?24:8)/c,f=(n?8:2)/c,p=(n?8:2)/c,g=1/0;function m(e,t){if(e.isNode()){if(a)return;a=e,u.push(e)}if(e.isEdge()&&(null==t||t<g))if(i){if(i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var r=0;r<u.length;r++)if(u[r].isEdge()){u[r]=e,i=e,g=null!=t?t:g;break}}else u.push(e),i=e,g=null!=t?t:g}function y(r){var n=r.outerWidth()+2*f,i=r.outerHeight()+2*f,a=n/2,l=i/2,u=r.position(),c="auto"===r.pstyle("corner-radius").value?"auto":r.pstyle("corner-radius").pfValue,h=r._private.rscratch;if(u.x-a<=e&&e<=u.x+a&&u.y-l<=t&&t<=u.y+l&&s.nodeShapes[o.getNodeShape(r)].checkPoint(e,t,0,n,i,u.x,u.y,c,h))return m(r,0),!0}function v(r){var n,i=r._private,a=i.rscratch,l=r.pstyle("width").pfValue,c=r.pstyle("arrow-scale").value,f=l/2+d,p=f*f,g=2*f,v=i.source,b=i.target;if("segments"===a.edgeType||"straight"===a.edgeType||"haystack"===a.edgeType){for(var x=a.allpts,w=0;w+3<x.length;w+=2)if(qt(e,t,x[w],x[w+1],x[w+2],x[w+3],g)&&p>(n=Wt(e,t,x[w],x[w+1],x[w+2],x[w+3])))return m(r,n),!0}else if("bezier"===a.edgeType||"multibezier"===a.edgeType||"self"===a.edgeType||"compound"===a.edgeType)for(x=a.allpts,w=0;w+5<a.allpts.length;w+=4)if(Ut(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5],g)&&p>(n=Ht(e,t,x[w],x[w+1],x[w+2],x[w+3],x[w+4],x[w+5])))return m(r,n),!0;v=v||i.source,b=b||i.target;var D=o.getArrowWidth(l,c),k=[{name:"source",x:a.arrowStartX,y:a.arrowStartY,angle:a.srcArrowAngle},{name:"target",x:a.arrowEndX,y:a.arrowEndY,angle:a.tgtArrowAngle},{name:"mid-source",x:a.midX,y:a.midY,angle:a.midsrcArrowAngle},{name:"mid-target",x:a.midX,y:a.midY,angle:a.midtgtArrowAngle}];for(w=0;w<k.length;w++){var E=k[w],A=s.arrowShapes[r.pstyle(E.name+"-arrow-shape").value],C=r.pstyle("width").pfValue;if(A.roughCollide(e,t,D,E.angle,{x:E.x,y:E.y},C,d)&&A.collide(e,t,D,E.angle,{x:E.x,y:E.y},C,d))return m(r),!0}h&&u.length>0&&(y(v),y(b))}function b(e,t,r){return Qe(e,t,r)}function x(r,n){var i,a=r._private,o=p;i=n?n+"-":"",r.boundingBox();var s=a.labelBounds[n||"main"],l=r.pstyle(i+"label").value;if("yes"===r.pstyle("text-events").strValue&&l){var u=b(a.rscratch,"labelX",n),c=b(a.rscratch,"labelY",n),h=b(a.rscratch,"labelAngle",n),d=r.pstyle(i+"text-margin-x").pfValue,f=r.pstyle(i+"text-margin-y").pfValue,g=s.x1-o-d,y=s.x2+o-d,v=s.y1-o-f,x=s.y2+o-f;if(h){var w=Math.cos(h),D=Math.sin(h),k=function(e,t){return{x:(e-=u)*w-(t-=c)*D+u,y:e*D+t*w+c}},E=k(g,v),A=k(g,x),C=k(y,v),_=k(y,x),T=[E.x+d,E.y+f,C.x+d,C.y+f,_.x+d,_.y+f,A.x+d,A.y+f];if(Gt(e,t,T))return m(r),!0}else if($t(s,e,t))return m(r),!0}}r&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var D=l[w];D.isNode()?y(D)||x(D):v(D)||x(D)||x(D,"source")||x(D,"target")}return u},getAllInBox:function(e,t,r,n){for(var i,a,o=this.getCachedZSortedEles().interactive,s=[],l=Math.min(e,r),u=Math.max(e,r),c=Math.min(t,n),h=Math.max(t,n),d=Nt({x1:e=l,y1:t=c,x2:r=u,y2:n=h}),f=0;f<o.length;f++){var p=o[f];if(p.isNode()){var g=p,m=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});zt(d,m)&&!jt(m,d)&&s.push(g)}else{var y=p,v=y._private,b=v.rscratch;if(null!=b.startX&&null!=b.startY&&!$t(d,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!$t(d,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var x=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,w=!0,D=0;D<x.length;D++)if(i=d,a=x[D],!$t(i,a.x,a.y)){w=!1;break}w&&s.push(y)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||s.push(y)}}return s}},Ys={calculateArrowAngles:function(e){var t,r,n,i,a,o,s=e._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,h="segments"===s.edgeType,d="compound"===s.edgeType,f="self"===s.edgeType;if(l?(n=s.haystackPts[0],i=s.haystackPts[1],a=s.haystackPts[2],o=s.haystackPts[3]):(n=s.arrowStartX,i=s.arrowStartY,a=s.arrowEndX,o=s.arrowEndY),g=s.midX,m=s.midY,h)t=n-s.segpts[0],r=i-s.segpts[1];else if(c||d||f||u){var p=s.allpts;t=n-Ft(p[0],p[2],p[4],.1),r=i-Ft(p[1],p[3],p[5],.1)}else t=n-g,r=i-m;s.srcArrowAngle=Et(t,r);var g=s.midX,m=s.midY;if(l&&(g=(n+a)/2,m=(i+o)/2),t=a-n,r=o-i,h)if((p=s.allpts).length/2%2==0){var y=(A=p.length/2)-2;t=p[A]-p[y],r=p[A+1]-p[y+1]}else s.isRound?(t=s.midVector[1],r=-s.midVector[0]):(y=(A=p.length/2-1)-2,t=p[A]-p[y],r=p[A+1]-p[y+1]);else if(c||d||f){var v,b,x,w;p=s.allpts;if(s.ctrlpts.length/2%2==0){var D=2+(k=2+(E=p.length/2-1));v=Ft(p[E],p[k],p[D],0),b=Ft(p[E+1],p[k+1],p[D+1],0),x=Ft(p[E],p[k],p[D],1e-4),w=Ft(p[E+1],p[k+1],p[D+1],1e-4)}else{var k,E;D=2+(k=p.length/2-1),v=Ft(p[E=k-2],p[k],p[D],.4999),b=Ft(p[E+1],p[k+1],p[D+1],.4999),x=Ft(p[E],p[k],p[D],.5),w=Ft(p[E+1],p[k+1],p[D+1],.5)}t=x-v,r=w-b}if(s.midtgtArrowAngle=Et(t,r),s.midDispX=t,s.midDispY=r,t*=-1,r*=-1,h)if((p=s.allpts).length/2%2==0);else if(!s.isRound){var A,C=2+(A=p.length/2-1);t=-(p[C]-p[A]),r=-(p[C+1]-p[A+1])}if(s.midsrcArrowAngle=Et(t,r),h)t=a-s.segpts[s.segpts.length-2],r=o-s.segpts[s.segpts.length-1];else if(c||d||f||u){var _=(p=s.allpts).length;t=a-Ft(p[_-6],p[_-4],p[_-2],.9),r=o-Ft(p[_-5],p[_-3],p[_-1],.9)}else t=a-g,r=o-m;s.tgtArrowAngle=Et(t,r)}};Ys.getArrowWidth=Ys.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(13.37*e,.9),29)*t,r[e+", "+t]=n,n)};var Xs,Zs,Qs,Js,el,tl,rl,nl,il,al,ol,sl,ll,ul,cl,hl,dl,fl={},pl={},gl=function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)};function ml(e,t){0===t.radius?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function yl(e,t,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return 0===n||0===t.radius?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(function(e,t,r,n,i){var a,o;if(e!==dl?gl(t,e,fl):((o=fl).x=-1*(a=pl).x,o.y=-1*a.y,o.nx=-1*a.nx,o.ny=-1*a.ny,o.ang=a.ang>0?-(Math.PI-a.ang):Math.PI+a.ang),gl(t,r,pl),Qs=fl.nx*pl.ny-fl.ny*pl.nx,Js=fl.nx*pl.nx-fl.ny*-pl.ny,rl=Math.asin(Math.max(-1,Math.min(1,Qs))),Math.abs(rl)<1e-6)return Xs=t.x,Zs=t.y,void(il=ol=0);el=1,tl=!1,Js<0?rl<0?rl=Math.PI+rl:(rl=Math.PI-rl,el=-1,tl=!0):rl>0&&(el=-1,tl=!0),ol=void 0!==t.radius?t.radius:n,nl=rl/2,sl=Math.min(fl.len/2,pl.len/2),i?(al=Math.abs(Math.cos(nl)*ol/Math.sin(nl)))>sl?(al=sl,il=Math.abs(al*Math.sin(nl)/Math.cos(nl))):il=ol:(al=Math.min(sl,ol),il=Math.abs(al*Math.sin(nl)/Math.cos(nl))),cl=t.x+pl.nx*al,hl=t.y+pl.ny*al,Xs=cl-pl.ny*il*el,Zs=hl+pl.nx*il*el,ll=t.x+fl.nx*al,ul=t.y+fl.ny*al,dl=t}(e,t,r,n,i),{cx:Xs,cy:Zs,radius:il,startX:ll,startY:ul,stopX:cl,stopY:hl,startAngle:fl.ang+Math.PI/2*el,endAngle:pl.ang-Math.PI/2*el,counterClockwise:tl})}var vl={};function bl(e){var t=[];if(null!=e){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t}}vl.findMidptPtsEtc=function(e,t){var r,n=t.posPts,i=t.intersectionPts,a=t.vectorNormInverse,o=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),u=null!=o.units&&null!=s.units;switch(e.pstyle("edge-distances").value){case"node-position":r=n;break;case"intersection":r=i;break;case"endpoints":if(u){var c=l(this.manualEndptToPx(e.source()[0],o),2),h=c[0],d=c[1],f=l(this.manualEndptToPx(e.target()[0],s),2),p=f[0],g=f[1],m={x1:h,y1:d,x2:p,y2:g};a=function(e,t,r,n){var i=n-t,a=r-e,o=Math.sqrt(a*a+i*i);return{x:-i/o,y:a/o}}(h,d,p,g),r=m}else Ue("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),r=i}return{midptPts:r,vectorNormInverse:a}},vl.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,i=n.rscratch;if(!i.haystack){var a=2*Math.random()*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=2*Math.random()*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),c=o.width(),h=s.width(),d=o.height(),f=s.height(),p=r.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*c*p+l.x,i.source.y*d*p+l.y,i.target.x*h*p+u.x,i.target.y*f*p+u.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},vl.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(n.pfValue.length,i.pfValue.length),l=a.pfValue[a.pfValue.length-1],u=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var c=0;c<s;c++){var h=n.pfValue[c],d=i.pfValue[c],f=1-h,p=h,g=this.findMidptPtsEtc(e,t),m=g.midptPts,y=g.vectorNormInverse,v={x:m.x1*f+m.x2*p,y:m.y1*f+m.y2*p};r.segpts.push(v.x+y.x*d,v.y+y.y*d),r.radii.push(void 0!==a.pfValue[c]?a.pfValue[c]:l),r.isArcRadius.push("arc-radius"===(void 0!==o.pfValue[c]?o.pfValue[c]:u))}},vl.findLoopPoints=function(e,t,r,n){var i=e._private.rscratch,a=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var d=r,f=h;n&&(d=0,f=l);var p=u-Math.PI/2,g=p-c/2,m=p+c/2,y=String(u+"_"+c);d=void 0===a[y]?a[y]=0:++a[y],i.ctrlpts=[o.x+1.4*Math.cos(g)*f*(d/3+1),o.y+1.4*Math.sin(g)*f*(d/3+1),o.x+1.4*Math.cos(m)*f*(d/3+1),o.y+1.4*Math.sin(m)*f*(d/3+1)]},vl.findCompoundLoopPoints=function(e,t,r,n){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,o=t.tgtPos,s=t.srcW,l=t.srcH,u=t.tgtW,c=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),f=d?d.pfValue[0]:void 0,p=r,g=h;n&&(p=0,g=f);var m={x:a.x-s/2,y:a.y-l/2},y={x:o.x-u/2,y:o.y-c/2},v={x:Math.min(m.x,y.x),y:Math.min(m.y,y.y)},b=Math.max(.5,Math.log(.01*s)),x=Math.max(.5,Math.log(.01*u));i.ctrlpts=[v.x,v.y-(1+Math.pow(50,1.12)/100)*g*(p/3+1)*b,v.x-(1+Math.pow(50,1.12)/100)*g*(p/3+1)*x,v.y]},vl.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},vl.findBezierPoints=function(e,t,r,n,i){var a=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),l=e.pstyle("control-point-weights"),u=s&&l?Math.min(s.value.length,l.value.length):1,c=s?s.pfValue[0]:void 0,h=l.value[0],d=n;a.edgeType=d?"multibezier":"bezier",a.ctrlpts=[];for(var f=0;f<u;f++){var p,g=(.5-t.eles.length/2+r)*o*(i?-1:1),m=Ct(g);d&&(c=s?s.pfValue[f]:o,h=l.value[f]);var y=void 0!==(p=n?c:void 0!==c?m*c:void 0)?p:g,v=1-h,b=h,x=this.findMidptPtsEtc(e,t),w=x.midptPts,D=x.vectorNormInverse,k={x:w.x1*v+w.x2*b,y:w.y1*v+w.y2*b};a.ctrlpts.push(k.x+D.x*y,k.y+D.y*y)}},vl.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",s="downward",l="upward",u=t.posPts,c=t.srcW,h=t.srcH,d=t.tgtW,f=t.tgtH,p="node-position"!==e.pstyle("edge-distances").value,g=e.pstyle("taxi-direction").value,m=g,y=e.pstyle("taxi-turn"),v="%"===y.units,b=y.pfValue,x=b<0,w=e.pstyle("taxi-turn-min-distance").pfValue,D=p?(c+d)/2:0,k=p?(h+f)/2:0,E=u.x2-u.x1,A=u.y2-u.y1,C=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},_=C(E,D),T=C(A,k),S=!1;"auto"===m?g=Math.abs(_)>Math.abs(T)?i:n:m===l||m===s?(g=n,S=!0):m!==a&&m!==o||(g=i,S=!0);var F,O=g===n,B=O?T:_,N=O?A:E,L=Ct(N),I=!1;S&&(v||x)||!(m===s&&N<0||m===l&&N>0||m===a&&N>0||m===o&&N<0)||(B=(L*=-1)*Math.abs(B),I=!0);var R=function(e){return Math.abs(e)<w||Math.abs(e)>=Math.abs(B)},M=R(F=v?(b<0?1+b:b)*B:(b<0?B:0)+b*L),P=R(Math.abs(B)-Math.abs(F));if(!M&&!P||I)if(O){var z=u.y1+F+(p?h/2*L:0),$=u.x1,j=u.x2;r.segpts=[$,z,j,z]}else{var K=u.x1+F+(p?c/2*L:0),q=u.y1,U=u.y2;r.segpts=[K,q,K,U]}else if(O){var H=Math.abs(N)<=h/2,W=Math.abs(E)<=d/2;if(H){var G=(u.x1+u.x2)/2,V=u.y1,Y=u.y2;r.segpts=[G,V,G,Y]}else if(W){var X=(u.y1+u.y2)/2,Z=u.x1,Q=u.x2;r.segpts=[Z,X,Q,X]}else r.segpts=[u.x1,u.y2]}else{var J=Math.abs(N)<=c/2,ee=Math.abs(A)<=f/2;if(J){var te=(u.y1+u.y2)/2,re=u.x1,ne=u.x2;r.segpts=[re,te,ne,te]}else if(ee){var ie=(u.x1+u.x2)/2,ae=u.y1,oe=u.y2;r.segpts=[ie,ae,ie,oe]}else r.segpts=[u.x2,u.y1]}if(r.isRound){var se=e.pstyle("taxi-radius").value,le="arc-radius"===e.pstyle("radius-type").value[0];r.radii=new Array(r.segpts.length/2).fill(se),r.isArcRadius=new Array(r.segpts.length/2).fill(le)}},vl.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if("bezier"===r.edgeType){var n=t.srcPos,i=t.tgtPos,a=t.srcW,o=t.srcH,s=t.tgtW,l=t.tgtH,u=t.srcShape,c=t.tgtShape,h=t.srcCornerRadius,d=t.tgtCornerRadius,f=t.srcRs,p=t.tgtRs,g=!k(r.startX)||!k(r.startY),m=!k(r.arrowStartX)||!k(r.arrowStartY),y=!k(r.endX)||!k(r.endY),v=!k(r.arrowEndX)||!k(r.arrowEndY),b=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,x=_t({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),w=x<b,D=_t({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),E=D<b,A=!1;if(g||m||w){A=!0;var C={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},_=Math.sqrt(C.x*C.x+C.y*C.y),T={x:C.x/_,y:C.y/_},S=Math.max(a,o),F={x:r.ctrlpts[0]+2*T.x*S,y:r.ctrlpts[1]+2*T.y*S},O=u.intersectLine(n.x,n.y,a,o,F.x,F.y,0,h,f);w?(r.ctrlpts[0]=r.ctrlpts[0]+T.x*(b-x),r.ctrlpts[1]=r.ctrlpts[1]+T.y*(b-x)):(r.ctrlpts[0]=O[0]+T.x*b,r.ctrlpts[1]=O[1]+T.y*b)}if(y||v||E){A=!0;var B={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},N=Math.sqrt(B.x*B.x+B.y*B.y),L={x:B.x/N,y:B.y/N},I=Math.max(a,o),R={x:r.ctrlpts[0]+2*L.x*I,y:r.ctrlpts[1]+2*L.y*I},M=c.intersectLine(i.x,i.y,s,l,R.x,R.y,0,d,p);E?(r.ctrlpts[0]=r.ctrlpts[0]+L.x*(b-D),r.ctrlpts[1]=r.ctrlpts[1]+L.y*(b-D)):(r.ctrlpts[0]=M[0]+L.x*b,r.ctrlpts[1]=M[1]+L.y*b)}A&&this.findEndpoints(e)}},vl.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);var n;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,t.midX=Ft(t.allpts[n],t.allpts[n+2],t.allpts[n+4],.5),t.midY=Ft(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var a=t.radii[i/2-1],o=t.isArcRadius[i/2-1];t.roundCorners.push(yl({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:a},{x:t.allpts[i+2],y:t.allpts[i+3]},a,o))}}if(t.segpts.length%4==0){var s=t.segpts.length/2,l=s-2;t.midX=(t.segpts[l]+t.segpts[s])/2,t.midY=(t.segpts[l+1]+t.segpts[s+1])/2}else{var u=t.segpts.length/2-1;if(t.isRound){var c={x:t.segpts[u],y:t.segpts[u+1]},h=t.roundCorners[u/2],d=[c.x-h.cx,c.y-h.cy],f=h.radius/Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2));d=d.map((function(e){return e*f})),t.midX=h.cx+d[0],t.midY=h.cy+d[1],t.midVector=d}else t.midX=t.segpts[u],t.midY=t.segpts[u+1]}}},vl.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||k(t.startX)&&k(t.startY)&&k(t.endX)&&k(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ue("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},vl.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var r=this,n=r.cy.hasCompoundNodes(),i={map:new et,get:function(e){var t=this.map.get(e[0]);return null!=t?t.get(e[1]):null},set:function(e,t){var r=this.map.get(e[0]);null==r&&(r=new et,this.map.set(e[0],r)),r.set(e[1],t)}},a=[],o=[],s=0;s<e.length;s++){var l=e[s],u=l._private,c=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==c){var h="unbundled-bezier"===c||c.endsWith("segments")||"straight"===c||"straight-triangle"===c||c.endsWith("taxi"),d="unbundled-bezier"===c||"bezier"===c,f=u.source,p=u.target,g=[f.poolIndex(),p.poolIndex()].sort(),m=i.get(g);null==m&&(m={eles:[]},i.set(g,m),a.push(g)),m.eles.push(l),h&&(m.hasUnbundled=!0),d&&(m.hasBezier=!0)}else o.push(l)}for(var y=function(e){var o=a[e],s=i.get(o),l=void 0;if(!s.hasUnbundled){var u=s.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));Ze(s.eles),u.forEach((function(e){return s.eles.push(e)})),s.eles.sort((function(e,t){return e.poolIndex()-t.poolIndex()}))}var c=s.eles[0],h=c.source(),d=c.target();if(h.poolIndex()>d.poolIndex()){var f=h;h=d,d=f}var p=s.srcPos=h.position(),g=s.tgtPos=d.position(),m=s.srcW=h.outerWidth(),y=s.srcH=h.outerHeight(),v=s.tgtW=d.outerWidth(),b=s.tgtH=d.outerHeight(),x=s.srcShape=r.nodeShapes[t.getNodeShape(h)],w=s.tgtShape=r.nodeShapes[t.getNodeShape(d)],D=s.srcCornerRadius="auto"===h.pstyle("corner-radius").value?"auto":h.pstyle("corner-radius").pfValue,E=s.tgtCornerRadius="auto"===d.pstyle("corner-radius").value?"auto":d.pstyle("corner-radius").pfValue,A=s.tgtRs=d._private.rscratch,C=s.srcRs=h._private.rscratch;s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var _=0;_<s.eles.length;_++){var T=s.eles[_],S=T[0]._private.rscratch,F=T.pstyle("curve-style").value,O="unbundled-bezier"===F||F.endsWith("segments")||F.endsWith("taxi"),B=!h.same(T.source());if(!s.calculatedIntersection&&h!==d&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var N=x.intersectLine(p.x,p.y,m,y,g.x,g.y,0,D,C),L=s.srcIntn=N,I=w.intersectLine(g.x,g.y,v,b,p.x,p.y,0,E,A),R=s.tgtIntn=I,M=s.intersectionPts={x1:N[0],x2:I[0],y1:N[1],y2:I[1]},P=s.posPts={x1:p.x,x2:g.x,y1:p.y,y2:g.y},z=I[1]-N[1],$=I[0]-N[0],j=Math.sqrt($*$+z*z),K=s.vector={x:$,y:z},q=s.vectorNorm={x:K.x/j,y:K.y/j},U={x:-q.y,y:q.x};s.nodesOverlap=!k(j)||w.checkPoint(N[0],N[1],0,v,b,g.x,g.y,E,A)||x.checkPoint(I[0],I[1],0,m,y,p.x,p.y,D,C),s.vectorNormInverse=U,l={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:g,srcRs:A,tgtPos:p,tgtRs:C,srcW:v,srcH:b,tgtW:m,tgtH:y,srcIntn:R,tgtIntn:L,srcShape:w,tgtShape:x,posPts:{x1:P.x2,y1:P.y2,x2:P.x1,y2:P.y1},intersectionPts:{x1:M.x2,y1:M.y2,x2:M.x1,y2:M.y1},vector:{x:-K.x,y:-K.y},vectorNorm:{x:-q.x,y:-q.y},vectorNormInverse:{x:-U.x,y:-U.y}}}var H=B?l:s;S.nodesOverlap=H.nodesOverlap,S.srcIntn=H.srcIntn,S.tgtIntn=H.tgtIntn,S.isRound=F.startsWith("round"),n&&(h.isParent()||h.isChild()||d.isParent()||d.isChild())&&(h.parents().anySame(d)||d.parents().anySame(h)||h.same(d)&&h.isParent())?t.findCompoundLoopPoints(T,H,_,O):h===d?t.findLoopPoints(T,H,_,O):F.endsWith("segments")?t.findSegmentsPoints(T,H):F.endsWith("taxi")?t.findTaxiPoints(T,H):"straight"===F||!O&&s.eles.length%2==1&&_===Math.floor(s.eles.length/2)?t.findStraightEdgePoints(T):t.findBezierPoints(T,H,_,O,B),t.findEndpoints(T),t.tryToCorrectInvalidPoints(T,H),t.checkForInvalidEdgeWarning(T),t.storeAllpts(T),t.storeEdgeProjections(T),t.calculateArrowAngles(T),t.recalculateEdgeLabelProjections(T),t.calculateLabelAngles(T)}},v=0;v<a.length;v++)y(v);this.findHaystackPoints(o)}},vl.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if(this.recalculateRenderedStyle(e),"segments"===t.edgeType)return bl(t.segpts)},vl.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if("bezier"===r||"multibezier"===r||"self"===r||"compound"===r)return bl(t.ctrlpts)},vl.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var xl={manualEndptToPx:function(e,t){var r=e.position(),n=e.outerWidth(),i=e.outerHeight(),a=e._private.rscratch;if(2===t.value.length){var o=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(o[0]=o[0]*n),"%"===t.units[1]&&(o[1]=o[1]*i),o[0]+=r.x,o[1]+=r.y,o}var s=t.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(n,i),u=[r.x+Math.cos(s)*l,r.y+Math.sin(s)*l];return this.nodeShapes[this.getNodeShape(e)].intersectLine(r.x,r.y,n,i,u[0],u[1],0,"auto"===e.pstyle("corner-radius").value?"auto":e.pstyle("corner-radius").pfValue,a)},findEndpoints:function(e){var t,r,n,i,a,o=this,s=e.source()[0],l=e.target()[0],u=s.position(),c=l.position(),h=e.pstyle("target-arrow-shape").value,d=e.pstyle("source-arrow-shape").value,f=e.pstyle("target-distance-from-node").pfValue,p=e.pstyle("source-distance-from-node").pfValue,g=s._private.rscratch,m=l._private.rscratch,y=e.pstyle("curve-style").value,v=e._private.rscratch,b=v.edgeType,x="self"===b||"compound"===b,w="bezier"===b||"multibezier"===b||x,D="bezier"!==b,E="straight"===b||"segments"===b,A="segments"===b,C=w||D||E,_=x||"taxi"===y,T=e.pstyle("source-endpoint"),S=_?"outside-to-node":T.value,F="auto"===s.pstyle("corner-radius").value?"auto":s.pstyle("corner-radius").pfValue,O=e.pstyle("target-endpoint"),B=_?"outside-to-node":O.value,N="auto"===l.pstyle("corner-radius").value?"auto":l.pstyle("corner-radius").pfValue;if(v.srcManEndpt=T,v.tgtManEndpt=O,w){var L=[v.ctrlpts[0],v.ctrlpts[1]];r=D?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:L,n=L}else if(E){var I=A?v.segpts.slice(0,2):[c.x,c.y];r=A?v.segpts.slice(v.segpts.length-2):[u.x,u.y],n=I}if("inside-to-node"===B)t=[c.x,c.y];else if(O.units)t=this.manualEndptToPx(l,O);else if("outside-to-line"===B)t=v.tgtIntn;else if("outside-to-node"===B||"outside-to-node-or-label"===B?i=r:"outside-to-line"!==B&&"outside-to-line-or-label"!==B||(i=[u.x,u.y]),t=o.nodeShapes[this.getNodeShape(l)].intersectLine(c.x,c.y,l.outerWidth(),l.outerHeight(),i[0],i[1],0,N,m),"outside-to-node-or-label"===B||"outside-to-line-or-label"===B){var R=l._private.rscratch,M=R.labelWidth,P=R.labelHeight,z=R.labelX,$=R.labelY,j=M/2,K=P/2,q=l.pstyle("text-valign").value;"top"===q?$-=K:"bottom"===q&&($+=K);var U=l.pstyle("text-halign").value;"left"===U?z-=j:"right"===U&&(z+=j);var H=tr(i[0],i[1],[z-j,$-K,z+j,$-K,z+j,$+K,z-j,$+K],c.x,c.y);if(H.length>0){var W=u,G=Tt(W,kt(t)),V=Tt(W,kt(H)),Y=G;V<G&&(t=H,Y=V),H.length>2&&Tt(W,{x:H[2],y:H[3]})<Y&&(t=[H[2],H[3]])}}var X=rr(t,r,o.arrowShapes[h].spacing(e)+f),Z=rr(t,r,o.arrowShapes[h].gap(e)+f);if(v.endX=Z[0],v.endY=Z[1],v.arrowEndX=X[0],v.arrowEndY=X[1],"inside-to-node"===S)t=[u.x,u.y];else if(T.units)t=this.manualEndptToPx(s,T);else if("outside-to-line"===S)t=v.srcIntn;else if("outside-to-node"===S||"outside-to-node-or-label"===S?a=n:"outside-to-line"!==S&&"outside-to-line-or-label"!==S||(a=[c.x,c.y]),t=o.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,s.outerWidth(),s.outerHeight(),a[0],a[1],0,F,g),"outside-to-node-or-label"===S||"outside-to-line-or-label"===S){var Q=s._private.rscratch,J=Q.labelWidth,ee=Q.labelHeight,te=Q.labelX,re=Q.labelY,ne=J/2,ie=ee/2,ae=s.pstyle("text-valign").value;"top"===ae?re-=ie:"bottom"===ae&&(re+=ie);var oe=s.pstyle("text-halign").value;"left"===oe?te-=ne:"right"===oe&&(te+=ne);var se=tr(a[0],a[1],[te-ne,re-ie,te+ne,re-ie,te+ne,re+ie,te-ne,re+ie],u.x,u.y);if(se.length>0){var le=c,ue=Tt(le,kt(t)),ce=Tt(le,kt(se)),he=ue;ce<ue&&(t=[se[0],se[1]],he=ce),se.length>2&&Tt(le,{x:se[2],y:se[3]})<he&&(t=[se[2],se[3]])}}var de=rr(t,n,o.arrowShapes[d].spacing(e)+p),fe=rr(t,n,o.arrowShapes[d].gap(e)+p);v.startX=fe[0],v.startY=fe[1],v.arrowStartX=de[0],v.arrowStartY=de[1],C&&(k(v.startX)&&k(v.startY)&&k(v.endX)&&k(v.endY)?v.badLine=!1:v.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},wl={};function Dl(e,t,r){for(var n=function(e,t,r,n){return Ft(e,t,r,n)},i=t._private.rstyle.bezierPts,a=0;a<e.bezierProjPcts.length;a++){var o=e.bezierProjPcts[a];i.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}wl.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===n||"bezier"===n||"self"===n||"compound"===n){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)Dl(this,e,r.allpts.slice(i,i+6))}else if("segments"===n){var a=t.rstyle.linePts=[];for(i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]})}else if("haystack"===n){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},wl.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var kl={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!F(t)){var r,n,i=e._private,a=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,h=i.rscratch,d=i.rstyle;switch(u){case"left":r=l.x-a/2-s;break;case"right":r=l.x+a/2+s;break;default:r=l.x}switch(c){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}h.labelX=r,h.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},El=function(e,t){var r=Math.atan(t/e);return 0===e&&r<0&&(r*=-1),r},Al=function(e,t){var r=t.x-e.x,n=t.y-e.y;return El(r,n)};kl.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:n.midX,y:n.midY};var o=function(e,t,n){Je(r.rscratch,e,t,n),Je(r.rstyle,e,t,n)};o("labelX",null,t.x),o("labelY",null,t.y);var s=El(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function e(){if(e.cache)return e.cache;for(var t=[],a=0;a+5<n.allpts.length;a+=4){var o={x:n.allpts[a],y:n.allpts[a+1]},s={x:n.allpts[a+2],y:n.allpts[a+3]},l={x:n.allpts[a+4],y:n.allpts[a+5]};t.push({p0:o,p1:s,p2:l,startDist:0,length:0,segments:[]})}var u=r.rstyle.bezierPts,c=i.bezierProjPcts.length;function h(e,t,r,n,i){var a=_t(t,r),o=e.segments[e.segments.length-1],s={p0:t,p1:r,t0:n,t1:i,startDist:o?o.startDist+o.length:0,length:a};e.segments.push(s),e.length+=a}for(var d=0;d<t.length;d++){var f=t[d],p=t[d-1];p&&(f.startDist=p.startDist+p.length),h(f,f.p0,u[d*c],0,i.bezierProjPcts[0]);for(var g=0;g<c-1;g++)h(f,u[d*c+g],u[d*c+g+1],i.bezierProjPcts[g],i.bezierProjPcts[g+1]);h(f,u[d*c+c-1],f.p2,i.bezierProjPcts[c-1],1)}return e.cache=t},u=function(r){var i,s="source"===r;if(a[r]){var u=e.pstyle(r+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var c,h=l(),d=0,f=0,p=0;p<h.length;p++){for(var g=h[s?p:h.length-1-p],m=0;m<g.segments.length;m++){var y=g.segments[s?m:g.segments.length-1-m],v=p===h.length-1&&m===g.segments.length-1;if(d=f,(f+=y.length)>=u||v){c={cp:g,segment:y};break}}if(c)break}var b=c.cp,x=c.segment,w=(u-d)/x.length,D=x.t1-x.t0,k=s?x.t0+D*w:x.t1-D*w;k=Bt(0,k,1),t=Ot(b.p0,b.p1,b.p2,k),i=function(e,t,r,n){var i=Bt(0,n-.001,1),a=Bt(0,n+.001,1),o=Ot(e,t,r,i),s=Ot(e,t,r,a);return Al(o,s)}(b.p0,b.p1,b.p2,k);break;case"straight":case"segments":case"haystack":for(var E,A,C,_,T=0,S=n.allpts.length,F=0;F+3<S&&(s?(C={x:n.allpts[F],y:n.allpts[F+1]},_={x:n.allpts[F+2],y:n.allpts[F+3]}):(C={x:n.allpts[S-2-F],y:n.allpts[S-1-F]},_={x:n.allpts[S-4-F],y:n.allpts[S-3-F]}),A=T,!((T+=E=_t(C,_))>=u));F+=2);var O=(u-A)/E;O=Bt(0,O,1),t=function(e,t,r,n){var i=t.x-e.x,a=t.y-e.y,o=_t(e,t),s=i/o,l=a/o;return r=null==r?0:r,n=null!=n?n:r*o,{x:e.x+s*n,y:e.y+l*n}}(C,_,O),i=Al(C,_)}o("labelX",r,t.x),o("labelY",r,t.y),o("labelAutoAngle",r,i)}};u("source"),u("target"),this.applyLabelDimensions(e)}},kl.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},kl.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,n),a=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,s=Qe(r.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==o?1:Math.max(s.length,1),u=i.height/l,c=u*a,h=i.width,d=i.height+(l-1)*(a-1)*u;Je(r.rstyle,"labelWidth",t,h),Je(r.rscratch,"labelWidth",t,h),Je(r.rstyle,"labelHeight",t,d),Je(r.rscratch,"labelHeight",t,d),Je(r.rscratch,"labelLineHeight",t,c)},kl.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,o=function(e,n){return n?(Je(r.rscratch,e,t,n),n):Qe(r.rscratch,e,t)};if(!i)return"";"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var l=o("labelKey");if(null!=l&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u=i.split("\n"),c=e.pstyle("text-max-width").pfValue,d="anywhere"===e.pstyle("text-overflow-wrap").value,f=[],p=/[\s\u200b]+|$/g,g=0;g<u.length;g++){var m=u[g],y=this.calculateLabelDimensions(e,m).width;if(d){var v=m.split("").join("​");m=v}if(y>c){var b,x="",w=0,D=h(m.matchAll(p));try{for(D.s();!(b=D.n()).done;){var k=b.value,E=k[0],A=m.substring(w,k.index);w=k.index+E.length;var C=0===x.length?A:x+A+E;this.calculateLabelDimensions(e,C).width<=c?x+=A+E:(x&&f.push(x),x=A+E)}}catch(e){D.e(e)}finally{D.f()}x.match(/^[\s\u200b]+$/)||f.push(x)}else f.push(m)}o("labelWrapCachedLines",f),i=o("labelWrapCachedText",f.join("\n")),o("labelWrapKey",l)}else if("ellipsis"===s){var _=e.pstyle("text-max-width").pfValue,T="",S=!1;if(this.calculateLabelDimensions(e,i).width<_)return i;for(var F=0;F<i.length&&!(this.calculateLabelDimensions(e,T+i[F]+"…").width>_);F++)T+=i[F],F===i.length-1&&(S=!0);return S||(T+="…"),T}return i},kl.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(r){case"left":return"right";case"right":return"left";default:return"center"}},kl.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window().document,i=Oe(t,e._private.labelDimsKey),a=r.labelDimCache||(r.labelDimCache=[]),o=a[i];if(null!=o)return o;var s=e.pstyle("font-style").strValue,l=e.pstyle("font-size").pfValue,u=e.pstyle("font-family").strValue,c=e.pstyle("font-weight").strValue,h=this.labelCalcCanvas,d=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=n.createElement("canvas"),d=this.labelCalcCanvasContext=h.getContext("2d");var f=h.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}d.font="".concat(s," ").concat(c," ").concat(l,"px ").concat(u);for(var p=0,g=0,m=t.split("\n"),y=0;y<m.length;y++){var v=m[y],b=d.measureText(v),x=Math.ceil(b.width),w=l;p=Math.max(x,p),g+=w}return p+=0,g+=0,a[i]={width:p,height:g}},kl.calculateLabelAngle=function(e,t){var r=e._private.rscratch,n=e.isEdge(),i=t?t+"-":"",a=e.pstyle(i+"text-rotation"),o=a.strValue;return"none"===o?0:n&&"autorotate"===o?r.labelAutoAngle:"autorotate"===o?0:a.pfValue},kl.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private.rscratch;n.labelAngle=t.calculateLabelAngle(e),r&&(n.sourceLabelAngle=t.calculateLabelAngle(e,"source"),n.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var Cl={},_l=!1;Cl.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return _l||(Ue("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),_l=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var r=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(r).name}return t};var Tl={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=(i=e[r])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):n.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(r=0;r<t.length;r++){var i=t[r];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Wa),t.interactive=t.filter((function(e){return e.interactive()})),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},Sl={};[Vs,Ys,vl,xl,wl,kl,Cl,{registerCalculationListeners:function(){var e=this.cy,t=e.collection(),r=this,n=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),r)for(var n=0;n<e.length;n++){var i=e[n]._private.rstyle;i.clean=!1,i.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",(function(e){var t=e.target;n(t)})).on("style.* background.*",(function(e){var t=e.target;n(t,!1)}));var i=function(i){if(i){var a=r.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var s=t[o],l=s._private.rstyle;s.isNode()&&!l.cleanConnected&&(n(s.connectedEdges()),l.cleanConnected=!0)}if(a)for(var u=0;u<a.length;u++)(0,a[u])(i,t);r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var r=function(e){return e._private.rstyle.cleanConnected},n=[],i=[];if(!this.destroyed){void 0===t&&(t=!0);for(var a=0;a<e.length;a++){var o=e[a],s=o._private,l=s.rstyle;!o.isEdge()||r(o.source())&&r(o.target())||(l.clean=!1),t&&l.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===s.group?i.push(o):n.push(o),l.clean=!0)}for(var u=0;u<i.length;u++){var c=i[u],h=c._private.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var f=0;f<n.length;f++){var p=n[f]._private,g=p.rstyle,m=p.rscratch;g.srcX=m.arrowStartX,g.srcY=m.arrowStartY,g.tgtX=m.arrowEndX,g.tgtY=m.arrowEndY,g.midX=m.midX,g.midY=m.midY,g.labelAngle=m.labelAngle,g.sourceLabelAngle=m.sourceLabelAngle,g.targetLabelAngle=m.targetLabelAngle}}}},Tl].forEach((function(e){q(Sl,e)}));var Fl={getCachedImage:function(e,t,r){var n=this.imageCache=this.imageCache||{},i=n[e];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;var a=(i=n[e]=n[e]||{}).image=new Image;a.addEventListener("load",r),a.addEventListener("error",(function(){a.error=!0}));return"data:"===e.substring(0,5).toLowerCase()||(t="null"===t?null:t,a.crossOrigin=t),a.src=e,a}},Ol={registerBinding:function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(void 0!==s){var l=this.binder(s);a.push(l.on.apply(l,i))}}return a}return(l=this.binder(e)).on.apply(l,i)},binder:function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement;if(null==t.supportsPassiveEvents){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});r.addEventListener("test",null,a)}catch(e){}t.supportsPassiveEvents=i}var o=function(r,i,a){var o=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(o[2]={capture:null!=a&&a,passive:!1,once:!1}),t.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:o,addEventListener:o,addListener:o,bind:o}},nodeIsDraggable:function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},nodeIsGrabbable:function(e){return this.nodeIsDraggable(e)&&e.interactive()}};Ol.load=function(){var e=this,t=e.cy.window(),r=function(e){return e.selected()},n=function(t,r,n,i){null==t&&(t=e.cy);for(var a=0;a<r.length;a++){var o=r[a];t.emit({originalEvent:n,type:o,position:i})}},i=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},a=function(t,r){var n=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable()){for(var i=0;r&&i<r.length;i++)if((t=r[i]).isNode()&&t.isParent()&&!t.pannable()){n=!1;break}}else n=!0;return n},o=function(e){e[0]._private.rscratch.inDragLayer=!0},s=function(e){e[0]._private.rscratch.isGrabTarget=!0},l=function(e,t){var r=t.addToList;r.has(e)||!e.grabbable()||e.locked()||(r.merge(e),function(e){e[0]._private.grabbed=!0}(e))},u=function(t,r){r=r||{};var n=t.cy().hasCompoundNodes();r.inDragLayer&&(t.forEach(o),t.neighborhood().stdFilter((function(e){return!n||e.isEdge()})).forEach(o)),r.addToList&&t.forEach((function(e){l(e,r)})),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var r=e.descendants();t.inDragLayer&&(r.forEach(o),r.connectedEdges().forEach(o)),t.addToList&&l(r,t)}}(t,r),d(t,{inDragLayer:r.inDragLayer}),e.updateCachedGrabbedEles()},c=u,h=function(t){t&&(e.getCachedZSortedEles().forEach((function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)})),e.updateCachedGrabbedEles())},d=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var r=e.ancestors().orphans();if(!r.same(e)){var n=r.descendants().spawnSelf().merge(r).unmerge(e).unmerge(e.descendants()),i=n.connectedEdges();t.inDragLayer&&(i.forEach(o),n.forEach(o)),t.addToList&&n.forEach((function(e){l(e,t)}))}}},f=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!=typeof MutationObserver,g="undefined"!=typeof ResizeObserver;p?(e.removeObserver=new MutationObserver((function(t){for(var r=0;r<t.length;r++){var n=t[r].removedNodes;if(n)for(var i=0;i<n.length;i++)if(n[i]===e.container){e.destroy();break}}})),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",(function(t){e.destroy()}));var m=ve((function(){e.cy.resize()}),100);p&&(e.styleObserver=new MutationObserver(m),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",m),g&&(e.resizeObserver=new ResizeObserver(m),e.resizeObserver.observe(e.container));var y=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,(function(t){e.registerBinding(t,"transitionend",y),e.registerBinding(t,"animationend",y),e.registerBinding(t,"scroll",y)})),e.registerBinding(e.container,"contextmenu",(function(e){e.preventDefault()}));var v=function(t){for(var r=e.findContainerClientCoords(),n=r[0],i=r[1],a=r[2],o=r[3],s=t.touches?t.touches:[t],l=!1,u=0;u<s.length;u++){var c=s[u];if(n<=c.clientX&&c.clientX<=n+a&&i<=c.clientY&&c.clientY<=i+o){l=!0;break}}if(!l)return!1;for(var h=e.container,d=t.target.parentNode,f=!1;d;){if(d===h){f=!0;break}d=d.parentNode}return!!f};e.registerBinding(e.container,"mousedown",(function(t){if(v(t)&&(1!==e.hoverData.which||1===t.which)){t.preventDefault(),f(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,i=[t.clientX,t.clientY],a=e.projectIntoViewport(i[0],i[1]),o=e.selection,l=e.findNearestElements(a[0],a[1],!0,!1),h=l[0],d=e.dragData.possibleDragElements;if(e.hoverData.mdownPos=a,e.hoverData.mdownGPos=i,3==t.which){e.hoverData.cxtStarted=!0;var p={originalEvent:t,type:"cxttapstart",position:{x:a[0],y:a[1]}};h?(h.activate(),h.emit(p),e.hoverData.down=h):r.emit(p),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(h&&h.activate(),null!=h&&e.nodeIsGrabbable(h)){var g=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}};if(s(h),h.selected()){d=e.dragData.possibleDragElements=r.collection();var m=r.$((function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)}));u(m,{addToList:d}),h.emit(g("grabon")),m.forEach((function(e){e.emit(g("grab"))}))}else d=e.dragData.possibleDragElements=r.collection(),c(h,{addToList:d}),h.emit(g("grabon")).emit(g("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=h,e.hoverData.downs=l,e.hoverData.downTime=(new Date).getTime(),n(h,["mousedown","tapstart","vmousedown"],t,{x:a[0],y:a[1]}),null==h?(o[4]=1,e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()):h.pannable()&&(o[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout((function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:a[0],y:a[1]}}):r.emit({originalEvent:t,type:"taphold",position:{x:a[0],y:a[1]}})}}),e.tapholdDuration)}o[0]=o[2]=a[0],o[1]=o[3]=a[1]}}),!1);var b,x,w,D=function(e){var t=e.getRootNode();if(t&&11===t.nodeType&&void 0!==t.host)return t}(e.container);e.registerBinding([t,D],"mousemove",(function(t){if(e.hoverData.capture||v(t)){var r=!1,o=e.cy,s=o.zoom(),l=[t.clientX,t.clientY],c=e.projectIntoViewport(l[0],l[1]),d=e.hoverData.mdownPos,f=e.hoverData.mdownGPos,p=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(c[0],c[1],!0,!1));var m,y=e.hoverData.last,b=e.hoverData.down,x=[c[0]-p[2],c[1]-p[3]],w=e.dragData.possibleDragElements;if(f){var D=l[0]-f[0],E=D*D,A=l[1]-f[1],C=E+A*A;e.hoverData.isOverThresholdDrag=m=C>=e.desktopTapThreshold2}var _=i(t);m&&(e.hoverData.tapholdCancelled=!0),r=!0,n(g,["mousemove","vmousemove","tapdrag"],t,{x:c[0],y:c[1]});var T=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:c[0],y:c[1]}}),p[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(m){var S={originalEvent:t,type:"cxtdrag",position:{x:c[0],y:c[1]}};b?b.emit(S):o.emit(S),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:c[0],y:c[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:t,type:"cxtdragover",position:{x:c[0],y:c[1]}}))}}else if(e.hoverData.dragging){if(r=!0,o.panningEnabled()&&o.userPanningEnabled()){var F;if(e.hoverData.justStartedPan){var O=e.hoverData.mdownPos;F={x:(c[0]-O[0])*s,y:(c[1]-O[1])*s},e.hoverData.justStartedPan=!1}else F={x:x[0]*s,y:x[1]*s};o.panBy(F),o.emit("dragpan"),e.hoverData.dragged=!0}c=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=p[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==y||(y&&n(y,["mouseout","tapdragout"],t,{x:c[0],y:c[1]}),g&&n(g,["mouseover","tapdragover"],t,{x:c[0],y:c[1]}),e.hoverData.last=g),b)if(m){if(o.boxSelectionEnabled()&&_)b&&b.grabbed()&&(h(w),b.emit("freeon"),w.emit("free"),e.dragData.didDrag&&(b.emit("dragfreeon"),w.emit("dragfree"))),T();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var B=!e.dragData.didDrag;B&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||u(w,{inDragLayer:!0});var N={x:0,y:0};if(k(x[0])&&k(x[1])&&(N.x+=x[0],N.y+=x[1],B)){var L=e.hoverData.dragDelta;L&&k(L[0])&&k(L[1])&&(N.x+=L[0],N.y+=L[1])}e.hoverData.draggingEles=!0,w.silentShift(N).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(x[0]),t.push(x[1])):(t[0]+=x[0],t[1]+=x[1])}();r=!0}else m&&(e.hoverData.dragging||!o.boxSelectionEnabled()||!_&&o.panningEnabled()&&o.userPanningEnabled()?!e.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()&&a(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,p[4]=0,e.data.bgActivePosistion=kt(d),e.redrawHint("select",!0),e.redraw()):T(),b&&b.pannable()&&b.active()&&b.unactivate());return p[2]=c[0],p[3]=c[1],r?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}}),!1),e.registerBinding(t,"mouseup",(function(t){if((1!==e.hoverData.which||1===t.which||!e.hoverData.capture)&&e.hoverData.capture){e.hoverData.capture=!1;var a=e.cy,o=e.projectIntoViewport(t.clientX,t.clientY),s=e.selection,l=e.findNearestElement(o[0],o[1],!0,!1),u=e.dragData.possibleDragElements,c=e.hoverData.down,d=i(t);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,c&&c.unactivate(),3===e.hoverData.which){var f={originalEvent:t,type:"cxttapend",position:{x:o[0],y:o[1]}};if(c?c.emit(f):a.emit(f),!e.hoverData.cxtDragged){var p={originalEvent:t,type:"cxttap",position:{x:o[0],y:o[1]}};c?c.emit(p):a.emit(p)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],t,{x:o[0],y:o[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(n(c,["click","tap","vclick"],t,{x:o[0],y:o[1]}),x=!1,t.timeStamp-w<=a.multiClickDebounceTime()?(b&&clearTimeout(b),x=!0,w=null,n(c,["dblclick","dbltap","vdblclick"],t,{x:o[0],y:o[1]})):(b=setTimeout((function(){x||n(c,["oneclick","onetap","voneclick"],t,{x:o[0],y:o[1]})}),a.multiClickDebounceTime()),w=t.timeStamp)),null!=c||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||i(t)||(a.$(r).unselect(["tapunselect"]),u.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=u=a.collection()),l!=c||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===a.selectionType()||d?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):d||(a.$(r).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=a.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),a.emit({type:"boxend",originalEvent:t,position:{x:o[0],y:o[1]}});"additive"===a.selectionType()||d||a.$(r).unmerge(g).unselect(),g.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var m=c&&c.grabbed();h(u),m&&(c.emit("freeon"),u.emit("free"),e.dragData.didDrag&&(c.emit("dragfreeon"),u.emit("dragfree")))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}),!1);var E,A,C,_,T,S,F,O,B,N,L,I,R,M=function(t){if(!e.scrollingPage){var r=e.cy,n=r.zoom(),i=r.pan(),a=e.projectIntoViewport(t.clientX,t.clientY),o=[a[0]*n+i.x,a[1]*n+i.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(r.panningEnabled()&&r.userPanningEnabled()&&r.zoomingEnabled()&&r.userZoomingEnabled()){var s;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout((function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()}),150),s=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,s*=e.wheelSensitivity,1===t.deltaMode&&(s*=33);var l=r.zoom()*Math.pow(10,s);"gesturechange"===t.type&&(l=e.gestureStartZoom*t.scale),r.zoom({level:l,renderedPosition:{x:o[0],y:o[1]}}),r.emit("gesturechange"===t.type?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",M,!0),e.registerBinding(t,"scroll",(function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout((function(){e.scrollingPage=!1}),250)}),!0),e.registerBinding(e.container,"gesturestart",(function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()}),!0),e.registerBinding(e.container,"gesturechange",(function(t){e.hasTouchStarted||M(t)}),!0),e.registerBinding(e.container,"mouseout",(function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:r[0],y:r[1]}})}),!1),e.registerBinding(e.container,"mouseover",(function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:r[0],y:r[1]}})}),!1);var P,z,$,j,K,q,U,H=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},W=function(e,t,r,n){return(r-e)*(r-e)+(n-t)*(n-t)};if(e.registerBinding(e.container,"touchstart",P=function(t){if(e.hasTouchStarted=!0,v(t)){f(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,a=e.touchData.earlier;if(t.touches[0]){var o=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);i[0]=o[0],i[1]=o[1]}if(t.touches[1]&&(o=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),i[2]=o[0],i[3]=o[1]),t.touches[2]&&(o=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),i[4]=o[0],i[5]=o[1]),t.touches[1]){e.touchData.singleTouchMoved=!0,h(e.dragData.touchDragEles);var l=e.findContainerClientCoords();B=l[0],N=l[1],L=l[2],I=l[3],E=t.touches[0].clientX-B,A=t.touches[0].clientY-N,C=t.touches[1].clientX-B,_=t.touches[1].clientY-N,R=0<=E&&E<=L&&0<=C&&C<=L&&0<=A&&A<=I&&0<=_&&_<=I;var d=r.pan(),p=r.zoom();if(T=H(E,A,C,_),S=W(E,A,C,_),O=[((F=[(E+C)/2,(A+_)/2])[0]-d.x)/p,(F[1]-d.y)/p],S<4e4&&!t.touches[2]){var g=e.findNearestElement(i[0],i[1],!0,!0),m=e.findNearestElement(i[2],i[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=g):m&&m.isNode()?(m.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=m):r.emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])r.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var y=e.findNearestElements(i[0],i[1],!0,!0),b=y[0];if(null!=b&&(b.activate(),e.touchData.start=b,e.touchData.starts=y,e.nodeIsGrabbable(b))){var x=e.dragData.touchDragEles=r.collection(),w=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),b.selected()?(w=r.$((function(t){return t.selected()&&e.nodeIsGrabbable(t)})),u(w,{addToList:x})):c(b,{addToList:x}),s(b);var D=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};b.emit(D("grabon")),w?w.forEach((function(e){e.emit(D("grab"))})):b.emit(D("grab"))}n(b,["touchstart","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==b&&(e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout((function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:i[0],y:i[1]})}),e.tapholdDuration)}if(t.touches.length>=1){for(var k=e.touchData.startPosition=[null,null,null,null,null,null],M=0;M<i.length;M++)k[M]=a[M]=i[M];var P=t.touches[0];e.touchData.startGPosition=[P.clientX,P.clientY]}}},!1),e.registerBinding(t,"touchmove",z=function(t){var r=e.touchData.capture;if(r||v(t)){var i=e.selection,o=e.cy,s=e.touchData.now,l=e.touchData.earlier,c=o.zoom();if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=d[0],s[1]=d[1]}t.touches[1]&&(d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),s[2]=d[0],s[3]=d[1]),t.touches[2]&&(d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),s[4]=d[0],s[5]=d[1]);var f,p=e.touchData.startGPosition;if(r&&t.touches[0]&&p){for(var g=[],m=0;m<s.length;m++)g[m]=s[m]-l[m];var y=t.touches[0].clientX-p[0],b=y*y,x=t.touches[0].clientY-p[1];f=b+x*x>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var w=t.touches[0].clientX-B,D=t.touches[0].clientY-N,F=t.touches[1].clientX-B,L=t.touches[1].clientY-N,I=W(w,D,F,L);if(I/S>=2.25||I>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var M={originalEvent:t,type:"cxttapend",position:{x:s[0],y:s[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(M),e.touchData.start=null):o.emit(M)}}if(r&&e.touchData.cxt){M={originalEvent:t,type:"cxtdrag",position:{x:s[0],y:s[1]}},e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(M):o.emit(M),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var P=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&P===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:s[0],y:s[1]}}),e.touchData.cxtOver=P,P&&P.emit({originalEvent:t,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(r&&t.touches[2]&&o.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||o.emit({originalEvent:t,type:"boxstart",position:{x:s[0],y:s[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,i[4]=1,i&&0!==i.length&&void 0!==i[0]?(i[2]=(s[0]+s[2]+s[4])/3,i[3]=(s[1]+s[3]+s[5])/3):(i[0]=(s[0]+s[2]+s[4])/3,i[1]=(s[1]+s[3]+s[5])/3,i[2]=(s[0]+s[2]+s[4])/3+1,i[3]=(s[1]+s[3]+s[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(r&&t.touches[1]&&!e.touchData.didSelect&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var z=0;z<ee.length;z++){var $=ee[z]._private;$.grabbed=!1,$.rscratch.inDragLayer=!1}}var j=e.touchData.start,K=(w=t.touches[0].clientX-B,D=t.touches[0].clientY-N,F=t.touches[1].clientX-B,L=t.touches[1].clientY-N,H(w,D,F,L)),q=K/T;if(R){var U=(w-E+(F-C))/2,G=(D-A+(L-_))/2,V=o.zoom(),Y=V*q,X=o.pan(),Z=O[0]*V+X.x,Q=O[1]*V+X.y,J={x:-Y/V*(Z-X.x-U)+Z,y:-Y/V*(Q-X.y-G)+Q};if(j&&j.active()){var ee=e.dragData.touchDragEles;h(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),j.unactivate().emit("freeon"),ee.emit("free"),e.dragData.didDrag&&(j.emit("dragfreeon"),ee.emit("dragfree"))}o.viewport({zoom:Y,pan:J,cancelOnFailedZoom:!0}),o.emit("pinchzoom"),T=K,E=w,A=D,C=F,_=L,e.pinching=!0}t.touches[0]&&(d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),s[0]=d[0],s[1]=d[1]),t.touches[1]&&(d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),s[2]=d[0],s[3]=d[1]),t.touches[2]&&(d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),s[4]=d[0],s[5]=d[1])}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,re=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(P=e.findNearestElement(s[0],s[1],!0,!0)),r&&null!=te&&t.preventDefault(),r&&null!=te&&e.nodeIsDraggable(te))if(f){ee=e.dragData.touchDragEles;var ne=!e.dragData.didDrag;ne&&u(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};k(g[0])&&k(g[1])&&(ie.x+=g[0],ie.y+=g[1],ne&&(e.redrawHint("eles",!0),(ae=e.touchData.dragDelta)&&k(ae[0])&&k(ae[1])&&(ie.x+=ae[0],ie.y+=ae[1]))),e.hoverData.draggingEles=!0,ee.silentShift(ie).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==l[0]&&e.touchData.startPosition[1]==l[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ae;0===(ae=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(ae.push(g[0]),ae.push(g[1])):(ae[0]+=g[0],ae[1]+=g[1])}if(n(te||P,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),te&&te.grabbed()||P==re||(re&&re.emit({originalEvent:t,type:"tapdragout",position:{x:s[0],y:s[1]}}),P&&P.emit({originalEvent:t,type:"tapdragover",position:{x:s[0],y:s[1]}})),e.touchData.last=P,r)for(z=0;z<s.length;z++)s[z]&&e.touchData.startPosition[z]&&f&&(e.touchData.singleTouchMoved=!0);r&&(null==te||te.pannable())&&o.panningEnabled()&&o.userPanningEnabled()&&(a(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=kt(e.touchData.startPosition)),e.swipePanning?(o.panBy({x:g[0]*c,y:g[1]*c}),o.emit("dragpan")):f&&(e.swipePanning=!0,o.panBy({x:y*c,y:x*c}),o.emit("dragpan"),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null))),d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),s[0]=d[0],s[1]=d[1])}for(m=0;m<s.length;m++)l[m]=s[m];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(t,"touchcancel",$=function(t){var r=e.touchData.start;e.touchData.capture=!1,r&&r.unactivate()}),e.registerBinding(t,"touchend",j=function(t){var i=e.touchData.start;if(e.touchData.capture){0===t.touches.length&&(e.touchData.capture=!1),t.preventDefault();var a=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o,s=e.cy,l=s.zoom(),u=e.touchData.now,c=e.touchData.earlier;if(t.touches[0]){var d=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);u[0]=d[0],u[1]=d[1]}if(t.touches[1]&&(d=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),u[2]=d[0],u[3]=d[1]),t.touches[2]&&(d=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),u[4]=d[0],u[5]=d[1]),i&&i.unactivate(),e.touchData.cxt){if(o={originalEvent:t,type:"cxttapend",position:{x:u[0],y:u[1]}},i?i.emit(o):s.emit(o),!e.touchData.cxtDragged){var f={originalEvent:t,type:"cxttap",position:{x:u[0],y:u[1]}};i?i.emit(f):s.emit(f)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!t.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var p=s.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));a[0]=void 0,a[1]=void 0,a[2]=void 0,a[3]=void 0,a[4]=0,e.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:t,position:{x:u[0],y:u[1]}}),p.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),p.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=i&&i.unactivate(),t.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(t.touches[1]);else if(t.touches[0]);else if(!t.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=i){var m=i._private.grabbed;h(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),m&&(i.emit("freeon"),g.emit("free"),e.dragData.didDrag&&(i.emit("dragfreeon"),g.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],t,{x:u[0],y:u[1]}),i.unactivate(),e.touchData.start=null}else{var y=e.findNearestElement(u[0],u[1],!0,!0);n(y,["touchend","tapend","vmouseup","tapdragout"],t,{x:u[0],y:u[1]})}var v=e.touchData.startPosition[0]-u[0],b=v*v,x=e.touchData.startPosition[1]-u[1],w=(b+x*x)*l*l;e.touchData.singleTouchMoved||(i||s.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],t,{x:u[0],y:u[1]}),K=!1,t.timeStamp-U<=s.multiClickDebounceTime()?(q&&clearTimeout(q),K=!0,U=null,n(i,["dbltap","vdblclick"],t,{x:u[0],y:u[1]})):(q=setTimeout((function(){K||n(i,["onetap","voneclick"],t,{x:u[0],y:u[1]})}),s.multiClickDebounceTime()),U=t.timeStamp)),null!=i&&!e.dragData.didDrag&&i._private.selectable&&w<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(r).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var D=0;D<u.length;D++)c[D]=u[D];e.dragData.didDrag=!1,0===t.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),t.touches.length<2&&(1===t.touches.length&&(e.touchData.startGPosition=[t.touches[0].clientX,t.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var G=[],V=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},Y=function(e){for(var t=0;t<G.length;t++)if(G[t].event.pointerId===e.pointerId)return void G.splice(t,1)},X=function(e){e.touches=G.map((function(e){return e.touch}))},Z=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",(function(e){Z(e)||(e.preventDefault(),function(e){G.push(function(e){return{event:e,touch:V(e)}}(e))}(e),X(e),P(e))})),e.registerBinding(e.container,"pointerup",(function(e){Z(e)||(Y(e),X(e),j(e))})),e.registerBinding(e.container,"pointercancel",(function(e){Z(e)||(Y(e),X(e),$())})),e.registerBinding(e.container,"pointermove",(function(e){Z(e)||(e.preventDefault(),function(e){var t=G.filter((function(t){return t.event.pointerId===e.pointerId}))[0];t.event=e,t.touch=V(e)}(e),X(e),z(e))}))}};var Bl={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl("polygon",e,t,r,n,i,this.points)},intersectLine:function(e,t,r,n,i,a,o,s){return tr(i,a,this.points,e,t,r/2,n/2,o)},checkPoint:function(e,t,r,n,i,a,o,s){return Vt(e,t,this.points,a,o,n,i,[0,-1],r)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,n,i,a,o,s){return function(e,t,r,n,i,a){var o=r-e,s=n-t;o/=i,s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(r-e)*c+e,(n-t)*c+t]}(i,a,e,t,r/2+o,n/2+o)},checkPoint:function(e,t,r,n,i,a,o,s){return Zt(e,t,n,i,a,o,r)}}},generateRoundPolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(e,r,n,i,a,o,s){if(void 0!==o[s]&&o[s+"-cx"]===e&&o[s+"-cy"]===r)return o[s];o[s]=new Array(t.length/2),o[s+"-cx"]=e,o[s+"-cy"]=r;var l=n/2,u=i/2;a="auto"===a?sr(n,i):a;for(var c=new Array(t.length/2),h=0;h<t.length/2;h++)c[h]={x:e+l*t[2*h],y:r+u*t[2*h+1]};var d,f,p,g,m=c.length;for(f=c[m-1],d=0;d<m;d++)p=c[d%m],g=c[(d+1)%m],o[s][d]=yl(f,p,g,a),f=p,p=g;return o[s]},draw:function(e,t,r,n,i,a,o){this.renderer.nodeShapeImpl("round-polygon",e,t,r,n,i,this.points,this.getOrCreateCorners(t,r,n,i,a,o,"drawCorners"))},intersectLine:function(e,t,r,n,i,a,o,s,l){return function(e,t,r,n,i,a,o,s,l){var u,c=[],h=new Array(2*r.length);l.forEach((function(r,a){0===a?(h[h.length-2]=r.startX,h[h.length-1]=r.startY):(h[4*a-2]=r.startX,h[4*a-1]=r.startY),h[4*a]=r.stopX,h[4*a+1]=r.stopY,0!==(u=Qt(e,t,n,i,r.cx,r.cy,r.radius)).length&&c.push(u[0],u[1])}));for(var d=0;d<h.length/4;d++)0!==(u=er(e,t,n,i,h[4*d],h[4*d+1],h[4*d+2],h[4*d+3],!1)).length&&c.push(u[0],u[1]);if(c.length>2){for(var f=[c[0],c[1]],p=Math.pow(f[0]-e,2)+Math.pow(f[1]-t,2),g=1;g<c.length/2;g++){var m=Math.pow(c[2*g]-e,2)+Math.pow(c[2*g+1]-t,2);m<=p&&(f[0]=c[2*g],f[1]=c[2*g+1],p=m)}return f}return c}(i,a,this.points,e,t,0,0,0,this.getOrCreateCorners(e,t,r,n,s,l,"corners"))},checkPoint:function(e,t,r,n,i,a,o,s,l){return function(e,t,r,n,i,a,o,s){for(var l=new Array(2*r.length),u=0;u<s.length;u++){var c=s[u];if(l[4*u+0]=c.startX,l[4*u+1]=c.startY,l[4*u+2]=c.stopX,l[4*u+3]=c.stopY,Math.pow(c.cx-e,2)+Math.pow(c.cy-t,2)<=Math.pow(c.radius,2))return!0}return Gt(e,t,l)}(e,t,this.points,0,0,0,0,this.getOrCreateCorners(a,o,n,i,s,l,"corners"))}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:nr(4,0),draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},intersectLine:function(e,t,r,n,i,a,o,s){return Kt(i,a,e,t,r,n,o,s)},checkPoint:function(e,t,r,n,i,a,o,s){var l=n/2,u=i/2;s="auto"===s?or(n,i):s;var c=2*(s=Math.min(l,u,s));return!!(Vt(e,t,this.points,a,o,n,i-c,[0,-1],r)||Vt(e,t,this.points,a,o,n-c,i,[0,-1],r)||Zt(e,t,c,c,a-l+s,o-u+s,r)||Zt(e,t,c,c,a+l-s,o-u+s,r)||Zt(e,t,c,c,a+l-s,o+u-s,r)||Zt(e,t,c,c,a-l+s,o+u-s,r))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:nr(4,0),draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,null,a)},generateCutTrianglePts:function(e,t,r,n,i){var a="auto"===i?this.cornerLength:i,o=t/2,s=e/2,l=r-s,u=r+s,c=n-o,h=n+o;return{topLeft:[l,c+a,l+a,c,l+a,c+a],topRight:[u-a,c,u,c+a,u-a,c+a],bottomRight:[u,h-a,u-a,h,u-a,h-a],bottomLeft:[l+a,h,l,h-a,l+a,h-a]}},intersectLine:function(e,t,r,n,i,a,o,s){var l=this.generateCutTrianglePts(r+2*o,n+2*o,e,t,s),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return tr(i,a,u,e,t)},checkPoint:function(e,t,r,n,i,a,o,s){var l="auto"===s?this.cornerLength:s;if(Vt(e,t,this.points,a,o,n,i-2*l,[0,-1],r))return!0;if(Vt(e,t,this.points,a,o,n-2*l,i,[0,-1],r))return!0;var u=this.generateCutTrianglePts(n,i,a,o);return Gt(e,t,u.topLeft)||Gt(e,t,u.topRight)||Gt(e,t,u.bottomRight)||Gt(e,t,u.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:nr(4,0),draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,n,i,a,o,s){var l=this.generateBarrelBezierPts(r+2*o,n+2*o,e,t),u=function(e){var t=Ot({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),r=Ot({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),n=Ot({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,r.x,r.y,n.x,n.y,e[4],e[5]]},c=[].concat(u(l.topLeft),u(l.topRight),u(l.bottomRight),u(l.bottomLeft));return tr(i,a,c,e,t)},generateBarrelBezierPts:function(e,t,r,n){var i=t/2,a=e/2,o=r-a,s=r+a,l=n-i,u=n+i,c=lr(e,t),h=c.heightOffset,d=c.widthOffset,f=c.ctrlPtOffsetPct*e,p={topLeft:[o,l+h,o+f,l,o+d,l],topRight:[s-d,l,s-f,l,s,l+h],bottomRight:[s,u-h,s-f,u,s-d,u],bottomLeft:[o+d,u,o+f,u,o,u-h]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,r,n,i,a,o,s){var l=lr(n,i),u=l.heightOffset,c=l.widthOffset;if(Vt(e,t,this.points,a,o,n,i-2*u,[0,-1],r))return!0;if(Vt(e,t,this.points,a,o,n-2*c,i,[0,-1],r))return!0;for(var h=this.generateBarrelBezierPts(n,i,a,o),d=function(e,t,r){var n,i,a=r[4],o=r[2],s=r[0],l=r[5],u=r[1],c=Math.min(a,s),h=Math.max(a,s),d=Math.min(l,u),f=Math.max(l,u);if(c<=e&&e<=h&&d<=t&&t<=f){var p=[(n=a)-2*(i=o)+s,2*(i-n),n],g=function(e,t,r,n){var i=t*t-4*e*(r-=n);if(i<0)return[];var a=Math.sqrt(i),o=2*e;return[(-t+a)/o,(-t-a)/o]}(p[0],p[1],p[2],e).filter((function(e){return 0<=e&&e<=1}));if(g.length>0)return g[0]}return null},f=Object.keys(h),p=0;p<f.length;p++){var g=h[f[p]],m=d(e,t,g);if(null!=m){var y=g[5],v=g[3],b=g[1],x=Ft(y,v,b,m);if(g.isTop&&x<=t)return!0;if(g.isBottom&&t<=x)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:nr(4,0),draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},intersectLine:function(e,t,r,n,i,a,o,s){var l=t-(n/2+o),u=er(i,a,e,t,e-(r/2+o),l,e+(r/2+o),l,!1);return u.length>0?u:Kt(i,a,e,t,r,n,o,s)},checkPoint:function(e,t,r,n,i,a,o,s){var l=2*(s="auto"===s?or(n,i):s);if(Vt(e,t,this.points,a,o,n,i-l,[0,-1],r))return!0;if(Vt(e,t,this.points,a,o,n-l,i,[0,-1],r))return!0;var u=n/2+2*r,c=i/2+2*r;return!!Gt(e,t,[a-u,o-c,a-u,o,a+u,o,a+u,o-c])||!!Zt(e,t,l,l,a+n/2-s,o+i/2-s,r)||!!Zt(e,t,l,l,a-n/2+s,o+i/2-s,r)}}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",nr(3,0)),this.generateRoundPolygon("round-triangle",nr(3,0)),this.generatePolygon("rectangle",nr(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r),this.generatePolygon("pentagon",nr(5,0)),this.generateRoundPolygon("round-pentagon",nr(5,0)),this.generatePolygon("hexagon",nr(6,0)),this.generateRoundPolygon("round-hexagon",nr(6,0)),this.generatePolygon("heptagon",nr(7,0)),this.generateRoundPolygon("round-heptagon",nr(7,0)),this.generatePolygon("octagon",nr(8,0)),this.generateRoundPolygon("round-octagon",nr(8,0));var n=new Array(20),i=ar(5,0),a=ar(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[2*s]*=o,a[2*s+1]*=o;for(s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=a[2*s],n[4*s+3]=a[2*s+1];n=ir(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),e.makePolygon=function(e){var r,n="polygon-"+e.join("$");return(r=this[n])?r:t.generatePolygon(n,e)}}},Nl={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||Ve();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Ke("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort((function(e,t){return t.priority-e.priority}))}}},Ll=function(e,t,r){for(var n=e.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(t,r)};Nl.startRenderLoop=function(){var e=this,t=e.cy;e.renderLoopStarted||(e.renderLoopStarted=!0,De((function r(n){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){Ll(e,!0,n);var i=ke();e.render(e.renderOptions);var a=e.lastDrawTime=ke();void 0===e.averageRedrawTime&&(e.averageRedrawTime=a-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=a-i;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else Ll(e,!1,n);e.skipFrame=!1,De(r)}})))};var Il=function(e){this.init(e)},Rl=Il.prototype;Rl.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Rl.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",l=null!=i.getElementById(o);if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!l){var u=i.createElement("style");u.id=o,u.textContent="."+s+" { position: relative; }",a.insertBefore(u,a.children[0])}"static"===n.getComputedStyle(r).getPropertyValue("position")&&Ue("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=k(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},Rl.notify=function(e,t){var r=this,n=r.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&n.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&r.invalidateCachedZSortedEles(),"viewport"===e&&r.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):r.destroy():r.load())},Rl.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r.target;(n.off||n.removeEventListener).apply(n,r.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},Rl.isHeadless=function(){return!1},[Gs,Sl,Fl,Ol,Bl,Nl].forEach((function(e){q(Rl,e)}));var Ml=1e3/60,Pl=function(e){return function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var n=ve((function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()}),e.deqRedrawThreshold),i=e.priority||je;r.beforeRender((function(i,a){var o=ke(),s=r.averageRedrawTime,l=r.lastRedrawTime,u=[],c=r.cy.extent(),h=r.getPixelRatio();for(i||r.flushRenderedStyleQueue();;){var d=ke(),f=d-o,p=d-a;if(l<Ml){var g=Ml-(i?s:0);if(p>=e.deqFastCost*g)break}else if(i){if(f>=e.deqCost*l||f>=e.deqAvgCost*s)break}else if(p>=e.deqNoDrawCost*Ml)break;var m=e.deq(t,h,c);if(!(m.length>0))break;for(var y=0;y<m.length;y++)u.push(m[y])}u.length>0&&(e.onDeqd(t,u),!i&&e.shouldRedraw(t,u,h,c)&&n())}),i(t))}}},zl=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze;i(this,e),this.idsByKey=new et,this.keyForId=new et,this.cachesByLvl=new et,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return o(e,[{key:"getIdsFor",value:function(e){null==e&&Ke("Can not get id list for null key");var t=this.idsByKey,r=this.idsByKey.get(e);return r||(r=new rt,t.set(e,r)),r}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),r=this.keyForId.get(t),n=this.getKey(e);this.deleteIdForKey(r,t),this.addIdForKey(n,t),this.keyForId.set(t,n)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),r=this.keyForId.get(t);this.deleteIdForKey(r,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,r=this.lvls,n=t.get(e);return n||(n=new et,t.set(e,n),r.push(e)),n}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var r=this.getKey(e),n=this.getCache(r,t);return null!=n&&this.updateKeyMappingFor(e),n}},{key:"getForCachedKey",value:function(e,t){var r=this.keyForId.get(e.id());return this.getCache(r,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var r=this.getKey(e);return this.hasCache(r,t)}},{key:"setCache",value:function(e,t,r){r.key=e,this.getCachesAt(t).set(e,r)}},{key:"set",value:function(e,t,r){var n=this.getKey(e);this.setCache(n,t,r),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var r=this.getKey(e);this.deleteCache(r,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach((function(r){return t.deleteCache(e,r)}))}},{key:"invalidate",value:function(e){var t=e.id(),r=this.keyForId.get(t);this.deleteKeyMappingFor(e);var n=this.doesEleInvalidateKey(e);return n&&this.invalidateKey(r),n||0===this.getNumberOfIdsForKey(r)}}]),e}(),$l={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},jl=Ye({getKey:null,doesEleInvalidateKey:ze,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Pe,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Kl=function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var n=jl(t);q(r,n),r.lookup=new zl(n.getKey,n.doesEleInvalidateKey),r.setupDequeueing()},ql=Kl.prototype;ql.reasons=$l,ql.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},ql.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},ql.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new st((function(e,t){return t.reqs-e.reqs}))},ql.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},ql.getElement=function(e,t,r,n,i){var a=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(null==n&&(n=Math.ceil(At(s*r))),n<-4)n=-4;else if(s>=7.99||n>3)return null;var u=Math.pow(2,n),c=t.h*u,h=t.w*u,d=o.eleTextBiggerThanMin(e,u);if(!this.isVisible(e,d))return null;var f,p=l.get(e,n);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(f=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||h>1024)return null;var g=a.getTextureQueue(f),m=g[g.length-2],y=function(){return a.recycleTexture(f,h)||a.addTexture(f,h)};m||(m=g[g.length-1]),m||(m=y()),m.width-m.usedWidth<h&&(m=y());for(var v,b=function(e){return e&&e.scaledLabelShown===d},x=i&&i===$l.dequeue,w=i&&i===$l.highQuality,D=i&&i===$l.downscale,k=n+1;k<=3;k++){var E=l.get(e,k);if(E){v=E;break}}var A=v&&v.level===n+1?v:null,C=function(){m.context.drawImage(A.texture.canvas,A.x,0,A.width,A.height,m.usedWidth,0,h,c)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,h,f),b(A))C();else if(b(v)){if(!w)return a.queueElement(e,v.level-1),v;for(var _=v.level;_>n;_--)A=a.getElement(e,t,r,_,$l.downscale);C()}else{var T;if(!x&&!w&&!D)for(var S=n-1;S>=-4;S--){var F=l.get(e,S);if(F){T=F;break}}if(b(T))return a.queueElement(e,n),T;m.context.translate(m.usedWidth,0),m.context.scale(u,u),this.drawElement(m.context,e,t,d,!1),m.context.scale(1/u,1/u),m.context.translate(-m.usedWidth,0)}return p={x:m.usedWidth,texture:m,level:n,scale:u,width:h,height:c,scaledLabelShown:d},m.usedWidth+=Math.ceil(h+8),m.eleCaches.push(p),l.set(e,n,p),a.checkTextureFullness(m),p},ql.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},ql.invalidateElement=function(e){var t=this,r=t.lookup,n=[];if(r.isInvalid(e)){for(var i=-4;i<=3;i++){var a=r.getForCachedKey(e,i);a&&n.push(a)}if(r.invalidate(e))for(var o=0;o<n.length;o++){var s=n[o],l=s.texture;l.invalidatedWidth+=s.width,s.invalidated=!0,t.checkTextureUtility(l)}t.removeFromQueue(e)}},ql.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},ql.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Xe(t,e):e.fullnessChecks++},ql.retireTexture=function(e){var t=e.height,r=this.getTextureQueue(t),n=this.lookup;Xe(r,e),e.retired=!0;for(var i=e.eleCaches,a=0;a<i.length;a++){var o=i[a];n.deleteCache(o.key,o.level)}Ze(i),this.getRetiredTextureQueue(t).push(e)},ql.addTexture=function(e,t){var r={};return this.getTextureQueue(e).push(r),r.eleCaches=[],r.height=e,r.width=Math.max(1024,t),r.usedWidth=0,r.invalidatedWidth=0,r.fullnessChecks=0,r.canvas=this.renderer.makeOffscreenCanvas(r.width,r.height),r.context=r.canvas.getContext("2d"),r},ql.recycleTexture=function(e,t){for(var r=this.getTextureQueue(e),n=this.getRetiredTextureQueue(e),i=0;i<n.length;i++){var a=n[i];if(a.width>=t)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,Ze(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),Xe(n,a),r.push(a),a}},ql.queueElement=function(e,t){var r=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(e),a=n[i];if(a)a.level=Math.max(a.level,t),a.eles.merge(e),a.reqs++,r.updateItem(a);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:i};r.push(o),n[i]=o}},ql.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=[],a=t.lookup,o=0;o<1&&r.size()>0;o++){var s=r.pop(),l=s.key,u=s.eles[0],c=a.hasCache(u,s.level);if(n[l]=null,!c){i.push(s);var h=t.getBoundingBox(u);t.getElement(u,h,e,s.level,$l.dequeue)}}return i},ql.removeFromQueue=function(e){var t=this.getElementQueue(),r=this.getElementKeyToQueue(),n=this.getKey(e),i=r[n];null!=i&&(1===i.eles.length?(i.reqs=Me,t.updateItem(i),t.pop(),r[n]=null):i.eles.unmerge(e))},ql.onDequeue=function(e){this.onDequeues.push(e)},ql.offDequeue=function(e){Xe(this.onDequeues,e)},ql.setupDequeueing=Pl({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,r){return e.dequeue(t,r)},onDeqd:function(e,t){for(var r=0;r<e.onDequeues.length;r++)(0,e.onDequeues[r])(t)},shouldRedraw:function(e,t,r,n){for(var i=0;i<t.length;i++)for(var a=t[i].eles,o=0;o<a.length;o++){var s=a[o].boundingBox();if(zt(s,n))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Ul=function(e){var t=this,r=t.renderer=e,n=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=ke()-500,t.skipping=!1,t.eleTxrDeqs=n.collection(),t.scheduleElementRefinement=ve((function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)}),50),r.beforeRender((function(e,r){r-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1}),r.beforeRenderPriorities.lyrTxrSkip),t.layersQueue=new st((function(e,t){return t.reqs-e.reqs})),t.setupDequeueing()},Hl=Ul.prototype,Wl=0,Gl=Math.pow(2,53)-1;Hl.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(n,i),o={id:Wl=++Wl%Gl,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(r,r),s.translate(l,u),o},Hl.getLayers=function(e,t,r){var n=this,i=n.renderer.cy.zoom(),a=n.firstGet;if(n.firstGet=!1,null==r)if((r=Math.ceil(At(i*t)))<-4)r=-4;else if(i>=3.99||r>2)return null;n.validateLayersElesOrdering(r,e);var o,s,l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[];if(n.levelIsComplete(r,e))return c;!function(){var t=function(t){if(n.validateLayersElesOrdering(t,e),n.levelIsComplete(t,e))return s=l[t],!0},i=function(e){if(!s)for(var n=r+e;-4<=n&&n<=2&&!t(n);n+=e);};i(1),i(-1);for(var a=c.length-1;a>=0;a--){var o=c[a];o.invalid&&Xe(c,o)}}();var h=function(t){var i=(t=t||{}).after;!function(){if(!o){o=Nt();for(var t=0;t<e.length;t++)Lt(o,e[t].boundingBox())}}();var a=Math.ceil(o.w*u),s=Math.ceil(o.h*u);if(a>32767||s>32767)return null;if(a*s>16e6)return null;var l=n.makeLayer(o,r);if(null!=i){var h=c.indexOf(i)+1;c.splice(h,0,l)}else(void 0===t.insert||t.insert)&&c.unshift(l);return l};if(n.skipping&&!a)return null;for(var d=null,f=e.length/1,p=!a,g=0;g<e.length;g++){var m=e[g],y=m._private.rscratch,v=y.imgLayerCaches=y.imgLayerCaches||{},b=v[r];if(b)d=b;else{if((!d||d.eles.length>=f||!jt(d.bb,m.boundingBox()))&&!(d=h({insert:!0,after:d})))return null;s||p?n.queueLayer(d,m):n.drawEleInLayer(d,m,r,t),d.eles.push(m),v[r]=d}}return s||(p?null:c)},Hl.getEleLevelForLayerLevel=function(e,t){return e},Hl.drawEleInLayer=function(e,t,r,n){var i=this.renderer,a=e.context,o=t.boundingBox();0!==o.w&&0!==o.h&&t.visible()&&(r=this.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(a,!1),i.drawCachedElement(a,t,null,null,r,!0),i.setImgSmoothing(a,!0))},Hl.levelIsComplete=function(e,t){var r=this.layersByLevel[e];if(!r||0===r.length)return!1;for(var n=0,i=0;i<r.length;i++){var a=r[i];if(a.reqs>0)return!1;if(a.invalid)return!1;n+=a.eles.length}return n===t.length},Hl.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0)this.invalidateLayer(i);else{var s=a;for(o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}}},Hl.updateElementsInLayers=function(e,t){for(var r=C(e[0]),n=0;n<e.length;n++)for(var i=r?null:e[n],a=r?e[n]:e[n].ele,o=a._private.rscratch,s=o.imgLayerCaches=o.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(i&&this.getEleLevelForLayerLevel(u.level)!==i.level||t(u,a,i))}},Hl.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var r=this.layersByLevel[t];if(r&&r.length>0){e=!0;break}}return e},Hl.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=ke(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,(function(e,r,n){t.invalidateLayer(e)})))},Hl.invalidateLayer=function(e){if(this.lastInvalidationTime=ke(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];Xe(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},Hl.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,(function(e,r,n){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var a=0;a<i.eles.length;a++)t.queueLayer(i,i.eles[a])}))},Hl.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Hl.queueLayer=function(e,t){var r=this.layersQueue,n=e.elesQueue,i=n.hasId=n.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;n.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}},Hl.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<1&&0!==r.size();){var a=r.peek();if(a.replacement)r.pop();else if(a.replaces&&a!==a.replaces.replacement)r.pop();else if(a.invalid)r.pop();else{var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,e),i++),0===n.length&&n.push(!0),0===a.elesQueue.length&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}}return n},Hl.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],r=e.replaces,n=t.indexOf(r);if(!(n<0||r.invalid)){t[n]=e;for(var i=0;i<e.eles.length;i++){var a=e.eles[i]._private,o=a.imgLayerCaches=a.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},Hl.requestRedraw=ve((function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()}),100),Hl.setupDequeueing=Pl({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:je,shouldRedraw:Pe,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Vl,Yl={};function Xl(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function Zl(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];0===i&&(n=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Ql(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var o=r,s=r[0];for(e.moveTo(s.x,s.y),i=1;i<o.length;i++)a=o[i],e.lineTo(a.x,a.y);e.closePath&&e.closePath()}function Jl(e,t,r,n,i){e.beginPath&&e.beginPath(),e.arc(r,n,i,0,2*Math.PI,!1);var a=t,o=a[0];e.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var l=a[s];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function eu(e,t,r,n){e.arc(t,r,n,0,2*Math.PI,!1)}Yl.arrowShapeImpl=function(e){return(Vl||(Vl={polygon:Xl,"triangle-backcurve":Zl,"triangle-tee":Ql,"circle-triangle":Jl,"triangle-cross":Ql,circle:eu}))[e]};var tu={drawElement:function(e,t,r,n,i,a){t.isNode()?this.drawNode(e,t,r,n,i,a):this.drawEdge(e,t,r,n,i,a)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,r,n,i,a,o,s){var l=this,u=r.getBoundingBox(t);if(0!==u.w&&0!==u.h){var c=r.getElement(t,u,n,i,a);if(null!=c){var h=s(l,t);if(0===h)return;var d,f,p,g,m,y,v=o(l,t),b=u.x1,x=u.y1,w=u.w,D=u.h;if(0!==v){var k=r.getRotationPoint(t);p=k.x,g=k.y,e.translate(p,g),e.rotate(v),(m=l.getImgSmoothing(e))||l.setImgSmoothing(e,!0);var E=r.getRotationOffset(t);d=E.x,f=E.y}else d=b,f=x;1!==h&&(y=e.globalAlpha,e.globalAlpha=y*h),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,d,f,w,D),1!==h&&(e.globalAlpha=y),0!==v&&(e.rotate(-v),e.translate(-p,-g),m||l.setImgSmoothing(e,!1))}else r.drawElement(e,t)}}},ru=function(){return 0},nu=function(e,t){return e.getTextAngle(t,null)},iu=function(e,t){return e.getTextAngle(t,"source")},au=function(e,t){return e.getTextAngle(t,"target")},ou=function(e,t){return t.effectiveOpacity()},su=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};tu.drawCachedElement=function(e,t,r,n,i,a){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,h=s.tlbTxrCache,d=t.boundingBox(),f=!0===a?l.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&t.visible()&&(!n||zt(d,n))){var p=t.isEdge(),g=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,l,r,i,f,ru,ou),p&&g||o.drawCachedElementPortion(e,t,u,r,i,f,nu,su),p&&!g&&(o.drawCachedElementPortion(e,t,c,r,i,f,iu,su),o.drawCachedElementPortion(e,t,h,r,i,f,au,su)),o.drawElementOverlay(e,t)}},tu.drawElements=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];this.drawElement(e,n)}},tu.drawCachedElements=function(e,t,r,n){for(var i=0;i<t.length;i++){var a=t[i];this.drawCachedElement(e,a,r,n)}},tu.drawCachedNodes=function(e,t,r,n){for(var i=0;i<t.length;i++){var a=t[i];a.isNode()&&this.drawCachedElement(e,a,r,n)}},tu.drawLayeredElements=function(e,t,r,n){var i=this.data.lyrTxrCache.getLayers(t,r);if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o.bb;0!==s.w&&0!==s.h&&e.drawImage(o.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,r,n)};var lu={drawEdge:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,s=t._private.rscratch;if((!a||t.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var l;r&&(l=r,e.translate(-l.x1,-l.y1));var u=a?t.pstyle("opacity").value:1,c=a?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,d=t.pstyle("line-style").value,f=t.pstyle("width").pfValue,p=t.pstyle("line-cap").value,g=t.pstyle("line-outline-width").value,m=t.pstyle("line-outline-color").value,y=u*c,v=u*c,b=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;"straight-triangle"===h?(o.eleStrokeStyle(e,t,r),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=f,e.lineCap=p,o.eleStrokeStyle(e,t,r),o.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")},x=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;o.drawArrowheads(e,t,r)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var w=t.pstyle("ghost-offset-x").pfValue,D=t.pstyle("ghost-offset-y").pfValue,k=t.pstyle("ghost-opacity").value,E=y*k;e.translate(w,D),b(E),x(E),e.translate(-w,-D)}else!function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y;e.lineWidth=f+g,e.lineCap=p,g>0?(o.colorStrokeStyle(e,m[0],m[1],m[2],r),"straight-triangle"===h?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")):e.lineCap="butt"}();i&&o.drawEdgeUnderlay(e,t),b(),x(),i&&o.drawEdgeOverlay(e,t),o.drawElementText(e,t,null,n),r&&e.translate(l.x1,l.y1)}}},uu=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var n=r.pstyle("".concat(e,"-opacity")).value;if(0!==n){var i=this,a=i.usePaths(),o=r._private.rscratch,s=2*r.pstyle("".concat(e,"-padding")).pfValue,l=r.pstyle("".concat(e,"-color")).value;t.lineWidth=s,"self"!==o.edgeType||a?t.lineCap="round":t.lineCap="butt",i.colorStrokeStyle(t,l[0],l[1],l[2],n),i.drawEdgePath(r,t,o.allpts,"solid")}}}};lu.drawEdgeOverlay=uu("overlay"),lu.drawEdgeUnderlay=uu("underlay"),lu.drawEdgePath=function(e,t,r,n){var i,a=e._private.rscratch,o=t,s=!1,l=this.usePaths(),u=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(l){var d=r.join("$");a.pathCacheKey&&a.pathCacheKey===d?(i=t=a.pathCache,s=!0):(i=t=new Path2D,a.pathCacheKey=d,a.pathCache=i)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(u),o.lineDashOffset=c;break;case"solid":o.setLineDash([])}if(!s&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var f=2;f+3<r.length;f+=4)t.quadraticCurveTo(r[f],r[f+1],r[f+2],r[f+3]);break;case"straight":case"haystack":for(var p=2;p+1<r.length;p+=2)t.lineTo(r[p],r[p+1]);break;case"segments":if(a.isRound){var g,m=h(a.roundCorners);try{for(m.s();!(g=m.n()).done;)ml(t,g.value)}catch(e){m.e(e)}finally{m.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var y=2;y+1<r.length;y+=2)t.lineTo(r[y],r[y+1])}t=o,l?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},lu.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],l=[s[0]*n/2,s[1]*n/2];t.beginPath(),t.moveTo(r[i]-l[0],r[i+1]-l[1]),t.lineTo(r[i]+l[0],r[i+1]+l[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}},lu.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i="haystack"===n.edgeType;i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},lu.drawArrowhead=function(e,t,r,n,i,a,o){if(!(isNaN(n)||null==n||isNaN(i)||null==i||isNaN(a)||null==a)){var s=this,l=t.pstyle(r+"-arrow-shape").value;if("none"!==l){var u="hollow"===t.pstyle(r+"-arrow-fill").value?"both":"filled",c=t.pstyle(r+"-arrow-fill").value,h=t.pstyle("width").pfValue,d=t.pstyle(r+"-arrow-width"),f="match-line"===d.value?h:d.pfValue;"%"===d.units&&(f*=h);var p=t.pstyle("opacity").value;void 0===o&&(o=p);var g=e.globalCompositeOperation;1===o&&"hollow"!==c||(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,u,h,l,f,n,i,a),e.globalCompositeOperation=g);var m=t.pstyle(r+"-arrow-color").value;s.colorFillStyle(e,m[0],m[1],m[2],o),s.colorStrokeStyle(e,m[0],m[1],m[2],o),s.drawArrowShape(t,e,c,h,l,f,n,i,a)}}},lu.drawArrowShape=function(e,t,r,n,i,a,o,s,l){var u,c=this,h=this.usePaths()&&"triangle-cross"!==i,d=!1,f=t,p={x:o,y:s},g=e.pstyle("arrow-scale").value,m=this.getArrowWidth(n,g),y=c.arrowShapes[i];if(h){var v=c.arrowPathCache=c.arrowPathCache||[],b=Oe(i),x=v[b];null!=x?(u=t=x,d=!0):(u=t=new Path2D,v[b]=u)}d||(t.beginPath&&t.beginPath(),h?y.draw(t,1,0,{x:0,y:0},1):y.draw(t,m,l,p,n),t.closePath&&t.closePath()),t=f,h&&(t.translate(o,s),t.rotate(l),t.scale(m,m)),"filled"!==r&&"both"!==r||(h?t.fill(u):t.fill()),"hollow"!==r&&"both"!==r||(t.lineWidth=a/(h?m:1),t.lineJoin="miter",h?t.stroke(u):t.stroke()),h&&(t.scale(1/m,1/m),t.rotate(-l),t.translate(-o,-s))};var cu={safeDrawImage:function(e,t,r,n,i,a,o,s,l,u){if(!(i<=0||a<=0||l<=0||u<=0))try{e.drawImage(t,r,n,i,a,o,s,l,u)}catch(e){Ue(e)}},drawInscribedImage:function(e,t,r,n,i){var a=this,o=r.position(),s=o.x,l=o.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),h=c(r,"background-fit","value",n),d=c(r,"background-repeat","value",n),f=r.width(),p=r.height(),g=2*r.padding(),m=f+("inner"===c(r,"background-width-relative-to","value",n)?0:g),y=p+("inner"===c(r,"background-height-relative-to","value",n)?0:g),v=r._private.rscratch,b="node"===c(r,"background-clip","value",n),x=c(r,"background-image-opacity","value",n)*i,w=c(r,"background-image-smoothing","value",n),D=r.pstyle("corner-radius").value;"auto"!==D&&(D=r.pstyle("corner-radius").pfValue);var k=t.width||t.cachedW,E=t.height||t.cachedH;null!=k&&null!=E||(document.body.appendChild(t),k=t.cachedW=t.width||t.offsetWidth,E=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var A=k,C=E;if("auto"!==c(r,"background-width","value",n)&&(A="%"===c(r,"background-width","units",n)?c(r,"background-width","pfValue",n)*m:c(r,"background-width","pfValue",n)),"auto"!==c(r,"background-height","value",n)&&(C="%"===c(r,"background-height","units",n)?c(r,"background-height","pfValue",n)*y:c(r,"background-height","pfValue",n)),0!==A&&0!==C){if("contain"===h)A*=_=Math.min(m/A,y/C),C*=_;else if("cover"===h){var _;A*=_=Math.max(m/A,y/C),C*=_}var T=s-m/2,S=c(r,"background-position-x","units",n),F=c(r,"background-position-x","pfValue",n);T+="%"===S?(m-A)*F:F;var O=c(r,"background-offset-x","units",n),B=c(r,"background-offset-x","pfValue",n);T+="%"===O?(m-A)*B:B;var N=l-y/2,L=c(r,"background-position-y","units",n),I=c(r,"background-position-y","pfValue",n);N+="%"===L?(y-C)*I:I;var R=c(r,"background-offset-y","units",n),M=c(r,"background-offset-y","pfValue",n);N+="%"===R?(y-C)*M:M,v.pathCache&&(T-=s,N-=l,s=0,l=0);var P=e.globalAlpha;e.globalAlpha=x;var z=a.getImgSmoothing(e),$=!1;if("no"===w&&z?(a.setImgSmoothing(e,!1),$=!0):"yes"!==w||z||(a.setImgSmoothing(e,!0),$=!0),"no-repeat"===d)b&&(e.save(),v.pathCache?e.clip(v.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,s,l,m,y,D,v),e.clip())),a.safeDrawImage(e,t,0,0,k,E,T,N,A,C),b&&e.restore();else{var j=e.createPattern(t,d);e.fillStyle=j,a.nodeShapes[a.getNodeShape(r)].draw(e,s,l,m,y,D,v),e.translate(T,N),e.fill(),e.translate(-T,-N)}e.globalAlpha=P,$&&a.setImgSmoothing(e,z)}}},hu={};function du(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+a,r),e.lineTo(t+n-a,r),e.quadraticCurveTo(t+n,r,t+n,r+a),e.lineTo(t+n,r+i-a),e.quadraticCurveTo(t+n,r+i,t+n-a,r+i),e.lineTo(t+a,r+i),e.quadraticCurveTo(t,r+i,t,r+i-a),e.lineTo(t,r+a),e.quadraticCurveTo(t,r,t+a,r),e.closePath(),o?e.stroke():e.fill()}hu.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(At(r*n));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},hu.drawElementText=function(e,t,r,n,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==n){if(a&&!o.eleTextBiggerThanMin(t))return}else if(!1===n)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var u=t.element()._private.rscratch.badLine,c=t.pstyle("label"),h=t.pstyle("source-label"),d=t.pstyle("target-label");if(u||(!c||!c.value)&&(!h||!h.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var f,p=!r;r&&(f=r,e.translate(-f.x1,-f.y1)),null==i?(o.drawText(e,t,null,p,a),t.isEdge()&&(o.drawText(e,t,"source",p,a),o.drawText(e,t,"target",p,a))):o.drawText(e,t,i,p,a),r&&e.translate(f.x1,f.y1)},hu.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if((t=this.fontCaches[r]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},hu.setupTextStyle=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,u[0],u[1],u[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],l)},hu.getTextAngle=function(e,t){var r=e._private.rscratch,n=t?t+"-":"",i=e.pstyle(n+"text-rotation"),a=Qe(r,"labelAngle",t);return"autorotate"===i.strValue?e.isEdge()?a:0:"none"===i.strValue?0:i.pfValue},hu.drawText=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=t._private.rscratch,o=i?t.effectiveOpacity():1;if(!i||0!==o&&0!==t.pstyle("text-opacity").value){"main"===r&&(r=null);var s,l,u=Qe(a,"labelX",r),c=Qe(a,"labelY",r),h=this.getLabelText(t,r);if(null!=h&&""!==h&&!isNaN(u)&&!isNaN(c)){this.setupTextStyle(e,t,i);var d,f=r?r+"-":"",p=Qe(a,"labelWidth",r),g=Qe(a,"labelHeight",r),m=t.pstyle(f+"text-margin-x").pfValue,y=t.pstyle(f+"text-margin-y").pfValue,v=t.isEdge(),b=t.pstyle("text-halign").value,x=t.pstyle("text-valign").value;switch(v&&(b="center",x="center"),u+=m,c+=y,0!==(d=n?this.getTextAngle(t,r):0)&&(s=u,l=c,e.translate(s,l),e.rotate(d),u=0,c=0),x){case"top":break;case"center":c+=g/2;break;case"bottom":c+=g}var w=t.pstyle("text-background-opacity").value,D=t.pstyle("text-border-opacity").value,k=t.pstyle("text-border-width").pfValue,E=t.pstyle("text-background-padding").pfValue,A=0===t.pstyle("text-background-shape").strValue.indexOf("round");if(w>0||k>0&&D>0){var C=u-E;switch(b){case"left":C-=p;break;case"center":C-=p/2}var _=c-g-E,T=p+2*E,S=g+2*E;if(w>0){var F=e.fillStyle,O=t.pstyle("text-background-color").value;e.fillStyle="rgba("+O[0]+","+O[1]+","+O[2]+","+w*o+")",A?du(e,C,_,T,S,2):e.fillRect(C,_,T,S),e.fillStyle=F}if(k>0&&D>0){var B=e.strokeStyle,N=e.lineWidth,L=t.pstyle("text-border-color").value,I=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+L[0]+","+L[1]+","+L[2]+","+D*o+")",e.lineWidth=k,e.setLineDash)switch(I){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=k/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(A?du(e,C,_,T,S,2,"stroke"):e.strokeRect(C,_,T,S),"double"===I){var R=k/2;A?du(e,C+R,_+R,T-2*R,S-2*R,2,"stroke"):e.strokeRect(C+R,_+R,T-2*R,S-2*R)}e.setLineDash&&e.setLineDash([]),e.lineWidth=N,e.strokeStyle=B}}var M=2*t.pstyle("text-outline-width").pfValue;if(M>0&&(e.lineWidth=M),"wrap"===t.pstyle("text-wrap").value){var P=Qe(a,"labelWrapCachedLines",r),z=Qe(a,"labelLineHeight",r),$=p/2,j=this.getLabelJustification(t);switch("auto"===j||("left"===b?"left"===j?u+=-p:"center"===j&&(u+=-$):"center"===b?"left"===j?u+=-$:"right"===j&&(u+=$):"right"===b&&("center"===j?u+=$:"right"===j&&(u+=p))),x){case"top":case"center":case"bottom":c-=(P.length-1)*z}for(var K=0;K<P.length;K++)M>0&&e.strokeText(P[K],u,c),e.fillText(P[K],u,c),c+=z}else M>0&&e.strokeText(h,u,c),e.fillText(h,u,c);0!==d&&(e.rotate(-d),e.translate(-s,-l))}}};var fu={drawNode:function(e,t,r){var n,i,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,u=t._private,c=u.rscratch,h=t.position();if(k(h.x)&&k(h.y)&&(!s||t.visible())){var d,f,p=s?t.effectiveOpacity():1,g=l.usePaths(),m=!1,y=t.padding();n=t.width()+2*y,i=t.height()+2*y,r&&(f=r,e.translate(-f.x1,-f.y1));for(var v=t.pstyle("background-image").value,b=new Array(v.length),x=new Array(v.length),w=0,D=0;D<v.length;D++){var E=v[D];if(b[D]=null!=E&&"none"!==E){var A=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",D);w++,x[D]=l.getCachedImage(E,A,(function(){u.backgroundTimestamp=Date.now(),t.emitAndNotify("background")}))}}var C=t.pstyle("background-blacken").value,_=t.pstyle("border-width").pfValue,T=t.pstyle("background-opacity").value*p,S=t.pstyle("border-color").value,F=t.pstyle("border-style").value,O=t.pstyle("border-join").value,B=t.pstyle("border-cap").value,N=t.pstyle("border-position").value,L=t.pstyle("border-dash-pattern").pfValue,I=t.pstyle("border-dash-offset").pfValue,R=t.pstyle("border-opacity").value*p,M=t.pstyle("outline-width").pfValue,P=t.pstyle("outline-color").value,z=t.pstyle("outline-style").value,$=t.pstyle("outline-opacity").value*p,j=t.pstyle("outline-offset").value,K=t.pstyle("corner-radius").value;"auto"!==K&&(K=t.pstyle("corner-radius").pfValue);var q=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;l.eleFillStyle(e,t,r)},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;l.colorStrokeStyle(e,S[0],S[1],S[2],t)},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;l.colorStrokeStyle(e,P[0],P[1],P[2],t)},W=function(e,t,r,n){var i,a=l.nodePathCache=l.nodePathCache||[],o=Be("polygon"===r?r+","+n.join(","):r,""+t,""+e,""+K),s=a[o],u=!1;return null!=s?(i=s,u=!0,c.pathCache=i):(i=new Path2D,a[o]=c.pathCache=i),{path:i,cacheHit:u}},G=t.pstyle("shape").strValue,V=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(h.x,h.y);var Y=W(n,i,G,V);d=Y.path,m=Y.cacheHit}var X=function(){if(!m){var r=h;g&&(r={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(d||e,r.x,r.y,n,i,K,c)}g?e.fill(d):e.fill()},Z=function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=u.backgrounding,a=0,o=0;o<x.length;o++){var s=t.cy().style().getIndexedStyle(t,"background-image-containment","value",o);n&&"over"===s||!n&&"inside"===s?a++:b[o]&&x[o].complete&&!x[o].error&&(a++,l.drawInscribedImage(e,x[o],t,o,r))}u.backgrounding=!(a===w),i!==u.backgrounding&&t.updateStyle(!1)},Q=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;l.hasPie(t)&&(l.drawPie(e,t,a),r&&(g||l.nodeShapes[l.getNodeShape(t)].draw(e,h.x,h.y,n,i,K,c)))},J=function(){var t=(C>0?C:-C)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p),r=C>0?0:255;0!==C&&(l.colorFillStyle(e,r,r,r,t),g?e.fill(d):e.fill())},ee=function(){if(_>0){if(e.lineWidth=_,e.lineCap=B,e.lineJoin=O,e.setLineDash)switch(F){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(L),e.lineDashOffset=I;break;case"solid":case"double":e.setLineDash([])}if("center"!==N){if(e.save(),e.lineWidth*=2,"inside"===N)g?e.clip(d):e.clip();else{var t=new Path2D;t.rect(-n/2-_,-i/2-_,n+2*_,i+2*_),t.addPath(d),e.clip(t,"evenodd")}g?e.stroke(d):e.stroke(),e.restore()}else g?e.stroke(d):e.stroke();if("double"===F){e.lineWidth=_/3;var r=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(d):e.stroke(),e.globalCompositeOperation=r}e.setLineDash&&e.setLineDash([])}},te=function(){if(M>0){if(e.lineWidth=M,e.lineCap="butt",e.setLineDash)switch(z){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var r=h;g&&(r={x:0,y:0});var a=l.getNodeShape(t),o=_;"inside"===N&&(o=0),"outside"===N&&(o*=2);var s,u=(n+o+(M+j))/n,c=(i+o+(M+j))/i,d=n*u,f=i*c,p=l.nodeShapes[a].points;if(g&&(s=W(d,f,a,p).path),"ellipse"===a)l.drawEllipsePath(s||e,r.x,r.y,d,f);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(a)){var m=0,y=0,v=0;"round-diamond"===a?m=1.4*(o+j+M):"round-heptagon"===a?(m=1.075*(o+j+M),v=-(o/2+j+M)/35):"round-hexagon"===a?m=1.12*(o+j+M):"round-pentagon"===a?(m=1.13*(o+j+M),v=-(o/2+j+M)/15):"round-tag"===a?(m=1.12*(o+j+M),y=.07*(o/2+M+j)):"round-triangle"===a&&(m=(o+j+M)*(Math.PI/2),v=-(o+j/2+M)/Math.PI),0!==m&&(d=n*(u=(n+m)/n),["round-hexagon","round-tag"].includes(a)||(f=i*(c=(i+m)/i)));for(var b=d/2,x=f/2,w=(K="auto"===K?sr(d,f):K)+(o+M+j)/2,D=new Array(p.length/2),k=new Array(p.length/2),E=0;E<p.length/2;E++)D[E]={x:r.x+y+b*p[2*E],y:r.y+v+x*p[2*E+1]};var A,C,T,S,F=D.length;for(C=D[F-1],A=0;A<F;A++)T=D[A%F],S=D[(A+1)%F],k[A]=yl(C,T,S,w),C=T,T=S;l.drawRoundPolygonPath(s||e,r.x+y,r.y+v,n*u,i*c,p,k)}else["roundrectangle","round-rectangle"].includes(a)?(K="auto"===K?or(d,f):K,l.drawRoundRectanglePath(s||e,r.x,r.y,d,f,K+(o+M+j)/2)):["cutrectangle","cut-rectangle"].includes(a)?(K="auto"===K?8:K,l.drawCutRectanglePath(s||e,r.x,r.y,d,f,null,K+(o+M+j)/4)):["bottomroundrectangle","bottom-round-rectangle"].includes(a)?(K="auto"===K?or(d,f):K,l.drawBottomRoundRectanglePath(s||e,r.x,r.y,d,f,K+(o+M+j)/2)):"barrel"===a?l.drawBarrelPath(s||e,r.x,r.y,d,f):a.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(a)?(p=Yt(Xt(p,(o+M+j)/n)),l.drawPolygonPath(s||e,r.x,r.y,n,i,p)):(p=Yt(Xt(p,-(o+M+j)/n)),l.drawPolygonPath(s||e,r.x,r.y,n,i,p));if(g?e.stroke(s):e.stroke(),"double"===z){e.lineWidth=o/3;var O=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(s):e.stroke(),e.globalCompositeOperation=O}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var re=t.pstyle("ghost-offset-x").pfValue,ne=t.pstyle("ghost-offset-y").pfValue,ie=t.pstyle("ghost-opacity").value,ae=ie*p;e.translate(re,ne),H(),te(),q(ie*T),X(),Z(ae,!0),U(ie*R),ee(),Q(0!==C||0!==_),Z(ae,!1),J(ae),e.translate(-re,-ne)}g&&e.translate(-h.x,-h.y),o&&l.drawNodeUnderlay(e,t,h,n,i),g&&e.translate(h.x,h.y),H(),te(),q(),X(),Z(p,!0),U(),ee(),Q(0!==C||0!==_),Z(p,!1),J(),g&&e.translate(-h.x,-h.y),l.drawElementText(e,t,null,a),o&&l.drawNodeOverlay(e,t,h,n,i),r&&e.translate(f.x1,f.y1)}}},pu=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,n,i,a){if(r.visible()){var o=r.pstyle("".concat(e,"-padding")).pfValue,s=r.pstyle("".concat(e,"-opacity")).value,l=r.pstyle("".concat(e,"-color")).value,u=r.pstyle("".concat(e,"-shape")).value,c=r.pstyle("".concat(e,"-corner-radius")).value;if(s>0){if(n=n||r.position(),null==i||null==a){var h=r.padding();i=r.width()+2*h,a=r.height()+2*h}this.colorFillStyle(t,l[0],l[1],l[2],s),this.nodeShapes[u].draw(t,n.x,n.y,i+2*o,a+2*o,c),t.fill()}}}};fu.drawNodeOverlay=pu("overlay"),fu.drawNodeUnderlay=pu("underlay"),fu.hasPie=function(e){return(e=e[0])._private.hasPie},fu.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=n.x,s=n.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,h=0;this.usePaths()&&(o=0,s=0),"%"===a.units?c*=a.pfValue:void 0!==a.pfValue&&(c=a.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var f=t.pstyle("pie-"+d+"-background-size").value,p=t.pstyle("pie-"+d+"-background-color").value,g=t.pstyle("pie-"+d+"-background-opacity").value*r,m=f/100;m+h>1&&(m=1-h);var y=1.5*Math.PI+2*Math.PI*h,v=y+2*Math.PI*m;0===f||h>=1||h+m>1||(e.beginPath(),e.moveTo(o,s),e.arc(o,s,c,y,v),e.closePath(),this.colorFillStyle(e,p[0],p[1],p[2],g),e.fill(),h+=m)}};for(var gu={getPixelRatio:function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r},paintCache:function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++)if((t=r[i]).context===e){n=!1;break}return n&&(t={context:e},r.push(t)),t},createGradientStyleFor:function(e,t,r,n,i){var a,o=this.usePaths(),s=r.pstyle(t+"-gradient-stop-colors").value,l=r.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===n)if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),h=r.midpoint(),d=_t(u,h),f=_t(c,h);a=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(d,f))}else{var p=o?{x:0,y:0}:r.position(),g=r.paddedWidth(),m=r.paddedHeight();a=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,m))}else if(r.isEdge()){var y=r.sourceEndpoint(),v=r.targetEndpoint();a=e.createLinearGradient(y.x,y.y,v.x,v.y)}else{var b=o?{x:0,y:0}:r.position(),x=r.paddedWidth()/2,w=r.paddedHeight()/2;switch(r.pstyle("background-gradient-direction").value){case"to-bottom":a=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":a=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":a=e.createLinearGradient(b.x+x,b.y,b.x-x,b.y);break;case"to-right":a=e.createLinearGradient(b.x-x,b.y,b.x+x,b.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(b.x-x,b.y-w,b.x+x,b.y+w);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(b.x-x,b.y+w,b.x+x,b.y-w);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(b.x+x,b.y-w,b.x-x,b.y+w);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(b.x+x,b.y+w,b.x-x,b.y-w)}}if(!a)return null;for(var D=l.length===s.length,k=s.length,E=0;E<k;E++)a.addColorStop(D?l[E]:E/(k-1),"rgba("+s[E][0]+","+s[E][1]+","+s[E][2]+","+i+")");return a},gradientFillStyle:function(e,t,r,n){var i=this.createGradientStyleFor(e,"background",t,r,n);if(!i)return null;e.fillStyle=i},colorFillStyle:function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"},eleFillStyle:function(e,t,r){var n=t.pstyle("background-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientFillStyle(e,t,n,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}},gradientStrokeStyle:function(e,t,r,n){var i=this.createGradientStyleFor(e,"line",t,r,n);if(!i)return null;e.strokeStyle=i},colorStrokeStyle:function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"},eleStrokeStyle:function(e,t,r){var n=t.pstyle("line-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientStrokeStyle(e,t,n,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}},matchCanvasSize:function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var l,u=i*o,c=a*o;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var h=r.canvasContainer;h.style.width=i+"px",h.style.height=a+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(l=r.canvases[d]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";for(d=0;d<t.BUFFER_COUNT;d++)(l=r.bufferCanvases[d]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";t.textureMult=1,o<=1&&(l=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},renderTo:function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},render:function(e){var t=(e=e||Ve()).forcedContext,r=e.drawAllLayers,n=e.drawOnlyNodeLayer,i=e.forcedZoom,a=e.forcedPan,o=this,s=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=o.cy,u=o.data,c=u.canvasNeedsRedraw,h=o.textureOnViewport&&!t&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:o.motionBlur,f=o.motionBlurPxRatio,p=l.hasCompoundNodes(),g=o.hoverData.draggingEles,m=!(!o.hoverData.selecting&&!o.touchData.selecting),y=d=d&&!t&&o.motionBlurEnabled&&!m;t||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!t&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),d&&(null==o.mbFrames&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(y=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!h&&(c[o.NODE]=!0,c[o.SELECT_BOX]=!0);var v=l.style(),b=l.zoom(),x=void 0!==i?i:b,w=l.pan(),D={x:w.x,y:w.y},k={zoom:b,pan:{x:w.x,y:w.y}},E=o.prevViewport;void 0===E||k.zoom!==E.zoom||k.pan.x!==E.pan.x||k.pan.y!==E.pan.y||g&&!p||(o.motionBlurPxRatio=1),a&&(D=a),x*=s,D.x*=s,D.y*=s;var A=o.getCachedZSortedEles();function C(e,t,r,n,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",o.colorFillStyle(e,255,255,255,o.motionBlurTransparency),e.fillRect(t,r,n,i),e.globalCompositeOperation=a}function _(e,n){var s,l,c,h;o.clearingMotionBlur||e!==u.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]&&e!==u.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]?(s=D,l=x,c=o.canvasWidth,h=o.canvasHeight):(s={x:w.x*f,y:w.y*f},l=b*f,c=o.canvasWidth*f,h=o.canvasHeight*f),e.setTransform(1,0,0,1,0,0),"motionBlur"===n?C(e,0,0,c,h):t||void 0!==n&&!n||e.clearRect(0,0,c,h),r||(e.translate(s.x,s.y),e.scale(l,l)),a&&e.translate(a.x,a.y),i&&e.scale(i,i)}if(h||(o.textureDrawLastFrame=!1),h){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var T=o.data.bufferContexts[o.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult}),(k=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight}).mpan={x:(0-k.pan.x)/k.zoom,y:(0-k.pan.y)/k.zoom}}c[o.DRAG]=!1,c[o.NODE]=!1;var S=u.contexts[o.NODE],F=o.textureCache.texture;k=o.textureCache.viewport,S.setTransform(1,0,0,1,0,0),d?C(S,0,0,k.width,k.height):S.clearRect(0,0,k.width,k.height);var O=v.core("outside-texture-bg-color").value,B=v.core("outside-texture-bg-opacity").value;o.colorFillStyle(S,O[0],O[1],O[2],B),S.fillRect(0,0,k.width,k.height),b=l.zoom(),_(S,!1),S.clearRect(k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s),S.drawImage(F,k.mpan.x,k.mpan.y,k.width/k.zoom/s,k.height/k.zoom/s)}else o.textureOnViewport&&!t&&(o.textureCache=null);var N=l.extent(),L=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),I=o.hideEdgesOnViewport&&L,R=[];if(R[o.NODE]=!c[o.NODE]&&d&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,R[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),R[o.DRAG]=!c[o.DRAG]&&d&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,R[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),c[o.NODE]||r||n||R[o.NODE]){var M=d&&!R[o.NODE]&&1!==f;_(S=t||(M?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:u.contexts[o.NODE]),d&&!M?"motionBlur":void 0),I?o.drawCachedNodes(S,A.nondrag,s,N):o.drawLayeredElements(S,A.nondrag,s,N),o.debug&&o.drawDebugPoints(S,A.nondrag),r||d||(c[o.NODE]=!1)}if(!n&&(c[o.DRAG]||r||R[o.DRAG])&&(M=d&&!R[o.DRAG]&&1!==f,_(S=t||(M?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:u.contexts[o.DRAG]),d&&!M?"motionBlur":void 0),I?o.drawCachedNodes(S,A.drag,s,N):o.drawCachedElements(S,A.drag,s,N),o.debug&&o.drawDebugPoints(S,A.drag),r||d||(c[o.DRAG]=!1)),o.showFps||!n&&c[o.SELECT_BOX]&&!r){if(_(S=t||u.contexts[o.SELECT_BOX]),1==o.selection[4]&&(o.hoverData.selecting||o.touchData.selecting)){b=o.cy.zoom();var P=v.core("selection-box-border-width").value/b;S.lineWidth=P,S.fillStyle="rgba("+v.core("selection-box-color").value[0]+","+v.core("selection-box-color").value[1]+","+v.core("selection-box-color").value[2]+","+v.core("selection-box-opacity").value+")",S.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),P>0&&(S.strokeStyle="rgba("+v.core("selection-box-border-color").value[0]+","+v.core("selection-box-border-color").value[1]+","+v.core("selection-box-border-color").value[2]+","+v.core("selection-box-opacity").value+")",S.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(u.bgActivePosistion&&!o.hoverData.selecting){b=o.cy.zoom();var z=u.bgActivePosistion;S.fillStyle="rgba("+v.core("active-bg-color").value[0]+","+v.core("active-bg-color").value[1]+","+v.core("active-bg-color").value[2]+","+v.core("active-bg-opacity").value+")",S.beginPath(),S.arc(z.x,z.y,v.core("active-bg-size").pfValue/b,0,2*Math.PI),S.fill()}var $=o.lastRedrawTime;if(o.showFps&&$){$=Math.round($);var j=Math.round(1e3/$);S.setTransform(1,0,0,1,0,0),S.fillStyle="rgba(255, 0, 0, 0.75)",S.strokeStyle="rgba(255, 0, 0, 0.75)",S.lineWidth=1,S.fillText("1 frame = "+$+" ms = "+j+" fps",0,20),S.strokeRect(0,30,250,20),S.fillRect(0,30,250*Math.min(j/60,1),20)}r||(c[o.SELECT_BOX]=!1)}if(d&&1!==f){var K=u.contexts[o.NODE],q=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],U=u.contexts[o.DRAG],H=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],W=function(e,t,r){e.setTransform(1,0,0,1,0,0),r||!y?e.clearRect(0,0,o.canvasWidth,o.canvasHeight):C(e,0,0,o.canvasWidth,o.canvasHeight);var n=f;e.drawImage(t,0,0,o.canvasWidth*n,o.canvasHeight*n,0,0,o.canvasWidth,o.canvasHeight)};(c[o.NODE]||R[o.NODE])&&(W(K,q,R[o.NODE]),c[o.NODE]=!1),(c[o.DRAG]||R[o.DRAG])&&(W(U,H,R[o.DRAG]),c[o.DRAG]=!1)}o.prevViewport=k,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),d&&(o.motionBlurTimeout=setTimeout((function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!h,o.mbFrames=0,c[o.NODE]=!0,c[o.DRAG]=!0,o.redraw()}),100)),t||l.emit("render")}},mu={drawPolygonPath:function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],r+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],r+s*a[2*l+1]);e.closePath()},drawRoundPolygonPath:function(e,t,r,n,i,a,o){o.forEach((function(t){return ml(e,t)})),e.closePath()},drawRoundRectanglePath:function(e,t,r,n,i,a){var o=n/2,s=i/2,l="auto"===a?or(n,i):Math.min(a,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+o,r-s,t+o,r,l),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.arcTo(t-o,r-s,t,r-s,l),e.lineTo(t,r-s),e.closePath()},drawBottomRoundRectanglePath:function(e,t,r,n,i,a){var o=n/2,s=i/2,l="auto"===a?or(n,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+o,r-s),e.lineTo(t+o,r),e.arcTo(t+o,r+s,t,r+s,l),e.arcTo(t-o,r+s,t-o,r,l),e.lineTo(t-o,r-s),e.lineTo(t,r-s),e.closePath()},drawCutRectanglePath:function(e,t,r,n,i,a,o){var s=n/2,l=i/2,u="auto"===o?8:o;e.beginPath&&e.beginPath(),e.moveTo(t-s+u,r-l),e.lineTo(t+s-u,r-l),e.lineTo(t+s,r-l+u),e.lineTo(t+s,r+l-u),e.lineTo(t+s-u,r+l),e.lineTo(t-s+u,r+l),e.lineTo(t-s,r+l-u),e.lineTo(t-s,r-l+u),e.closePath()},drawBarrelPath:function(e,t,r,n,i){var a=n/2,o=i/2,s=t-a,l=t+a,u=r-o,c=r+o,h=lr(n,i),d=h.widthOffset,f=h.heightOffset,p=h.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(s,u+f),e.lineTo(s,c-f),e.quadraticCurveTo(s+p,c,s+d,c),e.lineTo(l-d,c),e.quadraticCurveTo(l-p,c,l,c-f),e.lineTo(l,u+f),e.quadraticCurveTo(l-p,u,l-d,u),e.lineTo(s+d,u),e.quadraticCurveTo(s+p,u,s,u+f),e.closePath()}},yu=Math.sin(0),vu=Math.cos(0),bu={},xu={},wu=Math.PI/40,Du=0*Math.PI;Du<2*Math.PI;Du+=wu)bu[Du]=Math.sin(Du),xu[Du]=Math.cos(Du);mu.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var a,o,s=n/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=wu)a=t-s*bu[u]*yu+s*xu[u]*vu,o=r+l*xu[u]*yu+l*bu[u]*vu,0===u?e.moveTo(a,o):e.lineTo(a,o);e.closePath()};var ku={};function Eu(e){var t=e.indexOf(",");return e.substr(t+1)}function Au(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new wn((function(n,i){try{t.toBlob((function(e){null!=e?n(e):i(new Error("`canvas.toBlob()` sent a null value in its callback"))}),r,e.quality)}catch(e){i(e)}}));case"blob":return function(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})}(Eu(n()),r);case"base64":return Eu(n());default:return n()}}ku.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},ku.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements().boundingBox(),n=this.findContainerClientCoords(),i=e.full?Math.ceil(r.w):n[2],a=e.full?Math.ceil(r.h):n[3],o=k(e.maxWidth)||k(e.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==e.scale)i*=e.scale,a*=e.scale,l=e.scale;else if(o){var u=1/0,c=1/0;k(e.maxWidth)&&(u=l*e.maxWidth/i),k(e.maxHeight)&&(c=l*e.maxHeight/a),i*=l=Math.min(u,c),a*=l}o||(i*=s,a*=s,l*=s);var h=document.createElement("canvas");h.width=i,h.height=a,h.style.width=i+"px",h.style.height=a+"px";var d=h.getContext("2d");if(i>0&&a>0){d.clearRect(0,0,i,a),d.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(e.full)d.translate(-r.x1*l,-r.y1*l),d.scale(l,l),this.drawElements(d,f),d.scale(1/l,1/l),d.translate(r.x1*l,r.y1*l);else{var p=t.pan(),g={x:p.x*l,y:p.y*l};l*=t.zoom(),d.translate(g.x,g.y),d.scale(l,l),this.drawElements(d,f),d.scale(1/l,1/l),d.translate(-g.x,-g.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,i,a),d.fill())}return h},ku.png=function(e){return Au(e,this.bufferCanvasImage(e),"image/png")},ku.jpg=function(e){return Au(e,this.bufferCanvasImage(e),"image/jpeg")};var Cu=Tu,_u=Tu.prototype;function Tu(e){var t=this,r=t.cy.window().document;t.data={canvases:new Array(_u.CANVAS_LAYERS),contexts:new Array(_u.CANVAS_LAYERS),canvasNeedsRedraw:new Array(_u.CANVAS_LAYERS),bufferCanvases:new Array(_u.BUFFER_COUNT),bufferContexts:new Array(_u.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=r.createElement("div");var a=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=i,a.position="relative",a.zIndex="0",a.overflow="hidden";var o=e.cy.container();o.appendChild(t.data.canvasContainer),o.style[n]=i;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};f&&f.userAgent.match(/msie|trident|edge/i)&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var l=0;l<_u.CANVAS_LAYERS;l++){var u=t.data.canvases[l]=r.createElement("canvas");t.data.contexts[l]=u.getContext("2d"),Object.keys(s).forEach((function(e){u.style[e]=s[e]})),u.style.position="absolute",u.setAttribute("data-id","layer"+l),u.style.zIndex=String(_u.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(u),t.data.canvasNeedsRedraw[l]=!1}for(t.data.topCanvas=t.data.canvases[0],t.data.canvases[_u.NODE].setAttribute("data-id","layer"+_u.NODE+"-node"),t.data.canvases[_u.SELECT_BOX].setAttribute("data-id","layer"+_u.SELECT_BOX+"-selectbox"),t.data.canvases[_u.DRAG].setAttribute("data-id","layer"+_u.DRAG+"-drag"),l=0;l<_u.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=r.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0;var c=Nt(),h=function(e){return{x:-e.w/2,y:-e.h/2}},d=function(e){return e.boundingBox(),e[0]._private.bodyBounds},p=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||c},g=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||c},m=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||c},y=function(e,t){return t},v=function(e,t,r){var n=e?e+"-":"";return{x:t.x+r.pstyle(n+"text-margin-x").pfValue,y:t.y+r.pstyle(n+"text-margin-y").pfValue}},b=function(e,t,r){var n=e[0]._private.rscratch;return{x:n[t],y:n[r]}},x=t.data.eleTxrCache=new Kl(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,r,n,i,a){return t.drawElement(e,r,n,!1,!1,a)},getBoundingBox:d,getRotationPoint:function(e){return{x:((t=d(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return h(d(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),w=t.data.lblTxrCache=new Kl(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,r,n,i,a){return t.drawElementText(e,r,n,i,"main",a)},getBoundingBox:p,getRotationPoint:function(e){return v("",b(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=p(e),r=h(p(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":r.x=-t.w-(t.leftPad||0);break;case"right":r.x=-(t.rightPad||0)}switch(e.pstyle("text-valign").value){case"top":r.y=-t.h-(t.topPad||0);break;case"bottom":r.y=-(t.botPad||0)}}return r},isVisible:y}),D=t.data.slbTxrCache=new Kl(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,r,n,i,a){return t.drawElementText(e,r,n,i,"source",a)},getBoundingBox:g,getRotationPoint:function(e){return v("source",b(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return h(g(e))},isVisible:y}),k=t.data.tlbTxrCache=new Kl(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,r,n,i,a){return t.drawElementText(e,r,n,i,"target",a)},getBoundingBox:m,getRotationPoint:function(e){return v("target",b(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return h(m(e))},isVisible:y}),E=t.data.lyrTxrCache=new Ul(t);t.onUpdateEleCalcs((function(e,t){x.invalidateElements(t),w.invalidateElements(t),D.invalidateElements(t),k.invalidateElements(t),E.invalidateElements(t);for(var r=0;r<t.length;r++){var n=t[r]._private;n.oldBackgroundTimestamp=n.backgroundTimestamp}}));var A=function(e){for(var t=0;t<e.length;t++)E.enqueueElementRefinement(e[t].ele)};x.onDequeue(A),w.onDequeue(A),D.onDequeue(A),k.onDequeue(A)}_u.CANVAS_LAYERS=3,_u.SELECT_BOX=0,_u.DRAG=1,_u.NODE=2,_u.BUFFER_COUNT=3,_u.TEXTURE_BUFFER=0,_u.MOTIONBLUR_BUFFER_NODE=1,_u.MOTIONBLUR_BUFFER_DRAG=2,_u.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[_u.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[_u.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[_u.SELECT_BOX]=t}};var Su="undefined"!=typeof Path2D;_u.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},_u.usePaths=function(){return Su&&this.pathsEnabled},_u.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},_u.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},_u.makeOffscreenCanvas=function(e,t){var r;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":n(OffscreenCanvas))?r=new OffscreenCanvas(e,t):((r=this.cy.window().document.createElement("canvas")).width=e,r.height=t),r},[Yl,tu,lu,cu,hu,fu,gu,mu,ku,{nodeShapeImpl:function(e,t,r,n,i,a,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,i,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,i,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,i,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,a,s);case"barrel":return this.drawBarrelPath(t,r,n,i,a)}}}].forEach((function(e){q(_u,e)}));var Fu=[{type:"layout",extensions:qs},{type:"renderer",extensions:[{name:"null",impl:Us},{name:"base",impl:Il},{name:"canvas",impl:Cu}]}],Ou={},Bu={};function Nu(e,t,r){var n=r,i=function(r){Ue("Can not register `"+t+"` for `"+e+"` since `"+r+"` already exists in the prototype and can not be overridden")};if("core"===e){if(rs.prototype[t])return i(t);rs.prototype[t]=r}else if("collection"===e){if(vo.prototype[t])return i(t);vo.prototype[t]=r}else if("layout"===e){for(var a=function(e){this.options=e,r.call(this,e),D(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var r=0;r<t.length;r++)t[r].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(e){return e._private.cy},d={addEventFields:function(e,t){t.layout=e,t.cy=h(e),t.target=e},bubble:function(){return!0},parent:function(e){return h(e)}};q(o,{createEmitter:function(){return this._private.emitter=new Ra(d,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),ki.eventAliasesOn(o),n=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var f=Lu("renderer","base"),p=f.prototype,g=r,m=r.prototype,y=function(){f.apply(this,arguments),g.apply(this,arguments)},v=y.prototype;for(var b in p){var x=p[b];if(null!=m[b])return i(b);v[b]=x}for(var w in m)v[w]=m[w];p.clientFunctions.forEach((function(e){v[e]=v[e]||function(){Ke("Renderer does not implement `renderer."+e+"()` on its prototype")}})),n=y}else if("__proto__"===e||"constructor"===e||"prototype"===e)return Ke(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return H({map:Ou,keys:[e,t],value:n})}function Lu(e,t){return W({map:Ou,keys:[e,t]})}function Iu(e,t,r,n,i){return H({map:Bu,keys:[e,t,r,n],value:i})}function Ru(e,t,r,n){return W({map:Bu,keys:[e,t,r,n]})}var Mu=function(){return 2===arguments.length?Lu.apply(null,arguments):3===arguments.length?Nu.apply(null,arguments):4===arguments.length?Ru.apply(null,arguments):5===arguments.length?Iu.apply(null,arguments):void Ke("Invalid extension access syntax")};rs.prototype.extension=Mu,Fu.forEach((function(e){e.extensions.forEach((function(t){Nu(e.type,t.name,t.impl)}))}));var Pu=function e(){if(!(this instanceof e))return new e;this.length=0},zu=Pu.prototype;zu.instanceString=function(){return"stylesheet"},zu.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},zu.css=function(e,t){var r=this.length-1;if(b(e))this[r].properties.push({name:e,value:t});else if(D(e))for(var n=e,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];if(null!=s){var l=Zo.properties[o]||Zo.properties[L(o)];if(null!=l){var u=l.name,c=s;this[r].properties.push({name:u,value:c})}}}return this},zu.style=zu.css,zu.generateStyle=function(e){var t=new Zo(e);return this.appendToStyle(t)},zu.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e};var $u=function(e){return void 0===e&&(e={}),D(e)?new rs(e):b(e)?Mu.apply(Mu,arguments):void 0};$u.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift($u),e.apply(null,t),this},$u.warnings=function(e){return qe(e)},$u.version="3.30.4",$u.stylesheet=$u.Stylesheet=Pu},9418:(e,t,r)=>{"use strict";r.d(t,{A:()=>ee});const{entries:n,setPrototypeOf:i,isFrozen:a,getPrototypeOf:o,getOwnPropertyDescriptor:s}=Object;let{freeze:l,seal:u,create:c}=Object,{apply:h,construct:d}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),u||(u=function(e){return e}),h||(h=function(e,t,r){return e.apply(t,r)}),d||(d=function(e,t){return new e(...t)});const f=C(Array.prototype.forEach),p=C(Array.prototype.pop),g=C(Array.prototype.push),m=C(String.prototype.toLowerCase),y=C(String.prototype.toString),v=C(String.prototype.match),b=C(String.prototype.replace),x=C(String.prototype.indexOf),w=C(String.prototype.trim),D=C(Object.prototype.hasOwnProperty),k=C(RegExp.prototype.test),E=(A=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d(A,t)});var A;function C(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return h(e,t,n)}}function _(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;i&&i(e,null);let n=t.length;for(;n--;){let i=t[n];if("string"==typeof i){const e=r(i);e!==i&&(a(t)||(t[n]=e),i=e)}e[i]=!0}return e}function T(e){for(let t=0;t<e.length;t++)D(e,t)||(e[t]=null);return e}function S(e){const t=c(null);for(const[r,i]of n(e))D(e,r)&&(Array.isArray(i)?t[r]=T(i):i&&"object"==typeof i&&i.constructor===Object?t[r]=S(i):t[r]=i);return t}function F(e,t){for(;null!==e;){const r=s(e,t);if(r){if(r.get)return C(r.get);if("function"==typeof r.value)return C(r.value)}e=o(e)}return function(){return null}}const O=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),B=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),N=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),R=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=l(["#text"]),P=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),z=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),$=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=u(/<%[\w\W]*|[\w\W]*%>/gm),U=u(/\$\{[\w\W]*}/gm),H=u(/^data-[\-\w.\u00B7-\uFFFF]+$/),W=u(/^aria-[\-\w]+$/),G=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=u(/^(?:\w+script|data):/i),Y=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X=u(/^html$/i),Z=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var Q=Object.freeze({__proto__:null,ARIA_ATTR:W,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:Z,DATA_ATTR:H,DOCTYPE_NAME:X,ERB_EXPR:q,IS_ALLOWED_URI:G,IS_SCRIPT_OR_DATA:V,MUSTACHE_EXPR:K,TMPLIT_EXPR:U});const J=function(){return"undefined"==typeof window?null:window};var ee=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();const r=t=>e(t);if(r.version="3.2.3",r.removed=[],!t||!t.document||9!==t.document.nodeType)return r.isSupported=!1,r;let{document:i}=t;const a=i,o=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:u,Node:h,Element:d,NodeFilter:A,NamedNodeMap:C=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:T,DOMParser:K,trustedTypes:q}=t,U=d.prototype,H=F(U,"cloneNode"),W=F(U,"remove"),V=F(U,"nextSibling"),Y=F(U,"childNodes"),Z=F(U,"parentNode");if("function"==typeof u){const e=i.createElement("template");e.content&&e.content.ownerDocument&&(i=e.content.ownerDocument)}let ee,te="";const{implementation:re,createNodeIterator:ne,createDocumentFragment:ie,getElementsByTagName:ae}=i,{importNode:oe}=a;let se={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};r.isSupported="function"==typeof n&&"function"==typeof Z&&re&&void 0!==re.createHTMLDocument;const{MUSTACHE_EXPR:le,ERB_EXPR:ue,TMPLIT_EXPR:ce,DATA_ATTR:he,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:fe,ATTR_WHITESPACE:pe,CUSTOM_ELEMENT:ge}=Q;let{IS_ALLOWED_URI:me}=Q,ye=null;const ve=_({},[...O,...B,...N,...I,...M]);let be=null;const xe=_({},[...P,...z,...$,...j]);let we=Object.seal(c(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),De=null,ke=null,Ee=!0,Ae=!0,Ce=!1,_e=!0,Te=!1,Se=!0,Fe=!1,Oe=!1,Be=!1,Ne=!1,Le=!1,Ie=!1,Re=!0,Me=!1,Pe=!0,ze=!1,$e={},je=null;const Ke=_({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qe=null;const Ue=_({},["audio","video","img","source","image","track"]);let He=null;const We=_({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ge="http://www.w3.org/1998/Math/MathML",Ve="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let Xe=Ye,Ze=!1,Qe=null;const Je=_({},[Ge,Ve,Ye],y);let et=_({},["mi","mo","mn","ms","mtext"]),tt=_({},["annotation-xml"]);const rt=_({},["title","style","font","a","script"]);let nt=null;const it=["application/xhtml+xml","text/html"];let at=null,ot=null;const st=i.createElement("form"),lt=function(e){return e instanceof RegExp||e instanceof Function},ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ot||ot!==e){if(e&&"object"==typeof e||(e={}),e=S(e),nt=-1===it.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,at="application/xhtml+xml"===nt?y:m,ye=D(e,"ALLOWED_TAGS")?_({},e.ALLOWED_TAGS,at):ve,be=D(e,"ALLOWED_ATTR")?_({},e.ALLOWED_ATTR,at):xe,Qe=D(e,"ALLOWED_NAMESPACES")?_({},e.ALLOWED_NAMESPACES,y):Je,He=D(e,"ADD_URI_SAFE_ATTR")?_(S(We),e.ADD_URI_SAFE_ATTR,at):We,qe=D(e,"ADD_DATA_URI_TAGS")?_(S(Ue),e.ADD_DATA_URI_TAGS,at):Ue,je=D(e,"FORBID_CONTENTS")?_({},e.FORBID_CONTENTS,at):Ke,De=D(e,"FORBID_TAGS")?_({},e.FORBID_TAGS,at):{},ke=D(e,"FORBID_ATTR")?_({},e.FORBID_ATTR,at):{},$e=!!D(e,"USE_PROFILES")&&e.USE_PROFILES,Ee=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,Ce=e.ALLOW_UNKNOWN_PROTOCOLS||!1,_e=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Te=e.SAFE_FOR_TEMPLATES||!1,Se=!1!==e.SAFE_FOR_XML,Fe=e.WHOLE_DOCUMENT||!1,Ne=e.RETURN_DOM||!1,Le=e.RETURN_DOM_FRAGMENT||!1,Ie=e.RETURN_TRUSTED_TYPE||!1,Be=e.FORCE_BODY||!1,Re=!1!==e.SANITIZE_DOM,Me=e.SANITIZE_NAMED_PROPS||!1,Pe=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,me=e.ALLOWED_URI_REGEXP||G,Xe=e.NAMESPACE||Ye,et=e.MATHML_TEXT_INTEGRATION_POINTS||et,tt=e.HTML_INTEGRATION_POINTS||tt,we=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&lt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(we.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&lt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(we.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(we.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(Ae=!1),Le&&(Ne=!0),$e&&(ye=_({},M),be=[],!0===$e.html&&(_(ye,O),_(be,P)),!0===$e.svg&&(_(ye,B),_(be,z),_(be,j)),!0===$e.svgFilters&&(_(ye,N),_(be,z),_(be,j)),!0===$e.mathMl&&(_(ye,I),_(be,$),_(be,j))),e.ADD_TAGS&&(ye===ve&&(ye=S(ye)),_(ye,e.ADD_TAGS,at)),e.ADD_ATTR&&(be===xe&&(be=S(be)),_(be,e.ADD_ATTR,at)),e.ADD_URI_SAFE_ATTR&&_(He,e.ADD_URI_SAFE_ATTR,at),e.FORBID_CONTENTS&&(je===Ke&&(je=S(je)),_(je,e.FORBID_CONTENTS,at)),Pe&&(ye["#text"]=!0),Fe&&_(ye,["html","head","body"]),ye.table&&(_(ye,["tbody"]),delete De.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw E('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ee=e.TRUSTED_TYPES_POLICY,te=ee.createHTML("")}else void 0===ee&&(ee=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(q,o)),null!==ee&&"string"==typeof te&&(te=ee.createHTML(""));l&&l(e),ot=e}},ct=_({},[...B,...N,...L]),ht=_({},[...I,...R]),dt=function(e){g(r.removed,{element:e});try{Z(e).removeChild(e)}catch(t){W(e)}},ft=function(e,t){try{g(r.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(r.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Ne||Le)try{dt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},pt=function(e){let t=null,r=null;if(Be)e="<remove></remove>"+e;else{const t=v(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===nt&&Xe===Ye&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=ee?ee.createHTML(e):e;if(Xe===Ye)try{t=(new K).parseFromString(n,nt)}catch(e){}if(!t||!t.documentElement){t=re.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=Ze?te:n}catch(e){}}const a=t.body||t.documentElement;return e&&r&&a.insertBefore(i.createTextNode(r),a.childNodes[0]||null),Xe===Ye?ae.call(t,Fe?"html":"body")[0]:Fe?t.documentElement:a},gt=function(e){return ne.call(e.ownerDocument||e,e,A.SHOW_ELEMENT|A.SHOW_COMMENT|A.SHOW_TEXT|A.SHOW_PROCESSING_INSTRUCTION|A.SHOW_CDATA_SECTION,null)},mt=function(e){return e instanceof T&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof C)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof h&&e instanceof h};function vt(e,t,n){f(e,(e=>{e.call(r,t,n,ot)}))}const bt=function(e){let t=null;if(vt(se.beforeSanitizeElements,e,null),mt(e))return dt(e),!0;const n=at(e.nodeName);if(vt(se.uponSanitizeElement,e,{tagName:n,allowedTags:ye}),e.hasChildNodes()&&!yt(e.firstElementChild)&&k(/<[/\w]/g,e.innerHTML)&&k(/<[/\w]/g,e.textContent))return dt(e),!0;if(7===e.nodeType)return dt(e),!0;if(Se&&8===e.nodeType&&k(/<[/\w]/g,e.data))return dt(e),!0;if(!ye[n]||De[n]){if(!De[n]&&wt(n)){if(we.tagNameCheck instanceof RegExp&&k(we.tagNameCheck,n))return!1;if(we.tagNameCheck instanceof Function&&we.tagNameCheck(n))return!1}if(Pe&&!je[n]){const t=Z(e)||e.parentNode,r=Y(e)||e.childNodes;if(r&&t)for(let n=r.length-1;n>=0;--n){const i=H(r[n],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,V(e))}}return dt(e),!0}return e instanceof d&&!function(e){let t=Z(e);t&&t.tagName||(t={namespaceURI:Xe,tagName:"template"});const r=m(e.tagName),n=m(t.tagName);return!!Qe[e.namespaceURI]&&(e.namespaceURI===Ve?t.namespaceURI===Ye?"svg"===r:t.namespaceURI===Ge?"svg"===r&&("annotation-xml"===n||et[n]):Boolean(ct[r]):e.namespaceURI===Ge?t.namespaceURI===Ye?"math"===r:t.namespaceURI===Ve?"math"===r&&tt[n]:Boolean(ht[r]):e.namespaceURI===Ye?!(t.namespaceURI===Ve&&!tt[n])&&!(t.namespaceURI===Ge&&!et[n])&&!ht[r]&&(rt[r]||!ct[r]):!("application/xhtml+xml"!==nt||!Qe[e.namespaceURI]))}(e)?(dt(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!k(/<\/no(script|embed|frames)/i,e.innerHTML)?(Te&&3===e.nodeType&&(t=e.textContent,f([le,ue,ce],(e=>{t=b(t,e," ")})),e.textContent!==t&&(g(r.removed,{element:e.cloneNode()}),e.textContent=t)),vt(se.afterSanitizeElements,e,null),!1):(dt(e),!0)},xt=function(e,t,r){if(Re&&("id"===t||"name"===t)&&(r in i||r in st))return!1;if(Ae&&!ke[t]&&k(he,t));else if(Ee&&k(de,t));else if(!be[t]||ke[t]){if(!(wt(e)&&(we.tagNameCheck instanceof RegExp&&k(we.tagNameCheck,e)||we.tagNameCheck instanceof Function&&we.tagNameCheck(e))&&(we.attributeNameCheck instanceof RegExp&&k(we.attributeNameCheck,t)||we.attributeNameCheck instanceof Function&&we.attributeNameCheck(t))||"is"===t&&we.allowCustomizedBuiltInElements&&(we.tagNameCheck instanceof RegExp&&k(we.tagNameCheck,r)||we.tagNameCheck instanceof Function&&we.tagNameCheck(r))))return!1}else if(He[t]);else if(k(me,b(r,pe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==x(r,"data:")||!qe[e])if(Ce&&!k(fe,b(r,pe,"")));else if(r)return!1;return!0},wt=function(e){return"annotation-xml"!==e&&v(e,ge)},Dt=function(e){vt(se.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||mt(e))return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be,forceKeepAttr:void 0};let i=t.length;for(;i--;){const a=t[i],{name:o,namespaceURI:s,value:l}=a,u=at(o);let c="value"===o?l:w(l);if(n.attrName=u,n.attrValue=c,n.keepAttr=!0,n.forceKeepAttr=void 0,vt(se.uponSanitizeAttribute,e,n),c=n.attrValue,!Me||"id"!==u&&"name"!==u||(ft(o,e),c="user-content-"+c),Se&&k(/((--!?|])>)|<\/(style|title)/i,c)){ft(o,e);continue}if(n.forceKeepAttr)continue;if(ft(o,e),!n.keepAttr)continue;if(!_e&&k(/\/>/i,c)){ft(o,e);continue}Te&&f([le,ue,ce],(e=>{c=b(c,e," ")}));const h=at(e.nodeName);if(xt(h,u,c)){if(ee&&"object"==typeof q&&"function"==typeof q.getAttributeType)if(s);else switch(q.getAttributeType(h,u)){case"TrustedHTML":c=ee.createHTML(c);break;case"TrustedScriptURL":c=ee.createScriptURL(c)}try{s?e.setAttributeNS(s,o,c):e.setAttribute(o,c),mt(e)?dt(e):p(r.removed)}catch(e){}}}vt(se.afterSanitizeAttributes,e,null)},kt=function e(t){let r=null;const n=gt(t);for(vt(se.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)vt(se.uponSanitizeShadowNode,r,null),bt(r),Dt(r),r.content instanceof s&&e(r.content);vt(se.afterSanitizeShadowDOM,t,null)};return r.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,i=null,o=null,l=null;if(Ze=!e,Ze&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw E("toString is not a function");if("string"!=typeof(e=e.toString()))throw E("dirty is not a string, aborting")}if(!r.isSupported)return e;if(Oe||ut(t),r.removed=[],"string"==typeof e&&(ze=!1),ze){if(e.nodeName){const t=at(e.nodeName);if(!ye[t]||De[t])throw E("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof h)n=pt("\x3c!----\x3e"),i=n.ownerDocument.importNode(e,!0),1===i.nodeType&&"BODY"===i.nodeName||"HTML"===i.nodeName?n=i:n.appendChild(i);else{if(!Ne&&!Te&&!Fe&&-1===e.indexOf("<"))return ee&&Ie?ee.createHTML(e):e;if(n=pt(e),!n)return Ne?null:Ie?te:""}n&&Be&&dt(n.firstChild);const u=gt(ze?e:n);for(;o=u.nextNode();)bt(o),Dt(o),o.content instanceof s&&kt(o.content);if(ze)return e;if(Ne){if(Le)for(l=ie.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(be.shadowroot||be.shadowrootmode)&&(l=oe.call(a,l,!0)),l}let c=Fe?n.outerHTML:n.innerHTML;return Fe&&ye["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&k(X,n.ownerDocument.doctype.name)&&(c="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+c),Te&&f([le,ue,ce],(e=>{c=b(c,e," ")})),ee&&Ie?ee.createHTML(c):c},r.setConfig=function(){ut(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Oe=!0},r.clearConfig=function(){ot=null,Oe=!1},r.isValidAttribute=function(e,t,r){ot||ut({});const n=at(e),i=at(t);return xt(n,i,r)},r.addHook=function(e,t){"function"==typeof t&&g(se[e],t)},r.removeHook=function(e){return p(se[e])},r.removeHooks=function(e){se[e]=[]},r.removeAllHooks=function(){se={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},r}()},2130:(e,t,r)=>{"use strict";r.d(t,{default:()=>ti});class n{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new n(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc}}class i{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new i(t,n.range(this,e))}}class a{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r,n,i="KaTeX parse error: "+e,o=t&&t.loc;if(o&&o.start<=o.end){var s=o.lexer.input;r=o.start,n=o.end,r===s.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var l=s.slice(r,n).replace(/[^]/g,"$&̲");i+=(r>15?"…"+s.slice(r-15,r):s.slice(0,r))+l+(n+15<s.length?s.slice(n,n+15)+"…":s.slice(n))}var u=new Error(i);return u.name="ParseError",u.__proto__=a.prototype,u.position=r,null!=r&&null!=n&&(u.length=n-r),u.rawMessage=e,u}}a.prototype.__proto__=Error.prototype;var o=/([A-Z])/g,s={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},l=/[&><"']/g,u=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},c=function(e,t){return-1!==e.indexOf(t)},h=function(e,t){return void 0===e?t:e},d=function(e){return String(e).replace(l,(e=>s[e]))},f=function(e){return e.replace(o,"-$1").toLowerCase()},p=u,g=function(e){var t=u(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},m=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?":"!==t[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"},y={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function v(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if("string"!=typeof r)return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class b{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},y)if(y.hasOwnProperty(t)){var r=y[t];this[t]=void 0!==e[t]?r.processor?r.processor(e[t]):e[t]:v(r)}}reportNonstrict(e,t,r){var n=this.strict;if("function"==typeof n&&(n=n(e,t,r)),n&&"ignore"!==n){if(!0===n||"error"===n)throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",r);"warn"===n?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]")}}useStrictBehavior(e,t,r){var n=this.strict;if("function"==typeof n)try{n=n(e,t,r)}catch(e){n="error"}return!(!n||"ignore"===n||!0!==n&&"error"!==n&&("warn"===n?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+n+"': "+t+" ["+e+"]"),1)))}isTrusted(e){if(e.url&&!e.protocol){var t=m(e.url);if(null==t)return!1;e.protocol=t}var r="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(r)}}class x{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return w[D[this.id]]}sub(){return w[k[this.id]]}fracNum(){return w[E[this.id]]}fracDen(){return w[A[this.id]]}cramp(){return w[C[this.id]]}text(){return w[_[this.id]]}isTight(){return this.size>=2}}var w=[new x(0,0,!1),new x(1,0,!0),new x(2,1,!1),new x(3,1,!0),new x(4,2,!1),new x(5,2,!0),new x(6,3,!1),new x(7,3,!0)],D=[4,5,4,5,6,7,6,7],k=[5,5,5,5,7,7,7,7],E=[2,3,4,5,6,7,6,7],A=[3,3,5,5,7,7,7,7],C=[1,1,3,3,5,5,7,7],_=[0,1,2,3,2,3,2,3],T={DISPLAY:w[0],TEXT:w[2],SCRIPT:w[4],SCRIPTSCRIPT:w[6]},S=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}],F=[];function O(e){for(var t=0;t<F.length;t+=2)if(e>=F[t]&&e<=F[t+1])return!0;return!1}S.forEach((e=>e.blocks.forEach((e=>F.push(...e)))));var B={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class N{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return c(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map((e=>e.toText())).join("")}}var L={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},I={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},R={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function M(e,t,r){if(!L[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=L[t][n];if(!i&&e[0]in R&&(n=R[e[0]].charCodeAt(0),i=L[t][n]),i||"text"!==r||O(n)&&(i=L[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var P={},z=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],$=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],j=function(e,t){return t.size<2?e:z[e-1][t.size-1]};class K{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||K.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=$[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new K(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:j(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:$[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=j(K.BASESIZE,e);return this.size===t&&this.textSize===K.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==K.BASESIZE?["sizing","reset-size"+this.size,"size"+K.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!P[t=e>=5?0:e>=3?1:2]){var r=P[t]={cssEmPerMu:I.quad[t]/18};for(var n in I)I.hasOwnProperty(n)&&(r[n]=I[n][t])}return P[t]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}K.BASESIZE=6;var q={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},U={ex:!0,em:!0,mu:!0},H=function(e){return"string"!=typeof e&&(e=e.unit),e in q||e in U||"ex"===e},W=function(e,t){var r;if(e.unit in q)r=q[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)r=t.fontMetrics().cssEmPerMu;else{var n;if(n=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)r=n.fontMetrics().xHeight;else{if("em"!==e.unit)throw new a("Invalid unit: '"+e.unit+"'");r=n.fontMetrics().quad}n!==t&&(r*=n.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},G=function(e){return+e.toFixed(4)+"em"},V=function(e){return e.filter((e=>e)).join(" ")},Y=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var n=t.getColor();n&&(this.style.color=n)}},X=function(e){var t=document.createElement(e);for(var r in t.className=V(this.classes),this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var n in this.attributes)this.attributes.hasOwnProperty(n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t},Z=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+d(V(this.classes))+'"');var r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=f(n)+":"+this.style[n]+";");for(var i in r&&(t+=' style="'+d(r)+'"'),this.attributes)this.attributes.hasOwnProperty(i)&&(t+=" "+i+'="'+d(this.attributes[i])+'"');t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+"</"+e+">"};class Q{constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Y.call(this,e,r,n),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return c(this.classes,e)}toNode(){return X.call(this,"span")}toMarkup(){return Z.call(this,"span")}}class J{constructor(e,t,r,n){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Y.call(this,t,n),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return c(this.classes,e)}toNode(){return X.call(this,"a")}toMarkup(){return Z.call(this,"a")}}class ee{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return c(this.classes,e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+d(this.src)+'" alt="'+d(this.alt)+'"',t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=f(r)+":"+this.style[r]+";");return t&&(e+=' style="'+d(t)+'"'),e+"'/>"}}var te={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class re{constructor(e,t,r,n,i,a,o,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=n||0,this.skew=i||0,this.width=a||0,this.classes=o||[],this.style=s||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<S.length;t++)for(var r=S[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=te[this.text])}hasClass(e){return c(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var r in this.italic>0&&((t=document.createElement("span")).style.marginRight=G(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=V(this.classes)),this.style)this.style.hasOwnProperty(r)&&((t=t||document.createElement("span")).style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=d(V(this.classes)),t+='"');var r="";for(var n in this.italic>0&&(r+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(n)&&(r+=f(n)+":"+this.style[n]+";");r&&(e=!0,t+=' style="'+d(r)+'"');var i=d(this.text);return e?(t+=">",t+=i,t+="</span>"):i}}class ne{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+d(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+"</svg>"}}class ie{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",B[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+d(this.alternate)+'"/>':'<path d="'+d(B[this.pathName])+'"/>'}}class ae{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+d(this.attributes[t])+'"');return e+"/>"}}function oe(e){if(e instanceof re)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var se={bin:1,close:1,inner:1,open:1,punct:1,rel:1},le={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ue={math:{},text:{}};function ce(e,t,r,n,i,a){ue[e][i]={font:t,group:r,replace:n},a&&n&&(ue[e][n]=ue[e][i])}var he="math",de="text",fe="main",pe="ams",ge="accent-token",me="bin",ye="close",ve="inner",be="mathord",xe="op-token",we="open",De="punct",ke="rel",Ee="spacing",Ae="textord";ce(he,fe,ke,"≡","\\equiv",!0),ce(he,fe,ke,"≺","\\prec",!0),ce(he,fe,ke,"≻","\\succ",!0),ce(he,fe,ke,"∼","\\sim",!0),ce(he,fe,ke,"⊥","\\perp"),ce(he,fe,ke,"⪯","\\preceq",!0),ce(he,fe,ke,"⪰","\\succeq",!0),ce(he,fe,ke,"≃","\\simeq",!0),ce(he,fe,ke,"∣","\\mid",!0),ce(he,fe,ke,"≪","\\ll",!0),ce(he,fe,ke,"≫","\\gg",!0),ce(he,fe,ke,"≍","\\asymp",!0),ce(he,fe,ke,"∥","\\parallel"),ce(he,fe,ke,"⋈","\\bowtie",!0),ce(he,fe,ke,"⌣","\\smile",!0),ce(he,fe,ke,"⊑","\\sqsubseteq",!0),ce(he,fe,ke,"⊒","\\sqsupseteq",!0),ce(he,fe,ke,"≐","\\doteq",!0),ce(he,fe,ke,"⌢","\\frown",!0),ce(he,fe,ke,"∋","\\ni",!0),ce(he,fe,ke,"∝","\\propto",!0),ce(he,fe,ke,"⊢","\\vdash",!0),ce(he,fe,ke,"⊣","\\dashv",!0),ce(he,fe,ke,"∋","\\owns"),ce(he,fe,De,".","\\ldotp"),ce(he,fe,De,"⋅","\\cdotp"),ce(he,fe,Ae,"#","\\#"),ce(de,fe,Ae,"#","\\#"),ce(he,fe,Ae,"&","\\&"),ce(de,fe,Ae,"&","\\&"),ce(he,fe,Ae,"ℵ","\\aleph",!0),ce(he,fe,Ae,"∀","\\forall",!0),ce(he,fe,Ae,"ℏ","\\hbar",!0),ce(he,fe,Ae,"∃","\\exists",!0),ce(he,fe,Ae,"∇","\\nabla",!0),ce(he,fe,Ae,"♭","\\flat",!0),ce(he,fe,Ae,"ℓ","\\ell",!0),ce(he,fe,Ae,"♮","\\natural",!0),ce(he,fe,Ae,"♣","\\clubsuit",!0),ce(he,fe,Ae,"℘","\\wp",!0),ce(he,fe,Ae,"♯","\\sharp",!0),ce(he,fe,Ae,"♢","\\diamondsuit",!0),ce(he,fe,Ae,"ℜ","\\Re",!0),ce(he,fe,Ae,"♡","\\heartsuit",!0),ce(he,fe,Ae,"ℑ","\\Im",!0),ce(he,fe,Ae,"♠","\\spadesuit",!0),ce(he,fe,Ae,"§","\\S",!0),ce(de,fe,Ae,"§","\\S"),ce(he,fe,Ae,"¶","\\P",!0),ce(de,fe,Ae,"¶","\\P"),ce(he,fe,Ae,"†","\\dag"),ce(de,fe,Ae,"†","\\dag"),ce(de,fe,Ae,"†","\\textdagger"),ce(he,fe,Ae,"‡","\\ddag"),ce(de,fe,Ae,"‡","\\ddag"),ce(de,fe,Ae,"‡","\\textdaggerdbl"),ce(he,fe,ye,"⎱","\\rmoustache",!0),ce(he,fe,we,"⎰","\\lmoustache",!0),ce(he,fe,ye,"⟯","\\rgroup",!0),ce(he,fe,we,"⟮","\\lgroup",!0),ce(he,fe,me,"∓","\\mp",!0),ce(he,fe,me,"⊖","\\ominus",!0),ce(he,fe,me,"⊎","\\uplus",!0),ce(he,fe,me,"⊓","\\sqcap",!0),ce(he,fe,me,"∗","\\ast"),ce(he,fe,me,"⊔","\\sqcup",!0),ce(he,fe,me,"◯","\\bigcirc",!0),ce(he,fe,me,"∙","\\bullet",!0),ce(he,fe,me,"‡","\\ddagger"),ce(he,fe,me,"≀","\\wr",!0),ce(he,fe,me,"⨿","\\amalg"),ce(he,fe,me,"&","\\And"),ce(he,fe,ke,"⟵","\\longleftarrow",!0),ce(he,fe,ke,"⇐","\\Leftarrow",!0),ce(he,fe,ke,"⟸","\\Longleftarrow",!0),ce(he,fe,ke,"⟶","\\longrightarrow",!0),ce(he,fe,ke,"⇒","\\Rightarrow",!0),ce(he,fe,ke,"⟹","\\Longrightarrow",!0),ce(he,fe,ke,"↔","\\leftrightarrow",!0),ce(he,fe,ke,"⟷","\\longleftrightarrow",!0),ce(he,fe,ke,"⇔","\\Leftrightarrow",!0),ce(he,fe,ke,"⟺","\\Longleftrightarrow",!0),ce(he,fe,ke,"↦","\\mapsto",!0),ce(he,fe,ke,"⟼","\\longmapsto",!0),ce(he,fe,ke,"↗","\\nearrow",!0),ce(he,fe,ke,"↩","\\hookleftarrow",!0),ce(he,fe,ke,"↪","\\hookrightarrow",!0),ce(he,fe,ke,"↘","\\searrow",!0),ce(he,fe,ke,"↼","\\leftharpoonup",!0),ce(he,fe,ke,"⇀","\\rightharpoonup",!0),ce(he,fe,ke,"↙","\\swarrow",!0),ce(he,fe,ke,"↽","\\leftharpoondown",!0),ce(he,fe,ke,"⇁","\\rightharpoondown",!0),ce(he,fe,ke,"↖","\\nwarrow",!0),ce(he,fe,ke,"⇌","\\rightleftharpoons",!0),ce(he,pe,ke,"≮","\\nless",!0),ce(he,pe,ke,"","\\@nleqslant"),ce(he,pe,ke,"","\\@nleqq"),ce(he,pe,ke,"⪇","\\lneq",!0),ce(he,pe,ke,"≨","\\lneqq",!0),ce(he,pe,ke,"","\\@lvertneqq"),ce(he,pe,ke,"⋦","\\lnsim",!0),ce(he,pe,ke,"⪉","\\lnapprox",!0),ce(he,pe,ke,"⊀","\\nprec",!0),ce(he,pe,ke,"⋠","\\npreceq",!0),ce(he,pe,ke,"⋨","\\precnsim",!0),ce(he,pe,ke,"⪹","\\precnapprox",!0),ce(he,pe,ke,"≁","\\nsim",!0),ce(he,pe,ke,"","\\@nshortmid"),ce(he,pe,ke,"∤","\\nmid",!0),ce(he,pe,ke,"⊬","\\nvdash",!0),ce(he,pe,ke,"⊭","\\nvDash",!0),ce(he,pe,ke,"⋪","\\ntriangleleft"),ce(he,pe,ke,"⋬","\\ntrianglelefteq",!0),ce(he,pe,ke,"⊊","\\subsetneq",!0),ce(he,pe,ke,"","\\@varsubsetneq"),ce(he,pe,ke,"⫋","\\subsetneqq",!0),ce(he,pe,ke,"","\\@varsubsetneqq"),ce(he,pe,ke,"≯","\\ngtr",!0),ce(he,pe,ke,"","\\@ngeqslant"),ce(he,pe,ke,"","\\@ngeqq"),ce(he,pe,ke,"⪈","\\gneq",!0),ce(he,pe,ke,"≩","\\gneqq",!0),ce(he,pe,ke,"","\\@gvertneqq"),ce(he,pe,ke,"⋧","\\gnsim",!0),ce(he,pe,ke,"⪊","\\gnapprox",!0),ce(he,pe,ke,"⊁","\\nsucc",!0),ce(he,pe,ke,"⋡","\\nsucceq",!0),ce(he,pe,ke,"⋩","\\succnsim",!0),ce(he,pe,ke,"⪺","\\succnapprox",!0),ce(he,pe,ke,"≆","\\ncong",!0),ce(he,pe,ke,"","\\@nshortparallel"),ce(he,pe,ke,"∦","\\nparallel",!0),ce(he,pe,ke,"⊯","\\nVDash",!0),ce(he,pe,ke,"⋫","\\ntriangleright"),ce(he,pe,ke,"⋭","\\ntrianglerighteq",!0),ce(he,pe,ke,"","\\@nsupseteqq"),ce(he,pe,ke,"⊋","\\supsetneq",!0),ce(he,pe,ke,"","\\@varsupsetneq"),ce(he,pe,ke,"⫌","\\supsetneqq",!0),ce(he,pe,ke,"","\\@varsupsetneqq"),ce(he,pe,ke,"⊮","\\nVdash",!0),ce(he,pe,ke,"⪵","\\precneqq",!0),ce(he,pe,ke,"⪶","\\succneqq",!0),ce(he,pe,ke,"","\\@nsubseteqq"),ce(he,pe,me,"⊴","\\unlhd"),ce(he,pe,me,"⊵","\\unrhd"),ce(he,pe,ke,"↚","\\nleftarrow",!0),ce(he,pe,ke,"↛","\\nrightarrow",!0),ce(he,pe,ke,"⇍","\\nLeftarrow",!0),ce(he,pe,ke,"⇏","\\nRightarrow",!0),ce(he,pe,ke,"↮","\\nleftrightarrow",!0),ce(he,pe,ke,"⇎","\\nLeftrightarrow",!0),ce(he,pe,ke,"△","\\vartriangle"),ce(he,pe,Ae,"ℏ","\\hslash"),ce(he,pe,Ae,"▽","\\triangledown"),ce(he,pe,Ae,"◊","\\lozenge"),ce(he,pe,Ae,"Ⓢ","\\circledS"),ce(he,pe,Ae,"®","\\circledR"),ce(de,pe,Ae,"®","\\circledR"),ce(he,pe,Ae,"∡","\\measuredangle",!0),ce(he,pe,Ae,"∄","\\nexists"),ce(he,pe,Ae,"℧","\\mho"),ce(he,pe,Ae,"Ⅎ","\\Finv",!0),ce(he,pe,Ae,"⅁","\\Game",!0),ce(he,pe,Ae,"‵","\\backprime"),ce(he,pe,Ae,"▲","\\blacktriangle"),ce(he,pe,Ae,"▼","\\blacktriangledown"),ce(he,pe,Ae,"■","\\blacksquare"),ce(he,pe,Ae,"⧫","\\blacklozenge"),ce(he,pe,Ae,"★","\\bigstar"),ce(he,pe,Ae,"∢","\\sphericalangle",!0),ce(he,pe,Ae,"∁","\\complement",!0),ce(he,pe,Ae,"ð","\\eth",!0),ce(de,fe,Ae,"ð","ð"),ce(he,pe,Ae,"╱","\\diagup"),ce(he,pe,Ae,"╲","\\diagdown"),ce(he,pe,Ae,"□","\\square"),ce(he,pe,Ae,"□","\\Box"),ce(he,pe,Ae,"◊","\\Diamond"),ce(he,pe,Ae,"¥","\\yen",!0),ce(de,pe,Ae,"¥","\\yen",!0),ce(he,pe,Ae,"✓","\\checkmark",!0),ce(de,pe,Ae,"✓","\\checkmark"),ce(he,pe,Ae,"ℶ","\\beth",!0),ce(he,pe,Ae,"ℸ","\\daleth",!0),ce(he,pe,Ae,"ℷ","\\gimel",!0),ce(he,pe,Ae,"ϝ","\\digamma",!0),ce(he,pe,Ae,"ϰ","\\varkappa"),ce(he,pe,we,"┌","\\@ulcorner",!0),ce(he,pe,ye,"┐","\\@urcorner",!0),ce(he,pe,we,"└","\\@llcorner",!0),ce(he,pe,ye,"┘","\\@lrcorner",!0),ce(he,pe,ke,"≦","\\leqq",!0),ce(he,pe,ke,"⩽","\\leqslant",!0),ce(he,pe,ke,"⪕","\\eqslantless",!0),ce(he,pe,ke,"≲","\\lesssim",!0),ce(he,pe,ke,"⪅","\\lessapprox",!0),ce(he,pe,ke,"≊","\\approxeq",!0),ce(he,pe,me,"⋖","\\lessdot"),ce(he,pe,ke,"⋘","\\lll",!0),ce(he,pe,ke,"≶","\\lessgtr",!0),ce(he,pe,ke,"⋚","\\lesseqgtr",!0),ce(he,pe,ke,"⪋","\\lesseqqgtr",!0),ce(he,pe,ke,"≑","\\doteqdot"),ce(he,pe,ke,"≓","\\risingdotseq",!0),ce(he,pe,ke,"≒","\\fallingdotseq",!0),ce(he,pe,ke,"∽","\\backsim",!0),ce(he,pe,ke,"⋍","\\backsimeq",!0),ce(he,pe,ke,"⫅","\\subseteqq",!0),ce(he,pe,ke,"⋐","\\Subset",!0),ce(he,pe,ke,"⊏","\\sqsubset",!0),ce(he,pe,ke,"≼","\\preccurlyeq",!0),ce(he,pe,ke,"⋞","\\curlyeqprec",!0),ce(he,pe,ke,"≾","\\precsim",!0),ce(he,pe,ke,"⪷","\\precapprox",!0),ce(he,pe,ke,"⊲","\\vartriangleleft"),ce(he,pe,ke,"⊴","\\trianglelefteq"),ce(he,pe,ke,"⊨","\\vDash",!0),ce(he,pe,ke,"⊪","\\Vvdash",!0),ce(he,pe,ke,"⌣","\\smallsmile"),ce(he,pe,ke,"⌢","\\smallfrown"),ce(he,pe,ke,"≏","\\bumpeq",!0),ce(he,pe,ke,"≎","\\Bumpeq",!0),ce(he,pe,ke,"≧","\\geqq",!0),ce(he,pe,ke,"⩾","\\geqslant",!0),ce(he,pe,ke,"⪖","\\eqslantgtr",!0),ce(he,pe,ke,"≳","\\gtrsim",!0),ce(he,pe,ke,"⪆","\\gtrapprox",!0),ce(he,pe,me,"⋗","\\gtrdot"),ce(he,pe,ke,"⋙","\\ggg",!0),ce(he,pe,ke,"≷","\\gtrless",!0),ce(he,pe,ke,"⋛","\\gtreqless",!0),ce(he,pe,ke,"⪌","\\gtreqqless",!0),ce(he,pe,ke,"≖","\\eqcirc",!0),ce(he,pe,ke,"≗","\\circeq",!0),ce(he,pe,ke,"≜","\\triangleq",!0),ce(he,pe,ke,"∼","\\thicksim"),ce(he,pe,ke,"≈","\\thickapprox"),ce(he,pe,ke,"⫆","\\supseteqq",!0),ce(he,pe,ke,"⋑","\\Supset",!0),ce(he,pe,ke,"⊐","\\sqsupset",!0),ce(he,pe,ke,"≽","\\succcurlyeq",!0),ce(he,pe,ke,"⋟","\\curlyeqsucc",!0),ce(he,pe,ke,"≿","\\succsim",!0),ce(he,pe,ke,"⪸","\\succapprox",!0),ce(he,pe,ke,"⊳","\\vartriangleright"),ce(he,pe,ke,"⊵","\\trianglerighteq"),ce(he,pe,ke,"⊩","\\Vdash",!0),ce(he,pe,ke,"∣","\\shortmid"),ce(he,pe,ke,"∥","\\shortparallel"),ce(he,pe,ke,"≬","\\between",!0),ce(he,pe,ke,"⋔","\\pitchfork",!0),ce(he,pe,ke,"∝","\\varpropto"),ce(he,pe,ke,"◀","\\blacktriangleleft"),ce(he,pe,ke,"∴","\\therefore",!0),ce(he,pe,ke,"∍","\\backepsilon"),ce(he,pe,ke,"▶","\\blacktriangleright"),ce(he,pe,ke,"∵","\\because",!0),ce(he,pe,ke,"⋘","\\llless"),ce(he,pe,ke,"⋙","\\gggtr"),ce(he,pe,me,"⊲","\\lhd"),ce(he,pe,me,"⊳","\\rhd"),ce(he,pe,ke,"≂","\\eqsim",!0),ce(he,fe,ke,"⋈","\\Join"),ce(he,pe,ke,"≑","\\Doteq",!0),ce(he,pe,me,"∔","\\dotplus",!0),ce(he,pe,me,"∖","\\smallsetminus"),ce(he,pe,me,"⋒","\\Cap",!0),ce(he,pe,me,"⋓","\\Cup",!0),ce(he,pe,me,"⩞","\\doublebarwedge",!0),ce(he,pe,me,"⊟","\\boxminus",!0),ce(he,pe,me,"⊞","\\boxplus",!0),ce(he,pe,me,"⋇","\\divideontimes",!0),ce(he,pe,me,"⋉","\\ltimes",!0),ce(he,pe,me,"⋊","\\rtimes",!0),ce(he,pe,me,"⋋","\\leftthreetimes",!0),ce(he,pe,me,"⋌","\\rightthreetimes",!0),ce(he,pe,me,"⋏","\\curlywedge",!0),ce(he,pe,me,"⋎","\\curlyvee",!0),ce(he,pe,me,"⊝","\\circleddash",!0),ce(he,pe,me,"⊛","\\circledast",!0),ce(he,pe,me,"⋅","\\centerdot"),ce(he,pe,me,"⊺","\\intercal",!0),ce(he,pe,me,"⋒","\\doublecap"),ce(he,pe,me,"⋓","\\doublecup"),ce(he,pe,me,"⊠","\\boxtimes",!0),ce(he,pe,ke,"⇢","\\dashrightarrow",!0),ce(he,pe,ke,"⇠","\\dashleftarrow",!0),ce(he,pe,ke,"⇇","\\leftleftarrows",!0),ce(he,pe,ke,"⇆","\\leftrightarrows",!0),ce(he,pe,ke,"⇚","\\Lleftarrow",!0),ce(he,pe,ke,"↞","\\twoheadleftarrow",!0),ce(he,pe,ke,"↢","\\leftarrowtail",!0),ce(he,pe,ke,"↫","\\looparrowleft",!0),ce(he,pe,ke,"⇋","\\leftrightharpoons",!0),ce(he,pe,ke,"↶","\\curvearrowleft",!0),ce(he,pe,ke,"↺","\\circlearrowleft",!0),ce(he,pe,ke,"↰","\\Lsh",!0),ce(he,pe,ke,"⇈","\\upuparrows",!0),ce(he,pe,ke,"↿","\\upharpoonleft",!0),ce(he,pe,ke,"⇃","\\downharpoonleft",!0),ce(he,fe,ke,"⊶","\\origof",!0),ce(he,fe,ke,"⊷","\\imageof",!0),ce(he,pe,ke,"⊸","\\multimap",!0),ce(he,pe,ke,"↭","\\leftrightsquigarrow",!0),ce(he,pe,ke,"⇉","\\rightrightarrows",!0),ce(he,pe,ke,"⇄","\\rightleftarrows",!0),ce(he,pe,ke,"↠","\\twoheadrightarrow",!0),ce(he,pe,ke,"↣","\\rightarrowtail",!0),ce(he,pe,ke,"↬","\\looparrowright",!0),ce(he,pe,ke,"↷","\\curvearrowright",!0),ce(he,pe,ke,"↻","\\circlearrowright",!0),ce(he,pe,ke,"↱","\\Rsh",!0),ce(he,pe,ke,"⇊","\\downdownarrows",!0),ce(he,pe,ke,"↾","\\upharpoonright",!0),ce(he,pe,ke,"⇂","\\downharpoonright",!0),ce(he,pe,ke,"⇝","\\rightsquigarrow",!0),ce(he,pe,ke,"⇝","\\leadsto"),ce(he,pe,ke,"⇛","\\Rrightarrow",!0),ce(he,pe,ke,"↾","\\restriction"),ce(he,fe,Ae,"‘","`"),ce(he,fe,Ae,"$","\\$"),ce(de,fe,Ae,"$","\\$"),ce(de,fe,Ae,"$","\\textdollar"),ce(he,fe,Ae,"%","\\%"),ce(de,fe,Ae,"%","\\%"),ce(he,fe,Ae,"_","\\_"),ce(de,fe,Ae,"_","\\_"),ce(de,fe,Ae,"_","\\textunderscore"),ce(he,fe,Ae,"∠","\\angle",!0),ce(he,fe,Ae,"∞","\\infty",!0),ce(he,fe,Ae,"′","\\prime"),ce(he,fe,Ae,"△","\\triangle"),ce(he,fe,Ae,"Γ","\\Gamma",!0),ce(he,fe,Ae,"Δ","\\Delta",!0),ce(he,fe,Ae,"Θ","\\Theta",!0),ce(he,fe,Ae,"Λ","\\Lambda",!0),ce(he,fe,Ae,"Ξ","\\Xi",!0),ce(he,fe,Ae,"Π","\\Pi",!0),ce(he,fe,Ae,"Σ","\\Sigma",!0),ce(he,fe,Ae,"Υ","\\Upsilon",!0),ce(he,fe,Ae,"Φ","\\Phi",!0),ce(he,fe,Ae,"Ψ","\\Psi",!0),ce(he,fe,Ae,"Ω","\\Omega",!0),ce(he,fe,Ae,"A","Α"),ce(he,fe,Ae,"B","Β"),ce(he,fe,Ae,"E","Ε"),ce(he,fe,Ae,"Z","Ζ"),ce(he,fe,Ae,"H","Η"),ce(he,fe,Ae,"I","Ι"),ce(he,fe,Ae,"K","Κ"),ce(he,fe,Ae,"M","Μ"),ce(he,fe,Ae,"N","Ν"),ce(he,fe,Ae,"O","Ο"),ce(he,fe,Ae,"P","Ρ"),ce(he,fe,Ae,"T","Τ"),ce(he,fe,Ae,"X","Χ"),ce(he,fe,Ae,"¬","\\neg",!0),ce(he,fe,Ae,"¬","\\lnot"),ce(he,fe,Ae,"⊤","\\top"),ce(he,fe,Ae,"⊥","\\bot"),ce(he,fe,Ae,"∅","\\emptyset"),ce(he,pe,Ae,"∅","\\varnothing"),ce(he,fe,be,"α","\\alpha",!0),ce(he,fe,be,"β","\\beta",!0),ce(he,fe,be,"γ","\\gamma",!0),ce(he,fe,be,"δ","\\delta",!0),ce(he,fe,be,"ϵ","\\epsilon",!0),ce(he,fe,be,"ζ","\\zeta",!0),ce(he,fe,be,"η","\\eta",!0),ce(he,fe,be,"θ","\\theta",!0),ce(he,fe,be,"ι","\\iota",!0),ce(he,fe,be,"κ","\\kappa",!0),ce(he,fe,be,"λ","\\lambda",!0),ce(he,fe,be,"μ","\\mu",!0),ce(he,fe,be,"ν","\\nu",!0),ce(he,fe,be,"ξ","\\xi",!0),ce(he,fe,be,"ο","\\omicron",!0),ce(he,fe,be,"π","\\pi",!0),ce(he,fe,be,"ρ","\\rho",!0),ce(he,fe,be,"σ","\\sigma",!0),ce(he,fe,be,"τ","\\tau",!0),ce(he,fe,be,"υ","\\upsilon",!0),ce(he,fe,be,"ϕ","\\phi",!0),ce(he,fe,be,"χ","\\chi",!0),ce(he,fe,be,"ψ","\\psi",!0),ce(he,fe,be,"ω","\\omega",!0),ce(he,fe,be,"ε","\\varepsilon",!0),ce(he,fe,be,"ϑ","\\vartheta",!0),ce(he,fe,be,"ϖ","\\varpi",!0),ce(he,fe,be,"ϱ","\\varrho",!0),ce(he,fe,be,"ς","\\varsigma",!0),ce(he,fe,be,"φ","\\varphi",!0),ce(he,fe,me,"∗","*",!0),ce(he,fe,me,"+","+"),ce(he,fe,me,"−","-",!0),ce(he,fe,me,"⋅","\\cdot",!0),ce(he,fe,me,"∘","\\circ",!0),ce(he,fe,me,"÷","\\div",!0),ce(he,fe,me,"±","\\pm",!0),ce(he,fe,me,"×","\\times",!0),ce(he,fe,me,"∩","\\cap",!0),ce(he,fe,me,"∪","\\cup",!0),ce(he,fe,me,"∖","\\setminus",!0),ce(he,fe,me,"∧","\\land"),ce(he,fe,me,"∨","\\lor"),ce(he,fe,me,"∧","\\wedge",!0),ce(he,fe,me,"∨","\\vee",!0),ce(he,fe,Ae,"√","\\surd"),ce(he,fe,we,"⟨","\\langle",!0),ce(he,fe,we,"∣","\\lvert"),ce(he,fe,we,"∥","\\lVert"),ce(he,fe,ye,"?","?"),ce(he,fe,ye,"!","!"),ce(he,fe,ye,"⟩","\\rangle",!0),ce(he,fe,ye,"∣","\\rvert"),ce(he,fe,ye,"∥","\\rVert"),ce(he,fe,ke,"=","="),ce(he,fe,ke,":",":"),ce(he,fe,ke,"≈","\\approx",!0),ce(he,fe,ke,"≅","\\cong",!0),ce(he,fe,ke,"≥","\\ge"),ce(he,fe,ke,"≥","\\geq",!0),ce(he,fe,ke,"←","\\gets"),ce(he,fe,ke,">","\\gt",!0),ce(he,fe,ke,"∈","\\in",!0),ce(he,fe,ke,"","\\@not"),ce(he,fe,ke,"⊂","\\subset",!0),ce(he,fe,ke,"⊃","\\supset",!0),ce(he,fe,ke,"⊆","\\subseteq",!0),ce(he,fe,ke,"⊇","\\supseteq",!0),ce(he,pe,ke,"⊈","\\nsubseteq",!0),ce(he,pe,ke,"⊉","\\nsupseteq",!0),ce(he,fe,ke,"⊨","\\models"),ce(he,fe,ke,"←","\\leftarrow",!0),ce(he,fe,ke,"≤","\\le"),ce(he,fe,ke,"≤","\\leq",!0),ce(he,fe,ke,"<","\\lt",!0),ce(he,fe,ke,"→","\\rightarrow",!0),ce(he,fe,ke,"→","\\to"),ce(he,pe,ke,"≱","\\ngeq",!0),ce(he,pe,ke,"≰","\\nleq",!0),ce(he,fe,Ee," ","\\ "),ce(he,fe,Ee," ","\\space"),ce(he,fe,Ee," ","\\nobreakspace"),ce(de,fe,Ee," ","\\ "),ce(de,fe,Ee," "," "),ce(de,fe,Ee," ","\\space"),ce(de,fe,Ee," ","\\nobreakspace"),ce(he,fe,Ee,null,"\\nobreak"),ce(he,fe,Ee,null,"\\allowbreak"),ce(he,fe,De,",",","),ce(he,fe,De,";",";"),ce(he,pe,me,"⊼","\\barwedge",!0),ce(he,pe,me,"⊻","\\veebar",!0),ce(he,fe,me,"⊙","\\odot",!0),ce(he,fe,me,"⊕","\\oplus",!0),ce(he,fe,me,"⊗","\\otimes",!0),ce(he,fe,Ae,"∂","\\partial",!0),ce(he,fe,me,"⊘","\\oslash",!0),ce(he,pe,me,"⊚","\\circledcirc",!0),ce(he,pe,me,"⊡","\\boxdot",!0),ce(he,fe,me,"△","\\bigtriangleup"),ce(he,fe,me,"▽","\\bigtriangledown"),ce(he,fe,me,"†","\\dagger"),ce(he,fe,me,"⋄","\\diamond"),ce(he,fe,me,"⋆","\\star"),ce(he,fe,me,"◃","\\triangleleft"),ce(he,fe,me,"▹","\\triangleright"),ce(he,fe,we,"{","\\{"),ce(de,fe,Ae,"{","\\{"),ce(de,fe,Ae,"{","\\textbraceleft"),ce(he,fe,ye,"}","\\}"),ce(de,fe,Ae,"}","\\}"),ce(de,fe,Ae,"}","\\textbraceright"),ce(he,fe,we,"{","\\lbrace"),ce(he,fe,ye,"}","\\rbrace"),ce(he,fe,we,"[","\\lbrack",!0),ce(de,fe,Ae,"[","\\lbrack",!0),ce(he,fe,ye,"]","\\rbrack",!0),ce(de,fe,Ae,"]","\\rbrack",!0),ce(he,fe,we,"(","\\lparen",!0),ce(he,fe,ye,")","\\rparen",!0),ce(de,fe,Ae,"<","\\textless",!0),ce(de,fe,Ae,">","\\textgreater",!0),ce(he,fe,we,"⌊","\\lfloor",!0),ce(he,fe,ye,"⌋","\\rfloor",!0),ce(he,fe,we,"⌈","\\lceil",!0),ce(he,fe,ye,"⌉","\\rceil",!0),ce(he,fe,Ae,"\\","\\backslash"),ce(he,fe,Ae,"∣","|"),ce(he,fe,Ae,"∣","\\vert"),ce(de,fe,Ae,"|","\\textbar",!0),ce(he,fe,Ae,"∥","\\|"),ce(he,fe,Ae,"∥","\\Vert"),ce(de,fe,Ae,"∥","\\textbardbl"),ce(de,fe,Ae,"~","\\textasciitilde"),ce(de,fe,Ae,"\\","\\textbackslash"),ce(de,fe,Ae,"^","\\textasciicircum"),ce(he,fe,ke,"↑","\\uparrow",!0),ce(he,fe,ke,"⇑","\\Uparrow",!0),ce(he,fe,ke,"↓","\\downarrow",!0),ce(he,fe,ke,"⇓","\\Downarrow",!0),ce(he,fe,ke,"↕","\\updownarrow",!0),ce(he,fe,ke,"⇕","\\Updownarrow",!0),ce(he,fe,xe,"∐","\\coprod"),ce(he,fe,xe,"⋁","\\bigvee"),ce(he,fe,xe,"⋀","\\bigwedge"),ce(he,fe,xe,"⨄","\\biguplus"),ce(he,fe,xe,"⋂","\\bigcap"),ce(he,fe,xe,"⋃","\\bigcup"),ce(he,fe,xe,"∫","\\int"),ce(he,fe,xe,"∫","\\intop"),ce(he,fe,xe,"∬","\\iint"),ce(he,fe,xe,"∭","\\iiint"),ce(he,fe,xe,"∏","\\prod"),ce(he,fe,xe,"∑","\\sum"),ce(he,fe,xe,"⨂","\\bigotimes"),ce(he,fe,xe,"⨁","\\bigoplus"),ce(he,fe,xe,"⨀","\\bigodot"),ce(he,fe,xe,"∮","\\oint"),ce(he,fe,xe,"∯","\\oiint"),ce(he,fe,xe,"∰","\\oiiint"),ce(he,fe,xe,"⨆","\\bigsqcup"),ce(he,fe,xe,"∫","\\smallint"),ce(de,fe,ve,"…","\\textellipsis"),ce(he,fe,ve,"…","\\mathellipsis"),ce(de,fe,ve,"…","\\ldots",!0),ce(he,fe,ve,"…","\\ldots",!0),ce(he,fe,ve,"⋯","\\@cdots",!0),ce(he,fe,ve,"⋱","\\ddots",!0),ce(he,fe,Ae,"⋮","\\varvdots"),ce(de,fe,Ae,"⋮","\\varvdots"),ce(he,fe,ge,"ˊ","\\acute"),ce(he,fe,ge,"ˋ","\\grave"),ce(he,fe,ge,"¨","\\ddot"),ce(he,fe,ge,"~","\\tilde"),ce(he,fe,ge,"ˉ","\\bar"),ce(he,fe,ge,"˘","\\breve"),ce(he,fe,ge,"ˇ","\\check"),ce(he,fe,ge,"^","\\hat"),ce(he,fe,ge,"⃗","\\vec"),ce(he,fe,ge,"˙","\\dot"),ce(he,fe,ge,"˚","\\mathring"),ce(he,fe,be,"","\\@imath"),ce(he,fe,be,"","\\@jmath"),ce(he,fe,Ae,"ı","ı"),ce(he,fe,Ae,"ȷ","ȷ"),ce(de,fe,Ae,"ı","\\i",!0),ce(de,fe,Ae,"ȷ","\\j",!0),ce(de,fe,Ae,"ß","\\ss",!0),ce(de,fe,Ae,"æ","\\ae",!0),ce(de,fe,Ae,"œ","\\oe",!0),ce(de,fe,Ae,"ø","\\o",!0),ce(de,fe,Ae,"Æ","\\AE",!0),ce(de,fe,Ae,"Œ","\\OE",!0),ce(de,fe,Ae,"Ø","\\O",!0),ce(de,fe,ge,"ˊ","\\'"),ce(de,fe,ge,"ˋ","\\`"),ce(de,fe,ge,"ˆ","\\^"),ce(de,fe,ge,"˜","\\~"),ce(de,fe,ge,"ˉ","\\="),ce(de,fe,ge,"˘","\\u"),ce(de,fe,ge,"˙","\\."),ce(de,fe,ge,"¸","\\c"),ce(de,fe,ge,"˚","\\r"),ce(de,fe,ge,"ˇ","\\v"),ce(de,fe,ge,"¨",'\\"'),ce(de,fe,ge,"˝","\\H"),ce(de,fe,ge,"◯","\\textcircled");var Ce={"--":!0,"---":!0,"``":!0,"''":!0};ce(de,fe,Ae,"–","--",!0),ce(de,fe,Ae,"–","\\textendash"),ce(de,fe,Ae,"—","---",!0),ce(de,fe,Ae,"—","\\textemdash"),ce(de,fe,Ae,"‘","`",!0),ce(de,fe,Ae,"‘","\\textquoteleft"),ce(de,fe,Ae,"’","'",!0),ce(de,fe,Ae,"’","\\textquoteright"),ce(de,fe,Ae,"“","``",!0),ce(de,fe,Ae,"“","\\textquotedblleft"),ce(de,fe,Ae,"”","''",!0),ce(de,fe,Ae,"”","\\textquotedblright"),ce(he,fe,Ae,"°","\\degree",!0),ce(de,fe,Ae,"°","\\degree"),ce(de,fe,Ae,"°","\\textdegree",!0),ce(he,fe,Ae,"£","\\pounds"),ce(he,fe,Ae,"£","\\mathsterling",!0),ce(de,fe,Ae,"£","\\pounds"),ce(de,fe,Ae,"£","\\textsterling",!0),ce(he,pe,Ae,"✠","\\maltese"),ce(de,pe,Ae,"✠","\\maltese");for(var _e=0;_e<14;_e++){var Te='0123456789/@."'.charAt(_e);ce(he,fe,Ae,Te,Te)}for(var Se=0;Se<25;Se++){var Fe='0123456789!@*()-=+";:?/.,'.charAt(Se);ce(de,fe,Ae,Fe,Fe)}for(var Oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Be=0;Be<52;Be++){var Ne=Oe.charAt(Be);ce(he,fe,be,Ne,Ne),ce(de,fe,Ae,Ne,Ne)}ce(he,pe,Ae,"C","ℂ"),ce(de,pe,Ae,"C","ℂ"),ce(he,pe,Ae,"H","ℍ"),ce(de,pe,Ae,"H","ℍ"),ce(he,pe,Ae,"N","ℕ"),ce(de,pe,Ae,"N","ℕ"),ce(he,pe,Ae,"P","ℙ"),ce(de,pe,Ae,"P","ℙ"),ce(he,pe,Ae,"Q","ℚ"),ce(de,pe,Ae,"Q","ℚ"),ce(he,pe,Ae,"R","ℝ"),ce(de,pe,Ae,"R","ℝ"),ce(he,pe,Ae,"Z","ℤ"),ce(de,pe,Ae,"Z","ℤ"),ce(he,fe,be,"h","ℎ"),ce(de,fe,be,"h","ℎ");for(var Le="",Ie=0;Ie<52;Ie++){var Re=Oe.charAt(Ie);ce(he,fe,be,Re,Le=String.fromCharCode(55349,56320+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56372+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56424+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56580+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56684+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56736+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56788+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56840+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56944+Ie)),ce(de,fe,Ae,Re,Le),Ie<26&&(ce(he,fe,be,Re,Le=String.fromCharCode(55349,56632+Ie)),ce(de,fe,Ae,Re,Le),ce(he,fe,be,Re,Le=String.fromCharCode(55349,56476+Ie)),ce(de,fe,Ae,Re,Le))}ce(he,fe,be,"k",Le=String.fromCharCode(55349,56668)),ce(de,fe,Ae,"k",Le);for(var Me=0;Me<10;Me++){var Pe=Me.toString();ce(he,fe,be,Pe,Le=String.fromCharCode(55349,57294+Me)),ce(de,fe,Ae,Pe,Le),ce(he,fe,be,Pe,Le=String.fromCharCode(55349,57314+Me)),ce(de,fe,Ae,Pe,Le),ce(he,fe,be,Pe,Le=String.fromCharCode(55349,57324+Me)),ce(de,fe,Ae,Pe,Le),ce(he,fe,be,Pe,Le=String.fromCharCode(55349,57334+Me)),ce(de,fe,Ae,Pe,Le)}for(var ze=0;ze<3;ze++){var $e="ÐÞþ".charAt(ze);ce(he,fe,be,$e,$e),ce(de,fe,Ae,$e,$e)}var je=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ke=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],qe=function(e,t,r){return ue[r][e]&&ue[r][e].replace&&(e=ue[r][e].replace),{value:e,metrics:M(e,t,r)}},Ue=function(e,t,r,n,i){var a,o=qe(e,t,r),s=o.metrics;if(e=o.value,s){var l=s.italic;("text"===r||n&&"mathit"===n.font)&&(l=0),a=new re(e,s.height,s.depth,l,s.skew,s.width,i)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+r+"'"),a=new re(e,0,0,0,0,0,i);if(n){a.maxFontSize=n.sizeMultiplier,n.style.isTight()&&a.classes.push("mtight");var u=n.getColor();u&&(a.style.color=u)}return a},He=(e,t)=>{if(V(e.classes)!==V(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var r=e.classes[0];if("mbin"===r||"mord"===r)return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},We=function(e){for(var t=0,r=0,n=0,i=0;i<e.children.length;i++){var a=e.children[i];a.height>t&&(t=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>n&&(n=a.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=n},Ge=function(e,t,r,n){var i=new Q(e,t,r,n);return We(i),i},Ve=(e,t,r,n)=>new Q(e,t,r,n),Ye=function(e){var t=new N(e);return We(t),t},Xe=function(e,t,r){var n="";switch(e){case"amsrm":n="AMS";break;case"textrm":n="Main";break;case"textsf":n="SansSerif";break;case"texttt":n="Typewriter";break;default:n=e}return n+"-"+("textbf"===t&&"textit"===r?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},Ze={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Qe={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Je={fontMap:Ze,makeSymbol:Ue,mathsym:function(e,t,r,n){return void 0===n&&(n=[]),"boldsymbol"===r.font&&qe(e,"Main-Bold",t).metrics?Ue(e,"Main-Bold",t,r,n.concat(["mathbf"])):"\\"===e||"main"===ue[t][e].font?Ue(e,"Main-Regular",t,r,n):Ue(e,"AMS-Regular",t,r,n.concat(["amsrm"]))},makeSpan:Ge,makeSvgSpan:Ve,makeLineSpan:function(e,t,r){var n=Ge([e],[],t);return n.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),n.style.borderBottomWidth=G(n.height),n.maxFontSize=1,n},makeAnchor:function(e,t,r,n){var i=new J(e,t,r,n);return We(i),i},makeFragment:Ye,wrapFragment:function(e,t){return e instanceof N?Ge([],[e],t):e},makeVList:function(e,t){for(var{children:r,depth:n}=function(e){if("individualShift"===e.positionType){for(var t=e.children,r=[t[0]],n=-t[0].shift-t[0].elem.depth,i=n,a=1;a<t.length;a++){var o=-t[a].shift-i-t[a].elem.depth,s=o-(t[a-1].elem.height+t[a-1].elem.depth);i+=o,r.push({type:"kern",size:s}),r.push(t[a])}return{children:r,depth:n}}var l;if("top"===e.positionType){for(var u=e.positionData,c=0;c<e.children.length;c++){var h=e.children[c];u-="kern"===h.type?h.size:h.elem.height+h.elem.depth}l=u}else if("bottom"===e.positionType)l=-e.positionData;else{var d=e.children[0];if("elem"!==d.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-d.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-d.elem.depth}}return{children:e.children,depth:l}}(e),i=0,a=0;a<r.length;a++){var o=r[a];if("elem"===o.type){var s=o.elem;i=Math.max(i,s.maxFontSize,s.height)}}i+=2;var l=Ge(["pstrut"],[]);l.style.height=G(i);for(var u=[],c=n,h=n,d=n,f=0;f<r.length;f++){var p=r[f];if("kern"===p.type)d+=p.size;else{var g=p.elem,m=p.wrapperClasses||[],y=p.wrapperStyle||{},v=Ge(m,[l,g],void 0,y);v.style.top=G(-i-d-g.depth),p.marginLeft&&(v.style.marginLeft=p.marginLeft),p.marginRight&&(v.style.marginRight=p.marginRight),u.push(v),d+=g.height+g.depth}c=Math.min(c,d),h=Math.max(h,d)}var b,x=Ge(["vlist"],u);if(x.style.height=G(h),c<0){var w=Ge([],[]),D=Ge(["vlist"],[w]);D.style.height=G(-c);var k=Ge(["vlist-s"],[new re("​")]);b=[Ge(["vlist-r"],[x,k]),Ge(["vlist-r"],[D])]}else b=[Ge(["vlist-r"],[x])];var E=Ge(["vlist-t"],b);return 2===b.length&&E.classes.push("vlist-t2"),E.height=h,E.depth=-c,E},makeOrd:function(e,t,r){var n=e.mode,i=e.text,o=["mord"],s="math"===n||"text"===n&&t.font,l=s?t.font:t.fontFamily,u="",c="";if(55349===i.charCodeAt(0)&&([u,c]=function(e,t){var r=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,n="math"===t?0:1;if(119808<=r&&r<120484){var i=Math.floor((r-119808)/26);return[je[i][2],je[i][n]]}if(120782<=r&&r<=120831){var o=Math.floor((r-120782)/10);return[Ke[o][2],Ke[o][n]]}if(120485===r||120486===r)return[je[0][2],je[0][n]];if(120486<r&&r<120782)return["",""];throw new a("Unsupported character: "+e)}(i,n)),u.length>0)return Ue(i,u,n,t,o.concat(c));if(l){var h,d;if("boldsymbol"===l){var f=function(e,t,r,n,i){return"textord"!==i&&qe(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(i,n,0,0,r);h=f.fontName,d=[f.fontClass]}else s?(h=Ze[l].fontName,d=[l]):(h=Xe(l,t.fontWeight,t.fontShape),d=[l,t.fontWeight,t.fontShape]);if(qe(i,h,n).metrics)return Ue(i,h,n,t,o.concat(d));if(Ce.hasOwnProperty(i)&&"Typewriter"===h.slice(0,10)){for(var p=[],g=0;g<i.length;g++)p.push(Ue(i[g],h,n,t,o.concat(d)));return Ye(p)}}if("mathord"===r)return Ue(i,"Math-Italic",n,t,o.concat(["mathnormal"]));if("textord"===r){var m=ue[n][i]&&ue[n][i].font;if("ams"===m){var y=Xe("amsrm",t.fontWeight,t.fontShape);return Ue(i,y,n,t,o.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==m&&m){var v=Xe(m,t.fontWeight,t.fontShape);return Ue(i,v,n,t,o.concat(v,t.fontWeight,t.fontShape))}var b=Xe("textrm",t.fontWeight,t.fontShape);return Ue(i,b,n,t,o.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+r+" in makeOrd")},makeGlue:(e,t)=>{var r=Ge(["mspace"],[],t),n=W(e,t);return r.style.marginRight=G(n),r},staticSvg:function(e,t){var[r,n,i]=Qe[e],a=new ie(r),o=new ne([a],{width:G(n),height:G(i),style:"width:"+G(n),viewBox:"0 0 "+1e3*n+" "+1e3*i,preserveAspectRatio:"xMinYMin"}),s=Ve(["overlay"],[o],t);return s.height=i,s.style.height=G(i),s.style.width=G(n),s},svgData:Qe,tryCombineChars:e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof re&&n instanceof re&&He(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e}},et={number:3,unit:"mu"},tt={number:4,unit:"mu"},rt={number:5,unit:"mu"},nt={mord:{mop:et,mbin:tt,mrel:rt,minner:et},mop:{mord:et,mop:et,mrel:rt,minner:et},mbin:{mord:tt,mop:tt,mopen:tt,minner:tt},mrel:{mord:rt,mop:rt,mopen:rt,minner:rt},mopen:{},mclose:{mop:et,mbin:tt,mrel:rt,minner:et},mpunct:{mord:et,mop:et,mrel:rt,mopen:et,mclose:et,mpunct:et,minner:et},minner:{mord:et,mop:et,mbin:tt,mrel:rt,mopen:et,mpunct:et,minner:et}},it={mord:{mop:et},mop:{mord:et,mop:et},mbin:{},mrel:{},mopen:{},mclose:{mop:et},mpunct:{},minner:{mop:et}},at={},ot={},st={};function lt(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:o}=e,s={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:void 0===n.allowedInMath||n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},l=0;l<r.length;++l)at[r[l]]=s;t&&(a&&(ot[t]=a),o&&(st[t]=o))}function ut(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;lt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var ct=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},ht=function(e){return"ordgroup"===e.type?e.body:[e]},dt=Je.makeSpan,ft=["leftmost","mbin","mopen","mrel","mop","mpunct"],pt=["rightmost","mrel","mclose","mpunct"],gt={display:T.DISPLAY,text:T.TEXT,script:T.SCRIPT,scriptscript:T.SCRIPTSCRIPT},mt={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},yt=function(e,t,r,n){void 0===n&&(n=[null,null]);for(var i=[],a=0;a<e.length;a++){var o=kt(e[a],t);if(o instanceof N){var s=o.children;i.push(...s)}else i.push(o)}if(Je.tryCombineChars(i),!r)return i;var l=t;if(1===e.length){var u=e[0];"sizing"===u.type?l=t.havingSize(u.size):"styling"===u.type&&(l=t.havingStyle(gt[u.style]))}var h=dt([n[0]||"leftmost"],[],t),d=dt([n[1]||"rightmost"],[],t),f="root"===r;return vt(i,((e,t)=>{var r=t.classes[0],n=e.classes[0];"mbin"===r&&c(pt,n)?t.classes[0]="mord":"mbin"===n&&c(ft,r)&&(e.classes[0]="mord")}),{node:h},d,f),vt(i,((e,t)=>{var r=wt(t),n=wt(e),i=r&&n?e.hasClass("mtight")?it[r][n]:nt[r][n]:null;if(i)return Je.makeGlue(i,l)}),{node:h},d,f),i},vt=function e(t,r,n,i,a){i&&t.push(i);for(var o=0;o<t.length;o++){var s=t[o],l=bt(s);if(l)e(l.children,r,n,null,a);else{var u=!s.hasClass("mspace");if(u){var c=r(s,n.node);c&&(n.insertAfter?n.insertAfter(c):(t.unshift(c),o++))}u?n.node=s:a&&s.hasClass("newline")&&(n.node=dt(["leftmost"])),n.insertAfter=(e=>r=>{t.splice(e+1,0,r),o++})(o)}}i&&t.pop()},bt=function(e){return e instanceof N||e instanceof J||e instanceof Q&&e.hasClass("enclosing")?e:null},xt=function e(t,r){var n=bt(t);if(n){var i=n.children;if(i.length){if("right"===r)return e(i[i.length-1],"right");if("left"===r)return e(i[0],"left")}}return t},wt=function(e,t){return e?(t&&(e=xt(e,t)),mt[e.classes[0]]||null):null},Dt=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return dt(t.concat(r))},kt=function(e,t,r){if(!e)return dt();if(ot[e.type]){var n=ot[e.type](e,t);if(r&&t.size!==r.size){n=dt(t.sizingClasses(r),[n],t);var i=t.sizeMultiplier/r.sizeMultiplier;n.height*=i,n.depth*=i}return n}throw new a("Got group of unknown type: '"+e.type+"'")};function Et(e,t){var r=dt(["base"],e,t),n=dt(["strut"]);return n.style.height=G(r.height+r.depth),r.depth&&(n.style.verticalAlign=G(-r.depth)),r.children.unshift(n),r}function At(e,t){var r=null;1===e.length&&"tag"===e[0].type&&(r=e[0].tag,e=e[0].body);var n,i=yt(e,t,"root");2===i.length&&i[1].hasClass("tag")&&(n=i.pop());for(var a,o=[],s=[],l=0;l<i.length;l++)if(s.push(i[l]),i[l].hasClass("mbin")||i[l].hasClass("mrel")||i[l].hasClass("allowbreak")){for(var u=!1;l<i.length-1&&i[l+1].hasClass("mspace")&&!i[l+1].hasClass("newline");)l++,s.push(i[l]),i[l].hasClass("nobreak")&&(u=!0);u||(o.push(Et(s,t)),s=[])}else i[l].hasClass("newline")&&(s.pop(),s.length>0&&(o.push(Et(s,t)),s=[]),o.push(i[l]));s.length>0&&o.push(Et(s,t)),r?((a=Et(yt(r,t,!0))).classes=["tag"],o.push(a)):n&&o.push(n);var c=dt(["katex-html"],o);if(c.setAttribute("aria-hidden","true"),a){var h=a.children[0];h.style.height=G(c.height+c.depth),c.depth&&(h.style.verticalAlign=G(-c.depth))}return c}function Ct(e){return new N(e)}class _t{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=V(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Tt&&this.children[r+1]instanceof Tt){for(var n=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Tt;)n+=this.children[++r].toText();e.appendChild(new Tt(n).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=d(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+d(V(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+"</"+this.type+">"}toText(){return this.children.map((e=>e.toText())).join("")}}class Tt{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return d(this.toText())}toText(){return this.text}}var St={MathNode:_t,TextNode:Tt,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",G(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+G(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:Ct},Ft=function(e,t,r){return!ue[t][e]||!ue[t][e].replace||55349===e.charCodeAt(0)||Ce.hasOwnProperty(e)&&r&&(r.fontFamily&&"tt"===r.fontFamily.slice(4,6)||r.font&&"tt"===r.font.slice(4,6))||(e=ue[t][e].replace),new St.TextNode(e)},Ot=function(e){return 1===e.length?e[0]:new St.MathNode("mrow",e)},Bt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var r=t.font;if(!r||"mathnormal"===r)return null;var n=e.mode;if("mathit"===r)return"italic";if("boldsymbol"===r)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===r)return"bold";if("mathbb"===r)return"double-struck";if("mathsfit"===r)return"sans-serif-italic";if("mathfrak"===r)return"fraktur";if("mathscr"===r||"mathcal"===r)return"script";if("mathsf"===r)return"sans-serif";if("mathtt"===r)return"monospace";var i=e.text;return c(["\\imath","\\jmath"],i)?null:(ue[n][i]&&ue[n][i].replace&&(i=ue[n][i].replace),M(i,Je.fontMap[r].fontName,n)?Je.fontMap[r].variant:null)};function Nt(e){if(!e)return!1;if("mi"===e.type&&1===e.children.length){var t=e.children[0];return t instanceof Tt&&"."===t.text}if("mo"===e.type&&1===e.children.length&&"true"===e.getAttribute("separator")&&"0em"===e.getAttribute("lspace")&&"0em"===e.getAttribute("rspace")){var r=e.children[0];return r instanceof Tt&&","===r.text}return!1}var Lt=function(e,t,r){if(1===e.length){var n=Rt(e[0],t);return r&&n instanceof _t&&"mo"===n.type&&(n.setAttribute("lspace","0em"),n.setAttribute("rspace","0em")),[n]}for(var i,a=[],o=0;o<e.length;o++){var s=Rt(e[o],t);if(s instanceof _t&&i instanceof _t){if("mtext"===s.type&&"mtext"===i.type&&s.getAttribute("mathvariant")===i.getAttribute("mathvariant")){i.children.push(...s.children);continue}if("mn"===s.type&&"mn"===i.type){i.children.push(...s.children);continue}if(Nt(s)&&"mn"===i.type){i.children.push(...s.children);continue}if("mn"===s.type&&Nt(i))s.children=[...i.children,...s.children],a.pop();else if(("msup"===s.type||"msub"===s.type)&&s.children.length>=1&&("mn"===i.type||Nt(i))){var l=s.children[0];l instanceof _t&&"mn"===l.type&&(l.children=[...i.children,...l.children],a.pop())}else if("mi"===i.type&&1===i.children.length){var u=i.children[0];if(u instanceof Tt&&"̸"===u.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var c=s.children[0];c instanceof Tt&&c.text.length>0&&(c.text=c.text.slice(0,1)+"̸"+c.text.slice(1),a.pop())}}}a.push(s),i=s}return a},It=function(e,t,r){return Ot(Lt(e,t,r))},Rt=function(e,t){if(!e)return new St.MathNode("mrow");if(st[e.type])return st[e.type](e,t);throw new a("Got group of unknown type: '"+e.type+"'")};function Mt(e,t,r,n,i){var a,o=Lt(e,r);a=1===o.length&&o[0]instanceof _t&&c(["mrow","mtable"],o[0].type)?o[0]:new St.MathNode("mrow",o);var s=new St.MathNode("annotation",[new St.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var l=new St.MathNode("semantics",[a,s]),u=new St.MathNode("math",[l]);return u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block"),Je.makeSpan([i?"katex":"katex-mathml"],[u])}var Pt=function(e){return new K({style:e.displayMode?T.DISPLAY:T.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},zt=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=Je.makeSpan(r,[e])}return e},$t={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},jt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Kt=function(e){var t=new St.MathNode("mo",[new St.TextNode($t[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},qt=function(e,t){var{span:r,minWidth:n,height:i}=function(){var r=4e5,n=e.label.slice(1);if(c(["widehat","widecheck","widetilde","utilde"],n)){var i,a,o,s="ordgroup"===(p=e.base).type?p.body.length:1;if(s>5)"widehat"===n||"widecheck"===n?(i=420,r=2364,o=.42,a=n+"4"):(i=312,r=2340,o=.34,a="tilde4");else{var l=[1,1,2,2,3,3][s];"widehat"===n||"widecheck"===n?(r=[0,1062,2364,2364,2364][l],i=[0,239,300,360,420][l],o=[0,.24,.3,.3,.36,.42][l],a=n+l):(r=[0,600,1033,2339,2340][l],i=[0,260,286,306,312][l],o=[0,.26,.286,.3,.306,.34][l],a="tilde"+l)}var u=new ie(a),h=new ne([u],{width:"100%",height:G(o),viewBox:"0 0 "+r+" "+i,preserveAspectRatio:"none"});return{span:Je.makeSvgSpan([],[h],t),minWidth:0,height:o}}var d,f,p,g=[],m=jt[n],[y,v,b]=m,x=b/1e3,w=y.length;if(1===w)d=["hide-tail"],f=[m[3]];else if(2===w)d=["halfarrow-left","halfarrow-right"],f=["xMinYMin","xMaxYMin"];else{if(3!==w)throw new Error("Correct katexImagesData or update code here to support\n                    "+w+" children.");d=["brace-left","brace-center","brace-right"],f=["xMinYMin","xMidYMin","xMaxYMin"]}for(var D=0;D<w;D++){var k=new ie(y[D]),E=new ne([k],{width:"400em",height:G(x),viewBox:"0 0 "+r+" "+b,preserveAspectRatio:f[D]+" slice"}),A=Je.makeSvgSpan([d[D]],[E],t);if(1===w)return{span:A,minWidth:v,height:x};A.style.height=G(x),g.push(A)}return{span:Je.makeSpan(["stretchy"],g,t),minWidth:v,height:x}}();return r.height=i,r.style.height=G(i),n>0&&(r.style.minWidth=G(n)),r};function Ut(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Ht(e){var t=Wt(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Wt(e){return e&&("atom"===e.type||le.hasOwnProperty(e.type))?e:null}var Gt=(e,t)=>{var r,n,i;e&&"supsub"===e.type?(r=(n=Ut(e.base,"accent")).base,e.base=r,i=function(e){if(e instanceof Q)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(kt(e,t)),e.base=n):r=(n=Ut(e,"accent")).base;var a=kt(r,t.havingCrampedStyle()),o=0;if(n.isShifty&&g(r)){var s=p(r);o=oe(kt(s,t.havingCrampedStyle())).skew}var l,u="\\c"===n.label,c=u?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight);if(n.isStretchy)l=qt(n,t),l=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+G(2*o)+")",marginLeft:G(2*o)}:void 0}]},t);else{var h,d;"\\vec"===n.label?(h=Je.staticSvg("vec",t),d=Je.svgData.vec[1]):((h=oe(h=Je.makeOrd({mode:n.mode,text:n.label},t,"textord"))).italic=0,d=h.width,u&&(c+=h.depth)),l=Je.makeSpan(["accent-body"],[h]);var f="\\textcircled"===n.label;f&&(l.classes.push("accent-full"),c=a.height);var m=o;f||(m-=d/2),l.style.left=G(m),"\\textcircled"===n.label&&(l.style.top=".2em"),l=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-c},{type:"elem",elem:l}]},t)}var y=Je.makeSpan(["mord","accent"],[l],t);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},Vt=(e,t)=>{var r=e.isStretchy?Kt(e.label):new St.MathNode("mo",[Ft(e.label,e.mode)]),n=new St.MathNode("mover",[Rt(e.base,t),r]);return n.setAttribute("accent","true"),n},Yt=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((e=>"\\"+e)).join("|"));lt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=ct(t[0]),n=!Yt.test(e.funcName),i=!n||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:Gt,mathmlBuilder:Vt}),lt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return"math"===n&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Gt,mathmlBuilder:Vt}),lt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(e,t)=>{var r=kt(e.base,t),n=qt(e,t),i="\\utilde"===e.label?.12:0,a=Je.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return Je.makeSpan(["mord","accentunder"],[a],t)},mathmlBuilder:(e,t)=>{var r=Kt(e.label),n=new St.MathNode("munder",[Rt(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var Xt=e=>{var t=new St.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};lt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r,n=t.style,i=t.havingStyle(n.sup()),a=Je.wrapFragment(kt(e.body,i,t),t),o="\\x"===e.label.slice(0,2)?"x":"cd";a.classes.push(o+"-arrow-pad"),e.below&&(i=t.havingStyle(n.sub()),(r=Je.wrapFragment(kt(e.below,i,t),t)).classes.push(o+"-arrow-pad"));var s,l=qt(e,t),u=-t.fontMetrics().axisHeight+.5*l.height,c=-t.fontMetrics().axisHeight-.5*l.height-.111;if((a.depth>.25||"\\xleftequilibrium"===e.label)&&(c-=a.depth),r){var h=-t.fontMetrics().axisHeight+r.height+.5*l.height+.111;s=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:c},{type:"elem",elem:l,shift:u},{type:"elem",elem:r,shift:h}]},t)}else s=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:c},{type:"elem",elem:l,shift:u}]},t);return s.children[0].children[0].children[1].classes.push("svg-align"),Je.makeSpan(["mrel","x-arrow"],[s],t)},mathmlBuilder(e,t){var r,n=Kt(e.label);if(n.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var i=Xt(Rt(e.body,t));if(e.below){var a=Xt(Rt(e.below,t));r=new St.MathNode("munderover",[n,a,i])}else r=new St.MathNode("mover",[n,i])}else if(e.below){var o=Xt(Rt(e.below,t));r=new St.MathNode("munder",[n,o])}else r=Xt(),r=new St.MathNode("mover",[n,r]);return r}});var Zt=Je.makeSpan;function Qt(e,t){var r=yt(e.body,t,!0);return Zt([e.mclass],r,t)}function Jt(e,t){var r,n=Lt(e.body,t);return"minner"===e.mclass?r=new St.MathNode("mpadded",n):"mord"===e.mclass?e.isCharacterBox?(r=n[0]).type="mi":r=new St.MathNode("mi",n):(e.isCharacterBox?(r=n[0]).type="mo":r=new St.MathNode("mo",n),"mbin"===e.mclass?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):"mpunct"===e.mclass?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(r.attributes.lspace="0em",r.attributes.rspace="0em"):"minner"===e.mclass&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}lt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:ht(i),isCharacterBox:g(i)}},htmlBuilder:Qt,mathmlBuilder:Jt});var er=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};lt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:er(t[0]),body:ht(t[1]),isCharacterBox:g(t[1])}}}),lt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var r,{parser:n,funcName:i}=e,a=t[1],o=t[0];r="\\stackrel"!==i?er(a):"mrel";var s={type:"op",mode:a.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==i,body:ht(a)},l={type:"supsub",mode:o.mode,base:s,sup:"\\underset"===i?null:o,sub:"\\underset"===i?o:null};return{type:"mclass",mode:n.mode,mclass:r,body:[l],isCharacterBox:g(l)}},htmlBuilder:Qt,mathmlBuilder:Jt}),lt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:er(t[0]),body:ht(t[0])}},htmlBuilder(e,t){var r=yt(e.body,t,!0),n=Je.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=Lt(e.body,t),n=new St.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var tr={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},rr=e=>"textord"===e.type&&"@"===e.text;function nr(e,t,r){var n=tr[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var i={type:"atom",text:n,mode:"math",family:"rel"},a={type:"ordgroup",mode:"math",body:[r.callFunction("\\\\cdleft",[t[0]],[]),r.callFunction("\\Big",[i],[]),r.callFunction("\\\\cdright",[t[1]],[])]};return r.callFunction("\\\\cdparent",[a],[]);case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return r.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}lt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=Je.wrapFragment(kt(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=G(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new St.MathNode("mrow",[Rt(e.label,t)]);return(r=new St.MathNode("mpadded",[r])).setAttribute("width","0"),"left"===e.side&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),(r=new St.MathNode("mstyle",[r])).setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}}),lt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=Je.wrapFragment(kt(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder:(e,t)=>new St.MathNode("mrow",[Rt(e.fragment,t)])}),lt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=Ut(t[0],"ordgroup").body,i="",o=0;o<n.length;o++)i+=Ut(n[o],"textord").text;var s,l=parseInt(i);if(isNaN(l))throw new a("\\@char has non-numeric argument "+i);if(l<0||l>=1114111)throw new a("\\@char with invalid code point "+i);return l<=65535?s=String.fromCharCode(l):(l-=65536,s=String.fromCharCode(55296+(l>>10),56320+(1023&l))),{type:"textord",mode:r.mode,text:s}}});var ir=(e,t)=>{var r=yt(e.body,t.withColor(e.color),!1);return Je.makeFragment(r)},ar=(e,t)=>{var r=Lt(e.body,t.withColor(e.color)),n=new St.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};lt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=Ut(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:ht(i)}},htmlBuilder:ir,mathmlBuilder:ar}),lt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=Ut(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:ir,mathmlBuilder:ar}),lt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i="["===n.gullet.future().text?n.parseSizeGroup(!0):null,a=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:a,size:i&&Ut(i,"size").value}},htmlBuilder(e,t){var r=Je.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=G(W(e.size,t)))),r},mathmlBuilder(e,t){var r=new St.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",G(W(e.size,t)))),r}});var or={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},sr=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new a("Expected a control sequence",e);return t},lr=(e,t,r,n)=>{var i=e.gullet.macros.get(r.text);null==i&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)};lt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(or[n.text])return"\\global"!==r&&"\\\\globallong"!==r||(n.text=or[n.text]),Ut(t.parseFunction(),"internal");throw new a("Invalid token after macro prefix",n)}}),lt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new a("Expected a control sequence",n);for(var o,s=0,l=[[]];"{"!==t.gullet.future().text;)if("#"===(n=t.gullet.popToken()).text){if("{"===t.gullet.future().text){o=t.gullet.future(),l[s].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new a('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new a('Argument number "'+n.text+'" out of order');s++,l.push([])}else{if("EOF"===n.text)throw new a("Expected a macro definition");l[s].push(n.text)}var{tokens:u}=t.gullet.consumeArg();return o&&u.unshift(o),"\\edef"!==r&&"\\xdef"!==r||(u=t.gullet.expandTokens(u)).reverse(),t.gullet.macros.set(i,{tokens:u,numArgs:s,delimiters:l},r===or[r]),{type:"internal",mode:t.mode}}}),lt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=sr(t.gullet.popToken());t.gullet.consumeSpaces();var i=(e=>{var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t})(t);return lr(t,n,i,"\\\\globallet"===r),{type:"internal",mode:t.mode}}}),lt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=sr(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return lr(t,n,a,"\\\\globalfuture"===r),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var ur=function(e,t,r){var n=M(ue.math[e]&&ue.math[e].replace||e,t,r);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},cr=function(e,t,r,n){var i=r.havingBaseStyle(t),a=Je.makeSpan(n.concat(i.sizingClasses(r)),[e],r),o=i.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=i.sizeMultiplier,a},hr=function(e,t,r){var n=t.havingBaseStyle(r),i=(1-t.sizeMultiplier/n.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=G(i),e.height-=i,e.depth+=i},dr=function(e,t,r,n,i,a){var o=function(e,t,r,n){return Je.makeSymbol(e,"Size"+t+"-Regular",r,n)}(e,t,i,n),s=cr(Je.makeSpan(["delimsizing","size"+t],[o],n),T.TEXT,n,a);return r&&hr(s,n,T.TEXT),s},fr=function(e,t,r){return{type:"elem",elem:Je.makeSpan(["delimsizinginner","Size1-Regular"===t?"delim-size1":"delim-size4"],[Je.makeSpan([],[Je.makeSymbol(e,t,r)])])}},pr=function(e,t,r){var n=L["Size4-Regular"][e.charCodeAt(0)]?L["Size4-Regular"][e.charCodeAt(0)][4]:L["Size1-Regular"][e.charCodeAt(0)][4],i=new ie("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),a=new ne([i],{width:G(n),height:G(t),style:"width:"+G(n),viewBox:"0 0 "+1e3*n+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),o=Je.makeSvgSpan([],[a],r);return o.height=t,o.style.height=G(t),o.style.width=G(n),{type:"elem",elem:o}},gr={type:"kern",size:-.008},mr=["|","\\lvert","\\rvert","\\vert"],yr=["\\|","\\lVert","\\rVert","\\Vert"],vr=function(e,t,r,n,i,a){var o,s,l,u,h="",d=0;o=l=u=e,s=null;var f="Size1-Regular";"\\uparrow"===e?l=u="⏐":"\\Uparrow"===e?l=u="‖":"\\downarrow"===e?o=l="⏐":"\\Downarrow"===e?o=l="‖":"\\updownarrow"===e?(o="\\uparrow",l="⏐",u="\\downarrow"):"\\Updownarrow"===e?(o="\\Uparrow",l="‖",u="\\Downarrow"):c(mr,e)?(l="∣",h="vert",d=333):c(yr,e)?(l="∥",h="doublevert",d=556):"["===e||"\\lbrack"===e?(o="⎡",l="⎢",u="⎣",f="Size4-Regular",h="lbrack",d=667):"]"===e||"\\rbrack"===e?(o="⎤",l="⎥",u="⎦",f="Size4-Regular",h="rbrack",d=667):"\\lfloor"===e||"⌊"===e?(l=o="⎢",u="⎣",f="Size4-Regular",h="lfloor",d=667):"\\lceil"===e||"⌈"===e?(o="⎡",l=u="⎢",f="Size4-Regular",h="lceil",d=667):"\\rfloor"===e||"⌋"===e?(l=o="⎥",u="⎦",f="Size4-Regular",h="rfloor",d=667):"\\rceil"===e||"⌉"===e?(o="⎤",l=u="⎥",f="Size4-Regular",h="rceil",d=667):"("===e||"\\lparen"===e?(o="⎛",l="⎜",u="⎝",f="Size4-Regular",h="lparen",d=875):")"===e||"\\rparen"===e?(o="⎞",l="⎟",u="⎠",f="Size4-Regular",h="rparen",d=875):"\\{"===e||"\\lbrace"===e?(o="⎧",s="⎨",u="⎩",l="⎪",f="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(o="⎫",s="⎬",u="⎭",l="⎪",f="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(o="⎧",u="⎩",l="⎪",f="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(o="⎫",u="⎭",l="⎪",f="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(o="⎧",u="⎭",l="⎪",f="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(o="⎫",u="⎩",l="⎪",f="Size4-Regular");var p=ur(o,f,i),g=p.height+p.depth,m=ur(l,f,i),y=m.height+m.depth,v=ur(u,f,i),b=v.height+v.depth,x=0,w=1;if(null!==s){var D=ur(s,f,i);x=D.height+D.depth,w=2}var k=g+b+x,E=k+Math.max(0,Math.ceil((t-k)/(w*y)))*w*y,A=n.fontMetrics().axisHeight;r&&(A*=n.sizeMultiplier);var C=E/2-A,_=[];if(h.length>0){var S=E-g-b,F=Math.round(1e3*E),O=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(h,Math.round(1e3*S)),B=new ie(h,O),N=(d/1e3).toFixed(3)+"em",L=(F/1e3).toFixed(3)+"em",I=new ne([B],{width:N,height:L,viewBox:"0 0 "+d+" "+F}),R=Je.makeSvgSpan([],[I],n);R.height=F/1e3,R.style.width=N,R.style.height=L,_.push({type:"elem",elem:R})}else{if(_.push(fr(u,f,i)),_.push(gr),null===s){var M=E-g-b+.016;_.push(pr(l,M,n))}else{var P=(E-g-b-x)/2+.016;_.push(pr(l,P,n)),_.push(gr),_.push(fr(s,f,i)),_.push(gr),_.push(pr(l,P,n))}_.push(gr),_.push(fr(o,f,i))}var z=n.havingBaseStyle(T.TEXT),$=Je.makeVList({positionType:"bottom",positionData:C,children:_},z);return cr(Je.makeSpan(["delimsizing","mult"],[$],z),T.TEXT,n,a)},br=.08,xr=function(e,t,r,n,i){var a=function(e,t,r){t*=1e3;var n="";switch(e){case"sqrtMain":n=function(e){return"M95,"+(622+e+80)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize1":n=function(e){return"M263,"+(601+e+80)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize2":n=function(e){return"M983 "+(10+e+80)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" 80h400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize3":n=function(e){return"M424,"+(2398+e+80)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" 80\nh400000v"+(40+e)+"h-400000z"}(t);break;case"sqrtSize4":n=function(e){return"M473,"+(2713+e+80)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" 80h400000v"+(40+e)+"H1017.7z"}(t);break;case"sqrtTall":n=function(e,t,r){return"M702 "+(e+80)+"H400000"+(40+e)+"\nH742v"+(r-54-80-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 80H400000v"+(40+e)+"H742z"}(t,0,r)}return n}(e,n,r),o=new ie(e,a),s=new ne([o],{width:"400em",height:G(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return Je.makeSvgSpan(["hide-tail"],[s],i)},wr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Dr=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],kr=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Er=[0,1.2,1.8,2.4,3],Ar=[{type:"small",style:T.SCRIPTSCRIPT},{type:"small",style:T.SCRIPT},{type:"small",style:T.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Cr=[{type:"small",style:T.SCRIPTSCRIPT},{type:"small",style:T.SCRIPT},{type:"small",style:T.TEXT},{type:"stack"}],_r=[{type:"small",style:T.SCRIPTSCRIPT},{type:"small",style:T.SCRIPT},{type:"small",style:T.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Tr=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Sr=function(e,t,r,n){for(var i=Math.min(2,3-n.style.size);i<r.length&&"stack"!==r[i].type;i++){var a=ur(e,Tr(r[i]),"math"),o=a.height+a.depth;if("small"===r[i].type&&(o*=n.havingBaseStyle(r[i].style).sizeMultiplier),o>t)return r[i]}return r[r.length-1]},Fr=function(e,t,r,n,i,a){var o;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),o=c(kr,e)?Ar:c(wr,e)?_r:Cr;var s=Sr(e,t,o,n);return"small"===s.type?function(e,t,r,n,i,a){var o=Je.makeSymbol(e,"Main-Regular",i,n),s=cr(o,t,n,a);return r&&hr(s,n,t),s}(e,s.style,r,n,i,a):"large"===s.type?dr(e,s.size,r,n,i,a):vr(e,t,r,n,i,a)},Or={sqrtImage:function(e,t){var r,n,i=t.havingBaseSizing(),a=Sr("\\surd",e*i.sizeMultiplier,_r,i),o=i.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,u=0,c=0;return"small"===a.type?(e<1?o=1:e<1.4&&(o=.7),u=(1+s)/o,(r=xr("sqrtMain",l=(1+s+br)/o,c=1e3+1e3*s+80,s,t)).style.minWidth="0.853em",n=.833/o):"large"===a.type?(c=1080*Er[a.size],u=(Er[a.size]+s)/o,l=(Er[a.size]+s+br)/o,(r=xr("sqrtSize"+a.size,l,c,s,t)).style.minWidth="1.02em",n=1/o):(l=e+s+br,u=e+s,c=Math.floor(1e3*e+s)+80,(r=xr("sqrtTall",l,c,s,t)).style.minWidth="0.742em",n=1.056),r.height=u,r.style.height=G(l),{span:r,advanceWidth:n,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*o}},sizedDelim:function(e,t,r,n,i){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),c(wr,e)||c(kr,e))return dr(e,t,!1,r,n,i);if(c(Dr,e))return vr(e,Er[t],!1,r,n,i);throw new a("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:Er,customSizedDelim:Fr,leftRightDelim:function(e,t,r,n,i,a){var o=n.fontMetrics().axisHeight*n.sizeMultiplier,s=5/n.fontMetrics().ptPerEm,l=Math.max(t-o,r+o),u=Math.max(l/500*901,2*l-s);return Fr(e,u,!0,n,i,a)}},Br={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Nr=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Lr(e,t){var r=Wt(e);if(r&&c(Nr,r.text))return r;throw new a(r?"Invalid delimiter '"+r.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Ir(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}lt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=Lr(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Br[e.funcName].size,mclass:Br[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>"."===e.delim?Je.makeSpan([e.mclass]):Or.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(Ft(e.delim,e.mode));var r=new St.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=G(Or.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}}),lt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&"string"!=typeof r)throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Lr(t[0],e).text,color:r}}}),lt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=Lr(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var a=Ut(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{Ir(e);for(var r,n,i=yt(e.body,t,!0,["mopen","mclose"]),a=0,o=0,s=!1,l=0;l<i.length;l++)i[l].isMiddle?s=!0:(a=Math.max(i[l].height,a),o=Math.max(i[l].depth,o));if(a*=t.sizeMultiplier,o*=t.sizeMultiplier,r="."===e.left?Dt(t,["mopen"]):Or.leftRightDelim(e.left,a,o,t,e.mode,["mopen"]),i.unshift(r),s)for(var u=1;u<i.length;u++){var c=i[u].isMiddle;c&&(i[u]=Or.leftRightDelim(c.delim,a,o,c.options,e.mode,[]))}if("."===e.right)n=Dt(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;n=Or.leftRightDelim(e.right,a,o,h,e.mode,["mclose"])}return i.push(n),Je.makeSpan(["minner"],i,t)},mathmlBuilder:(e,t)=>{Ir(e);var r=Lt(e.body,t);if("."!==e.left){var n=new St.MathNode("mo",[Ft(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if("."!==e.right){var i=new St.MathNode("mo",[Ft(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return Ot(r)}}),lt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=Lr(t[0],e);if(!e.parser.leftrightDepth)throw new a("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if("."===e.delim)r=Dt(t,[]);else{r=Or.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r="\\vert"===e.delim||"|"===e.delim?Ft("|","text"):Ft(e.delim,e.mode),n=new St.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Rr=(e,t)=>{var r,n,i,a=Je.wrapFragment(kt(e.body,t),t),o=e.label.slice(1),s=t.sizeMultiplier,l=0,u=g(e.body);if("sout"===o)(r=Je.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/s,l=-.5*t.fontMetrics().xHeight;else if("phase"===o){var c=W({number:.6,unit:"pt"},t),h=W({number:.35,unit:"ex"},t);s/=t.havingBaseSizing().sizeMultiplier;var d=a.height+a.depth+c+h;a.style.paddingLeft=G(d/2+c);var f=Math.floor(1e3*d*s),p="M400000 "+(n=f)+" H0 L"+n/2+" 0 l65 45 L145 "+(n-80)+" H400000z",m=new ne([new ie("phase",p)],{width:"400em",height:G(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});(r=Je.makeSvgSpan(["hide-tail"],[m],t)).style.height=G(d),l=a.depth+c+h}else{/cancel/.test(o)?u||a.classes.push("cancel-pad"):"angl"===o?a.classes.push("anglpad"):a.classes.push("boxpad");var y=0,v=0,b=0;/box/.test(o)?(b=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),v=y=t.fontMetrics().fboxsep+("colorbox"===o?0:b)):"angl"===o?(y=4*(b=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),v=Math.max(0,.25-a.depth)):v=y=u?.2:0,r=function(e,t,r,n,i){var a,o=e.height+e.depth+r+n;if(/fbox|color|angl/.test(t)){if(a=Je.makeSpan(["stretchy",t],[],i),"fbox"===t){var s=i.color&&i.getColor();s&&(a.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new ae({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new ae({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new ne(l,{width:"100%",height:G(o)});a=Je.makeSvgSpan([],[u],i)}return a.height=o,a.style.height=G(o),a}(a,o,y,v,t),/fbox|boxed|fcolorbox/.test(o)?(r.style.borderStyle="solid",r.style.borderWidth=G(b)):"angl"===o&&.049!==b&&(r.style.borderTopWidth=G(b),r.style.borderRightWidth=G(b)),l=a.depth+v,e.backgroundColor&&(r.style.backgroundColor=e.backgroundColor,e.borderColor&&(r.style.borderColor=e.borderColor))}if(e.backgroundColor)i=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:l},{type:"elem",elem:a,shift:0}]},t);else{var x=/cancel|phase/.test(o)?["svg-align"]:[];i=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:r,shift:l,wrapperClasses:x}]},t)}return/cancel/.test(o)&&(i.height=a.height,i.depth=a.depth),/cancel/.test(o)&&!u?Je.makeSpan(["mord","cancel-lap"],[i],t):Je.makeSpan(["mord"],[i],t)},Mr=(e,t)=>{var r=0,n=new St.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Rt(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),"\\fcolorbox"===e.label){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};lt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,a=Ut(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,body:o}},htmlBuilder:Rr,mathmlBuilder:Mr}),lt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,a=Ut(t[0],"color-token").color,o=Ut(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:o,borderColor:a,body:s}},htmlBuilder:Rr,mathmlBuilder:Mr}),lt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}}),lt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:Rr,mathmlBuilder:Mr}),lt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var Pr={};function zr(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:a,mathmlBuilder:o}=e,s={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<r.length;++l)Pr[r[l]]=s;a&&(ot[t]=a),o&&(st[t]=o)}var $r={};function jr(e,t){$r[e]=t}function Kr(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for("\\relax"===r&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);"\\hline"===r||"\\hdashline"===r;)e.consume(),t.push("\\hdashline"===r),e.consumeSpaces(),r=e.fetch().text;return t}var qr=e=>{if(!e.parser.settings.displayMode)throw new a("{"+e.envName+"} can be used only in display mode.")};function Ur(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function Hr(e,t,r){var{hskipBeforeAndAfter:n,addJot:o,cols:s,arraystretch:l,colSeparationType:u,autoTag:c,singleRow:h,emptySingleRow:d,maxNumCols:f,leqno:p}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var g=e.gullet.expandMacroAsText("\\arraystretch");if(null==g)l=1;else if(!(l=parseFloat(g))||l<0)throw new a("Invalid \\arraystretch: "+g)}e.gullet.beginGroup();var m=[],y=[m],v=[],b=[],x=null!=c?[]:void 0;function w(){c&&e.gullet.macros.set("\\@eqnsw","1",!0)}function D(){x&&(e.gullet.macros.get("\\df@tag")?(x.push(e.subparse([new i("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):x.push(Boolean(c)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(w(),b.push(Kr(e));;){var k=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),k={type:"ordgroup",mode:e.mode,body:k},r&&(k={type:"styling",mode:e.mode,style:r,body:[k]}),m.push(k);var E=e.fetch().text;if("&"===E){if(f&&m.length===f){if(h||u)throw new a("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===E){D(),1===m.length&&"styling"===k.type&&0===k.body[0].body.length&&(y.length>1||!d)&&y.pop(),b.length<y.length+1&&b.push([]);break}if("\\\\"!==E)throw new a("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var A=void 0;" "!==e.gullet.future().text&&(A=e.parseSizeGroup(!0)),v.push(A?A.value:null),D(),b.push(Kr(e)),m=[],y.push(m),w()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:l,body:y,cols:s,rowGaps:v,hskipBeforeAndAfter:n,hLinesBeforeRow:b,colSeparationType:u,tags:x,leqno:p}}function Wr(e){return"d"===e.slice(0,1)?"display":"text"}var Gr=function(e,t){var r,n,i=e.body.length,o=e.hLinesBeforeRow,s=0,l=new Array(i),u=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,f=5*d;e.colSeparationType&&"small"===e.colSeparationType&&(f=t.havingStyle(T.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var p="CD"===e.colSeparationType?W({number:3,unit:"ex"},t):12*d,g=3*d,m=e.arraystretch*p,y=.7*m,v=.3*m,b=0;function x(e){for(var t=0;t<e.length;++t)t>0&&(b+=.25),u.push({pos:b,isDashed:e[t]})}for(x(o[0]),r=0;r<e.body.length;++r){var w=e.body[r],D=y,k=v;s<w.length&&(s=w.length);var E=new Array(w.length);for(n=0;n<w.length;++n){var A=kt(w[n],t);k<A.depth&&(k=A.depth),D<A.height&&(D=A.height),E[n]=A}var C=e.rowGaps[r],_=0;C&&(_=W(C,t))>0&&(k<(_+=v)&&(k=_),_=0),e.addJot&&(k+=g),E.height=D,E.depth=k,b+=D,E.pos=b,b+=k+_,l[r]=E,x(o[r+1])}var S,F,O=b/2+t.fontMetrics().axisHeight,B=e.cols||[],N=[],L=[];if(e.tags&&e.tags.some((e=>e)))for(r=0;r<i;++r){var I=l[r],R=I.pos-O,M=e.tags[r],P=void 0;(P=!0===M?Je.makeSpan(["eqn-num"],[],t):Je.makeSpan([],!1===M?[]:yt(M,t,!0),t)).depth=I.depth,P.height=I.height,L.push({type:"elem",elem:P,shift:R})}for(n=0,F=0;n<s||F<B.length;++n,++F){for(var z=B[F]||{},$=!0;"separator"===z.type;){if($||((S=Je.makeSpan(["arraycolsep"],[])).style.width=G(t.fontMetrics().doubleRuleSep),N.push(S)),"|"!==z.separator&&":"!==z.separator)throw new a("Invalid separator type: "+z.separator);var j="|"===z.separator?"solid":"dashed",K=Je.makeSpan(["vertical-separator"],[],t);K.style.height=G(b),K.style.borderRightWidth=G(c),K.style.borderRightStyle=j,K.style.margin="0 "+G(-c/2);var q=b-O;q&&(K.style.verticalAlign=G(-q)),N.push(K),z=B[++F]||{},$=!1}if(!(n>=s)){var U=void 0;(n>0||e.hskipBeforeAndAfter)&&0!==(U=h(z.pregap,f))&&((S=Je.makeSpan(["arraycolsep"],[])).style.width=G(U),N.push(S));var H=[];for(r=0;r<i;++r){var V=l[r],Y=V[n];if(Y){var X=V.pos-O;Y.depth=V.depth,Y.height=V.height,H.push({type:"elem",elem:Y,shift:X})}}H=Je.makeVList({positionType:"individualShift",children:H},t),H=Je.makeSpan(["col-align-"+(z.align||"c")],[H]),N.push(H),(n<s-1||e.hskipBeforeAndAfter)&&0!==(U=h(z.postgap,f))&&((S=Je.makeSpan(["arraycolsep"],[])).style.width=G(U),N.push(S))}}if(l=Je.makeSpan(["mtable"],N),u.length>0){for(var Z=Je.makeLineSpan("hline",t,c),Q=Je.makeLineSpan("hdashline",t,c),J=[{type:"elem",elem:l,shift:0}];u.length>0;){var ee=u.pop(),te=ee.pos-O;ee.isDashed?J.push({type:"elem",elem:Q,shift:te}):J.push({type:"elem",elem:Z,shift:te})}l=Je.makeVList({positionType:"individualShift",children:J},t)}if(0===L.length)return Je.makeSpan(["mord"],[l],t);var re=Je.makeVList({positionType:"individualShift",children:L},t);return re=Je.makeSpan(["tag"],[re],t),Je.makeFragment([l,re])},Vr={c:"center ",l:"left ",r:"right "},Yr=function(e,t){for(var r=[],n=new St.MathNode("mtd",[],["mtr-glue"]),i=new St.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],s=[],l=0;l<o.length;l++)s.push(new St.MathNode("mtd",[Rt(o[l],t)]));e.tags&&e.tags[a]&&(s.unshift(n),s.push(n),e.leqno?s.unshift(i):s.push(i)),r.push(new St.MathNode("mtr",s))}var u=new St.MathNode("mtable",r),c=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",G(c));var h="",d="";if(e.cols&&e.cols.length>0){var f=e.cols,p="",g=!1,m=0,y=f.length;"separator"===f[0].type&&(h+="top ",m=1),"separator"===f[f.length-1].type&&(h+="bottom ",y-=1);for(var v=m;v<y;v++)"align"===f[v].type?(d+=Vr[f[v].align],g&&(p+="none "),g=!0):"separator"===f[v].type&&g&&(p+="|"===f[v].separator?"solid ":"dashed ",g=!1);u.setAttribute("columnalign",d.trim()),/[sd]/.test(p)&&u.setAttribute("columnlines",p.trim())}if("align"===e.colSeparationType){for(var b=e.cols||[],x="",w=1;w<b.length;w++)x+=w%2?"0em ":"1em ";u.setAttribute("columnspacing",x.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?u.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?u.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var D="",k=e.hLinesBeforeRow;h+=k[0].length>0?"left ":"",h+=k[k.length-1].length>0?"right ":"";for(var E=1;E<k.length-1;E++)D+=0===k[E].length?"none ":k[E][0]?"dashed ":"solid ";return/[sd]/.test(D)&&u.setAttribute("rowlines",D.trim()),""!==h&&(u=new St.MathNode("menclose",[u])).setAttribute("notation",h.trim()),e.arraystretch&&e.arraystretch<1&&(u=new St.MathNode("mstyle",[u])).setAttribute("scriptlevel","1"),u},Xr=function(e,t){-1===e.envName.indexOf("ed")&&qr(e);var r,n=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o="split"===e.envName,s=Hr(e.parser,{cols:n,addJot:!0,autoTag:o?void 0:Ur(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var c="",h=0;h<t[0].body.length;h++)c+=Ut(t[0].body[h],"textord").text;r=Number(c),l=2*r}var d=!l;s.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var n=Ut(e[t],"styling");Ut(n.body[0],"ordgroup").body.unshift(u)}if(d)l<e.length&&(l=e.length);else{var i=e.length/2;if(r<i)throw new a("Too many math in a row: expected "+r+", but got "+i,e[0])}}));for(var f=0;f<l;++f){var p="r",g=0;f%2==1?p="l":f>0&&d&&(g=1),n[f]={type:"align",align:p,pregap:g,postgap:0}}return s.colSeparationType=d?"align":"alignat",s};zr({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=(Wt(t[0])?[t[0]]:Ut(t[0],"ordgroup").body).map((function(e){var t=Ht(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+t,e)})),n={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return Hr(e.parser,n,Wr(e.envName))},htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if("*"===e.envName.charAt(e.envName.length-1)){var i=e.parser;if(i.consumeSpaces(),"["===i.fetch().text){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,-1==="lcr".indexOf(r))throw new a("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var o=Hr(e.parser,n,Wr(e.envName)),s=Math.max(0,...o.body.map((e=>e.length)));return o.cols=new Array(s).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=Hr(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=(Wt(t[0])?[t[0]]:Ut(t[0],"ordgroup").body).map((function(e){var t=Ht(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new a("Unknown column alignment: "+t,e)}));if(r.length>1)throw new a("{subarray} can contain only one column");var n={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if((n=Hr(e.parser,n,"script")).body.length>0&&n.body[0].length>1)throw new a("{subarray} can contain only one column");return n},htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=Hr(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},Wr(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Xr,htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){c(["gather","gather*"],e.envName)&&qr(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ur(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Hr(e.parser,t,"display")},htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Xr,htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){qr(e);var t={autoTag:Ur(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Hr(e.parser,t,"display")},htmlBuilder:Gr,mathmlBuilder:Yr}),zr({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(qr(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if("&"!==r&&"\\\\"!==r){if("\\end"===r){0===t[t.length-1].length&&t.pop();break}throw new a("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var n,i,o=[],s=[o],l=0;l<t.length;l++){for(var u=t[l],c={type:"styling",body:[],mode:"math",style:"display"},h=0;h<u.length;h++)if(rr(u[h])){o.push(c);var d=Ht(u[h+=1]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(d)>-1);else{if(!("<>AV".indexOf(d)>-1))throw new a('Expected one of "<>AV=|." after @',u[h]);for(var p=0;p<2;p++){for(var g=!0,m=h+1;m<u.length;m++){if(i=d,("mathord"===(n=u[m]).type||"atom"===n.type)&&n.text===i){g=!1,h=m;break}if(rr(u[m]))throw new a("Missing a "+d+" character to complete a CD arrow.",u[m]);f[p].body.push(u[m])}if(g)throw new a("Missing a "+d+" character to complete a CD arrow.",u[h])}}var y={type:"styling",body:[nr(d,f,e)],mode:"math",style:"display"};o.push(y),c={type:"styling",body:[],mode:"math",style:"display"}}else c.body.push(u[h]);l%2==0?o.push(c):o.shift(),o=[],s.push(o)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}(e.parser)),htmlBuilder:Gr,mathmlBuilder:Yr}),jr("\\nonumber","\\gdef\\@eqnsw{0}"),jr("\\notag","\\nonumber"),lt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new a(e.funcName+" valid only within array environment")}});var Zr=Pr;lt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if("ordgroup"!==i.type)throw new a("Invalid environment name",i);for(var o="",s=0;s<i.body.length;++s)o+=Ut(i.body[s],"textord").text;if("\\begin"===n){if(!Zr.hasOwnProperty(o))throw new a("No such environment: "+o,i);var l=Zr[o],{args:u,optArgs:c}=r.parseArguments("\\begin{"+o+"}",l),h={mode:r.mode,envName:o,parser:r},d=l.handler(h,u,c);r.expect("\\end",!1);var f=r.nextToken,p=Ut(r.parseFunction(),"environment");if(p.name!==o)throw new a("Mismatch: \\begin{"+o+"} matched by \\end{"+p.name+"}",f);return d}return{type:"environment",mode:r.mode,name:o,nameGroup:i}}});var Qr=(e,t)=>{var r=e.font,n=t.withFont(r);return kt(e.body,n)},Jr=(e,t)=>{var r=e.font,n=t.withFont(r);return Rt(e.body,n)},en={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};lt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=ct(t[0]),a=n;return a in en&&(a=en[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:Qr,mathmlBuilder:Jr}),lt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],i=g(n);return{type:"mclass",mode:r.mode,mclass:er(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}}),lt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:a}=r,o=r.parseExpression(!0,i);return{type:"font",mode:a,font:"math"+n.slice(1),body:{type:"ordgroup",mode:r.mode,body:o}}},htmlBuilder:Qr,mathmlBuilder:Jr});var tn=(e,t)=>{var r=t;return"display"===e?r=r.id>=T.SCRIPT.id?r.text():T.DISPLAY:"text"===e&&r.size===T.DISPLAY.size?r=T.TEXT:"script"===e?r=T.SCRIPT:"scriptscript"===e&&(r=T.SCRIPTSCRIPT),r},rn=(e,t)=>{var r,n=tn(e.size,t.style),i=n.fracNum(),a=n.fracDen();r=t.havingStyle(i);var o=kt(e.numer,r,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;o.height=o.height<s?s:o.height,o.depth=o.depth<l?l:o.depth}r=t.havingStyle(a);var u,c,h,d,f,p,g,m,y,v,b=kt(e.denom,r,t);if(e.hasBarLine?(e.barSize?(c=W(e.barSize,t),u=Je.makeLineSpan("frac-line",t,c)):u=Je.makeLineSpan("frac-line",t),c=u.height,h=u.height):(u=null,c=0,h=t.fontMetrics().defaultRuleThickness),n.size===T.DISPLAY.size||"display"===e.size?(d=t.fontMetrics().num1,f=c>0?3*h:7*h,p=t.fontMetrics().denom1):(c>0?(d=t.fontMetrics().num2,f=h):(d=t.fontMetrics().num3,f=3*h),p=t.fontMetrics().denom2),u){var x=t.fontMetrics().axisHeight;d-o.depth-(x+.5*c)<f&&(d+=f-(d-o.depth-(x+.5*c))),x-.5*c-(b.height-p)<f&&(p+=f-(x-.5*c-(b.height-p))),g=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:p},{type:"elem",elem:u,shift:-(x-.5*c)},{type:"elem",elem:o,shift:-d}]},t)}else{var w=d-o.depth-(b.height-p);w<f&&(d+=.5*(f-w),p+=.5*(f-w)),g=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:p},{type:"elem",elem:o,shift:-d}]},t)}return r=t.havingStyle(n),g.height*=r.sizeMultiplier/t.sizeMultiplier,g.depth*=r.sizeMultiplier/t.sizeMultiplier,m=n.size===T.DISPLAY.size?t.fontMetrics().delim1:n.size===T.SCRIPTSCRIPT.size?t.havingStyle(T.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,y=null==e.leftDelim?Dt(t,["mopen"]):Or.customSizedDelim(e.leftDelim,m,!0,t.havingStyle(n),e.mode,["mopen"]),v=e.continued?Je.makeSpan([]):null==e.rightDelim?Dt(t,["mclose"]):Or.customSizedDelim(e.rightDelim,m,!0,t.havingStyle(n),e.mode,["mclose"]),Je.makeSpan(["mord"].concat(r.sizingClasses(t)),[y,Je.makeSpan(["mfrac"],[g]),v],t)},nn=(e,t)=>{var r=new St.MathNode("mfrac",[Rt(e.numer,t),Rt(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var n=W(e.barSize,t);r.setAttribute("linethickness",G(n))}}else r.setAttribute("linethickness","0px");var i=tn(e.size,t.style);if(i.size!==t.style.size){r=new St.MathNode("mstyle",[r]);var a=i.size===T.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var o=[];if(null!=e.leftDelim){var s=new St.MathNode("mo",[new St.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),o.push(s)}if(o.push(r),null!=e.rightDelim){var l=new St.MathNode("mo",[new St.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return Ot(o)}return r};lt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var r,{parser:n,funcName:i}=e,a=t[0],o=t[1],s=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":r=!0;break;case"\\\\atopfrac":r=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":r=!1,s="(",l=")";break;case"\\\\bracefrac":r=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":r=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text"}return{type:"genfrac",mode:n.mode,continued:!1,numer:a,denom:o,hasBarLine:r,leftDelim:s,rightDelim:l,size:u,barSize:null}},htmlBuilder:rn,mathmlBuilder:nn}),lt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),lt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:r,funcName:n,token:i}=e;switch(n){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:r.mode,replaceWith:t,token:i}}});var an=["display","text","script","scriptscript"],on=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};lt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var r,{parser:n}=e,i=t[4],a=t[5],o=ct(t[0]),s="atom"===o.type&&"open"===o.family?on(o.text):null,l=ct(t[1]),u="atom"===l.type&&"close"===l.family?on(l.text):null,c=Ut(t[2],"size"),h=null;r=!!c.isBlank||(h=c.value).number>0;var d="auto",f=t[3];if("ordgroup"===f.type){if(f.body.length>0){var p=Ut(f.body[0],"textord");d=an[Number(p.text)]}}else f=Ut(f,"textord"),d=an[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:r,barSize:h,leftDelim:s,rightDelim:u,size:d}},htmlBuilder:rn,mathmlBuilder:nn}),lt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Ut(t[0],"size").value,token:i}}}),lt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],a=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Ut(t[1],"infix").size),o=t[2],s=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:o,continued:!1,hasBarLine:s,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:rn,mathmlBuilder:nn});var sn=(e,t)=>{var r,n,i=t.style;"supsub"===e.type?(r=e.sup?kt(e.sup,t.havingStyle(i.sup()),t):kt(e.sub,t.havingStyle(i.sub()),t),n=Ut(e.base,"horizBrace")):n=Ut(e,"horizBrace");var a,o=kt(n.base,t.havingBaseStyle(T.DISPLAY)),s=qt(n,t);if(n.isOver?(a=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(a=Je.makeVList({positionType:"bottom",positionData:o.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},t)).children[0].children[0].children[0].classes.push("svg-align"),r){var l=Je.makeSpan(["mord",n.isOver?"mover":"munder"],[a],t);a=n.isOver?Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},t):Je.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Je.makeSpan(["mord",n.isOver?"mover":"munder"],[a],t)};lt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:sn,mathmlBuilder:(e,t)=>{var r=Kt(e.label);return new St.MathNode(e.isOver?"mover":"munder",[Rt(e.base,t),r])}}),lt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],i=Ut(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:ht(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=yt(e.body,t,!1);return Je.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=It(e.body,t);return r instanceof _t||(r=new _t("mrow",[r])),r.setAttribute("href",e.href),r}}),lt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=Ut(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<n.length;a++){var o=n[a];"~"===o&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var s={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:ht(s)}}}),lt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:ht(t[0])}},htmlBuilder(e,t){var r=yt(e.body,t,!1);return Je.makeFragment(r)},mathmlBuilder:(e,t)=>new St.MathNode("mrow",Lt(e.body,t))}),lt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var r,{parser:n,funcName:i,token:o}=e,s=Ut(t[0],"raw").string,l=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u={};switch(i){case"\\htmlClass":u.class=s,r={command:"\\htmlClass",class:s};break;case"\\htmlId":u.id=s,r={command:"\\htmlId",id:s};break;case"\\htmlStyle":u.style=s,r={command:"\\htmlStyle",style:s};break;case"\\htmlData":for(var c=s.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(2!==d.length)throw new a("Error parsing key-value for \\htmlData");u["data-"+d[0].trim()]=d[1].trim()}r={command:"\\htmlData",attributes:u};break;default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(r)?{type:"html",mode:n.mode,attributes:u,body:ht(l)}:n.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{var r=yt(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=Je.makeSpan(n,r,t);for(var a in e.attributes)"class"!==a&&e.attributes.hasOwnProperty(a)&&i.setAttribute(a,e.attributes[a]);return i},mathmlBuilder:(e,t)=>It(e.body,t)}),lt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:ht(t[0]),mathml:ht(t[1])}},htmlBuilder:(e,t)=>{var r=yt(e.html,t,!1);return Je.makeFragment(r)},mathmlBuilder:(e,t)=>It(e.mathml,t)});var ln=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new a("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!H(r))throw new a("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};lt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},o={number:.9,unit:"em"},s={number:0,unit:"em"},l="";if(r[0])for(var u=Ut(r[0],"raw").string.split(","),c=0;c<u.length;c++){var h=u[c].split("=");if(2===h.length){var d=h[1].trim();switch(h[0].trim()){case"alt":l=d;break;case"width":i=ln(d);break;case"height":o=ln(d);break;case"totalheight":s=ln(d);break;default:throw new a("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var f=Ut(t[0],"url").url;return""===l&&(l=(l=(l=f).replace(/^.*[\\/]/,"")).substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:o,totalheight:s,src:f}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=W(e.height,t),n=0;e.totalheight.number>0&&(n=W(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=W(e.width,t));var a={height:G(r+n)};i>0&&(a.width=G(i)),n>0&&(a.verticalAlign=G(-n));var o=new ee(e.src,e.alt,a);return o.height=r,o.depth=n,o},mathmlBuilder:(e,t)=>{var r=new St.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=W(e.height,t),i=0;if(e.totalheight.number>0&&(i=W(e.totalheight,t)-n,r.setAttribute("valign",G(-i))),r.setAttribute("height",G(n+i)),e.width.number>0){var a=W(e.width,t);r.setAttribute("width",G(a))}return r.setAttribute("src",e.src),r}}),lt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=Ut(t[0],"size");if(r.settings.strict){var a="m"===n[1],o="mu"===i.value.unit;a?(o||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, not "+i.value.unit+" units"),"math"!==r.mode&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):o&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder:(e,t)=>Je.makeGlue(e.dimension,t),mathmlBuilder(e,t){var r=W(e.dimension,t);return new St.SpaceNode(r)}}),lt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(e,t)=>{var r;"clap"===e.alignment?(r=Je.makeSpan([],[kt(e.body,t)]),r=Je.makeSpan(["inner"],[r],t)):r=Je.makeSpan(["inner"],[kt(e.body,t)]);var n=Je.makeSpan(["fix"],[]),i=Je.makeSpan([e.alignment],[r,n],t),a=Je.makeSpan(["strut"]);return a.style.height=G(i.height+i.depth),i.depth&&(a.style.verticalAlign=G(-i.depth)),i.children.unshift(a),i=Je.makeSpan(["thinbox"],[i],t),Je.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var r=new St.MathNode("mpadded",[Rt(e.body,t)]);if("rlap"!==e.alignment){var n="llap"===e.alignment?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}}),lt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var a="\\("===r?"\\)":"$",o=n.parseExpression(!1,a);return n.expect(a),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:o}}}),lt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new a("Mismatched "+e.funcName)}});var un=(e,t)=>{switch(t.style.size){case T.DISPLAY.size:return e.display;case T.TEXT.size:return e.text;case T.SCRIPT.size:return e.script;case T.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};lt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:ht(t[0]),text:ht(t[1]),script:ht(t[2]),scriptscript:ht(t[3])}},htmlBuilder:(e,t)=>{var r=un(e,t),n=yt(r,t,!1);return Je.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=un(e,t);return It(r,t)}});var cn=(e,t,r,n,i,a,o)=>{e=Je.makeSpan([],[e]);var s,l,u,c=r&&g(r);if(t){var h=kt(t,n.havingStyle(i.sup()),n);l={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-h.depth)}}if(r){var d=kt(r,n.havingStyle(i.sub()),n);s={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-d.height)}}if(l&&s){var f=n.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+e.depth+o;u=Je.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:G(-a)},{type:"kern",size:s.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:G(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(s){var p=e.height-o;u=Je.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:G(-a)},{type:"kern",size:s.kern},{type:"elem",elem:e}]},n)}else{if(!l)return e;var m=e.depth+o;u=Je.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:G(a)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}var y=[u];if(s&&0!==a&&!c){var v=Je.makeSpan(["mspace"],[],n);v.style.marginRight=G(a),y.unshift(v)}return Je.makeSpan(["mop","op-limits"],y,n)},hn=["\\smallint"],dn=(e,t)=>{var r,n,i,a=!1;"supsub"===e.type?(r=e.sup,n=e.sub,i=Ut(e.base,"op"),a=!0):i=Ut(e,"op");var o,s=t.style,l=!1;if(s.size===T.DISPLAY.size&&i.symbol&&!c(hn,i.name)&&(l=!0),i.symbol){var u=l?"Size2-Regular":"Size1-Regular",h="";if("\\oiint"!==i.name&&"\\oiiint"!==i.name||(h=i.name.slice(1),i.name="oiint"===h?"\\iint":"\\iiint"),o=Je.makeSymbol(i.name,u,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),h.length>0){var d=o.italic,f=Je.staticSvg(h+"Size"+(l?"2":"1"),t);o=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:f,shift:l?.08:0}]},t),i.name="\\"+h,o.classes.unshift("mop"),o.italic=d}}else if(i.body){var p=yt(i.body,t,!0);1===p.length&&p[0]instanceof re?(o=p[0]).classes[0]="mop":o=Je.makeSpan(["mop"],p,t)}else{for(var g=[],m=1;m<i.name.length;m++)g.push(Je.mathsym(i.name[m],i.mode,t));o=Je.makeSpan(["mop"],g,t)}var y=0,v=0;return(o instanceof re||"\\oiint"===i.name||"\\oiiint"===i.name)&&!i.suppressBaseShift&&(y=(o.height-o.depth)/2-t.fontMetrics().axisHeight,v=o.italic),a?cn(o,r,n,t,s,v,y):(y&&(o.style.position="relative",o.style.top=G(y)),o)},fn=(e,t)=>{var r;if(e.symbol)r=new _t("mo",[Ft(e.name,e.mode)]),c(hn,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new _t("mo",Lt(e.body,t));else{r=new _t("mi",[new Tt(e.name.slice(1))]);var n=new _t("mo",[Ft("⁡","text")]);r=e.parentIsSupSub?new _t("mrow",[r,n]):Ct([r,n])}return r},pn={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};lt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=n;return 1===i.length&&(i=pn[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:dn,mathmlBuilder:fn}),lt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ht(n)}},htmlBuilder:dn,mathmlBuilder:fn});var gn={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};lt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:dn,mathmlBuilder:fn}),lt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:dn,mathmlBuilder:fn}),lt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return 1===n.length&&(n=gn[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:dn,mathmlBuilder:fn});var mn=(e,t)=>{var r,n,i,a,o=!1;if("supsub"===e.type?(r=e.sup,n=e.sub,i=Ut(e.base,"operatorname"),o=!0):i=Ut(e,"operatorname"),i.body.length>0){for(var s=i.body.map((e=>{var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e})),l=yt(s,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof re&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=Je.makeSpan(["mop"],l,t)}else a=Je.makeSpan(["mop"],[],t);return o?cn(a,r,n,t,t.style,0,0):a};function yn(e,t,r){for(var n=yt(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,a=0;a<n.length;a++){var o=n[a].classes.indexOf("sizing");o<0?Array.prototype.push.apply(n[a].classes,t.sizingClasses(r)):n[a].classes[o+1]==="reset-size"+t.size&&(n[a].classes[o+1]="reset-size"+r.size),n[a].height*=i,n[a].depth*=i}return Je.makeFragment(n)}lt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:ht(i),alwaysHandleSupSub:"\\operatornamewithlimits"===n,limits:!1,parentIsSupSub:!1}},htmlBuilder:mn,mathmlBuilder:(e,t)=>{for(var r=Lt(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var a=r[i];if(a instanceof St.SpaceNode);else if(a instanceof St.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var o=a.children[0];1===a.children.length&&o instanceof St.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break;default:n=!1}else n=!1}if(n){var s=r.map((e=>e.toText())).join("");r=[new St.TextNode(s)]}var l=new St.MathNode("mi",r);l.setAttribute("mathvariant","normal");var u=new St.MathNode("mo",[Ft("⁡","text")]);return e.parentIsSupSub?new St.MathNode("mrow",[l,u]):St.newDocumentFragment([l,u])}}),jr("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),ut({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?Je.makeFragment(yt(e.body,t,!1)):Je.makeSpan(["mord"],yt(e.body,t,!0),t),mathmlBuilder:(e,t)=>It(e.body,t,!0)}),lt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=kt(e.body,t.havingCrampedStyle()),n=Je.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,a=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return Je.makeSpan(["mord","overline"],[a],t)},mathmlBuilder(e,t){var r=new St.MathNode("mo",[new St.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new St.MathNode("mover",[Rt(e.body,t),r]);return n.setAttribute("accent","true"),n}}),lt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:ht(n)}},htmlBuilder:(e,t)=>{var r=yt(e.body,t.withPhantom(),!1);return Je.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=Lt(e.body,t);return new St.MathNode("mphantom",r)}}),lt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=Je.makeSpan([],[kt(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),Je.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=Lt(ht(e.body),t),n=new St.MathNode("mphantom",r),i=new St.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}}),lt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=Je.makeSpan(["inner"],[kt(e.body,t.withPhantom())]),n=Je.makeSpan(["fix"],[]);return Je.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=Lt(ht(e.body),t),n=new St.MathNode("mphantom",r),i=new St.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}}),lt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=Ut(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=kt(e.body,t),n=W(e.dy,t);return Je.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new St.MathNode("mpadded",[Rt(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}}),lt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),lt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],a=Ut(t[0],"size"),o=Ut(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&Ut(i,"size").value,width:a.value,height:o.value}},htmlBuilder(e,t){var r=Je.makeSpan(["mord","rule"],[],t),n=W(e.width,t),i=W(e.height,t),a=e.shift?W(e.shift,t):0;return r.style.borderRightWidth=G(n),r.style.borderTopWidth=G(i),r.style.bottom=G(a),r.width=n,r.height=i+a,r.depth=-a,r.maxFontSize=1.125*i*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=W(e.width,t),n=W(e.height,t),i=e.shift?W(e.shift,t):0,a=t.color&&t.getColor()||"black",o=new St.MathNode("mspace");o.setAttribute("mathbackground",a),o.setAttribute("width",G(r)),o.setAttribute("height",G(n));var s=new St.MathNode("mpadded",[o]);return i>=0?s.setAttribute("height",G(i)):(s.setAttribute("height",G(i)),s.setAttribute("depth",G(-i))),s.setAttribute("voffset",G(i)),s}});var vn=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];lt({type:"sizing",names:vn,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:vn.indexOf(n)+1,body:a}},htmlBuilder:(e,t)=>{var r=t.havingSize(e.size);return yn(e.body,r,t)},mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=Lt(e.body,r),i=new St.MathNode("mstyle",n);return i.setAttribute("mathsize",G(r.sizeMultiplier)),i}}),lt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,i=!1,a=!1,o=r[0]&&Ut(r[0],"ordgroup");if(o)for(var s="",l=0;l<o.body.length;++l)if("t"===(s=o.body[l].text))i=!0;else{if("b"!==s){i=!1,a=!1;break}a=!0}else i=!0,a=!0;var u=t[0];return{type:"smash",mode:n.mode,body:u,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{var r=Je.makeSpan([],[kt(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return Je.makeSpan(["mord"],[a],t)},mathmlBuilder:(e,t)=>{var r=new St.MathNode("mpadded",[Rt(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}}),lt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],a=t[0];return{type:"sqrt",mode:n.mode,body:a,index:i}},htmlBuilder(e,t){var r=kt(e.body,t.havingCrampedStyle());0===r.height&&(r.height=t.fontMetrics().xHeight),r=Je.wrapFragment(r,t);var n=t.fontMetrics().defaultRuleThickness,i=n;t.style.id<T.TEXT.id&&(i=t.fontMetrics().xHeight);var a=n+i/4,o=r.height+r.depth+a+n,{span:s,ruleWidth:l,advanceWidth:u}=Or.sqrtImage(o,t),c=s.height-l;c>r.height+r.depth+a&&(a=(a+c-r.height-r.depth)/2);var h=s.height-r.height-a-l;r.style.paddingLeft=G(u);var d=Je.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+h)},{type:"elem",elem:s},{type:"kern",size:l}]},t);if(e.index){var f=t.havingStyle(T.SCRIPTSCRIPT),p=kt(e.index,f,t),g=.6*(d.height-d.depth),m=Je.makeVList({positionType:"shift",positionData:-g,children:[{type:"elem",elem:p}]},t),y=Je.makeSpan(["root"],[m]);return Je.makeSpan(["mord","sqrt"],[y,d],t)}return Je.makeSpan(["mord","sqrt"],[d],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new St.MathNode("mroot",[Rt(r,t),Rt(n,t)]):new St.MathNode("msqrt",[Rt(r,t)])}});var bn={display:T.DISPLAY,text:T.TEXT,script:T.SCRIPT,scriptscript:T.SCRIPTSCRIPT};lt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,a=i.parseExpression(!0,r),o=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:o,body:a}},htmlBuilder(e,t){var r=bn[e.style],n=t.havingStyle(r).withFont("");return yn(e.body,n,t)},mathmlBuilder(e,t){var r=bn[e.style],n=t.havingStyle(r),i=Lt(e.body,n),a=new St.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}}),ut({type:"supsub",htmlBuilder(e,t){var r=function(e,t){var r=e.base;return r?"op"===r.type?r.limits&&(t.style.size===T.DISPLAY.size||r.alwaysHandleSupSub)?dn:null:"operatorname"===r.type?r.alwaysHandleSupSub&&(t.style.size===T.DISPLAY.size||r.limits)?mn:null:"accent"===r.type?g(r.base)?Gt:null:"horizBrace"===r.type&&!e.sub===r.isOver?sn:null:null}(e,t);if(r)return r(e,t);var n,i,a,{base:o,sup:s,sub:l}=e,u=kt(o,t),c=t.fontMetrics(),h=0,d=0,f=o&&g(o);if(s){var p=t.havingStyle(t.style.sup());n=kt(s,p,t),f||(h=u.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(l){var m=t.havingStyle(t.style.sub());i=kt(l,m,t),f||(d=u.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}a=t.style===T.DISPLAY?c.sup1:t.style.cramped?c.sup3:c.sup2;var y,v=t.sizeMultiplier,b=G(.5/c.ptPerEm/v),x=null;if(i){var w=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(u instanceof re||w)&&(x=G(-u.italic))}if(n&&i){h=Math.max(h,a,n.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var D=4*c.defaultRuleThickness;if(h-n.depth-(i.height-d)<D){d=D-(h-n.depth)+i.height;var k=.8*c.xHeight-(h-n.depth);k>0&&(h+=k,d-=k)}y=Je.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:d,marginRight:b,marginLeft:x},{type:"elem",elem:n,shift:-h,marginRight:b}]},t)}else if(i){d=Math.max(d,c.sub1,i.height-.8*c.xHeight),y=Je.makeVList({positionType:"shift",positionData:d,children:[{type:"elem",elem:i,marginLeft:x,marginRight:b}]},t)}else{if(!n)throw new Error("supsub must have either sup or sub.");h=Math.max(h,a,n.depth+.25*c.xHeight),y=Je.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:n,marginRight:b}]},t)}var E=wt(u,"right")||"mord";return Je.makeSpan([E],[u,Je.makeSpan(["msupsub"],[y])],t)},mathmlBuilder(e,t){var r,n=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(n=!0,r=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var i,a=[Rt(e.base,t)];if(e.sub&&a.push(Rt(e.sub,t)),e.sup&&a.push(Rt(e.sup,t)),n)i=r?"mover":"munder";else if(e.sub)if(e.sup){var o=e.base;i=o&&"op"===o.type&&o.limits&&t.style===T.DISPLAY||o&&"operatorname"===o.type&&o.alwaysHandleSupSub&&(t.style===T.DISPLAY||o.limits)?"munderover":"msubsup"}else{var s=e.base;i=s&&"op"===s.type&&s.limits&&(t.style===T.DISPLAY||s.alwaysHandleSupSub)||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(s.limits||t.style===T.DISPLAY)?"munder":"msub"}else{var l=e.base;i=l&&"op"===l.type&&l.limits&&(t.style===T.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===T.DISPLAY)?"mover":"msup"}return new St.MathNode(i,a)}}),ut({type:"atom",htmlBuilder:(e,t)=>Je.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var r=new St.MathNode("mo",[Ft(e.text,e.mode)]);if("bin"===e.family){var n=Bt(e,t);"bold-italic"===n&&r.setAttribute("mathvariant",n)}else"punct"===e.family?r.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||r.setAttribute("stretchy","false");return r}});var xn={mi:"italic",mn:"normal",mtext:"normal"};ut({type:"mathord",htmlBuilder:(e,t)=>Je.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var r=new St.MathNode("mi",[Ft(e.text,e.mode,t)]),n=Bt(e,t)||"italic";return n!==xn[r.type]&&r.setAttribute("mathvariant",n),r}}),ut({type:"textord",htmlBuilder:(e,t)=>Je.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var r,n=Ft(e.text,e.mode,t),i=Bt(e,t)||"normal";return r="text"===e.mode?new St.MathNode("mtext",[n]):/[0-9]/.test(e.text)?new St.MathNode("mn",[n]):"\\prime"===e.text?new St.MathNode("mo",[n]):new St.MathNode("mi",[n]),i!==xn[r.type]&&r.setAttribute("mathvariant",i),r}});var wn={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Dn={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ut({type:"spacing",htmlBuilder(e,t){if(Dn.hasOwnProperty(e.text)){var r=Dn[e.text].className||"";if("text"===e.mode){var n=Je.makeOrd(e,t,"textord");return n.classes.push(r),n}return Je.makeSpan(["mspace",r],[Je.mathsym(e.text,e.mode,t)],t)}if(wn.hasOwnProperty(e.text))return Je.makeSpan(["mspace",wn[e.text]],[],t);throw new a('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!Dn.hasOwnProperty(e.text)){if(wn.hasOwnProperty(e.text))return new St.MathNode("mspace");throw new a('Unknown type of space "'+e.text+'"')}return new St.MathNode("mtext",[new St.TextNode(" ")])}});var kn=()=>{var e=new St.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};ut({type:"tag",mathmlBuilder(e,t){var r=new St.MathNode("mtable",[new St.MathNode("mtr",[kn(),new St.MathNode("mtd",[It(e.body,t)]),kn(),new St.MathNode("mtd",[It(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var En={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},An={"\\textbf":"textbf","\\textmd":"textmd"},Cn={"\\textit":"textit","\\textup":"textup"},_n=(e,t)=>{var r=e.font;return r?En[r]?t.withTextFontFamily(En[r]):An[r]?t.withTextFontWeight(An[r]):"\\emph"===r?"textit"===t.fontShape?t.withTextFontShape("textup"):t.withTextFontShape("textit"):t.withTextFontShape(Cn[r]):t};lt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:ht(i),font:n}},htmlBuilder(e,t){var r=_n(e,t),n=yt(e.body,r,!0);return Je.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=_n(e,t);return It(e.body,r)}}),lt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=kt(e.body,t),n=Je.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,a=Je.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return Je.makeSpan(["mord","underline"],[a],t)},mathmlBuilder(e,t){var r=new St.MathNode("mo",[new St.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new St.MathNode("munder",[Rt(e.body,t),r]);return n.setAttribute("accentunder","true"),n}}),lt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=kt(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return Je.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder:(e,t)=>new St.MathNode("mpadded",[Rt(e.body,t)],["vcenter"])}),lt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=Tn(e),n=[],i=t.havingStyle(t.style.text()),a=0;a<r.length;a++){var o=r[a];"~"===o&&(o="\\textasciitilde"),n.push(Je.makeSymbol(o,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return Je.makeSpan(["mord","text"].concat(i.sizingClasses(t)),Je.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new St.TextNode(Tn(e)),n=new St.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var Tn=e=>e.body.replace(/ /g,e.star?"␣":" "),Sn=at,Fn="[ \r\n\t]",On="(\\\\[a-zA-Z@]+)"+Fn+"*",Bn="[̀-ͯ]",Nn=new RegExp(Bn+"+$"),Ln="("+Fn+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿]"+Bn+"*|[\ud800-\udbff][\udc00-\udfff]"+Bn+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+On+"|\\\\[^\ud800-\udfff])";class In{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Ln,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new i("EOF",new n(this,t,t));var r=this.tokenRegex.exec(e);if(null===r||r.index!==t)throw new a("Unexpected character: '"+e[t]+"'",new i(e[t],new n(this,t,t+1)));var o=r[6]||r[3]||(r[2]?"\\ ":" ");if(14===this.catcodes[o]){var s=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===s?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new i(o,new n(this,t,this.tokenRegex.lastIndex))}}class Rn{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(void 0===r&&(r=!1),r){for(var n=0;n<this.undefStack.length;n++)delete this.undefStack[n][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var i=this.undefStack[this.undefStack.length-1];i&&!i.hasOwnProperty(e)&&(i[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var Mn=$r;jr("\\noexpand",(function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),jr("\\expandafter",(function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}})),jr("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),jr("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),jr("\\@ifnextchar",(function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return 1===t[0].length&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),jr("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),jr("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var Pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};jr("\\char",(function(e){var t,r=e.popToken(),n="";if("'"===r.text)t=8,r=e.popToken();else if('"'===r.text)t=16,r=e.popToken();else if("`"===r.text)if("\\"===(r=e.popToken()).text[0])n=r.text.charCodeAt(1);else{if("EOF"===r.text)throw new a("\\char` missing argument");n=r.text.charCodeAt(0)}else t=10;if(t){if(null==(n=Pn[r.text])||n>=t)throw new a("Invalid base-"+t+" digit "+r.text);for(var i;null!=(i=Pn[e.future().text])&&i<t;)n*=t,n+=i,e.popToken()}return"\\@char{"+n+"}"}));var zn=(e,t,r)=>{var n=e.consumeArg().tokens;if(1!==n.length)throw new a("\\newcommand's first argument must be a macro name");var i=n[0].text,o=e.isDefined(i);if(o&&!t)throw new a("\\newcommand{"+i+"} attempting to redefine "+i+"; use \\renewcommand");if(!o&&!r)throw new a("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(1===(n=e.consumeArg().tokens).length&&"["===n[0].text){for(var l="",u=e.expandNextToken();"]"!==u.text&&"EOF"!==u.text;)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+l);s=parseInt(l),n=e.consumeArg().tokens}return e.macros.set(i,{tokens:n,numArgs:s}),""};jr("\\newcommand",(e=>zn(e,!1,!0))),jr("\\renewcommand",(e=>zn(e,!0,!1))),jr("\\providecommand",(e=>zn(e,!0,!0))),jr("\\message",(e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map((e=>e.text)).join("")),""})),jr("\\errmessage",(e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map((e=>e.text)).join("")),""})),jr("\\show",(e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),Sn[r],ue.math[r],ue.text[r]),""})),jr("\\bgroup","{"),jr("\\egroup","}"),jr("~","\\nobreakspace"),jr("\\lq","`"),jr("\\rq","'"),jr("\\aa","\\r a"),jr("\\AA","\\r A"),jr("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),jr("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),jr("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),jr("ℬ","\\mathscr{B}"),jr("ℰ","\\mathscr{E}"),jr("ℱ","\\mathscr{F}"),jr("ℋ","\\mathscr{H}"),jr("ℐ","\\mathscr{I}"),jr("ℒ","\\mathscr{L}"),jr("ℳ","\\mathscr{M}"),jr("ℛ","\\mathscr{R}"),jr("ℭ","\\mathfrak{C}"),jr("ℌ","\\mathfrak{H}"),jr("ℨ","\\mathfrak{Z}"),jr("\\Bbbk","\\Bbb{k}"),jr("·","\\cdotp"),jr("\\llap","\\mathllap{\\textrm{#1}}"),jr("\\rlap","\\mathrlap{\\textrm{#1}}"),jr("\\clap","\\mathclap{\\textrm{#1}}"),jr("\\mathstrut","\\vphantom{(}"),jr("\\underbar","\\underline{\\text{#1}}"),jr("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),jr("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),jr("\\ne","\\neq"),jr("≠","\\neq"),jr("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),jr("∉","\\notin"),jr("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),jr("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),jr("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),jr("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),jr("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),jr("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),jr("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),jr("⟂","\\perp"),jr("‼","\\mathclose{!\\mkern-0.8mu!}"),jr("∌","\\notni"),jr("⌜","\\ulcorner"),jr("⌝","\\urcorner"),jr("⌞","\\llcorner"),jr("⌟","\\lrcorner"),jr("©","\\copyright"),jr("®","\\textregistered"),jr("️","\\textregistered"),jr("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),jr("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),jr("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),jr("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),jr("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),jr("⋮","\\vdots"),jr("\\varGamma","\\mathit{\\Gamma}"),jr("\\varDelta","\\mathit{\\Delta}"),jr("\\varTheta","\\mathit{\\Theta}"),jr("\\varLambda","\\mathit{\\Lambda}"),jr("\\varXi","\\mathit{\\Xi}"),jr("\\varPi","\\mathit{\\Pi}"),jr("\\varSigma","\\mathit{\\Sigma}"),jr("\\varUpsilon","\\mathit{\\Upsilon}"),jr("\\varPhi","\\mathit{\\Phi}"),jr("\\varPsi","\\mathit{\\Psi}"),jr("\\varOmega","\\mathit{\\Omega}"),jr("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),jr("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),jr("\\boxed","\\fbox{$\\displaystyle{#1}$}"),jr("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),jr("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),jr("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),jr("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),jr("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var $n={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};jr("\\dots",(function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in $n?t=$n[r]:("\\not"===r.slice(0,4)||r in ue.math&&c(["bin","rel"],ue.math[r].group))&&(t="\\dotsb"),t}));var jn={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};jr("\\dotso",(function(e){return e.future().text in jn?"\\ldots\\,":"\\ldots"})),jr("\\dotsc",(function(e){var t=e.future().text;return t in jn&&","!==t?"\\ldots\\,":"\\ldots"})),jr("\\cdots",(function(e){return e.future().text in jn?"\\@cdots\\,":"\\@cdots"})),jr("\\dotsb","\\cdots"),jr("\\dotsm","\\cdots"),jr("\\dotsi","\\!\\cdots"),jr("\\dotsx","\\ldots\\,"),jr("\\DOTSI","\\relax"),jr("\\DOTSB","\\relax"),jr("\\DOTSX","\\relax"),jr("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),jr("\\,","\\tmspace+{3mu}{.1667em}"),jr("\\thinspace","\\,"),jr("\\>","\\mskip{4mu}"),jr("\\:","\\tmspace+{4mu}{.2222em}"),jr("\\medspace","\\:"),jr("\\;","\\tmspace+{5mu}{.2777em}"),jr("\\thickspace","\\;"),jr("\\!","\\tmspace-{3mu}{.1667em}"),jr("\\negthinspace","\\!"),jr("\\negmedspace","\\tmspace-{4mu}{.2222em}"),jr("\\negthickspace","\\tmspace-{5mu}{.277em}"),jr("\\enspace","\\kern.5em "),jr("\\enskip","\\hskip.5em\\relax"),jr("\\quad","\\hskip1em\\relax"),jr("\\qquad","\\hskip2em\\relax"),jr("\\tag","\\@ifstar\\tag@literal\\tag@paren"),jr("\\tag@paren","\\tag@literal{({#1})}"),jr("\\tag@literal",(e=>{if(e.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),jr("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),jr("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),jr("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),jr("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),jr("\\newline","\\\\\\relax"),jr("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Kn=G(L["Main-Regular"]["T".charCodeAt(0)][1]-.7*L["Main-Regular"]["A".charCodeAt(0)][1]);jr("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Kn+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),jr("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Kn+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),jr("\\hspace","\\@ifstar\\@hspacer\\@hspace"),jr("\\@hspace","\\hskip #1\\relax"),jr("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),jr("\\ordinarycolon",":"),jr("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),jr("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),jr("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),jr("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),jr("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),jr("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),jr("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),jr("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),jr("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),jr("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),jr("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),jr("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),jr("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),jr("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),jr("∷","\\dblcolon"),jr("∹","\\eqcolon"),jr("≔","\\coloneqq"),jr("≕","\\eqqcolon"),jr("⩴","\\Coloneqq"),jr("\\ratio","\\vcentcolon"),jr("\\coloncolon","\\dblcolon"),jr("\\colonequals","\\coloneqq"),jr("\\coloncolonequals","\\Coloneqq"),jr("\\equalscolon","\\eqqcolon"),jr("\\equalscoloncolon","\\Eqqcolon"),jr("\\colonminus","\\coloneq"),jr("\\coloncolonminus","\\Coloneq"),jr("\\minuscolon","\\eqcolon"),jr("\\minuscoloncolon","\\Eqcolon"),jr("\\coloncolonapprox","\\Colonapprox"),jr("\\coloncolonsim","\\Colonsim"),jr("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),jr("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),jr("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),jr("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),jr("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),jr("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),jr("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),jr("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),jr("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),jr("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),jr("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),jr("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),jr("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),jr("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),jr("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),jr("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),jr("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),jr("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),jr("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),jr("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),jr("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),jr("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),jr("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),jr("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),jr("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),jr("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),jr("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),jr("\\imath","\\html@mathml{\\@imath}{ı}"),jr("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),jr("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),jr("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),jr("⟦","\\llbracket"),jr("⟧","\\rrbracket"),jr("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),jr("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),jr("⦃","\\lBrace"),jr("⦄","\\rBrace"),jr("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),jr("⦵","\\minuso"),jr("\\darr","\\downarrow"),jr("\\dArr","\\Downarrow"),jr("\\Darr","\\Downarrow"),jr("\\lang","\\langle"),jr("\\rang","\\rangle"),jr("\\uarr","\\uparrow"),jr("\\uArr","\\Uparrow"),jr("\\Uarr","\\Uparrow"),jr("\\N","\\mathbb{N}"),jr("\\R","\\mathbb{R}"),jr("\\Z","\\mathbb{Z}"),jr("\\alef","\\aleph"),jr("\\alefsym","\\aleph"),jr("\\Alpha","\\mathrm{A}"),jr("\\Beta","\\mathrm{B}"),jr("\\bull","\\bullet"),jr("\\Chi","\\mathrm{X}"),jr("\\clubs","\\clubsuit"),jr("\\cnums","\\mathbb{C}"),jr("\\Complex","\\mathbb{C}"),jr("\\Dagger","\\ddagger"),jr("\\diamonds","\\diamondsuit"),jr("\\empty","\\emptyset"),jr("\\Epsilon","\\mathrm{E}"),jr("\\Eta","\\mathrm{H}"),jr("\\exist","\\exists"),jr("\\harr","\\leftrightarrow"),jr("\\hArr","\\Leftrightarrow"),jr("\\Harr","\\Leftrightarrow"),jr("\\hearts","\\heartsuit"),jr("\\image","\\Im"),jr("\\infin","\\infty"),jr("\\Iota","\\mathrm{I}"),jr("\\isin","\\in"),jr("\\Kappa","\\mathrm{K}"),jr("\\larr","\\leftarrow"),jr("\\lArr","\\Leftarrow"),jr("\\Larr","\\Leftarrow"),jr("\\lrarr","\\leftrightarrow"),jr("\\lrArr","\\Leftrightarrow"),jr("\\Lrarr","\\Leftrightarrow"),jr("\\Mu","\\mathrm{M}"),jr("\\natnums","\\mathbb{N}"),jr("\\Nu","\\mathrm{N}"),jr("\\Omicron","\\mathrm{O}"),jr("\\plusmn","\\pm"),jr("\\rarr","\\rightarrow"),jr("\\rArr","\\Rightarrow"),jr("\\Rarr","\\Rightarrow"),jr("\\real","\\Re"),jr("\\reals","\\mathbb{R}"),jr("\\Reals","\\mathbb{R}"),jr("\\Rho","\\mathrm{P}"),jr("\\sdot","\\cdot"),jr("\\sect","\\S"),jr("\\spades","\\spadesuit"),jr("\\sub","\\subset"),jr("\\sube","\\subseteq"),jr("\\supe","\\supseteq"),jr("\\Tau","\\mathrm{T}"),jr("\\thetasym","\\vartheta"),jr("\\weierp","\\wp"),jr("\\Zeta","\\mathrm{Z}"),jr("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),jr("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),jr("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),jr("\\bra","\\mathinner{\\langle{#1}|}"),jr("\\ket","\\mathinner{|{#1}\\rangle}"),jr("\\braket","\\mathinner{\\langle{#1}\\rangle}"),jr("\\Bra","\\left\\langle#1\\right|"),jr("\\Ket","\\left|#1\\right\\rangle");var qn=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,o=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var l=t=>r=>{e&&(r.macros.set("|",o),i.length&&r.macros.set("\\|",s));var a=t;return!t&&i.length&&"|"===r.future().text&&(r.popToken(),a=!0),{tokens:a?i:n,numArgs:0}};t.macros.set("|",l(!1)),i.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,c=t.expandTokens([...a,...u,...r]);return t.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};jr("\\bra@ket",qn(!1)),jr("\\bra@set",qn(!0)),jr("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),jr("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),jr("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),jr("\\angln","{\\angl n}"),jr("\\blue","\\textcolor{##6495ed}{#1}"),jr("\\orange","\\textcolor{##ffa500}{#1}"),jr("\\pink","\\textcolor{##ff00af}{#1}"),jr("\\red","\\textcolor{##df0030}{#1}"),jr("\\green","\\textcolor{##28ae7b}{#1}"),jr("\\gray","\\textcolor{gray}{#1}"),jr("\\purple","\\textcolor{##9d38bd}{#1}"),jr("\\blueA","\\textcolor{##ccfaff}{#1}"),jr("\\blueB","\\textcolor{##80f6ff}{#1}"),jr("\\blueC","\\textcolor{##63d9ea}{#1}"),jr("\\blueD","\\textcolor{##11accd}{#1}"),jr("\\blueE","\\textcolor{##0c7f99}{#1}"),jr("\\tealA","\\textcolor{##94fff5}{#1}"),jr("\\tealB","\\textcolor{##26edd5}{#1}"),jr("\\tealC","\\textcolor{##01d1c1}{#1}"),jr("\\tealD","\\textcolor{##01a995}{#1}"),jr("\\tealE","\\textcolor{##208170}{#1}"),jr("\\greenA","\\textcolor{##b6ffb0}{#1}"),jr("\\greenB","\\textcolor{##8af281}{#1}"),jr("\\greenC","\\textcolor{##74cf70}{#1}"),jr("\\greenD","\\textcolor{##1fab54}{#1}"),jr("\\greenE","\\textcolor{##0d923f}{#1}"),jr("\\goldA","\\textcolor{##ffd0a9}{#1}"),jr("\\goldB","\\textcolor{##ffbb71}{#1}"),jr("\\goldC","\\textcolor{##ff9c39}{#1}"),jr("\\goldD","\\textcolor{##e07d10}{#1}"),jr("\\goldE","\\textcolor{##a75a05}{#1}"),jr("\\redA","\\textcolor{##fca9a9}{#1}"),jr("\\redB","\\textcolor{##ff8482}{#1}"),jr("\\redC","\\textcolor{##f9685d}{#1}"),jr("\\redD","\\textcolor{##e84d39}{#1}"),jr("\\redE","\\textcolor{##bc2612}{#1}"),jr("\\maroonA","\\textcolor{##ffbde0}{#1}"),jr("\\maroonB","\\textcolor{##ff92c6}{#1}"),jr("\\maroonC","\\textcolor{##ed5fa6}{#1}"),jr("\\maroonD","\\textcolor{##ca337c}{#1}"),jr("\\maroonE","\\textcolor{##9e034e}{#1}"),jr("\\purpleA","\\textcolor{##ddd7ff}{#1}"),jr("\\purpleB","\\textcolor{##c6b9fc}{#1}"),jr("\\purpleC","\\textcolor{##aa87ff}{#1}"),jr("\\purpleD","\\textcolor{##7854ab}{#1}"),jr("\\purpleE","\\textcolor{##543b78}{#1}"),jr("\\mintA","\\textcolor{##f5f9e8}{#1}"),jr("\\mintB","\\textcolor{##edf2df}{#1}"),jr("\\mintC","\\textcolor{##e0e5cc}{#1}"),jr("\\grayA","\\textcolor{##f6f7f7}{#1}"),jr("\\grayB","\\textcolor{##f0f1f2}{#1}"),jr("\\grayC","\\textcolor{##e3e5e6}{#1}"),jr("\\grayD","\\textcolor{##d6d8da}{#1}"),jr("\\grayE","\\textcolor{##babec2}{#1}"),jr("\\grayF","\\textcolor{##888d93}{#1}"),jr("\\grayG","\\textcolor{##626569}{#1}"),jr("\\grayH","\\textcolor{##3b3e40}{#1}"),jr("\\grayI","\\textcolor{##21242c}{#1}"),jr("\\kaBlue","\\textcolor{##314453}{#1}"),jr("\\kaGreen","\\textcolor{##71B307}{#1}");var Un={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class Hn{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new Rn(Mn,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new In(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,n;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken(),({tokens:n,end:r}=this.consumeArg(["]"]))}else({tokens:n,start:t,end:r}=this.consumeArg());return this.pushToken(new i("EOF",r.loc)),this.pushTokens(n),t.range(r,"")}consumeSpaces(){for(;" "===this.future().text;)this.stack.pop()}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var n,i=this.future(),o=0,s=0;do{if(n=this.popToken(),t.push(n),"{"===n.text)++o;else if("}"===n.text){if(-1==--o)throw new a("Extra }",n)}else if("EOF"===n.text)throw new a("Unexpected end of input in a macro argument, expected '"+(e&&r?e[s]:"}")+"'",n);if(e&&r)if((0===o||1===o&&"{"===e[s])&&n.text===e[s]){if(++s===e.length){t.splice(-s,s);break}}else s=0}while(0!==o||r);return"{"===i.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:n}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new a("The length of delimiters doesn't match the number of args!");for(var r=t[0],n=0;n<r.length;n++){var i=this.popToken();if(r[n]!==i.text)throw new a("Use of the macro doesn't match its definition",i)}}for(var o=[],s=0;s<e;s++)o.push(this.consumeArg(t&&t[s+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,n=t.noexpand?null:this._getExpansion(r);if(null==n||e&&n.unexpandable){if(e&&null==n&&"\\"===r[0]&&!this.isDefined(r))throw new a("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var i=n.tokens,o=this.consumeArgs(n.numArgs,n.delimiters);if(n.numArgs)for(var s=(i=i.slice()).length-1;s>=0;--s){var l=i[s];if("#"===l.text){if(0===s)throw new a("Incomplete placeholder at end of macro body",l);if("#"===(l=i[--s]).text)i.splice(s+1,1);else{if(!/^[1-9]$/.test(l.text))throw new a("Not a valid argument number",l);i.splice(s,2,...o[+l.text-1])}}}return this.pushTokens(i),i.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new i(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(!1===this.expandOnce(!0)){var n=this.stack.pop();n.treatAsRelax&&(n.noexpand=!1,n.treatAsRelax=!1),t.push(n)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map((e=>e.text)).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var r=this.lexer.catcodes[e];if(null!=r&&13!==r)return}var n="function"==typeof t?t(this):t;if("string"==typeof n){var i=0;if(-1!==n.indexOf("#"))for(var a=n.replace(/##/g,"");-1!==a.indexOf("#"+(i+1));)++i;for(var o=new In(n,this.settings),s=[],l=o.lex();"EOF"!==l.text;)s.push(l),l=o.lex();return s.reverse(),{tokens:s,numArgs:i}}return n}isDefined(e){return this.macros.has(e)||Sn.hasOwnProperty(e)||ue.math.hasOwnProperty(e)||ue.text.hasOwnProperty(e)||Un.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:Sn.hasOwnProperty(e)&&!Sn[e].primitive}}var Wn=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Gn=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9",ₐ:"a",ₑ:"e",ₕ:"h",ᵢ:"i",ⱼ:"j",ₖ:"k",ₗ:"l",ₘ:"m",ₙ:"n",ₒ:"o",ₚ:"p",ᵣ:"r",ₛ:"s",ₜ:"t",ᵤ:"u",ᵥ:"v",ₓ:"x",ᵦ:"β",ᵧ:"γ",ᵨ:"ρ",ᵩ:"ϕ",ᵪ:"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9",ᴬ:"A",ᴮ:"B",ᴰ:"D",ᴱ:"E",ᴳ:"G",ᴴ:"H",ᴵ:"I",ᴶ:"J",ᴷ:"K",ᴸ:"L",ᴹ:"M",ᴺ:"N",ᴼ:"O",ᴾ:"P",ᴿ:"R",ᵀ:"T",ᵁ:"U",ⱽ:"V",ᵂ:"W",ᵃ:"a",ᵇ:"b",ᶜ:"c",ᵈ:"d",ᵉ:"e",ᶠ:"f",ᵍ:"g",ʰ:"h",ⁱ:"i",ʲ:"j",ᵏ:"k",ˡ:"l",ᵐ:"m",ⁿ:"n",ᵒ:"o",ᵖ:"p",ʳ:"r",ˢ:"s",ᵗ:"t",ᵘ:"u",ᵛ:"v",ʷ:"w",ˣ:"x",ʸ:"y",ᶻ:"z",ᵝ:"β",ᵞ:"γ",ᵟ:"δ",ᵠ:"ϕ",ᵡ:"χ",ᶿ:"θ"}),Vn={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Yn={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Xn{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Hn(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new a("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new i("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){"math"===this.mode&&this.consumeSpaces();var n=this.fetch();if(-1!==Xn.endOfExpression.indexOf(n.text))break;if(t&&n.text===t)break;if(e&&Sn[n.text]&&Sn[n.text].infix)break;var i=this.parseAtom(t);if(!i)break;"internal"!==i.type&&r.push(i)}return"text"===this.mode&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t,r=-1,n=0;n<e.length;n++)if("infix"===e[n].type){if(-1!==r)throw new a("only one infix operator per group",e[n].token);r=n,t=e[n].replaceWith}if(-1!==r&&t){var i,o,s=e.slice(0,r),l=e.slice(r+1);return i=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},["\\\\abovefrac"===t?this.callFunction(t,[i,e[r],o],[]):this.callFunction(t,[i,o],[])]}return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var n=this.parseGroup(e);if(!n)throw new a("Expected group after '"+r+"'",t);return n}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var n={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[n]}}parseAtom(e){var t,r,n=this.parseGroup("atom",e);if("text"===this.mode)return n;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(n&&"op"===n.type){var s="\\limits"===o.text;n.limits=s,n.alwaysHandleSupSub=!0}else{if(!n||"operatorname"!==n.type)throw new a("Limit controls must follow a math operator",o);n.alwaysHandleSupSub&&(n.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(t)throw new a("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(r)throw new a("Double subscript",o);r=this.handleSupSubscript("subscript")}else if("'"===o.text){if(t)throw new a("Double superscript",o);var l={type:"textord",mode:this.mode,text:"\\prime"},u=[l];for(this.consume();"'"===this.fetch().text;)u.push(l),this.consume();"^"===this.fetch().text&&u.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:u}}else{if(!Gn[o.text])break;var c=Wn.test(o.text),h=[];for(h.push(new i(Gn[o.text])),this.consume();;){var d=this.fetch().text;if(!Gn[d])break;if(Wn.test(d)!==c)break;h.unshift(new i(Gn[d])),this.consume()}var f=this.subparse(h);c?r={type:"ordgroup",mode:"math",body:f}:t={type:"ordgroup",mode:"math",body:f}}}return t||r?{type:"supsub",mode:this.mode,base:n,sup:t,sub:r}:n}parseFunction(e,t){var r=this.fetch(),n=r.text,i=Sn[n];if(!i)return null;if(this.consume(),t&&"atom"!==t&&!i.allowedInArgument)throw new a("Got function '"+n+"' with no arguments"+(t?" as "+t:""),r);if("text"===this.mode&&!i.allowedInText)throw new a("Can't use function '"+n+"' in text mode",r);if("math"===this.mode&&!1===i.allowedInMath)throw new a("Can't use function '"+n+"' in math mode",r);var{args:o,optArgs:s}=this.parseArguments(n,i);return this.callFunction(n,o,s,r,e)}callFunction(e,t,r,n,i){var o={funcName:e,parser:this,token:n,breakOnTokenText:i},s=Sn[e];if(s&&s.handler)return s.handler(o,t,r);throw new a("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(0===r)return{args:[],optArgs:[]};for(var n=[],i=[],o=0;o<r;o++){var s=t.argTypes&&t.argTypes[o],l=o<t.numOptionalArgs;(t.primitive&&null==s||"sqrt"===t.type&&1===o&&null==i[0])&&(s="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",s,l);if(l)i.push(u);else{if(null==u)throw new a("Null argument, please report this as a bug");n.push(u)}}return{args:n,optArgs:i}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":var n=this.parseArgumentGroup(r,"text");return null!=n?{type:"styling",mode:n.mode,body:[n],style:"text"}:null;case"raw":var i=this.parseStringGroup("raw",r);return null!=i?{type:"raw",mode:"text",string:i.text}:null;case"primitive":if(r)throw new a("A primitive argument cannot be optional");var o=this.parseGroup(e);if(null==o)throw new a("Expected group as "+e,this.fetch());return o;case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new a("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(null==r)return null;for(var n,i="";"EOF"!==(n=this.fetch()).text;)i+=n.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,t){for(var r,n=this.fetch(),i=n,o="";"EOF"!==(r=this.fetch()).text&&e.test(o+r.text);)o+=(i=r).text,this.consume();if(""===o)throw new a("Invalid "+t+": '"+n.text+"'",n);return n.range(i,o)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new a("Invalid color: '"+t.text+"'",t);var n=r[0];return/^[0-9a-f]{6}$/i.test(n)&&(n="#"+n),{type:"color-token",mode:this.mode,color:n}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",r=!0);var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!n)throw new a("Invalid size: '"+t.text+"'",t);var i={number:+(n[1]+n[2]),unit:n[3]};if(!H(i))throw new a("Invalid unit: '"+i.unit+"'",t);return{type:"size",mode:this.mode,value:i,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(null==r)return null;var n=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var i=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:i};return t&&this.switchMode(n),a}parseGroup(e,t){var r,i=this.fetch(),o=i.text;if("{"===o||"\\begingroup"===o){this.consume();var s="{"===o?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,s),u=this.fetch();this.expect(s),this.gullet.endGroup(),r={type:"ordgroup",mode:this.mode,loc:n.range(i,u),body:l,semisimple:"\\begingroup"===o||void 0}}else if(null==(r=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===o[0]&&!Un.hasOwnProperty(o)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+o,i);r=this.formatUnsupportedCmd(o),this.consume()}return r}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var i=e[r],a=i.text;"-"===a&&"-"===e[r+1].text&&(r+1<t&&"-"===e[r+2].text?(e.splice(r,3,{type:"textord",mode:"text",loc:n.range(i,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:n.range(i,e[r+1]),text:"--"}),t-=1)),"'"!==a&&"`"!==a||e[r+1].text!==a||(e.splice(r,2,{type:"textord",mode:"text",loc:n.range(i,e[r+1]),text:a+a}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),i="*"===r.charAt(0);if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new a("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:r=r.slice(1,-1),star:i}}Yn.hasOwnProperty(t[0])&&!ue[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Yn[t[0]]+t.slice(1));var o,s=Nn.exec(t);if(s&&("i"===(t=t.substring(0,s.index))?t="ı":"j"===t&&(t="ȷ")),ue[this.mode][t]){this.settings.strict&&"math"===this.mode&&"ÐÞþ".indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l,u=ue[this.mode][t].group,c=n.range(e);if(se.hasOwnProperty(u)){var h=u;l={type:"atom",mode:this.mode,family:h,loc:c,text:t}}else l={type:u,mode:this.mode,loc:c,text:t};o=l}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(O(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),o={type:"textord",mode:"text",loc:n.range(e),text:t}}if(this.consume(),s)for(var d=0;d<s[0].length;d++){var f=s[0][d];if(!Vn[f])throw new a("Unknown accent ' "+f+"'",e);var p=Vn[f][this.mode]||Vn[f].text;if(!p)throw new a("Accent "+f+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:n.range(e),label:p,isStretchy:!1,isShifty:!0,base:o}}return o}}Xn.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Zn=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Xn(e,t);delete r.gullet.macros.current["\\df@tag"];var n=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new a("\\tag works only in display equations");n=[{type:"tag",mode:"text",body:n,tag:r.subparse([new i("\\df@tag")])}]}return n},Qn=function(e,t,r){t.textContent="";var n=ei(e,r).toNode();t.appendChild(n)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Qn=function(){throw new a("KaTeX doesn't work in quirks mode.")});var Jn=function(e,t,r){if(r.throwOnError||!(e instanceof a))throw e;var n=Je.makeSpan(["katex-error"],[new re(t)]);return n.setAttribute("title",e.toString()),n.setAttribute("style","color:"+r.errorColor),n},ei=function(e,t){var r=new b(t);try{return function(e,t,r){var n,i=Pt(r);if("mathml"===r.output)return Mt(e,t,i,r.displayMode,!0);if("html"===r.output){var a=At(e,i);n=Je.makeSpan(["katex"],[a])}else{var o=Mt(e,t,i,r.displayMode,!1),s=At(e,i);n=Je.makeSpan(["katex"],[o,s])}return zt(n,r)}(Zn(e,r),e,r)}catch(t){return Jn(t,e,r)}},ti={version:"0.16.19",render:Qn,renderToString:function(e,t){return ei(e,t).toMarkup()},ParseError:a,SETTINGS_SCHEMA:y,__parse:function(e,t){var r=new b(t);return Zn(e,r)},__renderToDomTree:ei,__renderToHTMLTree:function(e,t){var r=new b(t);try{return function(e,t,r){var n=At(e,Pt(r)),i=Je.makeSpan(["katex"],[n]);return zt(i,r)}(Zn(e,r),0,r)}catch(t){return Jn(t,e,r)}},__setFontMetrics:function(e,t){L[e]=t},__defineSymbol:ce,__defineFunction:lt,__defineMacro:jr,__domTree:{Span:Q,Anchor:J,SymbolNode:re,SvgNode:ne,PathNode:ie,LineNode:ae}}},3175:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>he});var n=r(1099),i=r(8945),a=r(3933),o=r(8160),s=(r(8159),r(7286)),l=r(7692),u=r(8731),c=r(165),h=r(7138),d=r(5763),f={L:"left",R:"right",T:"top",B:"bottom"},p={L:(0,l.K2)((e=>`${e},${e/2} 0,${e} 0,0`),"L"),R:(0,l.K2)((e=>`0,${e/2} ${e},0 ${e},${e}`),"R"),T:(0,l.K2)((e=>`0,0 ${e},0 ${e/2},${e}`),"T"),B:(0,l.K2)((e=>`${e/2},0 ${e},${e} 0,${e}`),"B")},g={L:(0,l.K2)(((e,t)=>e-t+2),"L"),R:(0,l.K2)(((e,t)=>e-2),"R"),T:(0,l.K2)(((e,t)=>e-t+2),"T"),B:(0,l.K2)(((e,t)=>e-2),"B")},m=(0,l.K2)((function(e){return v(e)?"L"===e?"R":"L":"T"===e?"B":"T"}),"getOppositeArchitectureDirection"),y=(0,l.K2)((function(e){return"L"===e||"R"===e||"T"===e||"B"===e}),"isArchitectureDirection"),v=(0,l.K2)((function(e){return"L"===e||"R"===e}),"isArchitectureDirectionX"),b=(0,l.K2)((function(e){return"T"===e||"B"===e}),"isArchitectureDirectionY"),x=(0,l.K2)((function(e,t){const r=v(e)&&b(t),n=b(e)&&v(t);return r||n}),"isArchitectureDirectionXY"),w=(0,l.K2)((function(e){const t=e[0],r=e[1],n=v(t)&&b(r),i=b(t)&&v(r);return n||i}),"isArchitecturePairXY"),D=(0,l.K2)((function(e){return"LL"!==e&&"RR"!==e&&"TT"!==e&&"BB"!==e}),"isValidArchitectureDirectionPair"),k=(0,l.K2)((function(e,t){const r=`${e}${t}`;return D(r)?r:void 0}),"getArchitectureDirectionPair"),E=(0,l.K2)((function([e,t],r){const n=r[0],i=r[1];return v(n)?b(i)?[e+("L"===n?-1:1),t+("T"===i?1:-1)]:[e+("L"===n?-1:1),t]:v(i)?[e+("L"===i?1:-1),t+("T"===n?1:-1)]:[e,t+("T"===n?1:-1)]}),"shiftPositionByArchitectureDirectionPair"),A=(0,l.K2)((function(e){return"LT"===e||"TL"===e?[1,1]:"BL"===e||"LB"===e?[1,-1]:"BR"===e||"RB"===e?[-1,-1]:[-1,1]}),"getArchitectureDirectionXYFactors"),C=(0,l.K2)((function(e){return"service"===e.type}),"isArchitectureService"),_=(0,l.K2)((function(e){return"junction"===e.type}),"isArchitectureJunction"),T=(0,l.K2)((e=>e.data()),"edgeData"),S=(0,l.K2)((e=>e.data()),"nodeData"),F=l.UI.architecture,O=new o.m((()=>({nodes:{},groups:{},edges:[],registeredIds:{},config:F,dataStructures:void 0,elements:{}}))),B=(0,l.K2)((()=>{O.reset(),(0,l.IU)()}),"clear"),N=(0,l.K2)((function({id:e,icon:t,in:r,title:n,iconText:i}){if(void 0!==O.records.registeredIds[e])throw new Error(`The service id [${e}] is already in use by another ${O.records.registeredIds[e]}`);if(void 0!==r){if(e===r)throw new Error(`The service [${e}] cannot be placed within itself`);if(void 0===O.records.registeredIds[r])throw new Error(`The service [${e}]'s parent does not exist. Please make sure the parent is created before this service`);if("node"===O.records.registeredIds[r])throw new Error(`The service [${e}]'s parent is not a group`)}O.records.registeredIds[e]="node",O.records.nodes[e]={id:e,type:"service",icon:t,iconText:i,title:n,edges:[],in:r}}),"addService"),L=(0,l.K2)((()=>Object.values(O.records.nodes).filter(C)),"getServices"),I=(0,l.K2)((function({id:e,in:t}){O.records.registeredIds[e]="node",O.records.nodes[e]={id:e,type:"junction",edges:[],in:t}}),"addJunction"),R=(0,l.K2)((()=>Object.values(O.records.nodes).filter(_)),"getJunctions"),M=(0,l.K2)((()=>Object.values(O.records.nodes)),"getNodes"),P=(0,l.K2)((e=>O.records.nodes[e]),"getNode"),z=(0,l.K2)((function({id:e,icon:t,in:r,title:n}){if(void 0!==O.records.registeredIds[e])throw new Error(`The group id [${e}] is already in use by another ${O.records.registeredIds[e]}`);if(void 0!==r){if(e===r)throw new Error(`The group [${e}] cannot be placed within itself`);if(void 0===O.records.registeredIds[r])throw new Error(`The group [${e}]'s parent does not exist. Please make sure the parent is created before this group`);if("node"===O.records.registeredIds[r])throw new Error(`The group [${e}]'s parent is not a group`)}O.records.registeredIds[e]="group",O.records.groups[e]={id:e,icon:t,title:n,in:r}}),"addGroup"),$=(0,l.K2)((()=>Object.values(O.records.groups)),"getGroups"),j=(0,l.K2)((function({lhsId:e,rhsId:t,lhsDir:r,rhsDir:n,lhsInto:i,rhsInto:a,lhsGroup:o,rhsGroup:s,title:l}){if(!y(r))throw new Error(`Invalid direction given for left hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${r}`);if(!y(n))throw new Error(`Invalid direction given for right hand side of edge ${e}--${t}. Expected (L,R,T,B) got ${n}`);if(void 0===O.records.nodes[e]&&void 0===O.records.groups[e])throw new Error(`The left-hand id [${e}] does not yet exist. Please create the service/group before declaring an edge to it.`);if(void 0===O.records.nodes[t]&&void 0===O.records.groups[e])throw new Error(`The right-hand id [${t}] does not yet exist. Please create the service/group before declaring an edge to it.`);const u=O.records.nodes[e].in,c=O.records.nodes[t].in;if(o&&u&&c&&u==c)throw new Error(`The left-hand id [${e}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);if(s&&u&&c&&u==c)throw new Error(`The right-hand id [${t}] is modified to traverse the group boundary, but the edge does not pass through two groups.`);const h={lhsId:e,lhsDir:r,lhsInto:i,lhsGroup:o,rhsId:t,rhsDir:n,rhsInto:a,rhsGroup:s,title:l};O.records.edges.push(h),O.records.nodes[e]&&O.records.nodes[t]&&(O.records.nodes[e].edges.push(O.records.edges[O.records.edges.length-1]),O.records.nodes[t].edges.push(O.records.edges[O.records.edges.length-1]))}),"addEdge"),K=(0,l.K2)((()=>O.records.edges),"getEdges"),q=(0,l.K2)((()=>{if(void 0===O.records.dataStructures){const e=Object.entries(O.records.nodes).reduce(((e,[t,r])=>(e[t]=r.edges.reduce(((e,r)=>{if(r.lhsId===t){const t=k(r.lhsDir,r.rhsDir);t&&(e[t]=r.rhsId)}else{const t=k(r.rhsDir,r.lhsDir);t&&(e[t]=r.lhsId)}return e}),{}),e)),{}),t=Object.keys(e)[0],r={[t]:1},n=Object.keys(e).reduce(((e,r)=>r===t?e:{...e,[r]:1}),{}),i=(0,l.K2)((t=>{const i={[t]:[0,0]},a=[t];for(;a.length>0;){const t=a.shift();if(t){r[t]=1,delete n[t];const o=e[t],[s,l]=i[t];Object.entries(o).forEach((([e,t])=>{r[t]||(i[t]=E([s,l],e),a.push(t))}))}}return i}),"BFS"),a=[i(t)];for(;Object.keys(n).length>0;)a.push(i(Object.keys(n)[0]));O.records.dataStructures={adjList:e,spatialMaps:a}}return O.records.dataStructures}),"getDataStructures"),U=(0,l.K2)(((e,t)=>{O.records.elements[e]=t}),"setElementForId"),H=(0,l.K2)((e=>O.records.elements[e]),"getElementById"),W={clear:B,setDiagramTitle:l.ke,getDiagramTitle:l.ab,setAccTitle:l.SV,getAccTitle:l.iN,setAccDescription:l.EI,getAccDescription:l.m7,addService:N,getServices:L,addJunction:I,getJunctions:R,getNodes:M,getNode:P,addGroup:z,getGroups:$,addEdge:j,getEdges:K,setElementForId:U,getElementById:H,getDataStructures:q};function G(e){const t=(0,l.D7)().architecture;return t?.[e]?t[e]:F[e]}(0,l.K2)(G,"getConfigField");var V=(0,l.K2)(((e,t)=>{(0,a.S)(e,t),e.groups.map(t.addGroup),e.services.map((e=>t.addService({...e,type:"service"}))),e.junctions.map((e=>t.addJunction({...e,type:"junction"}))),e.edges.map(t.addEdge)}),"populateDb"),Y={parse:(0,l.K2)((async e=>{const t=await(0,u.qg)("architecture",e);l.Rm.debug(t),V(t,W)}),"parse")},X=(0,l.K2)((e=>`\n  .edge {\n    stroke-width: ${e.archEdgeWidth};\n    stroke: ${e.archEdgeColor};\n    fill: none;\n  }\n\n  .arrow {\n    fill: ${e.archEdgeArrowColor};\n  }\n\n  .node-bkg {\n    fill: none;\n    stroke: ${e.archGroupBorderColor};\n    stroke-width: ${e.archGroupBorderWidth};\n    stroke-dasharray: 8;\n  }\n  .node-icon-text {\n    display: flex; \n    align-items: center;\n  }\n  \n  .node-icon-text > div {\n    color: #fff;\n    margin: 1px;\n    height: fit-content;\n    text-align: center;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n  }\n`),"getStyles"),Z=(0,l.K2)((e=>`<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/>${e}</g>`),"wrapIcon"),Q={prefix:"mermaid-architecture",height:80,width:80,icons:{database:{body:Z('<path id="b" data-name="4" d="m20,57.86c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="c" data-name="3" d="m20,45.95c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path id="d" data-name="2" d="m20,34.05c0,3.94,8.95,7.14,20,7.14s20-3.2,20-7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse id="e" data-name="1" cx="40" cy="22.14" rx="20" ry="7.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="20" y1="57.86" x2="20" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="60" y1="57.86" x2="60" y2="22.14" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},server:{body:Z('<rect x="17.5" y="17.5" width="45" height="45" rx="2" ry="2" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="32.5" x2="62.5" y2="32.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="47.5" x2="62.5" y2="47.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><g><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,25c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,40c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: #fff; stroke-width: 0px;"/><path d="m56.25,55c0,.27-.45.5-1,.5h-10.5c-.55,0-1-.23-1-.5s.45-.5,1-.5h10.5c.55,0,1,.23,1,.5Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="25" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="40" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g><g><circle cx="32.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="27.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/><circle cx="22.5" cy="55" r=".75" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10;"/></g>')},disk:{body:Z('<rect x="20" y="15" width="40" height="50" rx="1" ry="1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="19.17" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="24" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="56" cy="60.83" rx=".8" ry=".83" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="14" ry="14.58" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><ellipse cx="40" cy="33.75" rx="4" ry="4.17" style="fill: #fff; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m37.51,42.52l-4.83,13.22c-.26.71-1.1,1.02-1.76.64l-4.18-2.42c-.66-.38-.81-1.26-.33-1.84l9.01-10.8c.88-1.05,2.56-.08,2.09,1.2Z" style="fill: #fff; stroke-width: 0px;"/>')},internet:{body:Z('<circle cx="40" cy="40" r="22.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="40" y1="17.5" x2="40" y2="62.5" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="17.5" y1="40" x2="62.5" y2="40" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m39.99,17.51c-15.28,11.1-15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><path d="m40.01,17.51c15.28,11.1,15.28,33.88,0,44.98" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="30.1" x2="60.25" y2="30.1" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/><line x1="19.75" y1="49.9" x2="60.25" y2="49.9" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},cloud:{body:Z('<path d="m65,47.5c0,2.76-2.24,5-5,5H20c-2.76,0-5-2.24-5-5,0-1.87,1.03-3.51,2.56-4.36-.04-.21-.06-.42-.06-.64,0-2.6,2.48-4.74,5.65-4.97,1.65-4.51,6.34-7.76,11.85-7.76.86,0,1.69.08,2.5.23,2.09-1.57,4.69-2.5,7.5-2.5,6.1,0,11.19,4.38,12.28,10.17,2.14.56,3.72,2.51,3.72,4.83,0,.03,0,.07-.01.1,2.29.46,4.01,2.48,4.01,4.9Z" style="fill: none; stroke: #fff; stroke-miterlimit: 10; stroke-width: 2px;"/>')},unknown:n.Gc,blank:{body:Z("")}}},J=(0,l.K2)((async function(e,t){const r=G("padding"),n=G("iconSize"),a=n/2,o=n/6,s=o/2;await Promise.all(t.edges().map((async t=>{const{source:n,sourceDir:u,sourceArrow:c,sourceGroup:h,target:d,targetDir:f,targetArrow:m,targetGroup:y,label:D}=T(t);let{x:E,y:C}=t[0].sourceEndpoint();const{x:_,y:S}=t[0].midpoint();let{x:F,y:O}=t[0].targetEndpoint();const B=r+4;if(h&&(v(u)?E+="L"===u?-B:B:C+="T"===u?-B:B+18),y&&(v(f)?F+="L"===f?-B:B:O+="T"===f?-B:B+18),h||"junction"!==W.getNode(n)?.type||(v(u)?E+="L"===u?a:-a:C+="T"===u?a:-a),y||"junction"!==W.getNode(d)?.type||(v(f)?F+="L"===f?a:-a:O+="T"===f?a:-a),t[0]._private.rscratch){const t=e.insert("g");if(t.insert("path").attr("d",`M ${E},${C} L ${_},${S} L${F},${O} `).attr("class","edge"),c){const e=v(u)?g[u](E,o):E-s,r=b(u)?g[u](C,o):C-s;t.insert("polygon").attr("points",p[u](o)).attr("transform",`translate(${e},${r})`).attr("class","arrow")}if(m){const e=v(f)?g[f](F,o):F-s,r=b(f)?g[f](O,o):O-s;t.insert("polygon").attr("points",p[f](o)).attr("transform",`translate(${e},${r})`).attr("class","arrow")}if(D){const e=x(u,f)?"XY":v(u)?"X":"Y";let r=0;r="X"===e?Math.abs(E-F):"Y"===e?Math.abs(C-O)/1.5:Math.abs(E-F)/2;const n=t.append("g");if(await(0,i.GZ)(n,D,{useHtmlLabels:!1,width:r,classes:"architecture-service-label"},(0,l.D7)()),n.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),"X"===e)n.attr("transform","translate("+_+", "+S+")");else if("Y"===e)n.attr("transform","translate("+_+", "+S+") rotate(-90)");else if("XY"===e){const e=k(u,f);if(e&&w(e)){const t=n.node().getBoundingClientRect(),[r,i]=A(e);n.attr("dominant-baseline","auto").attr("transform",`rotate(${-1*r*i*45})`);const a=n.node().getBoundingClientRect();n.attr("transform",`\n                translate(${_}, ${S-t.height/2})\n                translate(${r*a.width/2}, ${i*a.height/2})\n                rotate(${-1*r*i*45}, 0, ${t.height/2})\n              `)}}}}})))}),"drawEdges"),ee=(0,l.K2)((async function(e,t){const r=.75*G("padding"),a=G("fontSize"),o=G("iconSize")/2;await Promise.all(t.nodes().map((async t=>{const s=S(t);if("group"===s.type){const{h:u,w:c,x1:h,y1:d}=t.boundingBox();e.append("rect").attr("x",h+o).attr("y",d+o).attr("width",c).attr("height",u).attr("class","node-bkg");const f=e.append("g");let p=h,g=d;if(s.icon){const e=f.append("g");e.html(`<g>${await(0,n.WY)(s.icon,{height:r,width:r,fallbackPrefix:Q.prefix})}</g>`),e.attr("transform","translate("+(p+o+1)+", "+(g+o+1)+")"),p+=r,g+=a/2-1-2}if(s.label){const e=f.append("g");await(0,i.GZ)(e,s.label,{useHtmlLabels:!1,width:c,classes:"architecture-service-label"},(0,l.D7)()),e.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","start").attr("text-anchor","start"),e.attr("transform","translate("+(p+o+4)+", "+(g+o+2)+")")}}})))}),"drawGroups"),te=(0,l.K2)((async function(e,t,r){for(const a of r){const r=t.append("g"),o=G("iconSize");if(a.title){const e=r.append("g");await(0,i.GZ)(e,a.title,{useHtmlLabels:!1,width:1.5*o,classes:"architecture-service-label"},(0,l.D7)()),e.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle"),e.attr("transform","translate("+o/2+", "+o+")")}const s=r.append("g");if(a.icon)s.html(`<g>${await(0,n.WY)(a.icon,{height:o,width:o,fallbackPrefix:Q.prefix})}</g>`);else if(a.iconText){s.html(`<g>${await(0,n.WY)("blank",{height:o,width:o,fallbackPrefix:Q.prefix})}</g>`);const e=s.append("g").append("foreignObject").attr("width",o).attr("height",o).append("div").attr("class","node-icon-text").attr("style",`height: ${o}px;`).append("div").html(a.iconText),t=parseInt(window.getComputedStyle(e.node(),null).getPropertyValue("font-size").replace(/\D/g,""))??16;e.attr("style",`-webkit-line-clamp: ${Math.floor((o-2)/t)};`)}else s.append("path").attr("class","node-bkg").attr("id","node-"+a.id).attr("d",`M0 ${o} v${-o} q0,-5 5,-5 h${o} q5,0 5,5 v${o} H0 Z`);r.attr("class","architecture-service");const{width:u,height:c}=r._groups[0][0].getBBox();a.width=u,a.height=c,e.setElementForId(a.id,r)}return 0}),"drawServices"),re=(0,l.K2)((function(e,t,r){r.forEach((r=>{const n=t.append("g"),i=G("iconSize");n.append("g").append("rect").attr("id","node-"+r.id).attr("fill-opacity","0").attr("width",i).attr("height",i),n.attr("class","architecture-junction");const{width:a,height:o}=n._groups[0][0].getBBox();n.width=a,n.height=o,e.setElementForId(r.id,n)}))}),"drawJunctions");function ne(e,t){e.forEach((e=>{t.add({group:"nodes",data:{type:"service",id:e.id,icon:e.icon,label:e.title,parent:e.in,width:G("iconSize"),height:G("iconSize")},classes:"node-service"})}))}function ie(e,t){e.forEach((e=>{t.add({group:"nodes",data:{type:"junction",id:e.id,parent:e.in,width:G("iconSize"),height:G("iconSize")},classes:"node-junction"})}))}function ae(e,t){t.nodes().map((t=>{const r=S(t);"group"!==r.type&&(r.x=t.position().x,r.y=t.position().y,e.getElementById(r.id).attr("transform","translate("+(r.x||0)+","+(r.y||0)+")"))}))}function oe(e,t){e.forEach((e=>{t.add({group:"nodes",data:{type:"group",id:e.id,icon:e.icon,label:e.title,parent:e.in},classes:"node-group"})}))}function se(e,t){e.forEach((e=>{const{lhsId:r,rhsId:n,lhsInto:i,lhsGroup:a,rhsInto:o,lhsDir:s,rhsDir:l,rhsGroup:u,title:c}=e,h=x(e.lhsDir,e.rhsDir)?"segments":"straight",d={id:`${r}-${n}`,label:c,source:r,sourceDir:s,sourceArrow:i,sourceGroup:a,sourceEndpoint:"L"===s?"0 50%":"R"===s?"100% 50%":"T"===s?"50% 0":"50% 100%",target:n,targetDir:l,targetArrow:o,targetGroup:u,targetEndpoint:"L"===l?"0 50%":"R"===l?"100% 50%":"T"===l?"50% 0":"50% 100%"};t.add({group:"edges",data:d,classes:h})}))}function le(e){const t=e.map((e=>{const t={},r={};return Object.entries(e).forEach((([e,[n,i]])=>{t[i]||(t[i]=[]),r[n]||(r[n]=[]),t[i].push(e),r[n].push(e)})),{horiz:Object.values(t).filter((e=>e.length>1)),vert:Object.values(r).filter((e=>e.length>1))}})),[r,n]=t.reduce((([e,t],{horiz:r,vert:n})=>[[...e,...r],[...t,...n]]),[[],[]]);return{horizontal:r,vertical:n}}function ue(e){const t=[],r=(0,l.K2)((e=>`${e[0]},${e[1]}`),"posToStr"),n=(0,l.K2)((e=>e.split(",").map((e=>parseInt(e)))),"strToPos");return e.forEach((e=>{const i=Object.fromEntries(Object.entries(e).map((([e,t])=>[r(t),e]))),a=[r([0,0])],o={},s={L:[-1,0],R:[1,0],T:[0,1],B:[0,-1]};for(;a.length>0;){const e=a.shift();if(e){o[e]=1;const l=i[e];if(l){const u=n(e);Object.entries(s).forEach((([e,n])=>{const s=r([u[0]+n[0],u[1]+n[1]]),c=i[s];c&&!o[s]&&(a.push(s),t.push({[f[e]]:c,[f[m(e)]]:l,gap:1.5*G("iconSize")}))}))}}}})),t}function ce(e,t,r,n,{spatialMaps:i}){return new Promise((a=>{const o=(0,d.Ltv)("body").append("div").attr("id","cy").attr("style","display:none"),s=(0,c.A)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"straight",label:"data(label)","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"edge.segments",style:{"curve-style":"segments","segment-weights":"0","segment-distances":[.5],"edge-distances":"endpoints","source-endpoint":"data(sourceEndpoint)","target-endpoint":"data(targetEndpoint)"}},{selector:"node",style:{"compound-sizing-wrt-labels":"include"}},{selector:"node[label]",style:{"text-valign":"bottom","text-halign":"center","font-size":`${G("fontSize")}px`}},{selector:".node-service",style:{label:"data(label)",width:"data(width)",height:"data(height)"}},{selector:".node-junction",style:{width:"data(width)",height:"data(height)"}},{selector:".node-group",style:{padding:`${G("padding")}px`}}]});o.remove(),oe(r,s),ne(e,s),ie(t,s),se(n,s);const u=le(i),h=ue(i),f=s.layout({name:"fcose",quality:"proof",styleEnabled:!1,animate:!1,nodeDimensionsIncludeLabels:!1,idealEdgeLength(e){const[t,r]=e.connectedNodes(),{parent:n}=S(t),{parent:i}=S(r);return n===i?1.5*G("iconSize"):.5*G("iconSize")},edgeElasticity(e){const[t,r]=e.connectedNodes(),{parent:n}=S(t),{parent:i}=S(r);return n===i?.45:.001},alignmentConstraint:u,relativePlacementConstraint:h});f.one("layoutstop",(()=>{function e(e,t,r,n){let i,a;const{x:o,y:s}=e,{x:l,y:u}=t;a=(n-s+(o-r)*(s-u)/(o-l))/Math.sqrt(1+Math.pow((s-u)/(o-l),2)),i=Math.sqrt(Math.pow(n-s,2)+Math.pow(r-o,2)-Math.pow(a,2)),i/=Math.sqrt(Math.pow(l-o,2)+Math.pow(u-s,2));let c=(l-o)*(n-s)-(u-s)*(r-o);switch(!0){case c>=0:c=1;break;case c<0:c=-1}let h=(l-o)*(r-o)+(u-s)*(n-s);switch(!0){case h>=0:h=1;break;case h<0:h=-1}return a=Math.abs(a)*c,i*=h,{distances:a,weights:i}}(0,l.K2)(e,"getSegmentWeights"),s.startBatch();for(const t of Object.values(s.edges()))if(t.data?.()){const{x:r,y:n}=t.source().position(),{x:i,y:a}=t.target().position();if(r!==i&&n!==a){const r=t.sourceEndpoint(),n=t.targetEndpoint(),{sourceDir:i}=T(t),[a,o]=b(i)?[r.x,n.y]:[n.x,r.y],{weights:s,distances:l}=e(r,n,a,o);t.style("segment-distances",l),t.style("segment-weights",s)}}s.endBatch(),f.run()})),f.run(),s.ready((e=>{l.Rm.info("Ready",e),a(s)}))}))}(0,n.pC)([{name:Q.prefix,icons:Q}]),c.A.use(h),(0,l.K2)(ne,"addServices"),(0,l.K2)(ie,"addJunctions"),(0,l.K2)(ae,"positionNodes"),(0,l.K2)(oe,"addGroups"),(0,l.K2)(se,"addEdges"),(0,l.K2)(le,"getAlignments"),(0,l.K2)(ue,"getRelativeConstraints"),(0,l.K2)(ce,"layoutArchitecture");var he={parser:Y,db:W,renderer:{draw:(0,l.K2)((async(e,t,r,n)=>{const i=n.db,a=i.getServices(),o=i.getJunctions(),u=i.getGroups(),c=i.getEdges(),h=i.getDataStructures(),d=(0,s.D)(t),f=d.append("g");f.attr("class","architecture-edges");const p=d.append("g");p.attr("class","architecture-services");const g=d.append("g");g.attr("class","architecture-groups"),await te(i,p,a),re(i,p,o);const m=await ce(a,o,u,c,h);await J(f,m),await ee(g,m),ae(i,m),(0,l.ot)(void 0,d,G("padding"),G("useMaxWidth"))}),"draw")},styles:X}},5410:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>vt});var n=r(7588),i=r(3115),a=r(8945),o=r(8159),s=r(7692),l=r(6434),u=r(2538),c=r(71),h=r(5763),d=r(8756),f=function(){var e=(0,s.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,7],r=[1,13],n=[1,14],i=[1,15],a=[1,19],o=[1,16],l=[1,17],u=[1,18],c=[8,30],h=[8,21,28,29,30,31,32,40,44,47],d=[1,23],f=[1,24],p=[8,15,16,21,28,29,30,31,32,40,44,47],g=[8,15,16,21,27,28,29,30,31,32,40,44,47],m=[1,49],y={trace:(0,s.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,spaceLines:3,SPACELINE:4,NL:5,separator:6,SPACE:7,EOF:8,start:9,BLOCK_DIAGRAM_KEY:10,document:11,stop:12,statement:13,link:14,LINK:15,START_LINK:16,LINK_LABEL:17,STR:18,nodeStatement:19,columnsStatement:20,SPACE_BLOCK:21,blockStatement:22,classDefStatement:23,cssClassStatement:24,styleStatement:25,node:26,SIZE:27,COLUMNS:28,"id-block":29,end:30,block:31,NODE_ID:32,nodeShapeNLabel:33,dirList:34,DIR:35,NODE_DSTART:36,NODE_DEND:37,BLOCK_ARROW_START:38,BLOCK_ARROW_END:39,classDef:40,CLASSDEF_ID:41,CLASSDEF_STYLEOPTS:42,DEFAULT:43,class:44,CLASSENTITY_IDS:45,STYLECLASS:46,style:47,STYLE_ENTITY_IDS:48,STYLE_DEFINITION_DATA:49,$accept:0,$end:1},terminals_:{2:"error",4:"SPACELINE",5:"NL",7:"SPACE",8:"EOF",10:"BLOCK_DIAGRAM_KEY",15:"LINK",16:"START_LINK",17:"LINK_LABEL",18:"STR",21:"SPACE_BLOCK",27:"SIZE",28:"COLUMNS",29:"id-block",30:"end",31:"block",32:"NODE_ID",35:"DIR",36:"NODE_DSTART",37:"NODE_DEND",38:"BLOCK_ARROW_START",39:"BLOCK_ARROW_END",40:"classDef",41:"CLASSDEF_ID",42:"CLASSDEF_STYLEOPTS",43:"DEFAULT",44:"class",45:"CLASSENTITY_IDS",46:"STYLECLASS",47:"style",48:"STYLE_ENTITY_IDS",49:"STYLE_DEFINITION_DATA"},productions_:[0,[3,1],[3,2],[3,2],[6,1],[6,1],[6,1],[9,3],[12,1],[12,1],[12,2],[12,2],[11,1],[11,2],[14,1],[14,4],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[19,3],[19,2],[19,1],[20,1],[22,4],[22,3],[26,1],[26,2],[34,1],[34,2],[33,3],[33,4],[23,3],[23,3],[24,3],[25,3]],performAction:(0,s.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 4:n.getLogger().debug("Rule: separator (NL) ");break;case 5:n.getLogger().debug("Rule: separator (Space) ");break;case 6:n.getLogger().debug("Rule: separator (EOF) ");break;case 7:n.getLogger().debug("Rule: hierarchy: ",a[s-1]),n.setHierarchy(a[s-1]);break;case 8:n.getLogger().debug("Stop NL ");break;case 9:n.getLogger().debug("Stop EOF ");break;case 10:n.getLogger().debug("Stop NL2 ");break;case 11:n.getLogger().debug("Stop EOF2 ");break;case 12:n.getLogger().debug("Rule: statement: ",a[s]),"number"==typeof a[s].length?this.$=a[s]:this.$=[a[s]];break;case 13:n.getLogger().debug("Rule: statement #2: ",a[s-1]),this.$=[a[s-1]].concat(a[s]);break;case 14:n.getLogger().debug("Rule: link: ",a[s],e),this.$={edgeTypeStr:a[s],label:""};break;case 15:n.getLogger().debug("Rule: LABEL link: ",a[s-3],a[s-1],a[s]),this.$={edgeTypeStr:a[s],label:a[s-1]};break;case 18:const t=parseInt(a[s]),r=n.generateId();this.$={id:r,type:"space",label:"",width:t,children:[]};break;case 23:n.getLogger().debug("Rule: (nodeStatement link node) ",a[s-2],a[s-1],a[s]," typestr: ",a[s-1].edgeTypeStr);const i=n.edgeStrToEdgeData(a[s-1].edgeTypeStr);this.$=[{id:a[s-2].id,label:a[s-2].label,type:a[s-2].type,directions:a[s-2].directions},{id:a[s-2].id+"-"+a[s].id,start:a[s-2].id,end:a[s].id,label:a[s-1].label,type:"edge",directions:a[s].directions,arrowTypeEnd:i,arrowTypeStart:"arrow_open"},{id:a[s].id,label:a[s].label,type:n.typeStr2Type(a[s].typeStr),directions:a[s].directions}];break;case 24:n.getLogger().debug("Rule: nodeStatement (abc88 node size) ",a[s-1],a[s]),this.$={id:a[s-1].id,label:a[s-1].label,type:n.typeStr2Type(a[s-1].typeStr),directions:a[s-1].directions,widthInColumns:parseInt(a[s],10)};break;case 25:n.getLogger().debug("Rule: nodeStatement (node) ",a[s]),this.$={id:a[s].id,label:a[s].label,type:n.typeStr2Type(a[s].typeStr),directions:a[s].directions,widthInColumns:1};break;case 26:n.getLogger().debug("APA123",this?this:"na"),n.getLogger().debug("COLUMNS: ",a[s]),this.$={type:"column-setting",columns:"auto"===a[s]?-1:parseInt(a[s])};break;case 27:n.getLogger().debug("Rule: id-block statement : ",a[s-2],a[s-1]),n.generateId(),this.$={...a[s-2],type:"composite",children:a[s-1]};break;case 28:n.getLogger().debug("Rule: blockStatement : ",a[s-2],a[s-1],a[s]);const o=n.generateId();this.$={id:o,type:"composite",label:"",children:a[s-1]};break;case 29:n.getLogger().debug("Rule: node (NODE_ID separator): ",a[s]),this.$={id:a[s]};break;case 30:n.getLogger().debug("Rule: node (NODE_ID nodeShapeNLabel separator): ",a[s-1],a[s]),this.$={id:a[s-1],label:a[s].label,typeStr:a[s].typeStr,directions:a[s].directions};break;case 31:n.getLogger().debug("Rule: dirList: ",a[s]),this.$=[a[s]];break;case 32:n.getLogger().debug("Rule: dirList: ",a[s-1],a[s]),this.$=[a[s-1]].concat(a[s]);break;case 33:n.getLogger().debug("Rule: nodeShapeNLabel: ",a[s-2],a[s-1],a[s]),this.$={typeStr:a[s-2]+a[s],label:a[s-1]};break;case 34:n.getLogger().debug("Rule: BLOCK_ARROW nodeShapeNLabel: ",a[s-3],a[s-2]," #3:",a[s-1],a[s]),this.$={typeStr:a[s-3]+a[s],label:a[s-2],directions:a[s-1]};break;case 35:case 36:this.$={type:"classDef",id:a[s-1].trim(),css:a[s].trim()};break;case 37:this.$={type:"applyClass",id:a[s-1].trim(),styleClass:a[s].trim()};break;case 38:this.$={type:"applyStyles",id:a[s-1].trim(),stylesStr:a[s].trim()}}}),"anonymous"),table:[{9:1,10:[1,2]},{1:[3]},{11:3,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:o,44:l,47:u},{8:[1,20]},e(c,[2,12],{13:4,19:5,20:6,22:8,23:9,24:10,25:11,26:12,11:21,21:t,28:r,29:n,31:i,32:a,40:o,44:l,47:u}),e(h,[2,16],{14:22,15:d,16:f}),e(h,[2,17]),e(h,[2,18]),e(h,[2,19]),e(h,[2,20]),e(h,[2,21]),e(h,[2,22]),e(p,[2,25],{27:[1,25]}),e(h,[2,26]),{19:26,26:12,32:a},{11:27,13:4,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:o,44:l,47:u},{41:[1,28],43:[1,29]},{45:[1,30]},{48:[1,31]},e(g,[2,29],{33:32,36:[1,33],38:[1,34]}),{1:[2,7]},e(c,[2,13]),{26:35,32:a},{32:[2,14]},{17:[1,36]},e(p,[2,24]),{11:37,13:4,14:22,15:d,16:f,19:5,20:6,21:t,22:8,23:9,24:10,25:11,26:12,28:r,29:n,31:i,32:a,40:o,44:l,47:u},{30:[1,38]},{42:[1,39]},{42:[1,40]},{46:[1,41]},{49:[1,42]},e(g,[2,30]),{18:[1,43]},{18:[1,44]},e(p,[2,23]),{18:[1,45]},{30:[1,46]},e(h,[2,28]),e(h,[2,35]),e(h,[2,36]),e(h,[2,37]),e(h,[2,38]),{37:[1,47]},{34:48,35:m},{15:[1,50]},e(h,[2,27]),e(g,[2,33]),{39:[1,51]},{34:52,35:m,39:[2,31]},{32:[2,15]},e(g,[2,34]),{39:[2,32]}],defaultActions:{20:[2,7],23:[2,14],50:[2,15],52:[2,32]},parseError:(0,s.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,s.K2)((function(e){var t=this,r=[0],n=[],i=[null],a=[],o=this.table,l="",u=0,c=0,h=0,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,s.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,a.length=a.length-e}),"popStack"),(0,s.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=o[w]&&o[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],o[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),a.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},y&&(T._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],i,a].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),a=a.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),a.push(T._$),C=o[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},v=function(){return{EOF:1,parseError:(0,s.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,s.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,s.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,s.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,s.K2)((function(){return this._more=!0,this}),"more"),reject:(0,s.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,s.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,s.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,s.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,s.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,s.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,s.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,s.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,s.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,s.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,s.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,s.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,s.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,s.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{},performAction:(0,s.K2)((function(e,t,r,n){switch(r){case 0:return 10;case 1:return e.getLogger().debug("Found space-block"),31;case 2:return e.getLogger().debug("Found nl-block"),31;case 3:return e.getLogger().debug("Found space-block"),29;case 4:e.getLogger().debug(".",t.yytext);break;case 5:e.getLogger().debug("_",t.yytext);break;case 6:return 5;case 7:return t.yytext=-1,28;case 8:return t.yytext=t.yytext.replace(/columns\s+/,""),e.getLogger().debug("COLUMNS (LEX)",t.yytext),28;case 9:case 77:case 78:case 100:this.pushState("md_string");break;case 10:return"MD_STR";case 11:case 35:case 80:this.popState();break;case 12:this.pushState("string");break;case 13:e.getLogger().debug("LEX: POPPING STR:",t.yytext),this.popState();break;case 14:return e.getLogger().debug("LEX: STR end:",t.yytext),"STR";case 15:return t.yytext=t.yytext.replace(/space\:/,""),e.getLogger().debug("SPACE NUM (LEX)",t.yytext),21;case 16:return t.yytext="1",e.getLogger().debug("COLUMNS (LEX)",t.yytext),21;case 17:return 43;case 18:return"LINKSTYLE";case 19:return"INTERPOLATE";case 20:return this.pushState("CLASSDEF"),40;case 21:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 22:return this.popState(),this.pushState("CLASSDEFID"),41;case 23:return this.popState(),42;case 24:return this.pushState("CLASS"),44;case 25:return this.popState(),this.pushState("CLASS_STYLE"),45;case 26:return this.popState(),46;case 27:return this.pushState("STYLE_STMNT"),47;case 28:return this.popState(),this.pushState("STYLE_DEFINITION"),48;case 29:return this.popState(),49;case 30:return this.pushState("acc_title"),"acc_title";case 31:return this.popState(),"acc_title_value";case 32:return this.pushState("acc_descr"),"acc_descr";case 33:return this.popState(),"acc_descr_value";case 34:this.pushState("acc_descr_multiline");break;case 36:return"acc_descr_multiline_value";case 37:return 30;case 38:case 39:case 41:case 42:case 45:return this.popState(),e.getLogger().debug("Lex: (("),"NODE_DEND";case 40:return this.popState(),e.getLogger().debug("Lex: ))"),"NODE_DEND";case 43:return this.popState(),e.getLogger().debug("Lex: (-"),"NODE_DEND";case 44:return this.popState(),e.getLogger().debug("Lex: -)"),"NODE_DEND";case 46:return this.popState(),e.getLogger().debug("Lex: ]]"),"NODE_DEND";case 47:return this.popState(),e.getLogger().debug("Lex: ("),"NODE_DEND";case 48:return this.popState(),e.getLogger().debug("Lex: ])"),"NODE_DEND";case 49:case 50:return this.popState(),e.getLogger().debug("Lex: /]"),"NODE_DEND";case 51:return this.popState(),e.getLogger().debug("Lex: )]"),"NODE_DEND";case 52:return this.popState(),e.getLogger().debug("Lex: )"),"NODE_DEND";case 53:return this.popState(),e.getLogger().debug("Lex: ]>"),"NODE_DEND";case 54:return this.popState(),e.getLogger().debug("Lex: ]"),"NODE_DEND";case 55:return e.getLogger().debug("Lexa: -)"),this.pushState("NODE"),36;case 56:return e.getLogger().debug("Lexa: (-"),this.pushState("NODE"),36;case 57:return e.getLogger().debug("Lexa: ))"),this.pushState("NODE"),36;case 58:case 60:case 61:case 62:case 65:return e.getLogger().debug("Lexa: )"),this.pushState("NODE"),36;case 59:return e.getLogger().debug("Lex: ((("),this.pushState("NODE"),36;case 63:return e.getLogger().debug("Lexc: >"),this.pushState("NODE"),36;case 64:return e.getLogger().debug("Lexa: (["),this.pushState("NODE"),36;case 66:case 67:case 68:case 69:case 70:case 71:case 72:return this.pushState("NODE"),36;case 73:return e.getLogger().debug("Lexa: ["),this.pushState("NODE"),36;case 74:return this.pushState("BLOCK_ARROW"),e.getLogger().debug("LEX ARR START"),38;case 75:return e.getLogger().debug("Lex: NODE_ID",t.yytext),32;case 76:return e.getLogger().debug("Lex: EOF",t.yytext),8;case 79:return"NODE_DESCR";case 81:e.getLogger().debug("Lex: Starting string"),this.pushState("string");break;case 82:e.getLogger().debug("LEX ARR: Starting string"),this.pushState("string");break;case 83:return e.getLogger().debug("LEX: NODE_DESCR:",t.yytext),"NODE_DESCR";case 84:e.getLogger().debug("LEX POPPING"),this.popState();break;case 85:e.getLogger().debug("Lex: =>BAE"),this.pushState("ARROW_DIR");break;case 86:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (right): dir:",t.yytext),"DIR";case 87:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (left):",t.yytext),"DIR";case 88:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (x):",t.yytext),"DIR";case 89:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (y):",t.yytext),"DIR";case 90:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (up):",t.yytext),"DIR";case 91:return t.yytext=t.yytext.replace(/^,\s*/,""),e.getLogger().debug("Lex (down):",t.yytext),"DIR";case 92:return t.yytext="]>",e.getLogger().debug("Lex (ARROW_DIR end):",t.yytext),this.popState(),this.popState(),"BLOCK_ARROW_END";case 93:return e.getLogger().debug("Lex: LINK","#"+t.yytext+"#"),15;case 94:case 95:case 96:return e.getLogger().debug("Lex: LINK",t.yytext),15;case 97:case 98:case 99:return e.getLogger().debug("Lex: START_LINK",t.yytext),this.pushState("LLABEL"),16;case 101:return e.getLogger().debug("Lex: Starting string"),this.pushState("string"),"LINK_LABEL";case 102:return this.popState(),e.getLogger().debug("Lex: LINK","#"+t.yytext+"#"),15;case 103:case 104:return this.popState(),e.getLogger().debug("Lex: LINK",t.yytext),15;case 105:return e.getLogger().debug("Lex: COLON",t.yytext),t.yytext=t.yytext.slice(1),27}}),"anonymous"),rules:[/^(?:block-beta\b)/,/^(?:block\s+)/,/^(?:block\n+)/,/^(?:block:)/,/^(?:[\s]+)/,/^(?:[\n]+)/,/^(?:((\u000D\u000A)|(\u000A)))/,/^(?:columns\s+auto\b)/,/^(?:columns\s+[\d]+)/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:space[:]\d+)/,/^(?:space\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\s+)/,/^(?:DEFAULT\s+)/,/^(?:\w+\s+)/,/^(?:[^\n]*)/,/^(?:class\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:style\s+)/,/^(?:(\w+)+((,\s*\w+)*))/,/^(?:[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:end\b\s*)/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:[\)]\))/,/^(?:\}\})/,/^(?:\})/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\()/,/^(?:\]\])/,/^(?:\()/,/^(?:\]\))/,/^(?:\\\])/,/^(?:\/\])/,/^(?:\)\])/,/^(?:[\)])/,/^(?:\]>)/,/^(?:[\]])/,/^(?:-\))/,/^(?:\(-)/,/^(?:\)\))/,/^(?:\))/,/^(?:\(\(\()/,/^(?:\(\()/,/^(?:\{\{)/,/^(?:\{)/,/^(?:>)/,/^(?:\(\[)/,/^(?:\()/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\[\\)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:\[)/,/^(?:<\[)/,/^(?:[^\(\[\n\-\)\{\}\s\<\>:]+)/,/^(?:$)/,/^(?:["][`])/,/^(?:["][`])/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["])/,/^(?:["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:\]>\s*\()/,/^(?:,?\s*right\s*)/,/^(?:,?\s*left\s*)/,/^(?:,?\s*x\s*)/,/^(?:,?\s*y\s*)/,/^(?:,?\s*up\s*)/,/^(?:,?\s*down\s*)/,/^(?:\)\s*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*~~[\~]+\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:["][`])/,/^(?:["])/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?::\d+)/],conditions:{STYLE_DEFINITION:{rules:[29],inclusive:!1},STYLE_STMNT:{rules:[28],inclusive:!1},CLASSDEFID:{rules:[23],inclusive:!1},CLASSDEF:{rules:[21,22],inclusive:!1},CLASS_STYLE:{rules:[26],inclusive:!1},CLASS:{rules:[25],inclusive:!1},LLABEL:{rules:[100,101,102,103,104],inclusive:!1},ARROW_DIR:{rules:[86,87,88,89,90,91,92],inclusive:!1},BLOCK_ARROW:{rules:[77,82,85],inclusive:!1},NODE:{rules:[38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,78,81],inclusive:!1},md_string:{rules:[10,11,79,80],inclusive:!1},space:{rules:[],inclusive:!1},string:{rules:[13,14,83,84],inclusive:!1},acc_descr_multiline:{rules:[35,36],inclusive:!1},acc_descr:{rules:[33],inclusive:!1},acc_title:{rules:[31],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,12,15,16,17,18,19,20,24,27,30,32,34,37,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,93,94,95,96,97,98,99,105],inclusive:!0}}}}();function b(){this.yy={}}return y.lexer=v,(0,s.K2)(b,"Parser"),b.prototype=y,y.Parser=b,new b}();f.parser=f;var p=f,g=new Map,m=[],y=new Map,v="color",b="fill",x=(0,s.D7)(),w=new Map,D=(0,s.K2)((e=>s.Y2.sanitizeText(e,x)),"sanitizeText"),k=(0,s.K2)((function(e,t=""){let r=w.get(e);r||(r={id:e,styles:[],textStyles:[]},w.set(e,r)),null!=t&&t.split(",").forEach((e=>{const t=e.replace(/([^;]*);/,"$1").trim();if(RegExp(v).exec(e)){const e=t.replace(b,"bgFill").replace(v,b);r.textStyles.push(e)}r.styles.push(t)}))}),"addStyleClass"),E=(0,s.K2)((function(e,t=""){const r=g.get(e);null!=t&&(r.styles=t.split(","))}),"addStyle2Node"),A=(0,s.K2)((function(e,t){e.split(",").forEach((function(e){let r=g.get(e);if(void 0===r){const t=e.trim();r={id:t,type:"na",children:[]},g.set(t,r)}r.classes||(r.classes=[]),r.classes.push(t)}))}),"setCssClass"),C=(0,s.K2)(((e,t)=>{const r=e.flat(),n=[];for(const e of r)if(e.label&&(e.label=D(e.label)),"classDef"!==e.type)if("applyClass"!==e.type)if("applyStyles"!==e.type)if("column-setting"===e.type)t.columns=e.columns??-1;else if("edge"===e.type){const t=(y.get(e.id)??0)+1;y.set(e.id,t),e.id=t+"-"+e.id,m.push(e)}else{e.label||("composite"===e.type?e.label="":e.label=e.id);const t=g.get(e.id);if(void 0===t?g.set(e.id,e):("na"!==e.type&&(t.type=e.type),e.label!==e.id&&(t.label=e.label)),e.children&&C(e.children,e),"space"===e.type){const t=e.width??1;for(let r=0;r<t;r++){const t=(0,l.A)(e);t.id=t.id+"-"+r,g.set(t.id,t),n.push(t)}}else void 0===t&&n.push(e)}else e?.stylesStr&&E(e.id,e?.stylesStr);else A(e.id,e?.styleClass??"");else k(e.id,e.css);t.children=n}),"populateBlockDatabase"),_=[],T={id:"root",type:"composite",children:[],columns:-1},S=(0,s.K2)((()=>{s.Rm.debug("Clear called"),(0,s.IU)(),T={id:"root",type:"composite",children:[],columns:-1},g=new Map([["root",T]]),_=[],w=new Map,m=[],y=new Map}),"clear");function F(e){switch(s.Rm.debug("typeStr2Type",e),e){case"[]":return"square";case"()":return s.Rm.debug("we have a round"),"round";case"(())":return"circle";case">]":return"rect_left_inv_arrow";case"{}":return"diamond";case"{{}}":return"hexagon";case"([])":return"stadium";case"[[]]":return"subroutine";case"[()]":return"cylinder";case"((()))":return"doublecircle";case"[//]":return"lean_right";case"[\\\\]":return"lean_left";case"[/\\]":return"trapezoid";case"[\\/]":return"inv_trapezoid";case"<[]>":return"block_arrow";default:return"na"}}function O(e){return s.Rm.debug("typeStr2Type",e),"=="===e?"thick":"normal"}function B(e){switch(e.trim()){case"--x":return"arrow_cross";case"--o":return"arrow_circle";default:return"arrow_point"}}(0,s.K2)(F,"typeStr2Type"),(0,s.K2)(O,"edgeTypeStr2Type"),(0,s.K2)(B,"edgeStrToEdgeData");var N=0,L=(0,s.K2)((()=>(N++,"id-"+Math.random().toString(36).substr(2,12)+"-"+N)),"generateId"),I=(0,s.K2)((e=>{T.children=e,C(e,T),_=T.children}),"setHierarchy"),R=(0,s.K2)((e=>{const t=g.get(e);return t?t.columns?t.columns:t.children?t.children.length:-1:-1}),"getColumns"),M=(0,s.K2)((()=>[...g.values()]),"getBlocksFlat"),P=(0,s.K2)((()=>_||[]),"getBlocks"),z=(0,s.K2)((()=>m),"getEdges"),$=(0,s.K2)((e=>g.get(e)),"getBlock"),j=(0,s.K2)((e=>{g.set(e.id,e)}),"setBlock"),K=(0,s.K2)((()=>console),"getLogger"),q=(0,s.K2)((function(){return w}),"getClasses"),U={getConfig:(0,s.K2)((()=>(0,s.zj)().block),"getConfig"),typeStr2Type:F,edgeTypeStr2Type:O,edgeStrToEdgeData:B,getLogger:K,getBlocksFlat:M,getBlocks:P,getEdges:z,setHierarchy:I,getBlock:$,setBlock:j,getColumns:R,getClasses:q,clear:S,generateId:L},H=(0,s.K2)(((e,t)=>{const r=u.A,n=r(e,"r"),i=r(e,"g"),a=r(e,"b");return c.A(n,i,a,t)}),"fade"),W=(0,s.K2)((e=>`.label {\n    font-family: ${e.fontFamily};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n  .cluster-label text {\n    fill: ${e.titleColor};\n  }\n  .cluster-label span,p {\n    color: ${e.titleColor};\n  }\n\n\n\n  .label text,span,p {\n    fill: ${e.nodeTextColor||e.textColor};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${e.mainBkg};\n    stroke: ${e.nodeBorder};\n    stroke-width: 1px;\n  }\n  .flowchart-label text {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${e.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${e.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${e.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${e.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n      background-color: ${e.edgeLabelBackground};\n      fill: ${e.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${H(e.edgeLabelBackground,.5)};\n    // background-color:\n  }\n\n  .node .cluster {\n    // fill: ${H(e.mainBkg,.5)};\n    fill: ${H(e.clusterBkg,.5)};\n    stroke: ${H(e.clusterBorder,.2)};\n    box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${e.titleColor};\n  }\n\n  .cluster span,p {\n    color: ${e.titleColor};\n  }\n  /* .cluster div {\n    color: ${e.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${e.fontFamily};\n    font-size: 12px;\n    background: ${e.tertiaryColor};\n    border: 1px solid ${e.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${e.textColor};\n  }\n`),"getStyles"),G=(0,s.K2)(((e,t,r,n)=>{t.forEach((t=>{V[t](e,r,n)}))}),"insertMarkers"),V={extension:(0,s.K2)(((e,t,r)=>{s.Rm.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")}),"extension"),composition:(0,s.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"composition"),aggregation:(0,s.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"aggregation"),dependency:(0,s.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}),"dependency"),lollipop:(0,s.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)}),"lollipop"),point:(0,s.K2)(((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",6).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"point"),circle:(0,s.K2)(((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"circle"),cross:(0,s.K2)(((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")}),"cross"),barb:(0,s.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}),"barb")},Y=G,X=(0,s.D7)()?.block?.padding??8;function Z(e,t){if(0===e||!Number.isInteger(e))throw new Error("Columns must be an integer !== 0.");if(t<0||!Number.isInteger(t))throw new Error("Position must be a non-negative integer."+t);return e<0?{px:t,py:0}:1===e?{px:0,py:t}:{px:t%e,py:Math.floor(t/e)}}(0,s.K2)(Z,"calculateBlockPosition");var Q=(0,s.K2)((e=>{let t=0,r=0;for(const n of e.children){const{width:i,height:a,x:o,y:l}=n.size??{width:0,height:0,x:0,y:0};s.Rm.debug("getMaxChildSize abc95 child:",n.id,"width:",i,"height:",a,"x:",o,"y:",l,n.type),"space"!==n.type&&(i>t&&(t=i/(e.widthInColumns??1)),a>r&&(r=a))}return{width:t,height:r}}),"getMaxChildSize");function J(e,t,r=0,n=0){s.Rm.debug("setBlockSizes abc95 (start)",e.id,e?.size?.x,"block width =",e?.size,"sieblingWidth",r),e?.size?.width||(e.size={width:r,height:n,x:0,y:0});let i=0,a=0;if(e.children?.length>0){for(const r of e.children)J(r,t);const o=Q(e);i=o.width,a=o.height,s.Rm.debug("setBlockSizes abc95 maxWidth of",e.id,":s children is ",i,a);for(const t of e.children)t.size&&(s.Rm.debug(`abc95 Setting size of children of ${e.id} id=${t.id} ${i} ${a} ${JSON.stringify(t.size)}`),t.size.width=i*(t.widthInColumns??1)+X*((t.widthInColumns??1)-1),t.size.height=a,t.size.x=0,t.size.y=0,s.Rm.debug(`abc95 updating size of ${e.id} children child:${t.id} maxWidth:${i} maxHeight:${a}`));for(const r of e.children)J(r,t,i,a);const l=e.columns??-1;let u=0;for(const t of e.children)u+=t.widthInColumns??1;let c=e.children.length;l>0&&l<u&&(c=l);const h=Math.ceil(u/c);let d=c*(i+X)+X,f=h*(a+X)+X;if(d<r){s.Rm.debug(`Detected to small siebling: abc95 ${e.id} sieblingWidth ${r} sieblingHeight ${n} width ${d}`),d=r,f=n;const t=(r-c*X-X)/c,o=(n-h*X-X)/h;s.Rm.debug("Size indata abc88",e.id,"childWidth",t,"maxWidth",i),s.Rm.debug("Size indata abc88",e.id,"childHeight",o,"maxHeight",a),s.Rm.debug("Size indata abc88 xSize",c,"padding",X);for(const r of e.children)r.size&&(r.size.width=t,r.size.height=o,r.size.x=0,r.size.y=0)}if(s.Rm.debug(`abc95 (finale calc) ${e.id} xSize ${c} ySize ${h} columns ${l}${e.children.length} width=${Math.max(d,e.size?.width||0)}`),d<(e?.size?.width||0)){d=e?.size?.width||0;const t=l>0?Math.min(e.children.length,l):e.children.length;if(t>0){const r=(d-t*X-X)/t;s.Rm.debug("abc95 (growing to fit) width",e.id,d,e.size?.width,r);for(const t of e.children)t.size&&(t.size.width=r)}}e.size={width:d,height:f,x:0,y:0}}s.Rm.debug("setBlockSizes abc94 (done)",e.id,e?.size?.x,e?.size?.width,e?.size?.y,e?.size?.height)}function ee(e,t){s.Rm.debug(`abc85 layout blocks (=>layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`);const r=e.columns??-1;if(s.Rm.debug("layoutBlocks columns abc95",e.id,"=>",r,e),e.children&&e.children.length>0){const n=e?.children[0]?.size?.width??0,i=e.children.length*n+(e.children.length-1)*X;s.Rm.debug("widthOfChildren 88",i,"posX");let a=0;s.Rm.debug("abc91 block?.size?.x",e.id,e?.size?.x);let o=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-X,l=0;for(const n of e.children){const i=e;if(!n.size)continue;const{width:u,height:c}=n.size,{px:h,py:d}=Z(r,a);if(d!=l&&(l=d,o=e?.size?.x?e?.size?.x+(-e?.size?.width/2||0):-X,s.Rm.debug("New row in layout for block",e.id," and child ",n.id,l)),s.Rm.debug(`abc89 layout blocks (child) id: ${n.id} Pos: ${a} (px, py) ${h},${d} (${i?.size?.x},${i?.size?.y}) parent: ${i.id} width: ${u}${X}`),i.size){const e=u/2;n.size.x=o+X+e,s.Rm.debug(`abc91 layout blocks (calc) px, pyid:${n.id} startingPos=X${o} new startingPosX${n.size.x} ${e} padding=${X} width=${u} halfWidth=${e} => x:${n.size.x} y:${n.size.y} ${n.widthInColumns} (width * (child?.w || 1)) / 2 ${u*(n?.widthInColumns??1)/2}`),o=n.size.x+e,n.size.y=i.size.y-i.size.height/2+d*(c+X)+c/2+X,s.Rm.debug(`abc88 layout blocks (calc) px, pyid:${n.id}startingPosX${o}${X}${e}=>x:${n.size.x}y:${n.size.y}${n.widthInColumns}(width * (child?.w || 1)) / 2${u*(n?.widthInColumns??1)/2}`)}n.children&&ee(n,t),a+=n?.widthInColumns??1,s.Rm.debug("abc88 columnsPos",n,a)}}s.Rm.debug(`layout blocks (<==layoutBlocks) ${e.id} x: ${e?.size?.x} y: ${e?.size?.y} width: ${e?.size?.width}`)}function te(e,{minX:t,minY:r,maxX:n,maxY:i}={minX:0,minY:0,maxX:0,maxY:0}){if(e.size&&"root"!==e.id){const{x:a,y:o,width:s,height:l}=e.size;a-s/2<t&&(t=a-s/2),o-l/2<r&&(r=o-l/2),a+s/2>n&&(n=a+s/2),o+l/2>i&&(i=o+l/2)}if(e.children)for(const a of e.children)({minX:t,minY:r,maxX:n,maxY:i}=te(a,{minX:t,minY:r,maxX:n,maxY:i}));return{minX:t,minY:r,maxX:n,maxY:i}}function re(e){const t=e.getBlock("root");if(!t)return;J(t,e,0,0),ee(t,e),s.Rm.debug("getBlocks",JSON.stringify(t,null,2));const{minX:r,minY:n,maxX:i,maxY:a}=te(t);return{x:r,y:n,width:i-r,height:a-n}}function ne(e,t){t&&e.attr("style",t)}function ie(e){const t=(0,h.Ltv)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div"),n=e.label,i=e.isNode?"nodeLabel":"edgeLabel",a=r.append("span");return a.html(n),ne(a,e.labelStyle),a.attr("class",i),ne(r,e.labelStyle),r.style("display","inline-block"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}(0,s.K2)(J,"setBlockSizes"),(0,s.K2)(ee,"layoutBlocks"),(0,s.K2)(te,"findBounds"),(0,s.K2)(re,"layout"),(0,s.K2)(ne,"applyStyle"),(0,s.K2)(ie,"addHtmlLabel");var ae=(0,s.K2)(((e,t,r,n)=>{let i=e||"";if("object"==typeof i&&(i=i[0]),(0,s._3)((0,s.D7)().flowchart.htmlLabels))return i=i.replace(/\\n|\n/g,"<br />"),s.Rm.debug("vertexText"+i),ie({isNode:n,label:(0,a.hE)((0,o.Sm)(i)),labelStyle:t.replace("fill:","color:")});{const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",t.replace("color:","fill:"));let n=[];n="string"==typeof i?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(const t of n){const n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),r?n.setAttribute("class","title-row"):n.setAttribute("class","row"),n.textContent=t.trim(),e.appendChild(n)}return e}}),"createLabel"),oe=(0,s.K2)(((e,t,r,n,i)=>{t.arrowTypeStart&&le(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&le(e,"end",t.arrowTypeEnd,r,n,i)}),"addEdgeMarkers"),se={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},le=(0,s.K2)(((e,t,r,n,i,a)=>{const o=se[r];if(!o)return void s.Rm.warn(`Unknown arrow type: ${r}`);const l="start"===t?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${a}-${o}${l})`)}),"addEdgeMarker"),ue={},ce={},he=(0,s.K2)(((e,t)=>{const r=(0,s.D7)(),n=(0,s._3)(r.flowchart.htmlLabels),i="markdown"===t.labelType?(0,a.GZ)(e,t.label,{style:t.labelStyle,useHtmlLabels:n,addSvgBackground:!0},r):ae(t.label,t.labelStyle),o=e.insert("g").attr("class","edgeLabel"),l=o.insert("g").attr("class","label");l.node().appendChild(i);let u,c=i.getBBox();if(n){const e=i.children[0],t=(0,h.Ltv)(i);c=e.getBoundingClientRect(),t.attr("width",c.width),t.attr("height",c.height)}if(l.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),ue[t.id]=o,t.width=c.width,t.height=c.height,t.startLabelLeft){const r=ae(t.startLabelLeft,t.labelStyle),n=e.insert("g").attr("class","edgeTerminals"),i=n.insert("g").attr("class","inner");u=i.node().appendChild(r);const a=r.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),ce[t.id]||(ce[t.id]={}),ce[t.id].startLeft=n,de(u,t.startLabelLeft)}if(t.startLabelRight){const r=ae(t.startLabelRight,t.labelStyle),n=e.insert("g").attr("class","edgeTerminals"),i=n.insert("g").attr("class","inner");u=n.node().appendChild(r),i.node().appendChild(r);const a=r.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),ce[t.id]||(ce[t.id]={}),ce[t.id].startRight=n,de(u,t.startLabelRight)}if(t.endLabelLeft){const r=ae(t.endLabelLeft,t.labelStyle),n=e.insert("g").attr("class","edgeTerminals"),i=n.insert("g").attr("class","inner");u=i.node().appendChild(r);const a=r.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),n.node().appendChild(r),ce[t.id]||(ce[t.id]={}),ce[t.id].endLeft=n,de(u,t.endLabelLeft)}if(t.endLabelRight){const r=ae(t.endLabelRight,t.labelStyle),n=e.insert("g").attr("class","edgeTerminals"),i=n.insert("g").attr("class","inner");u=i.node().appendChild(r);const a=r.getBBox();i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),n.node().appendChild(r),ce[t.id]||(ce[t.id]={}),ce[t.id].endRight=n,de(u,t.endLabelRight)}return i}),"insertEdgeLabel");function de(e,t){(0,s.D7)().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}(0,s.K2)(de,"setTerminalWidth");var fe=(0,s.K2)(((e,t)=>{s.Rm.debug("Moving label abc88 ",e.id,e.label,ue[e.id],t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=(0,s.D7)(),{subGraphTitleTotalMargin:a}=(0,i.O)(n);if(e.label){const n=ue[e.id];let i=e.x,l=e.y;if(r){const n=o._K.calcLabelPosition(r);s.Rm.debug("Moving label "+e.label+" from (",i,",",l,") to (",n.x,",",n.y,") abc88"),t.updatedPath&&(i=n.x,l=n.y)}n.attr("transform",`translate(${i}, ${l+a/2})`)}if(e.startLabelLeft){const t=ce[e.id].startLeft;let n=e.x,i=e.y;if(r){const t=o._K.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.startLabelRight){const t=ce[e.id].startRight;let n=e.x,i=e.y;if(r){const t=o._K.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.endLabelLeft){const t=ce[e.id].endLeft;let n=e.x,i=e.y;if(r){const t=o._K.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.endLabelRight){const t=ce[e.id].endRight;let n=e.x,i=e.y;if(r){const t=o._K.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}}),"positionEdgeLabel"),pe=(0,s.K2)(((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),o=e.width/2,s=e.height/2;return i>=o||a>=s}),"outsideNode"),ge=(0,s.K2)(((e,t,r)=>{s.Rm.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(t)}\n  insidePoint : ${JSON.stringify(r)}\n  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,a=Math.abs(n-r.x),o=e.width/2;let l=r.x<t.x?o-a:o+a;const u=e.height/2,c=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*o>Math.abs(n-t.x)*u){let e=r.y<t.y?t.y-u-i:i-u-t.y;l=h*e/c;const n={x:r.x<t.x?r.x+l:r.x-h+l,y:r.y<t.y?r.y+c-e:r.y-c+e};return 0===l&&(n.x=t.x,n.y=t.y),0===h&&(n.x=t.x),0===c&&(n.y=t.y),s.Rm.debug(`abc89 topp/bott calc, Q ${c}, q ${e}, R ${h}, r ${l}`,n),n}{l=r.x<t.x?t.x-o-n:n-o-t.x;let e=c*l/h,i=r.x<t.x?r.x+h-l:r.x-h+l,a=r.y<t.y?r.y+e:r.y-e;return s.Rm.debug(`sides calc abc89, Q ${c}, q ${e}, R ${h}, r ${l}`,{_x:i,_y:a}),0===l&&(i=t.x,a=t.y),0===h&&(i=t.x),0===c&&(a=t.y),{x:i,y:a}}}),"intersection"),me=(0,s.K2)(((e,t)=>{s.Rm.debug("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach((e=>{if(pe(t,e)||i)n=e,i||r.push(e);else{const a=ge(t,n,e);let o=!1;r.forEach((e=>{o=o||e.x===a.x&&e.y===a.y})),r.some((e=>e.x===a.x&&e.y===a.y))||r.push(a),i=!0}})),r}),"cutPathAtIntersect"),ye=(0,s.K2)((function(e,t,r,i,a,o,l){let u=r.points;s.Rm.debug("abc88 InsertEdge: edge=",r,"e=",t);let c=!1;const d=o.node(t.v);var f=o.node(t.w);f?.intersect&&d?.intersect&&(u=u.slice(1,r.points.length-1),u.unshift(d.intersect(u[0])),u.push(f.intersect(u[u.length-1]))),r.toCluster&&(s.Rm.debug("to cluster abc88",i[r.toCluster]),u=me(r.points,i[r.toCluster].node),c=!0),r.fromCluster&&(s.Rm.debug("from cluster abc88",i[r.fromCluster]),u=me(u.reverse(),i[r.fromCluster].node).reverse(),c=!0);const p=u.filter((e=>!Number.isNaN(e.y)));let g=h.qrM;!r.curve||"graph"!==a&&"flowchart"!==a||(g=r.curve);const{x:m,y}=(0,n.R)(r),v=(0,h.n8j)().x(m).y(y).curve(g);let b;switch(r.thickness){case"normal":b="edge-thickness-normal";break;case"thick":case"invisible":b="edge-thickness-thick";break;default:b=""}switch(r.pattern){case"solid":b+=" edge-pattern-solid";break;case"dotted":b+=" edge-pattern-dotted";break;case"dashed":b+=" edge-pattern-dashed"}const x=e.append("path").attr("d",v(p)).attr("id",r.id).attr("class"," "+b+(r.classes?" "+r.classes:"")).attr("style",r.style);let w="";((0,s.D7)().flowchart.arrowMarkerAbsolute||(0,s.D7)().state.arrowMarkerAbsolute)&&(w=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,w=w.replace(/\(/g,"\\("),w=w.replace(/\)/g,"\\)")),oe(x,r,w,l,a);let D={};return c&&(D.updatedPath=u),D.originalPath=r.points,D}),"insertEdge"),ve=(0,s.K2)((e=>{const t=new Set;for(const r of e)switch(r){case"x":t.add("right"),t.add("left");break;case"y":t.add("up"),t.add("down");break;default:t.add(r)}return t}),"expandAndDeduplicateDirections"),be=(0,s.K2)(((e,t,r)=>{const n=ve(e),i=t.height+2*r.padding,a=i/2,o=t.width+2*a+r.padding,s=r.padding/2;return n.has("right")&&n.has("left")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:a,y:0},{x:o/2,y:2*s},{x:o-a,y:0},{x:o,y:0},{x:o,y:-i/3},{x:o+2*s,y:-i/2},{x:o,y:-2*i/3},{x:o,y:-i},{x:o-a,y:-i},{x:o/2,y:-i-2*s},{x:a,y:-i},{x:0,y:-i},{x:0,y:-2*i/3},{x:-2*s,y:-i/2},{x:0,y:-i/3}]:n.has("right")&&n.has("left")&&n.has("up")?[{x:a,y:0},{x:o-a,y:0},{x:o,y:-i/2},{x:o-a,y:-i},{x:a,y:-i},{x:0,y:-i/2}]:n.has("right")&&n.has("left")&&n.has("down")?[{x:0,y:0},{x:a,y:-i},{x:o-a,y:-i},{x:o,y:0}]:n.has("right")&&n.has("up")&&n.has("down")?[{x:0,y:0},{x:o,y:-a},{x:o,y:-i+a},{x:0,y:-i}]:n.has("left")&&n.has("up")&&n.has("down")?[{x:o,y:0},{x:0,y:-a},{x:0,y:-i+a},{x:o,y:-i}]:n.has("right")&&n.has("left")?[{x:a,y:0},{x:a,y:-s},{x:o-a,y:-s},{x:o-a,y:0},{x:o,y:-i/2},{x:o-a,y:-i},{x:o-a,y:-i+s},{x:a,y:-i+s},{x:a,y:-i},{x:0,y:-i/2}]:n.has("up")&&n.has("down")?[{x:o/2,y:0},{x:0,y:-s},{x:a,y:-s},{x:a,y:-i+s},{x:0,y:-i+s},{x:o/2,y:-i},{x:o,y:-i+s},{x:o-a,y:-i+s},{x:o-a,y:-s},{x:o,y:-s}]:n.has("right")&&n.has("up")?[{x:0,y:0},{x:o,y:-a},{x:0,y:-i}]:n.has("right")&&n.has("down")?[{x:0,y:0},{x:o,y:0},{x:0,y:-i}]:n.has("left")&&n.has("up")?[{x:o,y:0},{x:0,y:-a},{x:o,y:-i}]:n.has("left")&&n.has("down")?[{x:o,y:0},{x:0,y:0},{x:o,y:-i}]:n.has("right")?[{x:a,y:-s},{x:a,y:-s},{x:o-a,y:-s},{x:o-a,y:0},{x:o,y:-i/2},{x:o-a,y:-i},{x:o-a,y:-i+s},{x:a,y:-i+s},{x:a,y:-i+s}]:n.has("left")?[{x:a,y:0},{x:a,y:-s},{x:o-a,y:-s},{x:o-a,y:-i+s},{x:a,y:-i+s},{x:a,y:-i},{x:0,y:-i/2}]:n.has("up")?[{x:a,y:-s},{x:a,y:-i+s},{x:0,y:-i+s},{x:o/2,y:-i},{x:o,y:-i+s},{x:o-a,y:-i+s},{x:o-a,y:-s}]:n.has("down")?[{x:o/2,y:0},{x:0,y:-s},{x:a,y:-s},{x:a,y:-i+s},{x:o-a,y:-i+s},{x:o-a,y:-s},{x:o,y:-s}]:[{x:0,y:0}]}),"getArrowPoints");function xe(e,t){return e.intersect(t)}(0,s.K2)(xe,"intersectNode");var we=xe;function De(e,t,r,n){var i=e.x,a=e.y,o=i-n.x,s=a-n.y,l=Math.sqrt(t*t*s*s+r*r*o*o),u=Math.abs(t*r*o/l);n.x<i&&(u=-u);var c=Math.abs(t*r*s/l);return n.y<a&&(c=-c),{x:i+u,y:a+c}}(0,s.K2)(De,"intersectEllipse");var ke=De;function Ee(e,t,r){return ke(e,t,t,r)}(0,s.K2)(Ee,"intersectCircle");var Ae=Ee;function Ce(e,t,r,n){var i,a,o,s,l,u,c,h,d,f,p,g,m;if(i=t.y-e.y,o=e.x-t.x,l=t.x*e.y-e.x*t.y,d=i*r.x+o*r.y+l,f=i*n.x+o*n.y+l,!(0!==d&&0!==f&&_e(d,f)||(a=n.y-r.y,s=r.x-n.x,u=n.x*r.y-r.x*n.y,c=a*e.x+s*e.y+u,h=a*t.x+s*t.y+u,0!==c&&0!==h&&_e(c,h)||0==(p=i*s-a*o))))return g=Math.abs(p/2),{x:(m=o*u-s*l)<0?(m-g)/p:(m+g)/p,y:(m=a*l-i*u)<0?(m-g)/p:(m+g)/p}}function _e(e,t){return e*t>0}(0,s.K2)(Ce,"intersectLine"),(0,s.K2)(_e,"sameSign");var Te=Ce,Se=Fe;function Fe(e,t,r){var n=e.x,i=e.y,a=[],o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;"function"==typeof t.forEach?t.forEach((function(e){o=Math.min(o,e.x),s=Math.min(s,e.y)})):(o=Math.min(o,t.x),s=Math.min(s,t.y));for(var l=n-e.width/2-o,u=i-e.height/2-s,c=0;c<t.length;c++){var h=t[c],d=t[c<t.length-1?c+1:0],f=Te(e,r,{x:l+h.x,y:u+h.y},{x:l+d.x,y:u+d.y});f&&a.push(f)}return a.length?(a.length>1&&a.sort((function(e,t){var n=e.x-r.x,i=e.y-r.y,a=Math.sqrt(n*n+i*i),o=t.x-r.x,s=t.y-r.y,l=Math.sqrt(o*o+s*s);return a<l?-1:a===l?0:1})),a[0]):e}(0,s.K2)(Fe,"intersectPolygon");var Oe={node:we,circle:Ae,ellipse:ke,polygon:Se,rect:(0,s.K2)(((e,t)=>{var r,n,i=e.x,a=e.y,o=t.x-i,s=t.y-a,l=e.width/2,u=e.height/2;return Math.abs(s)*l>Math.abs(o)*u?(s<0&&(u=-u),r=0===s?0:u*o/s,n=u):(o<0&&(l=-l),r=l,n=0===o?0:l*s/o),{x:i+r,y:a+n}}),"intersectRect")},Be=(0,s.K2)((async(e,t,r,n)=>{const i=(0,s.D7)();let l;const u=t.useHtmlLabels||(0,s._3)(i.flowchart.htmlLabels);l=r||"node default";const c=e.insert("g").attr("class",l).attr("id",t.domId||t.id),d=c.insert("g").attr("class","label").attr("style",t.labelStyle);let f;f=void 0===t.labelText?"":"string"==typeof t.labelText?t.labelText:t.labelText[0];const p=d.node();let g;g="markdown"===t.labelType?(0,a.GZ)(d,(0,s.jZ)((0,o.Sm)(f),i),{useHtmlLabels:u,width:t.width||i.flowchart.wrappingWidth,classes:"markdown-node-label"},i):p.appendChild(ae((0,s.jZ)((0,o.Sm)(f),i),t.labelStyle,!1,n));let m=g.getBBox();const y=t.padding/2;if((0,s._3)(i.flowchart.htmlLabels)){const e=g.children[0],t=(0,h.Ltv)(g),r=e.getElementsByTagName("img");if(r){const e=""===f.replace(/<img[^>]*>/g,"").trim();await Promise.all([...r].map((t=>new Promise((r=>{function n(){if(t.style.display="flex",t.style.flexDirection="column",e){const e=i.fontSize?i.fontSize:window.getComputedStyle(document.body).fontSize,r=5,n=parseInt(e,10)*r+"px";t.style.minWidth=n,t.style.maxWidth=n}else t.style.width="100%";r(t)}(0,s.K2)(n,"setupImage"),setTimeout((()=>{t.complete&&n()})),t.addEventListener("error",n),t.addEventListener("load",n)})))))}m=e.getBoundingClientRect(),t.attr("width",m.width),t.attr("height",m.height)}return u?d.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"):d.attr("transform","translate(0, "+-m.height/2+")"),t.centerLabel&&d.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),d.insert("rect",":first-child"),{shapeSvg:c,bbox:m,halfPadding:y,label:d}}),"labelHelper"),Ne=(0,s.K2)(((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height}),"updateNodeBounds");function Le(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map((function(e){return e.x+","+e.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}(0,s.K2)(Le,"insertPolygonShape");var Ie=(0,s.K2)((async(e,t)=>{t.useHtmlLabels||(0,s.D7)().flowchart.htmlLabels||(t.centerLabel=!0);const{shapeSvg:r,bbox:n,halfPadding:i}=await Be(e,t,"node "+t.classes,!0);s.Rm.info("Classes = ",t.classes);const a=r.insert("rect",":first-child");return a.attr("rx",t.rx).attr("ry",t.ry).attr("x",-n.width/2-i).attr("y",-n.height/2-i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),Ne(t,a),t.intersect=function(e){return Oe.rect(t,e)},r}),"note"),Re=(0,s.K2)((e=>e?" "+e:""),"formatClass"),Me=(0,s.K2)(((e,t)=>`${t||"node default"}${Re(e.classes)} ${Re(e.class)}`),"getClassesFromNode"),Pe=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.width+t.padding+(n.height+t.padding),a=[{x:i/2,y:0},{x:i,y:-i/2},{x:i/2,y:-i},{x:0,y:-i/2}];s.Rm.info("Question main (Circle)");const o=Le(r,i,i,a);return o.attr("style",t.style),Ne(t,o),t.intersect=function(e){return s.Rm.warn("Intersect called"),Oe.polygon(t,a,e)},r}),"question"),ze=(0,s.K2)(((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);return r.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map((function(e){return e.x+","+e.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),t.width=28,t.height=28,t.intersect=function(e){return Oe.circle(t,14,e)},r}),"choice"),$e=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.height+t.padding,a=i/4,o=n.width+2*a+t.padding,s=[{x:a,y:0},{x:o-a,y:0},{x:o,y:-i/2},{x:o-a,y:-i},{x:a,y:-i},{x:0,y:-i/2}],l=Le(r,o,i,s);return l.attr("style",t.style),Ne(t,l),t.intersect=function(e){return Oe.polygon(t,s,e)},r}),"hexagon"),je=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,void 0,!0),i=n.height+2*t.padding,a=i/2,o=n.width+2*a+t.padding,s=be(t.directions,n,t),l=Le(r,o,i,s);return l.attr("style",t.style),Ne(t,l),t.intersect=function(e){return Oe.polygon(t,s,e)},r}),"block_arrow"),Ke=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,o=[{x:-a/2,y:0},{x:i,y:0},{x:i,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return Le(r,i,a,o).attr("style",t.style),t.width=i+a,t.height=a,t.intersect=function(e){return Oe.polygon(t,o,e)},r}),"rect_left_inv_arrow"),qe=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t),!0),i=n.width+t.padding,a=n.height+t.padding,o=[{x:-2*a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:a/6,y:-a}],s=Le(r,i,a,o);return s.attr("style",t.style),Ne(t,s),t.intersect=function(e){return Oe.polygon(t,o,e)},r}),"lean_right"),Ue=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,o=[{x:2*a/6,y:0},{x:i+a/6,y:0},{x:i-2*a/6,y:-a},{x:-a/6,y:-a}],s=Le(r,i,a,o);return s.attr("style",t.style),Ne(t,s),t.intersect=function(e){return Oe.polygon(t,o,e)},r}),"lean_left"),He=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,o=[{x:-2*a/6,y:0},{x:i+2*a/6,y:0},{x:i-a/6,y:-a},{x:a/6,y:-a}],s=Le(r,i,a,o);return s.attr("style",t.style),Ne(t,s),t.intersect=function(e){return Oe.polygon(t,o,e)},r}),"trapezoid"),We=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,o=[{x:a/6,y:0},{x:i-a/6,y:0},{x:i+2*a/6,y:-a},{x:-2*a/6,y:-a}],s=Le(r,i,a,o);return s.attr("style",t.style),Ne(t,s),t.intersect=function(e){return Oe.polygon(t,o,e)},r}),"inv_trapezoid"),Ge=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,o=[{x:0,y:0},{x:i+a/2,y:0},{x:i,y:-a/2},{x:i+a/2,y:-a},{x:0,y:-a}],s=Le(r,i,a,o);return s.attr("style",t.style),Ne(t,s),t.intersect=function(e){return Oe.polygon(t,o,e)},r}),"rect_right_inv_arrow"),Ve=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.width+t.padding,a=i/2,o=a/(2.5+i/50),s=n.height+o+t.padding,l="M 0,"+o+" a "+a+","+o+" 0,0,0 "+i+" 0 a "+a+","+o+" 0,0,0 "+-i+" 0 l 0,"+s+" a "+a+","+o+" 0,0,0 "+i+" 0 l 0,"+-s,u=r.attr("label-offset-y",o).insert("path",":first-child").attr("style",t.style).attr("d",l).attr("transform","translate("+-i/2+","+-(s/2+o)+")");return Ne(t,u),t.intersect=function(e){const r=Oe.rect(t,e),n=r.x-t.x;if(0!=a&&(Math.abs(n)<t.width/2||Math.abs(n)==t.width/2&&Math.abs(r.y-t.y)>t.height/2-o)){let i=o*o*(1-n*n/(a*a));0!=i&&(i=Math.sqrt(i)),i=o-i,e.y-t.y>0&&(i=-i),r.y+=i}return r},r}),"cylinder"),Ye=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Be(e,t,"node "+t.classes+" "+t.class,!0),a=r.insert("rect",":first-child"),o=t.positioned?t.width:n.width+t.padding,l=t.positioned?t.height:n.height+t.padding,u=t.positioned?-o/2:-n.width/2-i,c=t.positioned?-l/2:-n.height/2-i;if(a.attr("class","basic label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",c).attr("width",o).attr("height",l),t.props){const e=new Set(Object.keys(t.props));t.props.borders&&(Qe(a,t.props.borders,o,l),e.delete("borders")),e.forEach((e=>{s.Rm.warn(`Unknown node property ${e}`)}))}return Ne(t,a),t.intersect=function(e){return Oe.rect(t,e)},r}),"rect"),Xe=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Be(e,t,"node "+t.classes,!0),a=r.insert("rect",":first-child"),o=t.positioned?t.width:n.width+t.padding,l=t.positioned?t.height:n.height+t.padding,u=t.positioned?-o/2:-n.width/2-i,c=t.positioned?-l/2:-n.height/2-i;if(a.attr("class","basic cluster composite label-container").attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",u).attr("y",c).attr("width",o).attr("height",l),t.props){const e=new Set(Object.keys(t.props));t.props.borders&&(Qe(a,t.props.borders,o,l),e.delete("borders")),e.forEach((e=>{s.Rm.warn(`Unknown node property ${e}`)}))}return Ne(t,a),t.intersect=function(e){return Oe.rect(t,e)},r}),"composite"),Ze=(0,s.K2)((async(e,t)=>{const{shapeSvg:r}=await Be(e,t,"label",!0);s.Rm.trace("Classes = ",t.class);const n=r.insert("rect",":first-child");if(n.attr("width",0).attr("height",0),r.attr("class","label edgeLabel"),t.props){const e=new Set(Object.keys(t.props));t.props.borders&&(Qe(n,t.props.borders,0,0),e.delete("borders")),e.forEach((e=>{s.Rm.warn(`Unknown node property ${e}`)}))}return Ne(t,n),t.intersect=function(e){return Oe.rect(t,e)},r}),"labelRect");function Qe(e,t,r,n){const i=[],a=(0,s.K2)((e=>{i.push(e,0)}),"addBorder"),o=(0,s.K2)((e=>{i.push(0,e)}),"skipBorder");t.includes("t")?(s.Rm.debug("add top border"),a(r)):o(r),t.includes("r")?(s.Rm.debug("add right border"),a(n)):o(n),t.includes("b")?(s.Rm.debug("add bottom border"),a(r)):o(r),t.includes("l")?(s.Rm.debug("add left border"),a(n)):o(n),e.attr("stroke-dasharray",i.join(" "))}(0,s.K2)(Qe,"applyNodePropertyBorders");var Je=(0,s.K2)(((e,t)=>{let r;r=t.classes?"node "+t.classes:"node default";const n=e.insert("g").attr("class",r).attr("id",t.domId||t.id),i=n.insert("rect",":first-child"),a=n.insert("line"),o=n.insert("g").attr("class","label"),l=t.labelText.flat?t.labelText.flat():t.labelText;let u="";u="object"==typeof l?l[0]:l,s.Rm.info("Label text abc79",u,l,"object"==typeof l);const c=o.node().appendChild(ae(u,t.labelStyle,!0,!0));let d={width:0,height:0};if((0,s._3)((0,s.D7)().flowchart.htmlLabels)){const e=c.children[0],t=(0,h.Ltv)(c);d=e.getBoundingClientRect(),t.attr("width",d.width),t.attr("height",d.height)}s.Rm.info("Text 2",l);const f=l.slice(1,l.length);let p=c.getBBox();const g=o.node().appendChild(ae(f.join?f.join("<br/>"):f,t.labelStyle,!0,!0));if((0,s._3)((0,s.D7)().flowchart.htmlLabels)){const e=g.children[0],t=(0,h.Ltv)(g);d=e.getBoundingClientRect(),t.attr("width",d.width),t.attr("height",d.height)}const m=t.padding/2;return(0,h.Ltv)(g).attr("transform","translate( "+(d.width>p.width?0:(p.width-d.width)/2)+", "+(p.height+m+5)+")"),(0,h.Ltv)(c).attr("transform","translate( "+(d.width<p.width?0:-(p.width-d.width)/2)+", 0)"),d=o.node().getBBox(),o.attr("transform","translate("+-d.width/2+", "+(-d.height/2-m+3)+")"),i.attr("class","outer title-state").attr("x",-d.width/2-m).attr("y",-d.height/2-m).attr("width",d.width+t.padding).attr("height",d.height+t.padding),a.attr("class","divider").attr("x1",-d.width/2-m).attr("x2",d.width/2+m).attr("y1",-d.height/2-m+p.height+m).attr("y2",-d.height/2-m+p.height+m),Ne(t,i),t.intersect=function(e){return Oe.rect(t,e)},n}),"rectWithTitle"),et=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.height+t.padding,a=n.width+i/4+t.padding,o=r.insert("rect",":first-child").attr("style",t.style).attr("rx",i/2).attr("ry",i/2).attr("x",-a/2).attr("y",-i/2).attr("width",a).attr("height",i);return Ne(t,o),t.intersect=function(e){return Oe.rect(t,e)},r}),"stadium"),tt=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Be(e,t,Me(t,void 0),!0),a=r.insert("circle",":first-child");return a.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),s.Rm.info("Circle main"),Ne(t,a),t.intersect=function(e){return s.Rm.info("Circle intersect",t,n.width/2+i,e),Oe.circle(t,n.width/2+i,e)},r}),"circle"),rt=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n,halfPadding:i}=await Be(e,t,Me(t,void 0),!0),a=r.insert("g",":first-child"),o=a.insert("circle"),l=a.insert("circle");return a.attr("class",t.class),o.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i+5).attr("width",n.width+t.padding+10).attr("height",n.height+t.padding+10),l.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("r",n.width/2+i).attr("width",n.width+t.padding).attr("height",n.height+t.padding),s.Rm.info("DoubleCircle main"),Ne(t,o),t.intersect=function(e){return s.Rm.info("DoubleCircle intersect",t,n.width/2+i+5,e),Oe.circle(t,n.width/2+i+5,e)},r}),"doublecircle"),nt=(0,s.K2)((async(e,t)=>{const{shapeSvg:r,bbox:n}=await Be(e,t,Me(t,void 0),!0),i=n.width+t.padding,a=n.height+t.padding,o=[{x:0,y:0},{x:i,y:0},{x:i,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:i+8,y:0},{x:i+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],s=Le(r,i,a,o);return s.attr("style",t.style),Ne(t,s),t.intersect=function(e){return Oe.polygon(t,o,e)},r}),"subroutine"),it=(0,s.K2)(((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child");return n.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Ne(t,n),t.intersect=function(e){return Oe.circle(t,7,e)},r}),"start"),at=(0,s.K2)(((e,t,r)=>{const n=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let i=70,a=10;"LR"===r&&(i=10,a=70);const o=n.append("rect").attr("x",-1*i/2).attr("y",-1*a/2).attr("width",i).attr("height",a).attr("class","fork-join");return Ne(t,o),t.height=t.height+t.padding/2,t.width=t.width+t.padding/2,t.intersect=function(e){return Oe.rect(t,e)},n}),"forkJoin"),ot={rhombus:Pe,composite:Xe,question:Pe,rect:Ye,labelRect:Ze,rectWithTitle:Je,choice:ze,circle:tt,doublecircle:rt,stadium:et,hexagon:$e,block_arrow:je,rect_left_inv_arrow:Ke,lean_right:qe,lean_left:Ue,trapezoid:He,inv_trapezoid:We,rect_right_inv_arrow:Ge,cylinder:Ve,start:it,end:(0,s.K2)(((e,t)=>{const r=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),n=r.insert("circle",":first-child"),i=r.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),n.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Ne(t,i),t.intersect=function(e){return Oe.circle(t,7,e)},r}),"end"),note:Ie,subroutine:nt,fork:at,join:at,class_box:(0,s.K2)(((e,t)=>{const r=t.padding/2;let n;n=t.classes?"node "+t.classes:"node default";const i=e.insert("g").attr("class",n).attr("id",t.domId||t.id),a=i.insert("rect",":first-child"),o=i.insert("line"),l=i.insert("line");let u=0,c=4;const d=i.insert("g").attr("class","label");let f=0;const p=t.classData.annotations?.[0],g=t.classData.annotations[0]?"«"+t.classData.annotations[0]+"»":"",m=d.node().appendChild(ae(g,t.labelStyle,!0,!0));let y=m.getBBox();if((0,s._3)((0,s.D7)().flowchart.htmlLabels)){const e=m.children[0],t=(0,h.Ltv)(m);y=e.getBoundingClientRect(),t.attr("width",y.width),t.attr("height",y.height)}t.classData.annotations[0]&&(c+=y.height+4,u+=y.width);let v=t.classData.label;void 0!==t.classData.type&&""!==t.classData.type&&((0,s.D7)().flowchart.htmlLabels?v+="&lt;"+t.classData.type+"&gt;":v+="<"+t.classData.type+">");const b=d.node().appendChild(ae(v,t.labelStyle,!0,!0));(0,h.Ltv)(b).attr("class","classTitle");let x=b.getBBox();if((0,s._3)((0,s.D7)().flowchart.htmlLabels)){const e=b.children[0],t=(0,h.Ltv)(b);x=e.getBoundingClientRect(),t.attr("width",x.width),t.attr("height",x.height)}c+=x.height+4,x.width>u&&(u=x.width);const w=[];t.classData.members.forEach((e=>{const r=e.getDisplayDetails();let n=r.displayText;(0,s.D7)().flowchart.htmlLabels&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const i=d.node().appendChild(ae(n,r.cssStyle?r.cssStyle:t.labelStyle,!0,!0));let a=i.getBBox();if((0,s._3)((0,s.D7)().flowchart.htmlLabels)){const e=i.children[0],t=(0,h.Ltv)(i);a=e.getBoundingClientRect(),t.attr("width",a.width),t.attr("height",a.height)}a.width>u&&(u=a.width),c+=a.height+4,w.push(i)})),c+=8;const D=[];if(t.classData.methods.forEach((e=>{const r=e.getDisplayDetails();let n=r.displayText;(0,s.D7)().flowchart.htmlLabels&&(n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const i=d.node().appendChild(ae(n,r.cssStyle?r.cssStyle:t.labelStyle,!0,!0));let a=i.getBBox();if((0,s._3)((0,s.D7)().flowchart.htmlLabels)){const e=i.children[0],t=(0,h.Ltv)(i);a=e.getBoundingClientRect(),t.attr("width",a.width),t.attr("height",a.height)}a.width>u&&(u=a.width),c+=a.height+4,D.push(i)})),c+=8,p){let e=(u-y.width)/2;(0,h.Ltv)(m).attr("transform","translate( "+(-1*u/2+e)+", "+-1*c/2+")"),f=y.height+4}let k=(u-x.width)/2;return(0,h.Ltv)(b).attr("transform","translate( "+(-1*u/2+k)+", "+(-1*c/2+f)+")"),f+=x.height+4,o.attr("class","divider").attr("x1",-u/2-r).attr("x2",u/2+r).attr("y1",-c/2-r+8+f).attr("y2",-c/2-r+8+f),f+=8,w.forEach((e=>{(0,h.Ltv)(e).attr("transform","translate( "+-u/2+", "+(-1*c/2+f+4)+")");const t=e?.getBBox();f+=(t?.height??0)+4})),f+=8,l.attr("class","divider").attr("x1",-u/2-r).attr("x2",u/2+r).attr("y1",-c/2-r+8+f).attr("y2",-c/2-r+8+f),f+=8,D.forEach((e=>{(0,h.Ltv)(e).attr("transform","translate( "+-u/2+", "+(-1*c/2+f)+")");const t=e?.getBBox();f+=(t?.height??0)+4})),a.attr("style",t.style).attr("class","outer title-state").attr("x",-u/2-r).attr("y",-c/2-r).attr("width",u+t.padding).attr("height",c+t.padding),Ne(t,a),t.intersect=function(e){return Oe.rect(t,e)},i}),"class_box")},st={},lt=(0,s.K2)((async(e,t,r)=>{let n,i;if(t.link){let a;"sandbox"===(0,s.D7)().securityLevel?a="_top":t.linkTarget&&(a=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",a),i=await ot[t.shape](n,t,r)}else i=await ot[t.shape](e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),t.class&&i.attr("class","node default "+t.class),st[t.id]=n,t.haveCallback&&st[t.id].attr("class",st[t.id].attr("class")+" clickable"),n}),"insertNode"),ut=(0,s.K2)((e=>{const t=st[e.id];s.Rm.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),r}),"positionNode");function ct(e,t,r=!1){const n=e;let i="default";(n?.classes?.length||0)>0&&(i=(n?.classes??[]).join(" ")),i+=" flowchart-label";let a,l=0,u="";switch(n.type){case"round":l=5,u="rect";break;case"composite":l=0,u="composite",a=0;break;case"square":case"group":default:u="rect";break;case"diamond":u="question";break;case"hexagon":u="hexagon";break;case"block_arrow":u="block_arrow";break;case"odd":case"rect_left_inv_arrow":u="rect_left_inv_arrow";break;case"lean_right":u="lean_right";break;case"lean_left":u="lean_left";break;case"trapezoid":u="trapezoid";break;case"inv_trapezoid":u="inv_trapezoid";break;case"circle":u="circle";break;case"ellipse":u="ellipse";break;case"stadium":u="stadium";break;case"subroutine":u="subroutine";break;case"cylinder":u="cylinder";break;case"doublecircle":u="doublecircle"}const c=(0,o.sM)(n?.styles??[]),h=n.label,d=n.size??{width:0,height:0,x:0,y:0};return{labelStyle:c.labelStyle,shape:u,labelText:h,rx:l,ry:l,class:i,style:c.style,id:n.id,directions:n.directions,width:d.width,height:d.height,x:d.x,y:d.y,positioned:r,intersect:void 0,type:n.type,padding:a??(0,s.zj)()?.block?.padding??0}}async function ht(e,t,r){const n=ct(t,0,!1);if("group"===n.type)return;const i=(0,s.zj)(),a=await lt(e,n,{config:i}),o=a.node().getBBox(),l=r.getBlock(n.id);l.size={width:o.width,height:o.height,x:0,y:0,node:a},r.setBlock(l),a.remove()}async function dt(e,t,r){const n=ct(t,0,!0);if("space"!==r.getBlock(n.id).type){const r=(0,s.zj)();await lt(e,n,{config:r}),t.intersect=n?.intersect,ut(n)}}async function ft(e,t,r,n){for(const i of t)await n(e,i,r),i.children&&await ft(e,i.children,r,n)}async function pt(e,t,r){await ft(e,t,r,ht)}async function gt(e,t,r){await ft(e,t,r,dt)}async function mt(e,t,r,n,i){const a=new d.T({multigraph:!0,compound:!0});a.setGraph({rankdir:"TB",nodesep:10,ranksep:10,marginx:8,marginy:8});for(const e of r)e.size&&a.setNode(e.id,{width:e.size.width,height:e.size.height,intersect:e.intersect});for(const r of t)if(r.start&&r.end){const t=n.getBlock(r.start),o=n.getBlock(r.end);if(t?.size&&o?.size){const n=t.size,s=o.size,l=[{x:n.x,y:n.y},{x:n.x+(s.x-n.x)/2,y:n.y+(s.y-n.y)/2},{x:s.x,y:s.y}];ye(e,{v:r.start,w:r.end,name:r.id},{...r,arrowTypeEnd:r.arrowTypeEnd,arrowTypeStart:r.arrowTypeStart,points:l,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"},void 0,"block",a,i),r.label&&(await he(e,{...r,label:r.label,labelStyle:"stroke: #333; stroke-width: 1.5px;fill:none;",arrowTypeEnd:r.arrowTypeEnd,arrowTypeStart:r.arrowTypeStart,points:l,classes:"edge-thickness-normal edge-pattern-solid flowchart-link LS-a1 LE-b1"}),fe({...r,x:l[1].x,y:l[1].y},{originalPath:l}))}}}(0,s.K2)(ct,"getNodeFromBlock"),(0,s.K2)(ht,"calculateBlockSize"),(0,s.K2)(dt,"insertBlockPositioned"),(0,s.K2)(ft,"performOperations"),(0,s.K2)(pt,"calculateBlockSizes"),(0,s.K2)(gt,"insertBlocks"),(0,s.K2)(mt,"insertEdges");var yt=(0,s.K2)((function(e,t){return t.db.getClasses()}),"getClasses"),vt={parser:p,db:U,renderer:{draw:(0,s.K2)((async function(e,t,r,n){const{securityLevel:i,block:a}=(0,s.zj)(),o=n.db;let l;"sandbox"===i&&(l=(0,h.Ltv)("#i"+t));const u="sandbox"===i?(0,h.Ltv)(l.nodes()[0].contentDocument.body):(0,h.Ltv)("body"),c="sandbox"===i?u.select(`[id="${t}"]`):(0,h.Ltv)(`[id="${t}"]`);Y(c,["point","circle","cross"],n.type,t);const d=o.getBlocks(),f=o.getBlocksFlat(),p=o.getEdges(),g=c.insert("g").attr("class","block");await pt(g,d,o);const m=re(o);if(await gt(g,d,o),await mt(g,p,f,o,t),m){const e=m,t=Math.max(1,Math.round(e.width/e.height*.125)),r=e.height+t+10,n=e.width+10,{useMaxWidth:i}=a;(0,s.a$)(c,r,n,!!i),s.Rm.debug("Here Bounds",m,e),c.attr("viewBox",`${e.x-5} ${e.y-5} ${e.width+10} ${e.height+10}`)}}),"draw"),getClasses:yt},styles:W}},2664:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>Be});var n=r(3814),i=r(8159),a=r(7692),o=r(5763),s=r(5397),l=function(){var e=(0,a.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,24],r=[1,25],n=[1,26],i=[1,27],o=[1,28],s=[1,63],l=[1,64],u=[1,65],h=[1,66],d=[1,67],f=[1,68],p=[1,69],g=[1,29],m=[1,30],y=[1,31],v=[1,32],b=[1,33],x=[1,34],w=[1,35],D=[1,36],k=[1,37],E=[1,38],A=[1,39],C=[1,40],_=[1,41],T=[1,42],S=[1,43],F=[1,44],O=[1,45],B=[1,46],N=[1,47],L=[1,48],I=[1,50],R=[1,51],M=[1,52],P=[1,53],z=[1,54],$=[1,55],j=[1,56],K=[1,57],q=[1,58],U=[1,59],H=[1,60],W=[14,42],G=[14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],V=[12,14,34,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],Y=[1,82],X=[1,83],Z=[1,84],Q=[1,85],J=[12,14,42],ee=[12,14,33,42],te=[12,14,33,42,76,77,79,80],re=[12,33],ne=[34,36,37,38,39,40,41,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],ie={trace:(0,a.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,direction_tb:6,direction_bt:7,direction_rl:8,direction_lr:9,graphConfig:10,C4_CONTEXT:11,NEWLINE:12,statements:13,EOF:14,C4_CONTAINER:15,C4_COMPONENT:16,C4_DYNAMIC:17,C4_DEPLOYMENT:18,otherStatements:19,diagramStatements:20,otherStatement:21,title:22,accDescription:23,acc_title:24,acc_title_value:25,acc_descr:26,acc_descr_value:27,acc_descr_multiline_value:28,boundaryStatement:29,boundaryStartStatement:30,boundaryStopStatement:31,boundaryStart:32,LBRACE:33,ENTERPRISE_BOUNDARY:34,attributes:35,SYSTEM_BOUNDARY:36,BOUNDARY:37,CONTAINER_BOUNDARY:38,NODE:39,NODE_L:40,NODE_R:41,RBRACE:42,diagramStatement:43,PERSON:44,PERSON_EXT:45,SYSTEM:46,SYSTEM_DB:47,SYSTEM_QUEUE:48,SYSTEM_EXT:49,SYSTEM_EXT_DB:50,SYSTEM_EXT_QUEUE:51,CONTAINER:52,CONTAINER_DB:53,CONTAINER_QUEUE:54,CONTAINER_EXT:55,CONTAINER_EXT_DB:56,CONTAINER_EXT_QUEUE:57,COMPONENT:58,COMPONENT_DB:59,COMPONENT_QUEUE:60,COMPONENT_EXT:61,COMPONENT_EXT_DB:62,COMPONENT_EXT_QUEUE:63,REL:64,BIREL:65,REL_U:66,REL_D:67,REL_L:68,REL_R:69,REL_B:70,REL_INDEX:71,UPDATE_EL_STYLE:72,UPDATE_REL_STYLE:73,UPDATE_LAYOUT_CONFIG:74,attribute:75,STR:76,STR_KEY:77,STR_VALUE:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",6:"direction_tb",7:"direction_bt",8:"direction_rl",9:"direction_lr",11:"C4_CONTEXT",12:"NEWLINE",14:"EOF",15:"C4_CONTAINER",16:"C4_COMPONENT",17:"C4_DYNAMIC",18:"C4_DEPLOYMENT",22:"title",23:"accDescription",24:"acc_title",25:"acc_title_value",26:"acc_descr",27:"acc_descr_value",28:"acc_descr_multiline_value",33:"LBRACE",34:"ENTERPRISE_BOUNDARY",36:"SYSTEM_BOUNDARY",37:"BOUNDARY",38:"CONTAINER_BOUNDARY",39:"NODE",40:"NODE_L",41:"NODE_R",42:"RBRACE",44:"PERSON",45:"PERSON_EXT",46:"SYSTEM",47:"SYSTEM_DB",48:"SYSTEM_QUEUE",49:"SYSTEM_EXT",50:"SYSTEM_EXT_DB",51:"SYSTEM_EXT_QUEUE",52:"CONTAINER",53:"CONTAINER_DB",54:"CONTAINER_QUEUE",55:"CONTAINER_EXT",56:"CONTAINER_EXT_DB",57:"CONTAINER_EXT_QUEUE",58:"COMPONENT",59:"COMPONENT_DB",60:"COMPONENT_QUEUE",61:"COMPONENT_EXT",62:"COMPONENT_EXT_DB",63:"COMPONENT_EXT_QUEUE",64:"REL",65:"BIREL",66:"REL_U",67:"REL_D",68:"REL_L",69:"REL_R",70:"REL_B",71:"REL_INDEX",72:"UPDATE_EL_STYLE",73:"UPDATE_REL_STYLE",74:"UPDATE_LAYOUT_CONFIG",76:"STR",77:"STR_KEY",78:"STR_VALUE",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[5,1],[5,1],[5,1],[5,1],[4,1],[10,4],[10,4],[10,4],[10,4],[10,4],[13,1],[13,1],[13,2],[19,1],[19,2],[19,3],[21,1],[21,1],[21,2],[21,2],[21,1],[29,3],[30,3],[30,3],[30,4],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[32,2],[31,1],[20,1],[20,2],[20,3],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,1],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[43,2],[35,1],[35,2],[75,1],[75,2],[75,1],[75,1]],performAction:(0,a.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 3:n.setDirection("TB");break;case 4:n.setDirection("BT");break;case 5:n.setDirection("RL");break;case 6:n.setDirection("LR");break;case 8:case 9:case 10:case 11:case 12:n.setC4Type(a[s-3]);break;case 19:n.setTitle(a[s].substring(6)),this.$=a[s].substring(6);break;case 20:n.setAccDescription(a[s].substring(15)),this.$=a[s].substring(15);break;case 21:this.$=a[s].trim(),n.setTitle(this.$);break;case 22:case 23:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 28:a[s].splice(2,0,"ENTERPRISE"),n.addPersonOrSystemBoundary(...a[s]),this.$=a[s];break;case 29:a[s].splice(2,0,"SYSTEM"),n.addPersonOrSystemBoundary(...a[s]),this.$=a[s];break;case 30:n.addPersonOrSystemBoundary(...a[s]),this.$=a[s];break;case 31:a[s].splice(2,0,"CONTAINER"),n.addContainerBoundary(...a[s]),this.$=a[s];break;case 32:n.addDeploymentNode("node",...a[s]),this.$=a[s];break;case 33:n.addDeploymentNode("nodeL",...a[s]),this.$=a[s];break;case 34:n.addDeploymentNode("nodeR",...a[s]),this.$=a[s];break;case 35:n.popBoundaryParseStack();break;case 39:n.addPersonOrSystem("person",...a[s]),this.$=a[s];break;case 40:n.addPersonOrSystem("external_person",...a[s]),this.$=a[s];break;case 41:n.addPersonOrSystem("system",...a[s]),this.$=a[s];break;case 42:n.addPersonOrSystem("system_db",...a[s]),this.$=a[s];break;case 43:n.addPersonOrSystem("system_queue",...a[s]),this.$=a[s];break;case 44:n.addPersonOrSystem("external_system",...a[s]),this.$=a[s];break;case 45:n.addPersonOrSystem("external_system_db",...a[s]),this.$=a[s];break;case 46:n.addPersonOrSystem("external_system_queue",...a[s]),this.$=a[s];break;case 47:n.addContainer("container",...a[s]),this.$=a[s];break;case 48:n.addContainer("container_db",...a[s]),this.$=a[s];break;case 49:n.addContainer("container_queue",...a[s]),this.$=a[s];break;case 50:n.addContainer("external_container",...a[s]),this.$=a[s];break;case 51:n.addContainer("external_container_db",...a[s]),this.$=a[s];break;case 52:n.addContainer("external_container_queue",...a[s]),this.$=a[s];break;case 53:n.addComponent("component",...a[s]),this.$=a[s];break;case 54:n.addComponent("component_db",...a[s]),this.$=a[s];break;case 55:n.addComponent("component_queue",...a[s]),this.$=a[s];break;case 56:n.addComponent("external_component",...a[s]),this.$=a[s];break;case 57:n.addComponent("external_component_db",...a[s]),this.$=a[s];break;case 58:n.addComponent("external_component_queue",...a[s]),this.$=a[s];break;case 60:n.addRel("rel",...a[s]),this.$=a[s];break;case 61:n.addRel("birel",...a[s]),this.$=a[s];break;case 62:n.addRel("rel_u",...a[s]),this.$=a[s];break;case 63:n.addRel("rel_d",...a[s]),this.$=a[s];break;case 64:n.addRel("rel_l",...a[s]),this.$=a[s];break;case 65:n.addRel("rel_r",...a[s]),this.$=a[s];break;case 66:n.addRel("rel_b",...a[s]),this.$=a[s];break;case 67:a[s].splice(0,1),n.addRel("rel",...a[s]),this.$=a[s];break;case 68:n.updateElStyle("update_el_style",...a[s]),this.$=a[s];break;case 69:n.updateRelStyle("update_rel_style",...a[s]),this.$=a[s];break;case 70:n.updateLayoutConfig("update_layout_config",...a[s]),this.$=a[s];break;case 71:this.$=[a[s]];break;case 72:a[s].unshift(a[s-1]),this.$=a[s];break;case 73:case 75:this.$=a[s].trim();break;case 74:let e={};e[a[s-1].trim()]=a[s].trim(),this.$=e;break;case 76:this.$=""}}),"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],7:[1,6],8:[1,7],9:[1,8],10:4,11:[1,9],15:[1,10],16:[1,11],17:[1,12],18:[1,13]},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,7]},{1:[2,3]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{12:[1,14]},{12:[1,15]},{12:[1,16]},{12:[1,17]},{12:[1,18]},{13:19,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:f,41:p,43:23,44:g,45:m,46:y,47:v,48:b,49:x,50:w,51:D,52:k,53:E,54:A,55:C,56:_,57:T,58:S,59:F,60:O,61:B,62:N,63:L,64:I,65:R,66:M,67:P,68:z,69:$,70:j,71:K,72:q,73:U,74:H},{13:70,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:f,41:p,43:23,44:g,45:m,46:y,47:v,48:b,49:x,50:w,51:D,52:k,53:E,54:A,55:C,56:_,57:T,58:S,59:F,60:O,61:B,62:N,63:L,64:I,65:R,66:M,67:P,68:z,69:$,70:j,71:K,72:q,73:U,74:H},{13:71,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:f,41:p,43:23,44:g,45:m,46:y,47:v,48:b,49:x,50:w,51:D,52:k,53:E,54:A,55:C,56:_,57:T,58:S,59:F,60:O,61:B,62:N,63:L,64:I,65:R,66:M,67:P,68:z,69:$,70:j,71:K,72:q,73:U,74:H},{13:72,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:f,41:p,43:23,44:g,45:m,46:y,47:v,48:b,49:x,50:w,51:D,52:k,53:E,54:A,55:C,56:_,57:T,58:S,59:F,60:O,61:B,62:N,63:L,64:I,65:R,66:M,67:P,68:z,69:$,70:j,71:K,72:q,73:U,74:H},{13:73,19:20,20:21,21:22,22:t,23:r,24:n,26:i,28:o,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:f,41:p,43:23,44:g,45:m,46:y,47:v,48:b,49:x,50:w,51:D,52:k,53:E,54:A,55:C,56:_,57:T,58:S,59:F,60:O,61:B,62:N,63:L,64:I,65:R,66:M,67:P,68:z,69:$,70:j,71:K,72:q,73:U,74:H},{14:[1,74]},e(W,[2,13],{43:23,29:49,30:61,32:62,20:75,34:s,36:l,37:u,38:h,39:d,40:f,41:p,44:g,45:m,46:y,47:v,48:b,49:x,50:w,51:D,52:k,53:E,54:A,55:C,56:_,57:T,58:S,59:F,60:O,61:B,62:N,63:L,64:I,65:R,66:M,67:P,68:z,69:$,70:j,71:K,72:q,73:U,74:H}),e(W,[2,14]),e(G,[2,16],{12:[1,76]}),e(W,[2,36],{12:[1,77]}),e(V,[2,19]),e(V,[2,20]),{25:[1,78]},{27:[1,79]},e(V,[2,23]),{35:80,75:81,76:Y,77:X,79:Z,80:Q},{35:86,75:81,76:Y,77:X,79:Z,80:Q},{35:87,75:81,76:Y,77:X,79:Z,80:Q},{35:88,75:81,76:Y,77:X,79:Z,80:Q},{35:89,75:81,76:Y,77:X,79:Z,80:Q},{35:90,75:81,76:Y,77:X,79:Z,80:Q},{35:91,75:81,76:Y,77:X,79:Z,80:Q},{35:92,75:81,76:Y,77:X,79:Z,80:Q},{35:93,75:81,76:Y,77:X,79:Z,80:Q},{35:94,75:81,76:Y,77:X,79:Z,80:Q},{35:95,75:81,76:Y,77:X,79:Z,80:Q},{35:96,75:81,76:Y,77:X,79:Z,80:Q},{35:97,75:81,76:Y,77:X,79:Z,80:Q},{35:98,75:81,76:Y,77:X,79:Z,80:Q},{35:99,75:81,76:Y,77:X,79:Z,80:Q},{35:100,75:81,76:Y,77:X,79:Z,80:Q},{35:101,75:81,76:Y,77:X,79:Z,80:Q},{35:102,75:81,76:Y,77:X,79:Z,80:Q},{35:103,75:81,76:Y,77:X,79:Z,80:Q},{35:104,75:81,76:Y,77:X,79:Z,80:Q},e(J,[2,59]),{35:105,75:81,76:Y,77:X,79:Z,80:Q},{35:106,75:81,76:Y,77:X,79:Z,80:Q},{35:107,75:81,76:Y,77:X,79:Z,80:Q},{35:108,75:81,76:Y,77:X,79:Z,80:Q},{35:109,75:81,76:Y,77:X,79:Z,80:Q},{35:110,75:81,76:Y,77:X,79:Z,80:Q},{35:111,75:81,76:Y,77:X,79:Z,80:Q},{35:112,75:81,76:Y,77:X,79:Z,80:Q},{35:113,75:81,76:Y,77:X,79:Z,80:Q},{35:114,75:81,76:Y,77:X,79:Z,80:Q},{35:115,75:81,76:Y,77:X,79:Z,80:Q},{20:116,29:49,30:61,32:62,34:s,36:l,37:u,38:h,39:d,40:f,41:p,43:23,44:g,45:m,46:y,47:v,48:b,49:x,50:w,51:D,52:k,53:E,54:A,55:C,56:_,57:T,58:S,59:F,60:O,61:B,62:N,63:L,64:I,65:R,66:M,67:P,68:z,69:$,70:j,71:K,72:q,73:U,74:H},{12:[1,118],33:[1,117]},{35:119,75:81,76:Y,77:X,79:Z,80:Q},{35:120,75:81,76:Y,77:X,79:Z,80:Q},{35:121,75:81,76:Y,77:X,79:Z,80:Q},{35:122,75:81,76:Y,77:X,79:Z,80:Q},{35:123,75:81,76:Y,77:X,79:Z,80:Q},{35:124,75:81,76:Y,77:X,79:Z,80:Q},{35:125,75:81,76:Y,77:X,79:Z,80:Q},{14:[1,126]},{14:[1,127]},{14:[1,128]},{14:[1,129]},{1:[2,8]},e(W,[2,15]),e(G,[2,17],{21:22,19:130,22:t,23:r,24:n,26:i,28:o}),e(W,[2,37],{19:20,20:21,21:22,43:23,29:49,30:61,32:62,13:131,22:t,23:r,24:n,26:i,28:o,34:s,36:l,37:u,38:h,39:d,40:f,41:p,44:g,45:m,46:y,47:v,48:b,49:x,50:w,51:D,52:k,53:E,54:A,55:C,56:_,57:T,58:S,59:F,60:O,61:B,62:N,63:L,64:I,65:R,66:M,67:P,68:z,69:$,70:j,71:K,72:q,73:U,74:H}),e(V,[2,21]),e(V,[2,22]),e(J,[2,39]),e(ee,[2,71],{75:81,35:132,76:Y,77:X,79:Z,80:Q}),e(te,[2,73]),{78:[1,133]},e(te,[2,75]),e(te,[2,76]),e(J,[2,40]),e(J,[2,41]),e(J,[2,42]),e(J,[2,43]),e(J,[2,44]),e(J,[2,45]),e(J,[2,46]),e(J,[2,47]),e(J,[2,48]),e(J,[2,49]),e(J,[2,50]),e(J,[2,51]),e(J,[2,52]),e(J,[2,53]),e(J,[2,54]),e(J,[2,55]),e(J,[2,56]),e(J,[2,57]),e(J,[2,58]),e(J,[2,60]),e(J,[2,61]),e(J,[2,62]),e(J,[2,63]),e(J,[2,64]),e(J,[2,65]),e(J,[2,66]),e(J,[2,67]),e(J,[2,68]),e(J,[2,69]),e(J,[2,70]),{31:134,42:[1,135]},{12:[1,136]},{33:[1,137]},e(re,[2,28]),e(re,[2,29]),e(re,[2,30]),e(re,[2,31]),e(re,[2,32]),e(re,[2,33]),e(re,[2,34]),{1:[2,9]},{1:[2,10]},{1:[2,11]},{1:[2,12]},e(G,[2,18]),e(W,[2,38]),e(ee,[2,72]),e(te,[2,74]),e(J,[2,24]),e(J,[2,35]),e(ne,[2,25]),e(ne,[2,26],{12:[1,138]}),e(ne,[2,27])],defaultActions:{2:[2,1],3:[2,2],4:[2,7],5:[2,3],6:[2,4],7:[2,5],8:[2,6],74:[2,8],126:[2,9],127:[2,10],128:[2,11],129:[2,12]},parseError:(0,a.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,a.K2)((function(e){var t=this,r=[0],n=[],i=[null],o=[],s=this.table,l="",u=0,c=0,h=0,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,a.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,o.length=o.length-e}),"popStack"),(0,a.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),o.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:o[o.length-(A||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(A||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(A||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],i,o].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),o=o.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),o.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},ae=function(){return{EOF:1,parseError:(0,a.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,a.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,a.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,a.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,a.K2)((function(){return this._more=!0,this}),"more"),reject:(0,a.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,a.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,a.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,a.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,a.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,a.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,a.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,a.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,a.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,a.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,a.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,a.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,a.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,a.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{},performAction:(0,a.K2)((function(e,t,r,n){switch(r){case 0:return 6;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 22;case 5:return 23;case 6:return this.begin("acc_title"),24;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),26;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 73:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 16:case 70:break;case 14:c;break;case 15:return 12;case 17:return 11;case 18:return 15;case 19:return 16;case 20:return 17;case 21:return 18;case 22:return this.begin("person_ext"),45;case 23:return this.begin("person"),44;case 24:return this.begin("system_ext_queue"),51;case 25:return this.begin("system_ext_db"),50;case 26:return this.begin("system_ext"),49;case 27:return this.begin("system_queue"),48;case 28:return this.begin("system_db"),47;case 29:return this.begin("system"),46;case 30:return this.begin("boundary"),37;case 31:return this.begin("enterprise_boundary"),34;case 32:return this.begin("system_boundary"),36;case 33:return this.begin("container_ext_queue"),57;case 34:return this.begin("container_ext_db"),56;case 35:return this.begin("container_ext"),55;case 36:return this.begin("container_queue"),54;case 37:return this.begin("container_db"),53;case 38:return this.begin("container"),52;case 39:return this.begin("container_boundary"),38;case 40:return this.begin("component_ext_queue"),63;case 41:return this.begin("component_ext_db"),62;case 42:return this.begin("component_ext"),61;case 43:return this.begin("component_queue"),60;case 44:return this.begin("component_db"),59;case 45:return this.begin("component"),58;case 46:case 47:return this.begin("node"),39;case 48:return this.begin("node_l"),40;case 49:return this.begin("node_r"),41;case 50:return this.begin("rel"),64;case 51:return this.begin("birel"),65;case 52:case 53:return this.begin("rel_u"),66;case 54:case 55:return this.begin("rel_d"),67;case 56:case 57:return this.begin("rel_l"),68;case 58:case 59:return this.begin("rel_r"),69;case 60:return this.begin("rel_b"),70;case 61:return this.begin("rel_index"),71;case 62:return this.begin("update_el_style"),72;case 63:return this.begin("update_rel_style"),73;case 64:return this.begin("update_layout_config"),74;case 65:return"EOF_IN_STRUCT";case 66:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 67:this.begin("attribute");break;case 68:case 79:this.popState(),this.popState();break;case 69:case 71:return 80;case 72:this.begin("string");break;case 74:case 80:return"STR";case 75:this.begin("string_kv");break;case 76:return this.begin("string_kv_key"),"STR_KEY";case 77:this.popState(),this.begin("string_kv_value");break;case 78:return"STR_VALUE";case 81:return"LBRACE";case 82:return"RBRACE";case 83:return"SPACE";case 84:return"EOL";case 85:return 14}}),"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},string_kv_value:{rules:[78,79],inclusive:!1},string_kv_key:{rules:[77],inclusive:!1},string_kv:{rules:[76],inclusive:!1},string:{rules:[73,74],inclusive:!1},attribute:{rules:[68,69,70,71,72,75,80],inclusive:!1},update_layout_config:{rules:[65,66,67,68],inclusive:!1},update_rel_style:{rules:[65,66,67,68],inclusive:!1},update_el_style:{rules:[65,66,67,68],inclusive:!1},rel_b:{rules:[65,66,67,68],inclusive:!1},rel_r:{rules:[65,66,67,68],inclusive:!1},rel_l:{rules:[65,66,67,68],inclusive:!1},rel_d:{rules:[65,66,67,68],inclusive:!1},rel_u:{rules:[65,66,67,68],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[65,66,67,68],inclusive:!1},node_r:{rules:[65,66,67,68],inclusive:!1},node_l:{rules:[65,66,67,68],inclusive:!1},node:{rules:[65,66,67,68],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[65,66,67,68],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[65,66,67,68],inclusive:!1},component_ext:{rules:[65,66,67,68],inclusive:!1},component_queue:{rules:[65,66,67,68],inclusive:!1},component_db:{rules:[65,66,67,68],inclusive:!1},component:{rules:[65,66,67,68],inclusive:!1},container_boundary:{rules:[65,66,67,68],inclusive:!1},container_ext_queue:{rules:[65,66,67,68],inclusive:!1},container_ext_db:{rules:[65,66,67,68],inclusive:!1},container_ext:{rules:[65,66,67,68],inclusive:!1},container_queue:{rules:[65,66,67,68],inclusive:!1},container_db:{rules:[65,66,67,68],inclusive:!1},container:{rules:[65,66,67,68],inclusive:!1},birel:{rules:[65,66,67,68],inclusive:!1},system_boundary:{rules:[65,66,67,68],inclusive:!1},enterprise_boundary:{rules:[65,66,67,68],inclusive:!1},boundary:{rules:[65,66,67,68],inclusive:!1},system_ext_queue:{rules:[65,66,67,68],inclusive:!1},system_ext_db:{rules:[65,66,67,68],inclusive:!1},system_ext:{rules:[65,66,67,68],inclusive:!1},system_queue:{rules:[65,66,67,68],inclusive:!1},system_db:{rules:[65,66,67,68],inclusive:!1},system:{rules:[65,66,67,68],inclusive:!1},person_ext:{rules:[65,66,67,68],inclusive:!1},person:{rules:[65,66,67,68],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,81,82,83,84,85],inclusive:!0}}}}();function oe(){this.yy={}}return ie.lexer=ae,(0,a.K2)(oe,"Parser"),oe.prototype=ie,ie.Parser=oe,new oe}();l.parser=l;var u,h=l,d=[],f=[""],p="global",g="",m=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],y=[],v="",b=!1,x=4,w=2,D=(0,a.K2)((function(){return u}),"getC4Type"),k=(0,a.K2)((function(e){let t=(0,a.jZ)(e,(0,a.D7)());u=t}),"setC4Type"),E=(0,a.K2)((function(e,t,r,n,i,a,o,s,l){if(null==e||null==t||null==r||null==n)return;let u={};const c=y.find((e=>e.from===t&&e.to===r));if(c?u=c:y.push(u),u.type=e,u.from=t,u.to=r,u.label={text:n},null==i)u.techn={text:""};else if("object"==typeof i){let[e,t]=Object.entries(i)[0];u[e]={text:t}}else u.techn={text:i};if(null==a)u.descr={text:""};else if("object"==typeof a){let[e,t]=Object.entries(a)[0];u[e]={text:t}}else u.descr={text:a};if("object"==typeof o){let[e,t]=Object.entries(o)[0];u[e]=t}else u.sprite=o;if("object"==typeof s){let[e,t]=Object.entries(s)[0];u[e]=t}else u.tags=s;if("object"==typeof l){let[e,t]=Object.entries(l)[0];u[e]=t}else u.link=l;u.wrap=G()}),"addRel"),A=(0,a.K2)((function(e,t,r,n,i,a,o){if(null===t||null===r)return;let s={};const l=d.find((e=>e.alias===t));if(l&&t===l.alias?s=l:(s.alias=t,d.push(s)),s.label=null==r?{text:""}:{text:r},null==n)s.descr={text:""};else if("object"==typeof n){let[e,t]=Object.entries(n)[0];s[e]={text:t}}else s.descr={text:n};if("object"==typeof i){let[e,t]=Object.entries(i)[0];s[e]=t}else s.sprite=i;if("object"==typeof a){let[e,t]=Object.entries(a)[0];s[e]=t}else s.tags=a;if("object"==typeof o){let[e,t]=Object.entries(o)[0];s[e]=t}else s.link=o;s.typeC4Shape={text:e},s.parentBoundary=p,s.wrap=G()}),"addPersonOrSystem"),C=(0,a.K2)((function(e,t,r,n,i,a,o,s){if(null===t||null===r)return;let l={};const u=d.find((e=>e.alias===t));if(u&&t===u.alias?l=u:(l.alias=t,d.push(l)),l.label=null==r?{text:""}:{text:r},null==n)l.techn={text:""};else if("object"==typeof n){let[e,t]=Object.entries(n)[0];l[e]={text:t}}else l.techn={text:n};if(null==i)l.descr={text:""};else if("object"==typeof i){let[e,t]=Object.entries(i)[0];l[e]={text:t}}else l.descr={text:i};if("object"==typeof a){let[e,t]=Object.entries(a)[0];l[e]=t}else l.sprite=a;if("object"==typeof o){let[e,t]=Object.entries(o)[0];l[e]=t}else l.tags=o;if("object"==typeof s){let[e,t]=Object.entries(s)[0];l[e]=t}else l.link=s;l.wrap=G(),l.typeC4Shape={text:e},l.parentBoundary=p}),"addContainer"),_=(0,a.K2)((function(e,t,r,n,i,a,o,s){if(null===t||null===r)return;let l={};const u=d.find((e=>e.alias===t));if(u&&t===u.alias?l=u:(l.alias=t,d.push(l)),l.label=null==r?{text:""}:{text:r},null==n)l.techn={text:""};else if("object"==typeof n){let[e,t]=Object.entries(n)[0];l[e]={text:t}}else l.techn={text:n};if(null==i)l.descr={text:""};else if("object"==typeof i){let[e,t]=Object.entries(i)[0];l[e]={text:t}}else l.descr={text:i};if("object"==typeof a){let[e,t]=Object.entries(a)[0];l[e]=t}else l.sprite=a;if("object"==typeof o){let[e,t]=Object.entries(o)[0];l[e]=t}else l.tags=o;if("object"==typeof s){let[e,t]=Object.entries(s)[0];l[e]=t}else l.link=s;l.wrap=G(),l.typeC4Shape={text:e},l.parentBoundary=p}),"addComponent"),T=(0,a.K2)((function(e,t,r,n,i){if(null===e||null===t)return;let a={};const o=m.find((t=>t.alias===e));if(o&&e===o.alias?a=o:(a.alias=e,m.push(a)),a.label=null==t?{text:""}:{text:t},null==r)a.type={text:"system"};else if("object"==typeof r){let[e,t]=Object.entries(r)[0];a[e]={text:t}}else a.type={text:r};if("object"==typeof n){let[e,t]=Object.entries(n)[0];a[e]=t}else a.tags=n;if("object"==typeof i){let[e,t]=Object.entries(i)[0];a[e]=t}else a.link=i;a.parentBoundary=p,a.wrap=G(),g=p,p=e,f.push(g)}),"addPersonOrSystemBoundary"),S=(0,a.K2)((function(e,t,r,n,i){if(null===e||null===t)return;let a={};const o=m.find((t=>t.alias===e));if(o&&e===o.alias?a=o:(a.alias=e,m.push(a)),a.label=null==t?{text:""}:{text:t},null==r)a.type={text:"container"};else if("object"==typeof r){let[e,t]=Object.entries(r)[0];a[e]={text:t}}else a.type={text:r};if("object"==typeof n){let[e,t]=Object.entries(n)[0];a[e]=t}else a.tags=n;if("object"==typeof i){let[e,t]=Object.entries(i)[0];a[e]=t}else a.link=i;a.parentBoundary=p,a.wrap=G(),g=p,p=e,f.push(g)}),"addContainerBoundary"),F=(0,a.K2)((function(e,t,r,n,i,a,o,s){if(null===t||null===r)return;let l={};const u=m.find((e=>e.alias===t));if(u&&t===u.alias?l=u:(l.alias=t,m.push(l)),l.label=null==r?{text:""}:{text:r},null==n)l.type={text:"node"};else if("object"==typeof n){let[e,t]=Object.entries(n)[0];l[e]={text:t}}else l.type={text:n};if(null==i)l.descr={text:""};else if("object"==typeof i){let[e,t]=Object.entries(i)[0];l[e]={text:t}}else l.descr={text:i};if("object"==typeof o){let[e,t]=Object.entries(o)[0];l[e]=t}else l.tags=o;if("object"==typeof s){let[e,t]=Object.entries(s)[0];l[e]=t}else l.link=s;l.nodeType=e,l.parentBoundary=p,l.wrap=G(),g=p,p=t,f.push(g)}),"addDeploymentNode"),O=(0,a.K2)((function(){p=g,f.pop(),g=f.pop(),f.push(g)}),"popBoundaryParseStack"),B=(0,a.K2)((function(e,t,r,n,i,a,o,s,l,u,c){let h=d.find((e=>e.alias===t));if(void 0!==h||(h=m.find((e=>e.alias===t)),void 0!==h)){if(null!=r)if("object"==typeof r){let[e,t]=Object.entries(r)[0];h[e]=t}else h.bgColor=r;if(null!=n)if("object"==typeof n){let[e,t]=Object.entries(n)[0];h[e]=t}else h.fontColor=n;if(null!=i)if("object"==typeof i){let[e,t]=Object.entries(i)[0];h[e]=t}else h.borderColor=i;if(null!=a)if("object"==typeof a){let[e,t]=Object.entries(a)[0];h[e]=t}else h.shadowing=a;if(null!=o)if("object"==typeof o){let[e,t]=Object.entries(o)[0];h[e]=t}else h.shape=o;if(null!=s)if("object"==typeof s){let[e,t]=Object.entries(s)[0];h[e]=t}else h.sprite=s;if(null!=l)if("object"==typeof l){let[e,t]=Object.entries(l)[0];h[e]=t}else h.techn=l;if(null!=u)if("object"==typeof u){let[e,t]=Object.entries(u)[0];h[e]=t}else h.legendText=u;if(null!=c)if("object"==typeof c){let[e,t]=Object.entries(c)[0];h[e]=t}else h.legendSprite=c}}),"updateElStyle"),N=(0,a.K2)((function(e,t,r,n,i,a,o){const s=y.find((e=>e.from===t&&e.to===r));if(void 0!==s){if(null!=n)if("object"==typeof n){let[e,t]=Object.entries(n)[0];s[e]=t}else s.textColor=n;if(null!=i)if("object"==typeof i){let[e,t]=Object.entries(i)[0];s[e]=t}else s.lineColor=i;if(null!=a)if("object"==typeof a){let[e,t]=Object.entries(a)[0];s[e]=parseInt(t)}else s.offsetX=parseInt(a);if(null!=o)if("object"==typeof o){let[e,t]=Object.entries(o)[0];s[e]=parseInt(t)}else s.offsetY=parseInt(o)}}),"updateRelStyle"),L=(0,a.K2)((function(e,t,r){let n=x,i=w;if("object"==typeof t){const e=Object.values(t)[0];n=parseInt(e)}else n=parseInt(t);if("object"==typeof r){const e=Object.values(r)[0];i=parseInt(e)}else i=parseInt(r);n>=1&&(x=n),i>=1&&(w=i)}),"updateLayoutConfig"),I=(0,a.K2)((function(){return x}),"getC4ShapeInRow"),R=(0,a.K2)((function(){return w}),"getC4BoundaryInRow"),M=(0,a.K2)((function(){return p}),"getCurrentBoundaryParse"),P=(0,a.K2)((function(){return g}),"getParentBoundaryParse"),z=(0,a.K2)((function(e){return null==e?d:d.filter((t=>t.parentBoundary===e))}),"getC4ShapeArray"),$=(0,a.K2)((function(e){return d.find((t=>t.alias===e))}),"getC4Shape"),j=(0,a.K2)((function(e){return Object.keys(z(e))}),"getC4ShapeKeys"),K=(0,a.K2)((function(e){return null==e?m:m.filter((t=>t.parentBoundary===e))}),"getBoundaries"),q=K,U=(0,a.K2)((function(){return y}),"getRels"),H=(0,a.K2)((function(){return v}),"getTitle"),W=(0,a.K2)((function(e){b=e}),"setWrap"),G=(0,a.K2)((function(){return b}),"autoWrap"),V=(0,a.K2)((function(){d=[],m=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],g="",p="global",f=[""],y=[],f=[""],v="",b=!1,x=4,w=2}),"clear"),Y=(0,a.K2)((function(e){let t=(0,a.jZ)(e,(0,a.D7)());v=t}),"setTitle"),X={addPersonOrSystem:A,addPersonOrSystemBoundary:T,addContainer:C,addContainerBoundary:S,addComponent:_,addDeploymentNode:F,popBoundaryParseStack:O,addRel:E,updateElStyle:B,updateRelStyle:N,updateLayoutConfig:L,autoWrap:G,setWrap:W,getC4ShapeArray:z,getC4Shape:$,getC4ShapeKeys:j,getBoundaries:K,getBoundarys:q,getCurrentBoundaryParse:M,getParentBoundaryParse:P,getRels:U,getTitle:H,getC4Type:D,getC4ShapeInRow:I,getC4BoundaryInRow:R,setAccTitle:a.SV,getAccTitle:a.iN,getAccDescription:a.m7,setAccDescription:a.EI,getConfig:(0,a.K2)((()=>(0,a.D7)().c4),"getConfig"),clear:V,LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:Y,setC4Type:k},Z=(0,a.K2)((function(e,t){return(0,n.tk)(e,t)}),"drawRect"),Q=(0,a.K2)((function(e,t,r,n,i,a){const o=e.append("image");o.attr("width",t),o.attr("height",r),o.attr("x",n),o.attr("y",i);let l=a.startsWith("data:image/png;base64")?a:(0,s.J)(a);o.attr("xlink:href",l)}),"drawImage"),J=(0,a.K2)(((e,t,r)=>{const n=e.append("g");let i=0;for(let e of t){let t=e.textColor?e.textColor:"#444444",a=e.lineColor?e.lineColor:"#444444",o=e.offsetX?parseInt(e.offsetX):0,s=e.offsetY?parseInt(e.offsetY):0,l="";if(0===i){let t=n.append("line");t.attr("x1",e.startPoint.x),t.attr("y1",e.startPoint.y),t.attr("x2",e.endPoint.x),t.attr("y2",e.endPoint.y),t.attr("stroke-width","1"),t.attr("stroke",a),t.style("fill","none"),"rel_b"!==e.type&&t.attr("marker-end","url("+l+"#arrowhead)"),"birel"!==e.type&&"rel_b"!==e.type||t.attr("marker-start","url("+l+"#arrowend)"),i=-1}else{let t=n.append("path");t.attr("fill","none").attr("stroke-width","1").attr("stroke",a).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",e.startPoint.x).replaceAll("starty",e.startPoint.y).replaceAll("controlx",e.startPoint.x+(e.endPoint.x-e.startPoint.x)/2-(e.endPoint.x-e.startPoint.x)/4).replaceAll("controly",e.startPoint.y+(e.endPoint.y-e.startPoint.y)/2).replaceAll("stopx",e.endPoint.x).replaceAll("stopy",e.endPoint.y)),"rel_b"!==e.type&&t.attr("marker-end","url("+l+"#arrowhead)"),"birel"!==e.type&&"rel_b"!==e.type||t.attr("marker-start","url("+l+"#arrowend)")}let u=r.messageFont();he(r)(e.label.text,n,Math.min(e.startPoint.x,e.endPoint.x)+Math.abs(e.endPoint.x-e.startPoint.x)/2+o,Math.min(e.startPoint.y,e.endPoint.y)+Math.abs(e.endPoint.y-e.startPoint.y)/2+s,e.label.width,e.label.height,{fill:t},u),e.techn&&""!==e.techn.text&&(u=r.messageFont(),he(r)("["+e.techn.text+"]",n,Math.min(e.startPoint.x,e.endPoint.x)+Math.abs(e.endPoint.x-e.startPoint.x)/2+o,Math.min(e.startPoint.y,e.endPoint.y)+Math.abs(e.endPoint.y-e.startPoint.y)/2+r.messageFontSize+5+s,Math.max(e.label.width,e.techn.width),e.techn.height,{fill:t,"font-style":"italic"},u))}}),"drawRels"),ee=(0,a.K2)((function(e,t,r){const n=e.append("g");let i=t.bgColor?t.bgColor:"none",a=t.borderColor?t.borderColor:"#444444",o=t.fontColor?t.fontColor:"black",s={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};t.nodeType&&(s={"stroke-width":1});let l={x:t.x,y:t.y,fill:i,stroke:a,width:t.width,height:t.height,rx:2.5,ry:2.5,attrs:s};Z(n,l);let u=r.boundaryFont();u.fontWeight="bold",u.fontSize=u.fontSize+2,u.fontColor=o,he(r)(t.label.text,n,t.x,t.y+t.label.Y,t.width,t.height,{fill:"#444444"},u),t.type&&""!==t.type.text&&(u=r.boundaryFont(),u.fontColor=o,he(r)(t.type.text,n,t.x,t.y+t.type.Y,t.width,t.height,{fill:"#444444"},u)),t.descr&&""!==t.descr.text&&(u=r.boundaryFont(),u.fontSize=u.fontSize-2,u.fontColor=o,he(r)(t.descr.text,n,t.x,t.y+t.descr.Y,t.width,t.height,{fill:"#444444"},u))}),"drawBoundary"),te=(0,a.K2)((function(e,t,r){let i=t.bgColor?t.bgColor:r[t.typeC4Shape.text+"_bg_color"],a=t.borderColor?t.borderColor:r[t.typeC4Shape.text+"_border_color"],o=t.fontColor?t.fontColor:"#FFFFFF",s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(t.typeC4Shape.text){case"person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}const l=e.append("g");l.attr("class","person-man");const u=(0,n.PB)();switch(t.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":u.x=t.x,u.y=t.y,u.fill=i,u.width=t.width,u.height=t.height,u.stroke=a,u.rx=2.5,u.ry=2.5,u.attrs={"stroke-width":.5},Z(l,u);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":l.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2).replaceAll("height",t.height)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("half",t.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":l.append("path").attr("fill",i).attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",t.x).replaceAll("starty",t.y).replaceAll("width",t.width).replaceAll("half",t.height/2)),l.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",a).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",t.x+t.width).replaceAll("starty",t.y).replaceAll("half",t.height/2))}let c=ce(r,t.typeC4Shape.text);switch(l.append("text").attr("fill",o).attr("font-family",c.fontFamily).attr("font-size",c.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",t.typeC4Shape.width).attr("x",t.x+t.width/2-t.typeC4Shape.width/2).attr("y",t.y+t.typeC4Shape.Y).text("<<"+t.typeC4Shape.text+">>"),t.typeC4Shape.text){case"person":case"external_person":Q(l,48,48,t.x+t.width/2-24,t.y+t.image.Y,s)}let h=r[t.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,h.fontColor=o,he(r)(t.label.text,l,t.x,t.y+t.label.Y,t.width,t.height,{fill:o},h),h=r[t.typeC4Shape.text+"Font"](),h.fontColor=o,t.techn&&""!==t.techn?.text?he(r)(t.techn.text,l,t.x,t.y+t.techn.Y,t.width,t.height,{fill:o,"font-style":"italic"},h):t.type&&""!==t.type.text&&he(r)(t.type.text,l,t.x,t.y+t.type.Y,t.width,t.height,{fill:o,"font-style":"italic"},h),t.descr&&""!==t.descr.text&&(h=r.personFont(),h.fontColor=o,he(r)(t.descr.text,l,t.x,t.y+t.descr.Y,t.width,t.height,{fill:o},h)),t.height}),"drawC4Shape"),re=(0,a.K2)((function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")}),"insertDatabaseIcon"),ne=(0,a.K2)((function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")}),"insertComputerIcon"),ie=(0,a.K2)((function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")}),"insertClockIcon"),ae=(0,a.K2)((function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}),"insertArrowHead"),oe=(0,a.K2)((function(e){e.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")}),"insertArrowEnd"),se=(0,a.K2)((function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}),"insertArrowFilledHead"),le=(0,a.K2)((function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)}),"insertDynamicNumber"),ue=(0,a.K2)((function(e){const t=e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);t.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),t.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")}),"insertArrowCrossHead"),ce=(0,a.K2)(((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]})),"getC4ShapeFont"),he=function(){function e(e,t,r,i,a,o,s){n(t.append("text").attr("x",r+a/2).attr("y",i+o/2+5).style("text-anchor","middle").text(e),s)}function t(e,t,r,i,o,s,l,u){const{fontSize:c,fontFamily:h,fontWeight:d}=u,f=e.split(a.Y2.lineBreakRegex);for(let e=0;e<f.length;e++){const a=e*c-c*(f.length-1)/2,s=t.append("text").attr("x",r+o/2).attr("y",i).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",c).style("font-weight",d).style("font-family",h);s.append("tspan").attr("dy",a).text(f[e]).attr("alignment-baseline","mathematical"),n(s,l)}}function r(e,r,i,a,o,s,l,u){const c=r.append("switch"),h=c.append("foreignObject").attr("x",i).attr("y",a).attr("width",o).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),t(e,c,i,a,o,0,l,u),n(h,l)}function n(e,t){for(const r in t)t.hasOwnProperty(r)&&e.attr(r,t[r])}return(0,a.K2)(e,"byText"),(0,a.K2)(t,"byTspan"),(0,a.K2)(r,"byFo"),(0,a.K2)(n,"_setTextAttrs"),function(n){return"fo"===n.textPlacement?r:"old"===n.textPlacement?e:t}}(),de={drawRect:Z,drawBoundary:ee,drawC4Shape:te,drawRels:J,drawImage:Q,insertArrowHead:ae,insertArrowEnd:oe,insertArrowFilledHead:se,insertDynamicNumber:le,insertArrowCrossHead:ue,insertDatabaseIcon:re,insertComputerIcon:ne,insertClockIcon:ie},fe=0,pe=0,ge=4,me=2;l.yy=X;var ye={},ve=class{static{(0,a.K2)(this,"Bounds")}constructor(e){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,be(e.db.getConfig())}setData(e,t,r,n){this.nextData.startx=this.data.startx=e,this.nextData.stopx=this.data.stopx=t,this.nextData.starty=this.data.starty=r,this.nextData.stopy=this.data.stopy=n}updateVal(e,t,r,n){void 0===e[t]?e[t]=r:e[t]=n(r,e[t])}insert(e){this.nextData.cnt=this.nextData.cnt+1;let t=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+e.margin:this.nextData.stopx+2*e.margin,r=t+e.width,n=this.nextData.starty+2*e.margin,i=n+e.height;(t>=this.data.widthLimit||r>=this.data.widthLimit||this.nextData.cnt>ge)&&(t=this.nextData.startx+e.margin+ye.nextLinePaddingX,n=this.nextData.stopy+2*e.margin,this.nextData.stopx=r=t+e.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=i=n+e.height,this.nextData.cnt=1),e.x=t,e.y=n,this.updateVal(this.data,"startx",t,Math.min),this.updateVal(this.data,"starty",n,Math.min),this.updateVal(this.data,"stopx",r,Math.max),this.updateVal(this.data,"stopy",i,Math.max),this.updateVal(this.nextData,"startx",t,Math.min),this.updateVal(this.nextData,"starty",n,Math.min),this.updateVal(this.nextData,"stopx",r,Math.max),this.updateVal(this.nextData,"stopy",i,Math.max)}init(e){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},be(e.db.getConfig())}bumpLastMargin(e){this.data.stopx+=e,this.data.stopy+=e}},be=(0,a.K2)((function(e){(0,a.hH)(ye,e),e.fontFamily&&(ye.personFontFamily=ye.systemFontFamily=ye.messageFontFamily=e.fontFamily),e.fontSize&&(ye.personFontSize=ye.systemFontSize=ye.messageFontSize=e.fontSize),e.fontWeight&&(ye.personFontWeight=ye.systemFontWeight=ye.messageFontWeight=e.fontWeight)}),"setConf"),xe=(0,a.K2)(((e,t)=>({fontFamily:e[t+"FontFamily"],fontSize:e[t+"FontSize"],fontWeight:e[t+"FontWeight"]})),"c4ShapeFont"),we=(0,a.K2)((e=>({fontFamily:e.boundaryFontFamily,fontSize:e.boundaryFontSize,fontWeight:e.boundaryFontWeight})),"boundaryFont"),De=(0,a.K2)((e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight})),"messageFont");function ke(e,t,r,n,o){if(!t[e].width)if(r)t[e].text=(0,i.bH)(t[e].text,o,n),t[e].textLines=t[e].text.split(a.Y2.lineBreakRegex).length,t[e].width=o,t[e].height=(0,i.ru)(t[e].text,n);else{let r=t[e].text.split(a.Y2.lineBreakRegex);t[e].textLines=r.length;let o=0;t[e].height=0,t[e].width=0;for(const a of r)t[e].width=Math.max((0,i.Un)(a,n),t[e].width),o=(0,i.ru)(a,n),t[e].height=t[e].height+o}}(0,a.K2)(ke,"calcC4ShapeTextWH");var Ee=(0,a.K2)((function(e,t,r){t.x=r.data.startx,t.y=r.data.starty,t.width=r.data.stopx-r.data.startx,t.height=r.data.stopy-r.data.starty,t.label.y=ye.c4ShapeMargin-35;let n=t.wrap&&ye.wrap,a=we(ye);a.fontSize=a.fontSize+2,a.fontWeight="bold",ke("label",t,n,a,(0,i.Un)(t.label.text,a)),de.drawBoundary(e,t,ye)}),"drawBoundary"),Ae=(0,a.K2)((function(e,t,r,n){let a=0;for(const o of n){a=0;const n=r[o];let s=xe(ye,n.typeC4Shape.text);switch(s.fontSize=s.fontSize-2,n.typeC4Shape.width=(0,i.Un)("«"+n.typeC4Shape.text+"»",s),n.typeC4Shape.height=s.fontSize+2,n.typeC4Shape.Y=ye.c4ShapePadding,a=n.typeC4Shape.Y+n.typeC4Shape.height-4,n.image={width:0,height:0,Y:0},n.typeC4Shape.text){case"person":case"external_person":n.image.width=48,n.image.height=48,n.image.Y=a,a=n.image.Y+n.image.height}n.sprite&&(n.image.width=48,n.image.height=48,n.image.Y=a,a=n.image.Y+n.image.height);let l=n.wrap&&ye.wrap,u=ye.width-2*ye.c4ShapePadding,c=xe(ye,n.typeC4Shape.text);c.fontSize=c.fontSize+2,c.fontWeight="bold",ke("label",n,l,c,u),n.label.Y=a+8,a=n.label.Y+n.label.height,n.type&&""!==n.type.text?(n.type.text="["+n.type.text+"]",ke("type",n,l,xe(ye,n.typeC4Shape.text),u),n.type.Y=a+5,a=n.type.Y+n.type.height):n.techn&&""!==n.techn.text&&(n.techn.text="["+n.techn.text+"]",ke("techn",n,l,xe(ye,n.techn.text),u),n.techn.Y=a+5,a=n.techn.Y+n.techn.height);let h=a,d=n.label.width;n.descr&&""!==n.descr.text&&(ke("descr",n,l,xe(ye,n.typeC4Shape.text),u),n.descr.Y=a+20,a=n.descr.Y+n.descr.height,d=Math.max(n.label.width,n.descr.width),h=a-5*n.descr.textLines),d+=ye.c4ShapePadding,n.width=Math.max(n.width||ye.width,d,ye.width),n.height=Math.max(n.height||ye.height,h,ye.height),n.margin=n.margin||ye.c4ShapeMargin,e.insert(n),de.drawC4Shape(t,n,ye)}e.bumpLastMargin(ye.c4ShapeMargin)}),"drawC4ShapeArray"),Ce=class{static{(0,a.K2)(this,"Point")}constructor(e,t){this.x=e,this.y=t}},_e=(0,a.K2)((function(e,t){let r=e.x,n=e.y,i=t.x,a=t.y,o=r+e.width/2,s=n+e.height/2,l=Math.abs(r-i),u=Math.abs(n-a),c=u/l,h=e.height/e.width,d=null;return n==a&&r<i?d=new Ce(r+e.width,s):n==a&&r>i?d=new Ce(r,s):r==i&&n<a?d=new Ce(o,n+e.height):r==i&&n>a&&(d=new Ce(o,n)),r>i&&n<a?d=h>=c?new Ce(r,s+c*e.width/2):new Ce(o-l/u*e.height/2,n+e.height):r<i&&n<a?d=h>=c?new Ce(r+e.width,s+c*e.width/2):new Ce(o+l/u*e.height/2,n+e.height):r<i&&n>a?d=h>=c?new Ce(r+e.width,s-c*e.width/2):new Ce(o+e.height/2*l/u,n):r>i&&n>a&&(d=h>=c?new Ce(r,s-e.width/2*c):new Ce(o-e.height/2*l/u,n)),d}),"getIntersectPoint"),Te=(0,a.K2)((function(e,t){let r={x:0,y:0};r.x=t.x+t.width/2,r.y=t.y+t.height/2;let n=_e(e,r);return r.x=e.x+e.width/2,r.y=e.y+e.height/2,{startPoint:n,endPoint:_e(t,r)}}),"getIntersectPoints"),Se=(0,a.K2)((function(e,t,r,n){let a=0;for(let e of t){a+=1;let t=e.wrap&&ye.wrap,o=De(ye);"C4Dynamic"===n.db.getC4Type()&&(e.label.text=a+": "+e.label.text);let s=(0,i.Un)(e.label.text,o);ke("label",e,t,o,s),e.techn&&""!==e.techn.text&&(s=(0,i.Un)(e.techn.text,o),ke("techn",e,t,o,s)),e.descr&&""!==e.descr.text&&(s=(0,i.Un)(e.descr.text,o),ke("descr",e,t,o,s));let l=r(e.from),u=r(e.to),c=Te(l,u);e.startPoint=c.startPoint,e.endPoint=c.endPoint}de.drawRels(e,t,ye)}),"drawRels");function Fe(e,t,r,n,i){let a=new ve(i);a.data.widthLimit=r.data.widthLimit/Math.min(me,n.length);for(let[o,s]of n.entries()){let n=0;s.image={width:0,height:0,Y:0},s.sprite&&(s.image.width=48,s.image.height=48,s.image.Y=n,n=s.image.Y+s.image.height);let l=s.wrap&&ye.wrap,u=we(ye);if(u.fontSize=u.fontSize+2,u.fontWeight="bold",ke("label",s,l,u,a.data.widthLimit),s.label.Y=n+8,n=s.label.Y+s.label.height,s.type&&""!==s.type.text&&(s.type.text="["+s.type.text+"]",ke("type",s,l,we(ye),a.data.widthLimit),s.type.Y=n+5,n=s.type.Y+s.type.height),s.descr&&""!==s.descr.text){let e=we(ye);e.fontSize=e.fontSize-2,ke("descr",s,l,e,a.data.widthLimit),s.descr.Y=n+20,n=s.descr.Y+s.descr.height}if(0==o||o%me==0){let e=r.data.startx+ye.diagramMarginX,t=r.data.stopy+ye.diagramMarginY+n;a.setData(e,e,t,t)}else{let e=a.data.stopx!==a.data.startx?a.data.stopx+ye.diagramMarginX:a.data.startx,t=a.data.starty;a.setData(e,e,t,t)}a.name=s.alias;let c=i.db.getC4ShapeArray(s.alias),h=i.db.getC4ShapeKeys(s.alias);h.length>0&&Ae(a,e,c,h),t=s.alias;let d=i.db.getBoundarys(t);d.length>0&&Fe(e,t,a,d,i),"global"!==s.alias&&Ee(e,s,a),r.data.stopy=Math.max(a.data.stopy+ye.c4ShapeMargin,r.data.stopy),r.data.stopx=Math.max(a.data.stopx+ye.c4ShapeMargin,r.data.stopx),fe=Math.max(fe,r.data.stopx),pe=Math.max(pe,r.data.stopy)}}(0,a.K2)(Fe,"drawInsideBoundary");var Oe={drawPersonOrSystemArray:Ae,drawBoundary:Ee,setConf:be,draw:(0,a.K2)((function(e,t,r,n){ye=(0,a.D7)().c4;const i=(0,a.D7)().securityLevel;let s;"sandbox"===i&&(s=(0,o.Ltv)("#i"+t));const l="sandbox"===i?(0,o.Ltv)(s.nodes()[0].contentDocument.body):(0,o.Ltv)("body");let u=n.db;n.db.setWrap(ye.wrap),ge=u.getC4ShapeInRow(),me=u.getC4BoundaryInRow(),a.Rm.debug(`C:${JSON.stringify(ye,null,2)}`);const c="sandbox"===i?l.select(`[id="${t}"]`):(0,o.Ltv)(`[id="${t}"]`);de.insertComputerIcon(c),de.insertDatabaseIcon(c),de.insertClockIcon(c);let h=new ve(n);h.setData(ye.diagramMarginX,ye.diagramMarginX,ye.diagramMarginY,ye.diagramMarginY),h.data.widthLimit=screen.availWidth,fe=ye.diagramMarginX,pe=ye.diagramMarginY;const d=n.db.getTitle();Fe(c,"",h,n.db.getBoundarys(""),n),de.insertArrowHead(c),de.insertArrowEnd(c),de.insertArrowCrossHead(c),de.insertArrowFilledHead(c),Se(c,n.db.getRels(),n.db.getC4Shape,n),h.data.stopx=fe,h.data.stopy=pe;const f=h.data;let p=f.stopy-f.starty+2*ye.diagramMarginY;const g=f.stopx-f.startx+2*ye.diagramMarginX;d&&c.append("text").text(d).attr("x",(f.stopx-f.startx)/2-4*ye.diagramMarginX).attr("y",f.starty+ye.diagramMarginY),(0,a.a$)(c,p,g,ye.useMaxWidth);const m=d?60:0;c.attr("viewBox",f.startx-ye.diagramMarginX+" -"+(ye.diagramMarginY+m)+" "+g+" "+(p+m)),a.Rm.debug("models:",f)}),"draw")},Be={parser:h,db:X,renderer:Oe,styles:(0,a.K2)((e=>`.person {\n    stroke: ${e.personBorder};\n    fill: ${e.personBkg};\n  }\n`),"getStyles"),init:(0,a.K2)((({c4:e,wrap:t})=>{Oe.setConf(e),X.setWrap(t)}),"init")}},7588:(e,t,r)=>{"use strict";r.d(t,{R:()=>s});var n=r(7692),i={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function a(e,t){if(void 0===e||void 0===t)return{angle:0,deltaX:0,deltaY:0};e=o(e),t=o(t);const[r,n]=[e.x,e.y],[i,a]=[t.x,t.y],s=i-r,l=a-n;return{angle:Math.atan(l/s),deltaX:s,deltaY:l}}(0,n.K2)(a,"calculateDeltaAndAngle");var o=(0,n.K2)((e=>Array.isArray(e)?{x:e[0],y:e[1]}:e),"pointTransformer"),s=(0,n.K2)((e=>({x:(0,n.K2)((function(t,r,n){let s=0;const l=o(n[0]).x<o(n[n.length-1]).x?"left":"right";if(0===r&&Object.hasOwn(i,e.arrowTypeStart)){const{angle:t,deltaX:r}=a(n[0],n[1]);s=i[e.arrowTypeStart]*Math.cos(t)*(r>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(i,e.arrowTypeEnd)){const{angle:t,deltaX:r}=a(n[n.length-1],n[n.length-2]);s=i[e.arrowTypeEnd]*Math.cos(t)*(r>=0?1:-1)}const u=Math.abs(o(t).x-o(n[n.length-1]).x),c=Math.abs(o(t).y-o(n[n.length-1]).y),h=Math.abs(o(t).x-o(n[0]).x),d=Math.abs(o(t).y-o(n[0]).y),f=i[e.arrowTypeStart],p=i[e.arrowTypeEnd];if(u<p&&u>0&&c<p){let e=p+1-u;e*="right"===l?-1:1,s-=e}if(h<f&&h>0&&d<f){let e=f+1-h;e*="right"===l?-1:1,s+=e}return o(t).x+s}),"x"),y:(0,n.K2)((function(t,r,n){let s=0;const l=o(n[0]).y<o(n[n.length-1]).y?"down":"up";if(0===r&&Object.hasOwn(i,e.arrowTypeStart)){const{angle:t,deltaY:r}=a(n[0],n[1]);s=i[e.arrowTypeStart]*Math.abs(Math.sin(t))*(r>=0?1:-1)}else if(r===n.length-1&&Object.hasOwn(i,e.arrowTypeEnd)){const{angle:t,deltaY:r}=a(n[n.length-1],n[n.length-2]);s=i[e.arrowTypeEnd]*Math.abs(Math.sin(t))*(r>=0?1:-1)}const u=Math.abs(o(t).y-o(n[n.length-1]).y),c=Math.abs(o(t).x-o(n[n.length-1]).x),h=Math.abs(o(t).y-o(n[0]).y),d=Math.abs(o(t).x-o(n[0]).x),f=i[e.arrowTypeStart],p=i[e.arrowTypeEnd];if(u<p&&u>0&&c<p){let e=p+1-u;e*="up"===l?-1:1,s-=e}if(h<f&&h>0&&d<f){let e=f+1-h;e*="up"===l?-1:1,s+=e}return o(t).y+s}),"y")})),"getLineFunctionsWithOffset")},3115:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});var n=(0,r(7692).K2)((({flowchart:e})=>{const t=e?.subGraphTitleMargin?.top??0,r=e?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:t,subGraphTitleBottomMargin:r,subGraphTitleTotalMargin:t+r}}),"getSubGraphTitleMargins")},6474:(e,t,r)=>{"use strict";r.d(t,{A:()=>a,P:()=>o});var n=r(7692),i=r(5763),a=(0,n.K2)(((e,t)=>{let r;return"sandbox"===t&&(r=(0,i.Ltv)("#i"+e)),("sandbox"===t?(0,i.Ltv)(r.nodes()[0].contentDocument.body):(0,i.Ltv)("body")).select(`[id="${e}"]`)}),"getDiagramElement"),o=(0,n.K2)(((e,t,r,i)=>{e.attr("class",r);const{width:a,height:o,x:u,y:c}=s(e,t);(0,n.a$)(e,o,a,i);const h=l(u,c,a,o,t);e.attr("viewBox",h),n.Rm.debug(`viewBox configured: ${h} with padding: ${t}`)}),"setupViewPortForSVG"),s=(0,n.K2)(((e,t)=>{const r=e.node()?.getBBox()||{width:0,height:0,x:0,y:0};return{width:r.width+2*t,height:r.height+2*t,x:r.x,y:r.y}}),"calculateDimensionsWithPadding"),l=(0,n.K2)(((e,t,r,n,i)=>`${e-i} ${t-i} ${r} ${n}`),"createViewBox")},7938:(e,t,r)=>{"use strict";r.d(t,{IU:()=>m,Jo:()=>_,T_:()=>x,g0:()=>F,jP:()=>v});var n=r(1282),i=r(7588),a=r(3115),o=r(8945),s=r(8159),l=r(7692),u=r(5763),c=r(9111),h=(0,l.K2)(((e,t,r,n,i)=>{t.arrowTypeStart&&f(e,"start",t.arrowTypeStart,r,n,i),t.arrowTypeEnd&&f(e,"end",t.arrowTypeEnd,r,n,i)}),"addEdgeMarkers"),d={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},f=(0,l.K2)(((e,t,r,n,i,a)=>{const o=d[r];if(!o)return void l.Rm.warn(`Unknown arrow type: ${r}`);const s="start"===t?"Start":"End";e.attr(`marker-${t}`,`url(${n}#${i}_${a}-${o}${s})`)}),"addEdgeMarker"),p=new Map,g=new Map,m=(0,l.K2)((()=>{p.clear(),g.clear()}),"clear"),y=(0,l.K2)((e=>e?e.reduce(((e,t)=>e+";"+t),""):""),"getLabelStyles"),v=(0,l.K2)((async(e,t)=>{let r=(0,l._3)((0,l.D7)().flowchart.htmlLabels);const i=await(0,o.GZ)(e,t.label,{style:y(t.labelStyle),useHtmlLabels:r,addSvgBackground:!0,isNode:!1});l.Rm.info("abc82",t,t.labelType);const a=e.insert("g").attr("class","edgeLabel"),s=a.insert("g").attr("class","label");s.node().appendChild(i);let c,h=i.getBBox();if(r){const e=i.children[0],t=(0,u.Ltv)(i);h=e.getBoundingClientRect(),t.attr("width",h.width),t.attr("height",h.height)}if(s.attr("transform","translate("+-h.width/2+", "+-h.height/2+")"),p.set(t.id,a),t.width=h.width,t.height=h.height,t.startLabelLeft){const r=await(0,n.DA)(t.startLabelLeft,y(t.labelStyle)),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");c=a.node().appendChild(r);const o=r.getBBox();a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),g.get(t.id)||g.set(t.id,{}),g.get(t.id).startLeft=i,b(c,t.startLabelLeft)}if(t.startLabelRight){const r=await(0,n.DA)(t.startLabelRight,y(t.labelStyle)),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");c=i.node().appendChild(r),a.node().appendChild(r);const o=r.getBBox();a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),g.get(t.id)||g.set(t.id,{}),g.get(t.id).startRight=i,b(c,t.startLabelRight)}if(t.endLabelLeft){const r=await(0,n.DA)(t.endLabelLeft,y(t.labelStyle)),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");c=a.node().appendChild(r);const o=r.getBBox();a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.node().appendChild(r),g.get(t.id)||g.set(t.id,{}),g.get(t.id).endLeft=i,b(c,t.endLabelLeft)}if(t.endLabelRight){const r=await(0,n.DA)(t.endLabelRight,y(t.labelStyle)),i=e.insert("g").attr("class","edgeTerminals"),a=i.insert("g").attr("class","inner");c=a.node().appendChild(r);const o=r.getBBox();a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.node().appendChild(r),g.get(t.id)||g.set(t.id,{}),g.get(t.id).endRight=i,b(c,t.endLabelRight)}return i}),"insertEdgeLabel");function b(e,t){(0,l.D7)().flowchart.htmlLabels&&e&&(e.style.width=9*t.length+"px",e.style.height="12px")}(0,l.K2)(b,"setTerminalWidth");var x=(0,l.K2)(((e,t)=>{l.Rm.debug("Moving label abc88 ",e.id,e.label,p.get(e.id),t);let r=t.updatedPath?t.updatedPath:t.originalPath;const n=(0,l.D7)(),{subGraphTitleTotalMargin:i}=(0,a.O)(n);if(e.label){const n=p.get(e.id);let a=e.x,o=e.y;if(r){const n=s._K.calcLabelPosition(r);l.Rm.debug("Moving label "+e.label+" from (",a,",",o,") to (",n.x,",",n.y,") abc88"),t.updatedPath&&(a=n.x,o=n.y)}n.attr("transform",`translate(${a}, ${o+i/2})`)}if(e.startLabelLeft){const t=g.get(e.id).startLeft;let n=e.x,i=e.y;if(r){const t=s._K.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_left",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.startLabelRight){const t=g.get(e.id).startRight;let n=e.x,i=e.y;if(r){const t=s._K.calcTerminalLabelPosition(e.arrowTypeStart?10:0,"start_right",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.endLabelLeft){const t=g.get(e.id).endLeft;let n=e.x,i=e.y;if(r){const t=s._K.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_left",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}if(e.endLabelRight){const t=g.get(e.id).endRight;let n=e.x,i=e.y;if(r){const t=s._K.calcTerminalLabelPosition(e.arrowTypeEnd?10:0,"end_right",r);n=t.x,i=t.y}t.attr("transform",`translate(${n}, ${i})`)}}),"positionEdgeLabel"),w=(0,l.K2)(((e,t)=>{const r=e.x,n=e.y,i=Math.abs(t.x-r),a=Math.abs(t.y-n),o=e.width/2,s=e.height/2;return i>=o||a>=s}),"outsideNode"),D=(0,l.K2)(((e,t,r)=>{l.Rm.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(t)}\n  insidePoint : ${JSON.stringify(r)}\n  node        : x:${e.x} y:${e.y} w:${e.width} h:${e.height}`);const n=e.x,i=e.y,a=Math.abs(n-r.x),o=e.width/2;let s=r.x<t.x?o-a:o+a;const u=e.height/2,c=Math.abs(t.y-r.y),h=Math.abs(t.x-r.x);if(Math.abs(i-t.y)*o>Math.abs(n-t.x)*u){let e=r.y<t.y?t.y-u-i:i-u-t.y;s=h*e/c;const n={x:r.x<t.x?r.x+s:r.x-h+s,y:r.y<t.y?r.y+c-e:r.y-c+e};return 0===s&&(n.x=t.x,n.y=t.y),0===h&&(n.x=t.x),0===c&&(n.y=t.y),l.Rm.debug(`abc89 top/bottom calc, Q ${c}, q ${e}, R ${h}, r ${s}`,n),n}{s=r.x<t.x?t.x-o-n:n-o-t.x;let e=c*s/h,i=r.x<t.x?r.x+h-s:r.x-h+s,a=r.y<t.y?r.y+e:r.y-e;return l.Rm.debug(`sides calc abc89, Q ${c}, q ${e}, R ${h}, r ${s}`,{_x:i,_y:a}),0===s&&(i=t.x,a=t.y),0===h&&(i=t.x),0===c&&(a=t.y),{x:i,y:a}}}),"intersection"),k=(0,l.K2)(((e,t)=>{l.Rm.warn("abc88 cutPathAtIntersect",e,t);let r=[],n=e[0],i=!1;return e.forEach((e=>{if(l.Rm.info("abc88 checking point",e,t),w(t,e)||i)l.Rm.warn("abc88 outside",e,n),n=e,i||r.push(e);else{const a=D(t,n,e);l.Rm.debug("abc88 inside",e,n,a),l.Rm.debug("abc88 intersection",a,t);let o=!1;r.forEach((e=>{o=o||e.x===a.x&&e.y===a.y})),r.some((e=>e.x===a.x&&e.y===a.y))?l.Rm.warn("abc88 no intersect",a,r):r.push(a),i=!0}})),l.Rm.debug("returning points",r),r}),"cutPathAtIntersect");function E(e){const t=[],r=[];for(let n=1;n<e.length-1;n++){const i=e[n-1],a=e[n],o=e[n+1];(i.x===a.x&&a.y===o.y&&Math.abs(a.x-o.x)>5&&Math.abs(a.y-i.y)>5||i.y===a.y&&a.x===o.x&&Math.abs(a.x-i.x)>5&&Math.abs(a.y-o.y)>5)&&(t.push(a),r.push(n))}return{cornerPoints:t,cornerPointPositions:r}}(0,l.K2)(E,"extractCornerPoints");var A=(0,l.K2)((function(e,t,r){const n=t.x-e.x,i=t.y-e.y,a=r/Math.sqrt(n*n+i*i);return{x:t.x-a*n,y:t.y-a*i}}),"findAdjacentPoint"),C=(0,l.K2)((function(e){const{cornerPointPositions:t}=E(e),r=[];for(let n=0;n<e.length;n++)if(t.includes(n)){const t=e[n-1],i=e[n+1],a=e[n],o=A(t,a,5),s=A(i,a,5),u=s.x-o.x,c=s.y-o.y;r.push(o);const h=2*Math.sqrt(2);let d={x:a.x,y:a.y};if(Math.abs(i.x-t.x)>10&&Math.abs(i.y-t.y)>=10){l.Rm.debug("Corner point fixing",Math.abs(i.x-t.x),Math.abs(i.y-t.y));const e=5;d=a.x===o.x?{x:u<0?o.x-e+h:o.x+e-h,y:c<0?o.y-h:o.y+h}:{x:u<0?o.x-h:o.x+h,y:c<0?o.y-e+h:o.y+e-h}}else l.Rm.debug("Corner point skipping fixing",Math.abs(i.x-t.x),Math.abs(i.y-t.y));r.push(d,s)}else r.push(e[n]);return r}),"fixCorners"),_=(0,l.K2)((function(e,t,r,n,a,o,s){const{handDrawnSeed:d}=(0,l.D7)();let f=t.points,p=!1;const g=a;var m=o;m.intersect&&g.intersect&&(f=f.slice(1,t.points.length-1),f.unshift(g.intersect(f[0])),l.Rm.debug("Last point APA12",t.start,"--\x3e",t.end,f[f.length-1],m,m.intersect(f[f.length-1])),f.push(m.intersect(f[f.length-1]))),t.toCluster&&(l.Rm.info("to cluster abc88",r.get(t.toCluster)),f=k(t.points,r.get(t.toCluster).node),p=!0),t.fromCluster&&(l.Rm.debug("from cluster abc88",r.get(t.fromCluster),JSON.stringify(f,null,2)),f=k(f.reverse(),r.get(t.fromCluster).node).reverse(),p=!0);let y=f.filter((e=>!Number.isNaN(e.y)));y=C(y);let v=u.qrM;t.curve&&(v=t.curve);const{x:b,y:x}=(0,i.R)(t),w=(0,u.n8j)().x(b).y(x).curve(v);let D,E;switch(t.thickness){case"normal":default:D="edge-thickness-normal";break;case"thick":D="edge-thickness-thick";break;case"invisible":D="edge-thickness-invisible"}switch(t.pattern){case"solid":default:D+=" edge-pattern-solid";break;case"dotted":D+=" edge-pattern-dotted";break;case"dashed":D+=" edge-pattern-dashed"}let A=w(y);const _=Array.isArray(t.style)?t.style:[t.style];if("handDrawn"===t.look){const r=c.A.svg(e);Object.assign([],y);const n=r.path(A,{roughness:.3,seed:d});D+=" transition",E=(0,u.Ltv)(n).select("path").attr("id",t.id).attr("class"," "+D+(t.classes?" "+t.classes:"")).attr("style",_?_.reduce(((e,t)=>e+";"+t),""):"");let i=E.attr("d");E.attr("d",i),e.node().appendChild(E.node())}else E=e.append("path").attr("d",A).attr("id",t.id).attr("class"," "+D+(t.classes?" "+t.classes:"")).attr("style",_?_.reduce(((e,t)=>e+";"+t),""):"");let T="";((0,l.D7)().flowchart.arrowMarkerAbsolute||(0,l.D7)().state.arrowMarkerAbsolute)&&(T=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,T=T.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),l.Rm.info("arrowTypeStart",t.arrowTypeStart),l.Rm.info("arrowTypeEnd",t.arrowTypeEnd),h(E,t,T,s,n);let S={};return p&&(S.updatedPath=f),S.originalPath=t.points,S}),"insertEdge"),T=(0,l.K2)(((e,t,r,n)=>{t.forEach((t=>{S[t](e,r,n)}))}),"insertMarkers"),S={extension:(0,l.K2)(((e,t,r)=>{l.Rm.trace("Making markers for ",r),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionStart").attr("class","marker extension "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-extensionEnd").attr("class","marker extension "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")}),"extension"),composition:(0,l.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionStart").attr("class","marker composition "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-compositionEnd").attr("class","marker composition "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"composition"),aggregation:(0,l.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationStart").attr("class","marker aggregation "+t).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-aggregationEnd").attr("class","marker aggregation "+t).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"aggregation"),dependency:(0,l.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyStart").attr("class","marker dependency "+t).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",r+"_"+t+"-dependencyEnd").attr("class","marker dependency "+t).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}),"dependency"),lollipop:(0,l.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopStart").attr("class","marker lollipop "+t).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),e.append("defs").append("marker").attr("id",r+"_"+t+"-lollipopEnd").attr("class","marker lollipop "+t).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)}),"lollipop"),point:(0,l.K2)(((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-pointEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-pointStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"point"),circle:(0,l.K2)(((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-circleEnd").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-circleStart").attr("class","marker "+t).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"circle"),cross:(0,l.K2)(((e,t,r)=>{e.append("marker").attr("id",r+"_"+t+"-crossEnd").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),e.append("marker").attr("id",r+"_"+t+"-crossStart").attr("class","marker cross "+t).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")}),"cross"),barb:(0,l.K2)(((e,t,r)=>{e.append("defs").append("marker").attr("id",r+"_"+t+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}),"barb")},F=T},7692:(e,t,r)=>{"use strict";r.d(t,{C0:()=>E,VA:()=>m,K2:()=>g,xA:()=>ce,hH:()=>O,Dl:()=>ze,IU:()=>tt,Wt:()=>Xe,Y2:()=>je,a$:()=>Ue,sb:()=>Q,ME:()=>dt,UI:()=>Y,Ch:()=>C,mW:()=>A,DB:()=>D,_3:()=>Se,EJ:()=>w,m7:()=>at,iN:()=>nt,zj:()=>le,D7:()=>ct,Gs:()=>vt,J$:()=>S,ab:()=>st,Q2:()=>oe,P$:()=>$,Wi:()=>Pe,H1:()=>me,Rm:()=>v,QO:()=>Be,Js:()=>yt,Xd:()=>_,VJ:()=>$e,cL:()=>he,$i:()=>X,jZ:()=>De,oB:()=>ft,wZ:()=>ie,EI:()=>it,SV:()=>rt,Nk:()=>se,XV:()=>ht,ke:()=>ot,He:()=>b,UU:()=>ne,ot:()=>He,mj:()=>pt,tM:()=>Ye,H$:()=>U,B6:()=>ae});var n=r(8364),i=r(4558),a=r(3013);const o=(e,t)=>{var r=i.A.parse(e),n={};for(var o in t)t[o]&&(n[o]=r[o]+t[o]);return(0,a.A)(e,n)};var s=r(71);const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=i.A.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,{r:n,g:a,b:o,a:l}=i.A.parse(e),{r:u,g:c,b:h,a:d}=i.A.parse(t),f=r/100,p=2*f-1,g=l-d,m=((p*g==-1?p:(p+g)/(1+p*g))+1)/2,y=1-m,v=n*m+u*y,b=a*m+c*y,x=o*m+h*y,w=l*f+d*(1-f);return(0,s.A)(v,b,x,w)}(r,e,t)};var u,c=r(3506),h=r(7242),d=r(4045),f=r(9418),p=Object.defineProperty,g=(e,t)=>p(e,"name",{value:t,configurable:!0}),m=(e,t)=>{for(var r in t)p(e,r,{get:t[r],enumerable:!0})},y={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},v={trace:g(((...e)=>{}),"trace"),debug:g(((...e)=>{}),"debug"),info:g(((...e)=>{}),"info"),warn:g(((...e)=>{}),"warn"),error:g(((...e)=>{}),"error"),fatal:g(((...e)=>{}),"fatal")},b=g((function(e="fatal"){let t=y.fatal;"string"==typeof e?e.toLowerCase()in y&&(t=y[e]):"number"==typeof e&&(t=e),v.trace=()=>{},v.debug=()=>{},v.info=()=>{},v.warn=()=>{},v.error=()=>{},v.fatal=()=>{},t<=y.fatal&&(v.fatal=console.error?console.error.bind(console,x("FATAL"),"color: orange"):console.log.bind(console,"[35m",x("FATAL"))),t<=y.error&&(v.error=console.error?console.error.bind(console,x("ERROR"),"color: orange"):console.log.bind(console,"[31m",x("ERROR"))),t<=y.warn&&(v.warn=console.warn?console.warn.bind(console,x("WARN"),"color: orange"):console.log.bind(console,"[33m",x("WARN"))),t<=y.info&&(v.info=console.info?console.info.bind(console,x("INFO"),"color: lightblue"):console.log.bind(console,"[34m",x("INFO"))),t<=y.debug&&(v.debug=console.debug?console.debug.bind(console,x("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",x("DEBUG"))),t<=y.trace&&(v.trace=console.debug?console.debug.bind(console,x("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",x("TRACE")))}),"setLogLevel"),x=g((e=>`%c${n().format("ss.SSS")} : ${e} : `),"format"),w=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,D=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,k=/\s*%%.*\n/gm,E=class extends Error{static{g(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}},A={},C=g((function(e,t){e=e.replace(w,"").replace(D,"").replace(k,"\n");for(const[r,{detector:n}]of Object.entries(A))if(n(e,t))return r;throw new E(`No diagram type detected matching given configuration for text: ${e}`)}),"detectType"),_=g(((...e)=>{for(const{id:t,detector:r,loader:n}of e)T(t,r,n)}),"registerLazyLoadedDiagrams"),T=g(((e,t,r)=>{A[e]&&v.warn(`Detector with key ${e} already exists. Overwriting.`),A[e]={detector:t,loader:r},v.debug(`Detector with key ${e} added${r?" with loader":""}`)}),"addDetector"),S=g((e=>A[e].loader),"getDiagramLoader"),F=g(((e,t,{depth:r=2,clobber:n=!1}={})=>{const i={depth:r,clobber:n};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach((t=>F(e,t,i))),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach((t=>{e.includes(t)||e.push(t)})),e):void 0===e||r<=0?null!=e&&"object"==typeof e&&"object"==typeof t?Object.assign(e,t):t:(void 0!==t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).forEach((i=>{"object"!=typeof t[i]||void 0!==e[i]&&"object"!=typeof e[i]?(n||"object"!=typeof e[i]&&"object"!=typeof t[i])&&(e[i]=t[i]):(void 0===e[i]&&(e[i]=Array.isArray(t[i])?[]:{}),e[i]=F(e[i],t[i],{depth:r-1,clobber:n}))})),e)}),"assignWithDepth"),O=F,B="#ffffff",N="#f2f2f2",L=g(((e,t)=>o(e,t?{s:-40,l:10}:{s:-40,l:-10})),"mkBorder"),I=class{static{g(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||o(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||o(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||L(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||L(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||L(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||L(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||l(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||l(this.tertiaryColor),this.lineColor=this.lineColor||l(this.background),this.arrowheadColor=this.arrowheadColor||l(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,c.A)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,c.A)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||l(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,h.A)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||o(this.primaryColor,{h:30}),this.cScale4=this.cScale4||o(this.primaryColor,{h:60}),this.cScale5=this.cScale5||o(this.primaryColor,{h:90}),this.cScale6=this.cScale6||o(this.primaryColor,{h:120}),this.cScale7=this.cScale7||o(this.primaryColor,{h:150}),this.cScale8=this.cScale8||o(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||o(this.primaryColor,{h:270}),this.cScale10=this.cScale10||o(this.primaryColor,{h:300}),this.cScale11=this.cScale11||o(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=(0,c.A)(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=(0,c.A)(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||l(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||(0,h.A)(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||(0,c.A)(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||o(this.mainBkg,{h:180,s:-15,l:e*(5+3*t)}),this["surfacePeer"+t]=this["surfacePeer"+t]||o(this.mainBkg,{h:180,s:-15,l:e*(8+3*t)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||o(this.primaryColor,{h:64}),this.fillType3=this.fillType3||o(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||o(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||o(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||o(this.primaryColor,{h:128}),this.fillType7=this.fillType7||o(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||o(this.primaryColor,{l:-10}),this.pie5=this.pie5||o(this.secondaryColor,{l:-10}),this.pie6=this.pie6||o(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||o(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||o(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||o(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||o(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||o(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||o(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||o(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||o(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||o(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||o(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||o(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||o(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,d.A)(this.quadrant1Fill)?(0,h.A)(this.quadrant1Fill):(0,c.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,c.A)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||o(this.primaryColor,{h:-30}),this.git4=this.git4||o(this.primaryColor,{h:-60}),this.git5=this.git5||o(this.primaryColor,{h:-90}),this.git6=this.git6||o(this.primaryColor,{h:60}),this.git7=this.git7||o(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,h.A)(this.git0,25),this.git1=(0,h.A)(this.git1,25),this.git2=(0,h.A)(this.git2,25),this.git3=(0,h.A)(this.git3,25),this.git4=(0,h.A)(this.git4,25),this.git5=(0,h.A)(this.git5,25),this.git6=(0,h.A)(this.git6,25),this.git7=(0,h.A)(this.git7,25)):(this.git0=(0,c.A)(this.git0,25),this.git1=(0,c.A)(this.git1,25),this.git2=(0,c.A)(this.git2,25),this.git3=(0,c.A)(this.git3,25),this.git4=(0,c.A)(this.git4,25),this.git5=(0,c.A)(this.git5,25),this.git6=(0,c.A)(this.git6,25),this.git7=(0,c.A)(this.git7,25)),this.gitInv0=this.gitInv0||l(this.git0),this.gitInv1=this.gitInv1||l(this.git1),this.gitInv2=this.gitInv2||l(this.git2),this.gitInv3=this.gitInv3||l(this.git3),this.gitInv4=this.gitInv4||l(this.git4),this.gitInv5=this.gitInv5||l(this.git5),this.gitInv6=this.gitInv6||l(this.git6),this.gitInv7=this.gitInv7||l(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||B,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||N}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},R=g((e=>{const t=new I;return t.calculate(e),t}),"getThemeVariables"),M=class{static{g(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,h.A)(this.primaryColor,16),this.tertiaryColor=o(this.primaryColor,{h:-160}),this.primaryBorderColor=l(this.background),this.secondaryBorderColor=L(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=L(this.tertiaryColor,this.darkMode),this.primaryTextColor=l(this.primaryColor),this.secondaryTextColor=l(this.secondaryColor),this.tertiaryTextColor=l(this.tertiaryColor),this.lineColor=l(this.background),this.textColor=l(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,h.A)(l("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=(0,s.A)(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,c.A)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=(0,c.A)(this.sectionBkgColor,10),this.taskBorderColor=(0,s.A)(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=(0,s.A)(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=(0,h.A)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,h.A)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,h.A)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=o(this.primaryColor,{h:64}),this.fillType3=o(this.secondaryColor,{h:64}),this.fillType4=o(this.primaryColor,{h:-64}),this.fillType5=o(this.secondaryColor,{h:-64}),this.fillType6=o(this.primaryColor,{h:128}),this.fillType7=o(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||o(this.primaryColor,{h:30}),this.cScale4=this.cScale4||o(this.primaryColor,{h:60}),this.cScale5=this.cScale5||o(this.primaryColor,{h:90}),this.cScale6=this.cScale6||o(this.primaryColor,{h:120}),this.cScale7=this.cScale7||o(this.primaryColor,{h:150}),this.cScale8=this.cScale8||o(this.primaryColor,{h:210}),this.cScale9=this.cScale9||o(this.primaryColor,{h:270}),this.cScale10=this.cScale10||o(this.primaryColor,{h:300}),this.cScale11=this.cScale11||o(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||l(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||(0,h.A)(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||o(this.mainBkg,{h:30,s:-30,l:-(4*e-10)}),this["surfacePeer"+e]=this["surfacePeer"+e]||o(this.mainBkg,{h:30,s:-30,l:-(4*e-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||o(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||o(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||o(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||o(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||o(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||o(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,d.A)(this.quadrant1Fill)?(0,h.A)(this.quadrant1Fill):(0,c.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,c.A)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,h.A)(this.secondaryColor,20),this.git1=(0,h.A)(this.pie2||this.secondaryColor,20),this.git2=(0,h.A)(this.pie3||this.tertiaryColor,20),this.git3=(0,h.A)(this.pie4||o(this.primaryColor,{h:-30}),20),this.git4=(0,h.A)(this.pie5||o(this.primaryColor,{h:-60}),20),this.git5=(0,h.A)(this.pie6||o(this.primaryColor,{h:-90}),10),this.git6=(0,h.A)(this.pie7||o(this.primaryColor,{h:60}),10),this.git7=(0,h.A)(this.pie8||o(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||l(this.git0),this.gitInv1=this.gitInv1||l(this.git1),this.gitInv2=this.gitInv2||l(this.git2),this.gitInv3=this.gitInv3||l(this.git3),this.gitInv4=this.gitInv4||l(this.git4),this.gitInv5=this.gitInv5||l(this.git5),this.gitInv6=this.gitInv6||l(this.git6),this.gitInv7=this.gitInv7||l(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||l(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||l(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||(0,h.A)(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||(0,h.A)(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},P=g((e=>{const t=new M;return t.calculate(e),t}),"getThemeVariables"),z=class{static{g(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=o(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=o(this.primaryColor,{h:-160}),this.primaryBorderColor=L(this.primaryColor,this.darkMode),this.secondaryBorderColor=L(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=L(this.tertiaryColor,this.darkMode),this.primaryTextColor=l(this.primaryColor),this.secondaryTextColor=l(this.secondaryColor),this.tertiaryTextColor=l(this.tertiaryColor),this.lineColor=l(this.background),this.textColor=l(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=(0,s.A)(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||o(this.primaryColor,{h:30}),this.cScale4=this.cScale4||o(this.primaryColor,{h:60}),this.cScale5=this.cScale5||o(this.primaryColor,{h:90}),this.cScale6=this.cScale6||o(this.primaryColor,{h:120}),this.cScale7=this.cScale7||o(this.primaryColor,{h:150}),this.cScale8=this.cScale8||o(this.primaryColor,{h:210}),this.cScale9=this.cScale9||o(this.primaryColor,{h:270}),this.cScale10=this.cScale10||o(this.primaryColor,{h:300}),this.cScale11=this.cScale11||o(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,c.A)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,c.A)(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=(0,c.A)(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||(0,c.A)(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||o(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||o(this.mainBkg,{h:30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||o(this.mainBkg,{h:30,l:-(7+5*e)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||l(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||l(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,h.A)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=o(this.primaryColor,{h:64}),this.fillType3=o(this.secondaryColor,{h:64}),this.fillType4=o(this.primaryColor,{h:-64}),this.fillType5=o(this.secondaryColor,{h:-64}),this.fillType6=o(this.primaryColor,{h:128}),this.fillType7=o(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||o(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||o(this.primaryColor,{l:-10}),this.pie5=this.pie5||o(this.secondaryColor,{l:-30}),this.pie6=this.pie6||o(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||o(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||o(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||o(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||o(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||o(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||o(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||o(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||o(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||o(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||o(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||o(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||o(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,d.A)(this.quadrant1Fill)?(0,h.A)(this.quadrant1Fill):(0,c.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||o(this.primaryColor,{h:-30}),this.git4=this.git4||o(this.primaryColor,{h:-60}),this.git5=this.git5||o(this.primaryColor,{h:-90}),this.git6=this.git6||o(this.primaryColor,{h:60}),this.git7=this.git7||o(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,h.A)(this.git0,25),this.git1=(0,h.A)(this.git1,25),this.git2=(0,h.A)(this.git2,25),this.git3=(0,h.A)(this.git3,25),this.git4=(0,h.A)(this.git4,25),this.git5=(0,h.A)(this.git5,25),this.git6=(0,h.A)(this.git6,25),this.git7=(0,h.A)(this.git7,25)):(this.git0=(0,c.A)(this.git0,25),this.git1=(0,c.A)(this.git1,25),this.git2=(0,c.A)(this.git2,25),this.git3=(0,c.A)(this.git3,25),this.git4=(0,c.A)(this.git4,25),this.git5=(0,c.A)(this.git5,25),this.git6=(0,c.A)(this.git6,25),this.git7=(0,c.A)(this.git7,25)),this.gitInv0=this.gitInv0||(0,c.A)(l(this.git0),25),this.gitInv1=this.gitInv1||l(this.git1),this.gitInv2=this.gitInv2||l(this.git2),this.gitInv3=this.gitInv3||l(this.git3),this.gitInv4=this.gitInv4||l(this.git4),this.gitInv5=this.gitInv5||l(this.git5),this.gitInv6=this.gitInv6||l(this.git6),this.gitInv7=this.gitInv7||l(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||l(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||l(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||B,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||N}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},$=g((e=>{const t=new z;return t.calculate(e),t}),"getThemeVariables"),j=class{static{g(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,h.A)("#cde498",10),this.primaryBorderColor=L(this.primaryColor,this.darkMode),this.secondaryBorderColor=L(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=L(this.tertiaryColor,this.darkMode),this.primaryTextColor=l(this.primaryColor),this.secondaryTextColor=l(this.secondaryColor),this.tertiaryTextColor=l(this.primaryColor),this.lineColor=l(this.background),this.textColor=l(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=(0,c.A)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||o(this.primaryColor,{h:30}),this.cScale4=this.cScale4||o(this.primaryColor,{h:60}),this.cScale5=this.cScale5||o(this.primaryColor,{h:90}),this.cScale6=this.cScale6||o(this.primaryColor,{h:120}),this.cScale7=this.cScale7||o(this.primaryColor,{h:150}),this.cScale8=this.cScale8||o(this.primaryColor,{h:210}),this.cScale9=this.cScale9||o(this.primaryColor,{h:270}),this.cScale10=this.cScale10||o(this.primaryColor,{h:300}),this.cScale11=this.cScale11||o(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,c.A)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,c.A)(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=(0,c.A)(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||(0,c.A)(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||o(this["cScale"+e],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||o(this.mainBkg,{h:30,s:-30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||o(this.mainBkg,{h:30,s:-30,l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=o(this.primaryColor,{h:64}),this.fillType3=o(this.secondaryColor,{h:64}),this.fillType4=o(this.primaryColor,{h:-64}),this.fillType5=o(this.secondaryColor,{h:-64}),this.fillType6=o(this.primaryColor,{h:128}),this.fillType7=o(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||o(this.primaryColor,{l:-30}),this.pie5=this.pie5||o(this.secondaryColor,{l:-30}),this.pie6=this.pie6||o(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||o(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||o(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||o(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||o(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||o(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||o(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||o(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||o(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||o(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||o(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||o(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||o(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,d.A)(this.quadrant1Fill)?(0,h.A)(this.quadrant1Fill):(0,c.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||o(this.primaryColor,{h:-30}),this.git4=this.git4||o(this.primaryColor,{h:-60}),this.git5=this.git5||o(this.primaryColor,{h:-90}),this.git6=this.git6||o(this.primaryColor,{h:60}),this.git7=this.git7||o(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,h.A)(this.git0,25),this.git1=(0,h.A)(this.git1,25),this.git2=(0,h.A)(this.git2,25),this.git3=(0,h.A)(this.git3,25),this.git4=(0,h.A)(this.git4,25),this.git5=(0,h.A)(this.git5,25),this.git6=(0,h.A)(this.git6,25),this.git7=(0,h.A)(this.git7,25)):(this.git0=(0,c.A)(this.git0,25),this.git1=(0,c.A)(this.git1,25),this.git2=(0,c.A)(this.git2,25),this.git3=(0,c.A)(this.git3,25),this.git4=(0,c.A)(this.git4,25),this.git5=(0,c.A)(this.git5,25),this.git6=(0,c.A)(this.git6,25),this.git7=(0,c.A)(this.git7,25)),this.gitInv0=this.gitInv0||l(this.git0),this.gitInv1=this.gitInv1||l(this.git1),this.gitInv2=this.gitInv2||l(this.git2),this.gitInv3=this.gitInv3||l(this.git3),this.gitInv4=this.gitInv4||l(this.git4),this.gitInv5=this.gitInv5||l(this.git5),this.gitInv6=this.gitInv6||l(this.git6),this.gitInv7=this.gitInv7||l(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||l(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||l(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||B,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||N}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},K=g((e=>{const t=new j;return t.calculate(e),t}),"getThemeVariables"),q=class{static{g(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,h.A)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=o(this.primaryColor,{h:-160}),this.primaryBorderColor=L(this.primaryColor,this.darkMode),this.secondaryBorderColor=L(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=L(this.tertiaryColor,this.darkMode),this.primaryTextColor=l(this.primaryColor),this.secondaryTextColor=l(this.secondaryColor),this.tertiaryTextColor=l(this.tertiaryColor),this.lineColor=l(this.background),this.textColor=l(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=(0,h.A)(this.contrast,55),this.border2=this.contrast,this.actorBorder=(0,h.A)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||l(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||(0,h.A)(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||(0,c.A)(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||o(this.mainBkg,{l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||o(this.mainBkg,{l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=(0,h.A)(this.contrast,30),this.sectionBkgColor2=(0,h.A)(this.contrast,30),this.taskBorderColor=(0,c.A)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,h.A)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,c.A)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=o(this.primaryColor,{h:64}),this.fillType3=o(this.secondaryColor,{h:64}),this.fillType4=o(this.primaryColor,{h:-64}),this.fillType5=o(this.secondaryColor,{h:-64}),this.fillType6=o(this.primaryColor,{h:128}),this.fillType7=o(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||o(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||o(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||o(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||o(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||o(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||o(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,d.A)(this.quadrant1Fill)?(0,h.A)(this.quadrant1Fill):(0,c.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,c.A)(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||o(this.primaryColor,{h:-30}),this.git4=this.pie5||o(this.primaryColor,{h:-60}),this.git5=this.pie6||o(this.primaryColor,{h:-90}),this.git6=this.pie7||o(this.primaryColor,{h:60}),this.git7=this.pie8||o(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||l(this.git0),this.gitInv1=this.gitInv1||l(this.git1),this.gitInv2=this.gitInv2||l(this.git2),this.gitInv3=this.gitInv3||l(this.git3),this.gitInv4=this.gitInv4||l(this.git4),this.gitInv5=this.gitInv5||l(this.git5),this.gitInv6=this.gitInv6||l(this.git6),this.gitInv7=this.gitInv7||l(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||B,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||N}calculate(e){if("object"!=typeof e)return void this.updateColors();const t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},U={base:{getThemeVariables:R},dark:{getThemeVariables:P},default:{getThemeVariables:$},forest:{getThemeVariables:K},neutral:{getThemeVariables:g((e=>{const t=new q;return t.calculate(e),t}),"getThemeVariables")}},H={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},W={...H,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:U.default.getThemeVariables(),sequence:{...H.sequence,messageFont:g((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont"),noteFont:g((function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}}),"noteFont"),actorFont:g((function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}),"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...H.gantt,tickInterval:void 0,useWidth:void 0},c4:{...H.c4,useWidth:void 0,personFont:g((function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}}),"personFont"),external_personFont:g((function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}}),"external_personFont"),systemFont:g((function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}}),"systemFont"),external_systemFont:g((function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}}),"external_systemFont"),system_dbFont:g((function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}}),"system_dbFont"),external_system_dbFont:g((function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}}),"external_system_dbFont"),system_queueFont:g((function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}}),"system_queueFont"),external_system_queueFont:g((function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}}),"external_system_queueFont"),containerFont:g((function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}}),"containerFont"),external_containerFont:g((function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}}),"external_containerFont"),container_dbFont:g((function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}}),"container_dbFont"),external_container_dbFont:g((function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}}),"external_container_dbFont"),container_queueFont:g((function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}}),"container_queueFont"),external_container_queueFont:g((function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}}),"external_container_queueFont"),componentFont:g((function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}}),"componentFont"),external_componentFont:g((function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}}),"external_componentFont"),component_dbFont:g((function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}}),"component_dbFont"),external_component_dbFont:g((function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}}),"external_component_dbFont"),component_queueFont:g((function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}}),"component_queueFont"),external_component_queueFont:g((function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}}),"external_component_queueFont"),boundaryFont:g((function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}}),"boundaryFont"),messageFont:g((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont")},pie:{...H.pie,useWidth:984},xyChart:{...H.xyChart,useWidth:void 0},requirement:{...H.requirement,useWidth:void 0},packet:{...H.packet}},G=g(((e,t="")=>Object.keys(e).reduce(((r,n)=>Array.isArray(e[n])?r:"object"==typeof e[n]&&null!==e[n]?[...r,t+n,...G(e[n],"")]:[...r,t+n]),[])),"keyify"),V=new Set(G(W,"")),Y=W,X=g((e=>{if(v.debug("sanitizeDirective called with",e),"object"==typeof e&&null!=e)if(Array.isArray(e))e.forEach((e=>X(e)));else{for(const t of Object.keys(e)){if(v.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!V.has(t)||null==e[t]){v.debug("sanitize deleting key: ",t),delete e[t];continue}if("object"==typeof e[t]){v.debug("sanitizing object",t),X(e[t]);continue}const r=["themeCSS","fontFamily","altFontFamily"];for(const n of r)t.includes(n)&&(v.debug("sanitizing css option",t),e[t]=Z(e[t]))}if(e.themeVariables)for(const t of Object.keys(e.themeVariables)){const r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}v.debug("After sanitization",e)}}),"sanitizeDirective"),Z=g((e=>{let t=0,r=0;for(const n of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";"{"===n?t++:"}"===n&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e}),"sanitizeCss"),Q=Object.freeze(Y),J=O({},Q),ee=[],te=O({},Q),re=g(((e,t)=>{let r=O({},e),n={};for(const e of t)ue(e),n=O(n,e);if(r=O(r,n),n.theme&&n.theme in U){const e=O({},u),t=O(e.themeVariables||{},n.themeVariables);r.theme&&r.theme in U&&(r.themeVariables=U[r.theme].getThemeVariables(t))}return ge(te=r),te}),"updateCurrentConfig"),ne=g((e=>(J=O({},Q),J=O(J,e),e.theme&&U[e.theme]&&(J.themeVariables=U[e.theme].getThemeVariables(e.themeVariables)),re(J,ee),J)),"setSiteConfig"),ie=g((e=>{u=O({},e)}),"saveConfigFromInitialize"),ae=g((e=>(J=O(J,e),re(J,ee),J)),"updateSiteConfig"),oe=g((()=>O({},J)),"getSiteConfig"),se=g((e=>(ge(e),O(te,e),le())),"setConfig"),le=g((()=>O({},te)),"getConfig"),ue=g((e=>{e&&(["secure",...J.secure??[]].forEach((t=>{Object.hasOwn(e,t)&&(v.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])})),Object.keys(e).forEach((t=>{t.startsWith("__")&&delete e[t]})),Object.keys(e).forEach((t=>{"string"==typeof e[t]&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],"object"==typeof e[t]&&ue(e[t])})))}),"sanitize"),ce=g((e=>{X(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),ee.push(e),re(J,ee)}),"addDirective"),he=g(((e=J)=>{re(e,ee=[])}),"reset"),de={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},fe={},pe=g((e=>{fe[e]||(v.warn(de[e]),fe[e]=!0)}),"issueWarning"),ge=g((e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&pe("LAZY_LOAD_DEPRECATED")}),"checkConfig"),me=/<br\s*\/?>/gi,ye=g((e=>e?_e(e).replace(/\\n/g,"#br#").split("#br#"):[""]),"getRows"),ve=(()=>{let e=!1;return()=>{e||(be(),e=!0)}})();function be(){const e="data-temp-href-target";f.A.addHook("beforeSanitizeAttributes",(t=>{t instanceof Element&&"A"===t.tagName&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")})),f.A.addHook("afterSanitizeAttributes",(t=>{t instanceof Element&&"A"===t.tagName&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),"_blank"===t.getAttribute("target")&&t.setAttribute("rel","noopener"))}))}g(be,"setupDompurifyHooks");var xe=g((e=>(ve(),f.A.sanitize(e))),"removeScript"),we=g(((e,t)=>{if(!1!==t.flowchart?.htmlLabels){const r=t.securityLevel;"antiscript"===r||"strict"===r?e=xe(e):"loose"!==r&&(e=(e=(e=_e(e)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),e=Ce(e))}return e}),"sanitizeMore"),De=g(((e,t)=>e?e=t.dompurifyConfig?f.A.sanitize(we(e,t),t.dompurifyConfig).toString():f.A.sanitize(we(e,t),{FORBID_TAGS:["style"]}).toString():e),"sanitizeText"),ke=g(((e,t)=>"string"==typeof e?De(e,t):e.flat().map((e=>De(e,t)))),"sanitizeTextOrArray"),Ee=g((e=>me.test(e)),"hasBreaks"),Ae=g((e=>e.split(me)),"splitBreaks"),Ce=g((e=>e.replace(/#br#/g,"<br/>")),"placeholderToBreak"),_e=g((e=>e.replace(me,"#br#")),"breakToPlaceholder"),Te=g((e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t}),"getUrl"),Se=g((e=>!1!==e&&!["false","null","0"].includes(String(e).trim().toLowerCase())),"evaluate"),Fe=g((function(...e){const t=e.filter((e=>!isNaN(e)));return Math.max(...t)}),"getMax"),Oe=g((function(...e){const t=e.filter((e=>!isNaN(e)));return Math.min(...t)}),"getMin"),Be=g((function(e){const t=e.split(/(,)/),r=[];for(let e=0;e<t.length;e++){let n=t[e];if(","===n&&e>0&&e+1<t.length){const i=t[e-1],a=t[e+1];Le(i,a)&&(n=i+","+a,e++,r.pop())}r.push(Ie(n))}return r.join("")}),"parseGenericTypes"),Ne=g(((e,t)=>Math.max(0,e.split(t).length-1)),"countOccurrence"),Le=g(((e,t)=>{const r=Ne(e,"~"),n=Ne(t,"~");return 1===r&&1===n}),"shouldCombineSets"),Ie=g((e=>{const t=Ne(e,"~");let r=!1;if(t<=1)return e;t%2!=0&&e.startsWith("~")&&(e=e.substring(1),r=!0);const n=[...e];let i=n.indexOf("~"),a=n.lastIndexOf("~");for(;-1!==i&&-1!==a&&i!==a;)n[i]="<",n[a]=">",i=n.indexOf("~"),a=n.lastIndexOf("~");return r&&n.unshift("~"),n.join("")}),"processSet"),Re=g((()=>void 0!==window.MathMLElement),"isMathMLSupported"),Me=/\$\$(.*)\$\$/g,Pe=g((e=>(e.match(Me)?.length??0)>0),"hasKatex"),ze=g((async(e,t)=>{e=await $e(e,t);const r=document.createElement("div");r.innerHTML=e,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0";const n=document.querySelector("body");n?.insertAdjacentElement("beforeend",r);const i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i}),"calculateMathMLDimensions"),$e=g((async(e,t)=>{if(!Pe(e))return e;if(!(Re()||t.legacyMathML||t.forceLegacyMathML))return e.replace(Me,"MathML is unsupported in this environment.");const{default:n}=await Promise.resolve().then(r.bind(r,2130)),i=t.forceLegacyMathML||!Re()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(me).map((e=>Pe(e)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e}</div>`:`<div>${e}</div>`)).join("").replace(Me,((e,t)=>n.renderToString(t,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,"")))}),"renderKatex"),je={getRows:ye,sanitizeText:De,sanitizeTextOrArray:ke,hasBreaks:Ee,splitBreaks:Ae,lineBreakRegex:me,removeScript:xe,getUrl:Te,evaluate:Se,getMax:Fe,getMin:Oe},Ke=g((function(e,t){for(let r of t)e.attr(r[0],r[1])}),"d3Attrs"),qe=g((function(e,t,r){let n=new Map;return r?(n.set("width","100%"),n.set("style",`max-width: ${t}px;`)):(n.set("height",e),n.set("width",t)),n}),"calculateSvgSizeAttrs"),Ue=g((function(e,t,r,n){const i=qe(t,r,n);Ke(e,i)}),"configureSvgSize"),He=g((function(e,t,r,n){const i=t.node().getBBox(),a=i.width,o=i.height;v.info(`SVG bounds: ${a}x${o}`,i);let s=0,l=0;v.info(`Graph bounds: ${s}x${l}`,e),s=a+2*r,l=o+2*r,v.info(`Calculated bounds: ${s}x${l}`),Ue(t,l,s,n);const u=`${i.x-r} ${i.y-r} ${i.width+2*r} ${i.height+2*r}`;t.attr("viewBox",u)}),"setupGraphViewbox"),We={},Ge=g(((e,t,r)=>{let n="";return e in We&&We[e]?n=We[e](r):v.warn(`No theme found for ${e}`),` & {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n    fill: ${r.textColor}\n  }\n\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${r.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${r.errorTextColor};\n    stroke: ${r.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${r.lineColor};\n    stroke: ${r.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${r.lineColor};\n  }\n\n  & svg {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${n}\n\n  ${t}\n`}),"getStyles"),Ve=g(((e,t)=>{void 0!==t&&(We[e]=t)}),"addStylesForDiagram"),Ye=Ge,Xe={};m(Xe,{clear:()=>tt,getAccDescription:()=>at,getAccTitle:()=>nt,getDiagramTitle:()=>st,setAccDescription:()=>it,setAccTitle:()=>rt,setDiagramTitle:()=>ot});var Ze="",Qe="",Je="",et=g((e=>De(e,le())),"sanitizeText"),tt=g((()=>{Ze="",Je="",Qe=""}),"clear"),rt=g((e=>{Ze=et(e).replace(/^\s+/g,"")}),"setAccTitle"),nt=g((()=>Ze),"getAccTitle"),it=g((e=>{Je=et(e).replace(/\n\s+/g,"\n")}),"setAccDescription"),at=g((()=>Je),"getAccDescription"),ot=g((e=>{Qe=et(e)}),"setDiagramTitle"),st=g((()=>Qe),"getDiagramTitle"),lt=v,ut=b,ct=le,ht=se,dt=Q,ft=g((e=>De(e,ct())),"sanitizeText"),pt=He,gt=g((()=>Xe),"getCommonDb"),mt={},yt=g(((e,t,r)=>{mt[e]&&lt.warn(`Diagram with id ${e} already registered. Overwriting.`),mt[e]=t,r&&T(e,r),Ve(e,t.styles),t.injectUtils?.(lt,ut,ct,ft,pt,gt(),(()=>{}))}),"registerDiagram"),vt=g((e=>{if(e in mt)return mt[e];throw new bt(e)}),"getDiagram"),bt=class extends Error{static{g(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}}},8945:(e,t,r)=>{"use strict";r.d(t,{W6:()=>Le,GZ:()=>Pe,hE:()=>Me});var n=r(8159),i=r(7692),a=r(5763);function o(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function h(e){c=e}var d=/[&<>"']/,f=new RegExp(d.source,"g"),p=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,g=new RegExp(p.source,"g"),m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},y=e=>m[e];function v(e,t){if(t){if(d.test(e))return e.replace(f,y)}else if(p.test(e))return e.replace(g,y);return e}var b=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,x=/(^|[^\[])\^/g;function w(e,t){var r="string"==typeof e?e:e.source;t=t||"";var n={replace:(e,t)=>{var i="string"==typeof t?t:t.source;return i=i.replace(x,"$1"),r=r.replace(e,i),n},getRegex:()=>new RegExp(r,t)};return n}function D(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch(e){return null}return e}var k={exec:()=>null};function E(e,t){var r=e.replace(/\|/g,((e,t,r)=>{for(var n=!1,i=t;--i>=0&&"\\"===r[i];)n=!n;return n?"|":" |"})).split(/ \|/),n=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;n<r.length;n++)r[n]=r[n].trim().replace(/\\\|/g,"|");return r}function A(e,t,r){var n=e.length;if(0===n)return"";for(var i=0;i<n;){var a=e.charAt(n-i-1);if(a!==t||r){if(a===t||!r)break;i++}else i++}return e.slice(0,n-i)}function C(e,t,r,n){var i=t.href,a=t.title?v(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;var s={type:"link",raw:r,href:i,title:a,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,s}return{type:"image",raw:r,href:i,title:a,text:v(o)}}class _{constructor(e){u(this,"options",void 0),u(this,"rules",void 0),u(this,"lexer",void 0),this.options=e||c}space(e){var t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){var t=this.rules.block.code.exec(e);if(t){var r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:A(r,"\n")}}}fences(e){var t=this.rules.block.fences.exec(e);if(t){var r=t[0],n=function(e,t){var r=e.match(/^(\s+)(?:```)/);if(null===r)return t;var n=r[1];return t.split("\n").map((e=>{var t=e.match(/^\s+/);if(null===t)return e;var[r]=t;return r.length>=n.length?e.slice(n.length):e})).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:n}}}heading(e){var t=this.rules.block.heading.exec(e);if(t){var r=t[2].trim();if(/#$/.test(r)){var n=A(r,"#");this.options.pedantic?r=n.trim():n&&!/ $/.test(n)||(r=n.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:A(t[0],"\n")}}blockquote(e){var t=this.rules.block.blockquote.exec(e);if(t){for(var r=A(t[0],"\n").split("\n"),n="",i="",a=[];r.length>0;){var o=!1,s=[],l=void 0;for(l=0;l<r.length;l++)if(/^ {0,3}>/.test(r[l]))s.push(r[l]),o=!0;else{if(o)break;s.push(r[l])}r=r.slice(l);var u=s.join("\n"),c=u.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");n=n?"".concat(n,"\n").concat(u):u,i=i?"".concat(i,"\n").concat(c):c;var h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(c,a,!0),this.lexer.state.top=h,0===r.length)break;var d=a[a.length-1];if("code"===(null==d?void 0:d.type))break;if("blockquote"===(null==d?void 0:d.type)){var f=d,p=f.raw+"\n"+r.join("\n"),g=this.blockquote(p);a[a.length-1]=g,n=n.substring(0,n.length-f.raw.length)+g.raw,i=i.substring(0,i.length-f.text.length)+g.text;break}if("list"!==(null==d?void 0:d.type));else{var m=d,y=m.raw+"\n"+r.join("\n"),v=this.list(y);a[a.length-1]=v,n=n.substring(0,n.length-d.raw.length)+v.raw,i=i.substring(0,i.length-m.raw.length)+v.raw,r=y.substring(a[a.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:n,tokens:a,text:i}}}list(e){var t=this.rules.block.list.exec(e);if(t){var r=t[1].trim(),n=r.length>1,i={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?"\\d{1,9}\\".concat(r.slice(-1)):"\\".concat(r),this.options.pedantic&&(r=n?r:"[*+-]");for(var a=new RegExp("^( {0,3}".concat(r,")((?:[\t ][^\\n]*)?(?:\\n|$))")),o=!1;e;){var s=!1,l="",u="";if(!(t=a.exec(e)))break;if(this.rules.block.hr.test(e))break;l=t[0],e=e.substring(l.length);var c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),h=e.split("\n",1)[0],d=!c.trim(),f=0;if(this.options.pedantic?(f=2,u=c.trimStart()):d?f=t[1].length+1:(f=(f=t[2].search(/[^ ]/))>4?1:f,u=c.slice(f),f+=t[1].length),d&&/^ *$/.test(h)&&(l+=h+"\n",e=e.substring(h.length+1),s=!0),!s)for(var p=new RegExp("^ {0,".concat(Math.min(3,f-1),"}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))")),g=new RegExp("^ {0,".concat(Math.min(3,f-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),m=new RegExp("^ {0,".concat(Math.min(3,f-1),"}(?:```|~~~)")),y=new RegExp("^ {0,".concat(Math.min(3,f-1),"}#"));e;){var v=e.split("\n",1)[0];if(h=v,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),m.test(h))break;if(y.test(h))break;if(p.test(h))break;if(g.test(e))break;if(h.search(/[^ ]/)>=f||!h.trim())u+="\n"+h.slice(f);else{if(d)break;if(c.search(/[^ ]/)>=4)break;if(m.test(c))break;if(y.test(c))break;if(g.test(c))break;u+="\n"+h}d||h.trim()||(d=!0),l+=v+"\n",e=e.substring(v.length+1),c=h.slice(f)}i.loose||(o?i.loose=!0:/\n *\n *$/.test(l)&&(o=!0));var b=null,x=void 0;this.options.gfm&&(b=/^\[[ xX]\] /.exec(u))&&(x="[ ] "!==b[0],u=u.replace(/^\[[ xX]\] +/,"")),i.items.push({type:"list_item",raw:l,task:!!b,checked:x,loose:!1,text:u,tokens:[]}),i.raw+=l}i.items[i.items.length-1].raw=i.items[i.items.length-1].raw.trimEnd(),i.items[i.items.length-1].text=i.items[i.items.length-1].text.trimEnd(),i.raw=i.raw.trimEnd();for(var w=0;w<i.items.length;w++)if(this.lexer.state.top=!1,i.items[w].tokens=this.lexer.blockTokens(i.items[w].text,[]),!i.loose){var D=i.items[w].tokens.filter((e=>"space"===e.type)),k=D.length>0&&D.some((e=>/\n.*\n/.test(e.raw)));i.loose=k}if(i.loose)for(var E=0;E<i.items.length;E++)i.items[E].loose=!0;return i}}html(e){var t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){var t=this.rules.block.def.exec(e);if(t){var r=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:n,title:i}}}table(e){var t=this.rules.block.table.exec(e);if(t&&/[:|]/.test(t[2])){var r=E(t[1]),n=t[2].replace(/^\||\| *$/g,"").split("|"),i=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===n.length){for(var o of n)/^ *-+: *$/.test(o)?a.align.push("right"):/^ *:-+: *$/.test(o)?a.align.push("center"):/^ *:-+ *$/.test(o)?a.align.push("left"):a.align.push(null);for(var s=0;s<r.length;s++)a.header.push({text:r[s],tokens:this.lexer.inline(r[s]),header:!0,align:a.align[s]});for(var l of i)a.rows.push(E(l,a.header.length).map(((e,t)=>({text:e,tokens:this.lexer.inline(e),header:!1,align:a.align[t]}))));return a}}}lheading(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){var t=this.rules.block.paragraph.exec(e);if(t){var r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:v(t[1])}}tag(e){var t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){var t=this.rules.inline.link.exec(e);if(t){var r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;var n=A(r.slice(0,-1),"\\");if((r.length-n.length)%2==0)return}else{var i=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var r=0,n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&--r<0)return n;return-1}(t[2],"()");if(i>-1){var a=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}var o=t[2],s="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),C(t,{href:o?o.replace(this.rules.inline.anyPunctuation,"$1"):o,title:s?s.replace(this.rules.inline.anyPunctuation,"$1"):s},t[0],this.lexer)}}reflink(e,t){var r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){var n=t[(r[2]||r[1]).replace(/\s+/g," ").toLowerCase()];if(!n){var i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return C(r,n,r[0],this.lexer)}}emStrong(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=this.rules.inline.emStrongLDelim.exec(e);if(n&&(!n[3]||!r.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDD40-\uDD65\uDD6F-\uDD85\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDED0-\uDEE3\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0\uDFF0-\uDFF9]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDF50-\uDF59\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D\uDD30-\uDD39]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDD70-\uDD79\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD833[\uDCF0-\uDCF9]|\uD834[\uDEC0-\uDED3\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDCD0-\uDCEB\uDCF0-\uDCF9\uDDD0-\uDDED\uDDF0-\uDDFA\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])/))&&(!n[1]&&!n[2]||!r||this.rules.inline.punctuation.exec(r))){var i,a,o=[...n[0]].length-1,s=o,l=0,u="*"===n[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+o);null!=(n=u.exec(t));)if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6])if(a=[...i].length,n[3]||n[4])s+=a;else if(!((n[5]||n[6])&&o%3)||(o+a)%3){if(!((s-=a)>0)){a=Math.min(a,a+s+l);var c=[...n[0]][0].length,h=e.slice(0,o+n.index+c+a);if(Math.min(o,a)%2){var d=h.slice(1,-1);return{type:"em",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}var f=h.slice(2,-2);return{type:"strong",raw:h,text:f,tokens:this.lexer.inlineTokens(f)}}}else l+=a}}codespan(e){var t=this.rules.inline.code.exec(e);if(t){var r=t[2].replace(/\n/g," "),n=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return n&&i&&(r=r.substring(1,r.length-1)),r=v(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){var t,r,n=this.rules.inline.autolink.exec(e);if(n)return r="@"===n[2]?"mailto:"+(t=v(n[1])):t=v(n[1]),{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}url(e){var t;if(t=this.rules.inline.url.exec(e)){var r,n;if("@"===t[2])n="mailto:"+(r=v(t[0]));else{var i;do{var a,o;i=t[0],t[0]=null!==(a=null===(o=this.rules.inline._backpedal.exec(t[0]))||void 0===o?void 0:o[0])&&void 0!==a?a:""}while(i!==t[0]);r=v(t[0]),n="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){var t,r=this.rules.inline.text.exec(e);if(r)return t=this.lexer.state.inRawBlock?r[0]:v(r[0]),{type:"text",raw:r[0],text:t}}}var T=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,S=/(?:[*+-]|\d{1,9}[.)])/,F=w(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,S).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),O=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,B=/(?!\s*\])(?:\\.|[^\[\]\\])+/,N=w(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",B).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),L=w(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,S).getRegex(),I="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",R=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,M=w("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",R).replace("tag",I).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),P=w(O).replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I).getRegex(),z={blockquote:w(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",P).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:N,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:T,html:M,lheading:F,list:L,newline:/^(?: *(?:\n|$))+/,paragraph:P,table:k,text:/^[^\n]+/},$=w("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I).getRegex(),j=l(l({},z),{},{table:$,paragraph:w(O).replace("hr",T).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",I).getRegex()}),K=l(l({},z),{},{html:w("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",R).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:k,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:w(O).replace("hr",T).replace("heading"," *#{1,6} *[^\n]").replace("lheading",F).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),q=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,U=/^( {2,}|\\)\n(?!\s*$)/,H="\\p{P}\\p{S}",W=w(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,H).getRegex(),G=w(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,H).getRegex(),V=w("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,H).getRegex(),Y=w("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,H).getRegex(),X=w(/\\([punct])/,"gu").replace(/punct/g,H).getRegex(),Z=w(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Q=w(R).replace("(?:--\x3e|$)","--\x3e").getRegex(),J=w("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Q).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ee=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,te=w(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ee).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),re=w(/^!?\[(label)\]\[(ref)\]/).replace("label",ee).replace("ref",B).getRegex(),ne=w(/^!?\[(ref)\](?:\[\])?/).replace("ref",B).getRegex(),ie={_backpedal:k,anyPunctuation:X,autolink:Z,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:U,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:k,emStrongLDelim:G,emStrongRDelimAst:V,emStrongRDelimUnd:Y,escape:q,link:te,nolink:ne,punctuation:W,reflink:re,reflinkSearch:w("reflink|nolink(?!\\()","g").replace("reflink",re).replace("nolink",ne).getRegex(),tag:J,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:k},ae=l(l({},ie),{},{link:w(/^!?\[(label)\]\((.*?)\)/).replace("label",ee).getRegex(),reflink:w(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ee).getRegex()}),oe=l(l({},ie),{},{escape:w(q).replace("])","~|])").getRegex(),url:w(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),se=l(l({},oe),{},{br:w(U).replace("{2,}","*").getRegex(),text:w(oe.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),le={normal:z,gfm:j,pedantic:K},ue={normal:ie,gfm:oe,breaks:se,pedantic:ae};class ce{constructor(e){u(this,"tokens",void 0),u(this,"options",void 0),u(this,"state",void 0),u(this,"tokenizer",void 0),u(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=e||c,this.options.tokenizer=this.options.tokenizer||new _,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var t={block:le.normal,inline:ue.normal};this.options.pedantic?(t.block=le.pedantic,t.inline=ue.pedantic):this.options.gfm&&(t.block=le.gfm,this.options.breaks?t.inline=ue.breaks:t.inline=ue.gfm),this.tokenizer.rules=t}static get rules(){return{block:le,inline:ue}}static lex(e,t){return new ce(t).lex(e)}static lexInline(e,t){return new ce(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(var t=0;t<this.inlineQueue.length;t++){var r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e){var t,r,n,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,r)=>t+"    ".repeat(r.length)));for(var s,l=function(){if(i.options.extensions&&i.options.extensions.block&&i.options.extensions.block.some((r=>!!(t=r.call({lexer:i},e,a))&&(e=e.substring(t.raw.length),a.push(t),!0))))return 0;if(t=i.tokenizer.space(e))return e=e.substring(t.raw.length),1===t.raw.length&&a.length>0?a[a.length-1].raw+="\n":a.push(t),0;if(t=i.tokenizer.code(e))return e=e.substring(t.raw.length),!(r=a[a.length-1])||"paragraph"!==r.type&&"text"!==r.type?a.push(t):(r.raw+="\n"+t.raw,r.text+="\n"+t.text,i.inlineQueue[i.inlineQueue.length-1].src=r.text),0;if(t=i.tokenizer.fences(e))return e=e.substring(t.raw.length),a.push(t),0;if(t=i.tokenizer.heading(e))return e=e.substring(t.raw.length),a.push(t),0;if(t=i.tokenizer.hr(e))return e=e.substring(t.raw.length),a.push(t),0;if(t=i.tokenizer.blockquote(e))return e=e.substring(t.raw.length),a.push(t),0;if(t=i.tokenizer.list(e))return e=e.substring(t.raw.length),a.push(t),0;if(t=i.tokenizer.html(e))return e=e.substring(t.raw.length),a.push(t),0;if(t=i.tokenizer.def(e))return e=e.substring(t.raw.length),!(r=a[a.length-1])||"paragraph"!==r.type&&"text"!==r.type?i.tokens.links[t.tag]||(i.tokens.links[t.tag]={href:t.href,title:t.title}):(r.raw+="\n"+t.raw,r.text+="\n"+t.raw,i.inlineQueue[i.inlineQueue.length-1].src=r.text),0;if(t=i.tokenizer.table(e))return e=e.substring(t.raw.length),a.push(t),0;if(t=i.tokenizer.lheading(e))return e=e.substring(t.raw.length),a.push(t),0;if(n=e,i.options.extensions&&i.options.extensions.startBlock){var s,l=1/0,u=e.slice(1);i.options.extensions.startBlock.forEach((e=>{"number"==typeof(s=e.call({lexer:i},u))&&s>=0&&(l=Math.min(l,s))})),l<1/0&&l>=0&&(n=e.substring(0,l+1))}var c;if(i.state.top&&(t=i.tokenizer.paragraph(n)))return r=a[a.length-1],o&&"paragraph"===(null===(c=r)||void 0===c?void 0:c.type)?(r.raw+="\n"+t.raw,r.text+="\n"+t.text,i.inlineQueue.pop(),i.inlineQueue[i.inlineQueue.length-1].src=r.text):a.push(t),o=n.length!==e.length,e=e.substring(t.raw.length),0;if(t=i.tokenizer.text(e))return e=e.substring(t.raw.length),(r=a[a.length-1])&&"text"===r.type?(r.raw+="\n"+t.raw,r.text+="\n"+t.text,i.inlineQueue.pop(),i.inlineQueue[i.inlineQueue.length-1].src=r.text):a.push(t),0;if(e){var h="Infinite loop on byte: "+e.charCodeAt(0);if(i.options.silent)return console.error(h),1;throw new Error(h)}};e&&(0===(s=l())||1!==s););return this.state.top=!0,a}inline(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e){var t,r,n,i,a,o,s=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=e;if(this.tokens.links){var c=Object.keys(this.tokens.links);if(c.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(u));)c.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(u=u.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(u));)u=u.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+u.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.anyPunctuation.exec(u));)u=u.slice(0,i.index)+"++"+u.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(var h,d=function(){if(a||(o=""),a=!1,s.options.extensions&&s.options.extensions.inline&&s.options.extensions.inline.some((r=>!!(t=r.call({lexer:s},e,l))&&(e=e.substring(t.raw.length),l.push(t),!0))))return 0;if(t=s.tokenizer.escape(e))return e=e.substring(t.raw.length),l.push(t),0;if(t=s.tokenizer.tag(e))return e=e.substring(t.raw.length),(r=l[l.length-1])&&"text"===t.type&&"text"===r.type?(r.raw+=t.raw,r.text+=t.text):l.push(t),0;if(t=s.tokenizer.link(e))return e=e.substring(t.raw.length),l.push(t),0;if(t=s.tokenizer.reflink(e,s.tokens.links))return e=e.substring(t.raw.length),(r=l[l.length-1])&&"text"===t.type&&"text"===r.type?(r.raw+=t.raw,r.text+=t.text):l.push(t),0;if(t=s.tokenizer.emStrong(e,u,o))return e=e.substring(t.raw.length),l.push(t),0;if(t=s.tokenizer.codespan(e))return e=e.substring(t.raw.length),l.push(t),0;if(t=s.tokenizer.br(e))return e=e.substring(t.raw.length),l.push(t),0;if(t=s.tokenizer.del(e))return e=e.substring(t.raw.length),l.push(t),0;if(t=s.tokenizer.autolink(e))return e=e.substring(t.raw.length),l.push(t),0;if(!s.state.inLink&&(t=s.tokenizer.url(e)))return e=e.substring(t.raw.length),l.push(t),0;if(n=e,s.options.extensions&&s.options.extensions.startInline){var i,c=1/0,h=e.slice(1);s.options.extensions.startInline.forEach((e=>{"number"==typeof(i=e.call({lexer:s},h))&&i>=0&&(c=Math.min(c,i))})),c<1/0&&c>=0&&(n=e.substring(0,c+1))}if(t=s.tokenizer.inlineText(n))return e=e.substring(t.raw.length),"_"!==t.raw.slice(-1)&&(o=t.raw.slice(-1)),a=!0,(r=l[l.length-1])&&"text"===r.type?(r.raw+=t.raw,r.text+=t.text):l.push(t),0;if(e){var d="Infinite loop on byte: "+e.charCodeAt(0);if(s.options.silent)return console.error(d),1;throw new Error(d)}};e&&(0===(h=d())||1!==h););return l}}class he{constructor(e){u(this,"options",void 0),u(this,"parser",void 0),this.options=e||c}space(e){return""}code(e){var t,{text:r,lang:n,escaped:i}=e,a=null===(t=(n||"").match(/^\S*/))||void 0===t?void 0:t[0],o=r.replace(/\n$/,"")+"\n";return a?'<pre><code class="language-'+v(a)+'">'+(i?o:v(o,!0))+"</code></pre>\n":"<pre><code>"+(i?o:v(o,!0))+"</code></pre>\n"}blockquote(e){var{tokens:t}=e,r=this.parser.parse(t);return"<blockquote>\n".concat(r,"</blockquote>\n")}html(e){var{text:t}=e;return t}heading(e){var{tokens:t,depth:r}=e;return"<h".concat(r,">").concat(this.parser.parseInline(t),"</h").concat(r,">\n")}hr(e){return"<hr>\n"}list(e){for(var t=e.ordered,r=e.start,n="",i=0;i<e.items.length;i++){var a=e.items[i];n+=this.listitem(a)}var o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(e){var t="";if(e.task){var r=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&"paragraph"===e.tokens[0].type?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=r+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),"<li>".concat(t,"</li>\n")}checkbox(e){var{checked:t}=e;return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){var{tokens:t}=e;return"<p>".concat(this.parser.parseInline(t),"</p>\n")}table(e){for(var t="",r="",n=0;n<e.header.length;n++)r+=this.tablecell(e.header[n]);t+=this.tablerow({text:r});for(var i="",a=0;a<e.rows.length;a++){var o=e.rows[a];r="";for(var s=0;s<o.length;s++)r+=this.tablecell(o[s]);i+=this.tablerow({text:r})}return i&&(i="<tbody>".concat(i,"</tbody>")),"<table>\n<thead>\n"+t+"</thead>\n"+i+"</table>\n"}tablerow(e){var{text:t}=e;return"<tr>\n".concat(t,"</tr>\n")}tablecell(e){var t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?"<".concat(r,' align="').concat(e.align,'">'):"<".concat(r,">"))+t+"</".concat(r,">\n")}strong(e){var{tokens:t}=e;return"<strong>".concat(this.parser.parseInline(t),"</strong>")}em(e){var{tokens:t}=e;return"<em>".concat(this.parser.parseInline(t),"</em>")}codespan(e){var{text:t}=e;return"<code>".concat(t,"</code>")}br(e){return"<br>"}del(e){var{tokens:t}=e;return"<del>".concat(this.parser.parseInline(t),"</del>")}link(e){var{href:t,title:r,tokens:n}=e,i=this.parser.parseInline(n),a=D(t);if(null===a)return i;var o='<a href="'+(t=a)+'"';return r&&(o+=' title="'+r+'"'),o+">"+i+"</a>"}image(e){var{href:t,title:r,text:n}=e,i=D(t);if(null===i)return n;var a='<img src="'.concat(t=i,'" alt="').concat(n,'"');return r&&(a+=' title="'.concat(r,'"')),a+">"}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class de{strong(e){var{text:t}=e;return t}em(e){var{text:t}=e;return t}codespan(e){var{text:t}=e;return t}del(e){var{text:t}=e;return t}html(e){var{text:t}=e;return t}text(e){var{text:t}=e;return t}link(e){var{text:t}=e;return""+t}image(e){var{text:t}=e;return""+t}br(){return""}}class fe{constructor(e){u(this,"options",void 0),u(this,"renderer",void 0),u(this,"textRenderer",void 0),this.options=e||c,this.options.renderer=this.options.renderer||new he,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new de}static parse(e,t){return new fe(t).parse(e)}static parseInline(e,t){return new fe(t).parseInline(e)}parse(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r="",n=0;n<e.length;n++){var i=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){var a=i,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==o||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=o||"";continue}}var s=i;switch(s.type){case"space":r+=this.renderer.space(s);continue;case"hr":r+=this.renderer.hr(s);continue;case"heading":r+=this.renderer.heading(s);continue;case"code":r+=this.renderer.code(s);continue;case"table":r+=this.renderer.table(s);continue;case"blockquote":r+=this.renderer.blockquote(s);continue;case"list":r+=this.renderer.list(s);continue;case"html":r+=this.renderer.html(s);continue;case"paragraph":r+=this.renderer.paragraph(s);continue;case"text":for(var l=s,u=this.renderer.text(l);n+1<e.length&&"text"===e[n+1].type;)l=e[++n],u+="\n"+this.renderer.text(l);r+=t?this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u}]}):u;continue;default:var c='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}return r}parseInline(e,t){t=t||this.renderer;for(var r="",n=0;n<e.length;n++){var i=e[n];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){var a=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}var o=i;switch(o.type){case"escape":case"text":r+=t.text(o);break;case"html":r+=t.html(o);break;case"link":r+=t.link(o);break;case"image":r+=t.image(o);break;case"strong":r+=t.strong(o);break;case"em":r+=t.em(o);break;case"codespan":r+=t.codespan(o);break;case"br":r+=t.br(o);break;case"del":r+=t.del(o);break;default:var s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}return r}}class pe{constructor(e){u(this,"options",void 0),this.options=e||c}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}u(pe,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var ge=new WeakSet;function me(e,t,r){switch(t){case"heading":return function(n){return n.type&&n.type===t?e.call(this,r.parser.parseInline(n.tokens),n.depth,function(e){return e.replace(b,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}(r.parser.parseInline(n.tokens,r.parser.textRenderer))):e.apply(this,arguments)};case"code":return function(r){return r.type&&r.type===t?e.call(this,r.text,r.lang,!!r.escaped):e.apply(this,arguments)};case"table":return function(r){if(!r.type||r.type!==t)return e.apply(this,arguments);for(var n="",i="",a=0;a<r.header.length;a++)i+=this.tablecell({text:r.header[a].text,tokens:r.header[a].tokens,header:!0,align:r.align[a]});n+=this.tablerow({text:i});for(var o="",s=0;s<r.rows.length;s++){var l=r.rows[s];i="";for(var u=0;u<l.length;u++)i+=this.tablecell({text:l[u].text,tokens:l[u].tokens,header:!1,align:r.align[u]});o+=this.tablerow({text:i})}return e.call(this,n,o)};case"blockquote":return function(r){if(!r.type||r.type!==t)return e.apply(this,arguments);var n=this.parser.parse(r.tokens);return e.call(this,n)};case"list":return function(r){if(!r.type||r.type!==t)return e.apply(this,arguments);for(var n=r.ordered,i=r.start,a=r.loose,o="",s=0;s<r.items.length;s++){var l=r.items[s],u=l.checked,c=l.task,h="";if(l.task){var d=this.checkbox({checked:!!u});a?l.tokens.length>0&&"paragraph"===l.tokens[0].type?(l.tokens[0].text=d+" "+l.tokens[0].text,l.tokens[0].tokens&&l.tokens[0].tokens.length>0&&"text"===l.tokens[0].tokens[0].type&&(l.tokens[0].tokens[0].text=d+" "+l.tokens[0].tokens[0].text)):l.tokens.unshift({type:"text",text:d+" "}):h+=d+" "}h+=this.parser.parse(l.tokens,a),o+=this.listitem({type:"list_item",raw:h,text:h,task:c,checked:!!u,loose:a,tokens:l.tokens})}return e.call(this,o,n,i)};case"html":return function(r){return r.type&&r.type===t?e.call(this,r.text,r.block):e.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(r){return r.type&&r.type===t?e.call(this,this.parser.parseInline(r.tokens)):e.apply(this,arguments)};case"escape":case"codespan":case"text":return function(r){return r.type&&r.type===t?e.call(this,r.text):e.apply(this,arguments)};case"link":return function(r){return r.type&&r.type===t?e.call(this,r.href,r.title,this.parser.parseInline(r.tokens)):e.apply(this,arguments)};case"image":return function(r){return r.type&&r.type===t?e.call(this,r.href,r.title,r.text):e.apply(this,arguments)}}return e}function ye(e,t){return(r,n)=>{var i=l({},n),a=l(l({},this.defaults),i);!0===this.defaults.async&&!1===i.async&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);var s=o(ge,this,ve).call(this,!!a.silent,!!a.async);if(null==r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then((t=>e(t,a))).then((e=>a.hooks?a.hooks.processAllTokens(e):e)).then((e=>a.walkTokens?Promise.all(this.walkTokens(e,a.walkTokens)).then((()=>e)):e)).then((e=>t(e,a))).then((e=>a.hooks?a.hooks.postprocess(e):e)).catch(s);try{a.hooks&&(r=a.hooks.preprocess(r));var u=e(r,a);a.hooks&&(u=a.hooks.processAllTokens(u)),a.walkTokens&&this.walkTokens(u,a.walkTokens);var c=t(u,a);return a.hooks&&(c=a.hooks.postprocess(c)),c}catch(e){return s(e)}}}function ve(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){var n="<p>An error occurred:</p><pre>"+v(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}var be=new class{constructor(){var e,t;(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e=this,t=ge),t.add(e),u(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),u(this,"options",this.setOptions),u(this,"parse",o(ge,this,ye).call(this,ce.lex,fe.parse)),u(this,"parseInline",o(ge,this,ye).call(this,ce.lexInline,fe.parseInline)),u(this,"Parser",fe),u(this,"Renderer",he),u(this,"TextRenderer",de),u(this,"Lexer",ce),u(this,"Tokenizer",_),u(this,"Hooks",pe),this.use(...arguments)}walkTokens(e,t){var r=this,n=[],i=function(){switch(n=n.concat(t.call(r,a)),a.type){case"table":var e=a;for(var i of e.header)n=n.concat(r.walkTokens(i.tokens,t));for(var o of e.rows)for(var s of o)n=n.concat(r.walkTokens(s.tokens,t));break;case"list":var l=a;n=n.concat(r.walkTokens(l.items,t));break;default:var u,c=a;null!==(u=r.defaults.extensions)&&void 0!==u&&null!==(u=u.childTokens)&&void 0!==u&&u[c.type]?r.defaults.extensions.childTokens[c.type].forEach((e=>{var i=c[e].flat(1/0);n=n.concat(r.walkTokens(i,t))})):c.tokens&&(n=n.concat(r.walkTokens(c.tokens,t)))}};for(var a of e)i();return n}use(){for(var e=this,t=this.defaults.extensions||{renderers:{},childTokens:{}},r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return n.forEach((r=>{var n=l({},r);if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if("renderer"in e){var r=t.renderers[e.name];t.renderers[e.name]=r?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=e.renderer.apply(this,n);return!1===a&&(a=r.apply(this,n)),a}:e.renderer}if("tokenizer"in e){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");var n=t[e.level];n?n.unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}"childTokens"in e&&e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),r.renderer){var i=this.defaults.renderer||new he(this.defaults),a=function(){if(!(s in i))throw new Error("renderer '".concat(s,"' does not exist"));if(["options","parser"].includes(s))return 1;var t=s,n=r.renderer[t];r.useNewRenderer||(n=o(ge,e,me).call(e,n,t,i));var a=i[t];i[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=n.apply(i,t);return!1===o&&(o=a.apply(i,t)),o||""}};for(var s in r.renderer)a();n.renderer=i}if(r.tokenizer){var u=this.defaults.tokenizer||new _(this.defaults),c=function(){if(!(h in u))throw new Error("tokenizer '".concat(h,"' does not exist"));if(["options","rules","lexer"].includes(h))return 1;var e=h,t=r.tokenizer[e],n=u[e];u[e]=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=t.apply(u,r);return!1===a&&(a=n.apply(u,r)),a}};for(var h in r.tokenizer)c();n.tokenizer=u}if(r.hooks){var d=this.defaults.hooks||new pe,f=function(){if(!(p in d))throw new Error("hook '".concat(p,"' does not exist"));if("options"===p)return 1;var t=p,n=r.hooks[t],i=d[t];pe.passThroughHooks.has(p)?d[t]=t=>{if(e.defaults.async)return Promise.resolve(n.call(d,t)).then((e=>i.call(d,e)));var r=n.call(d,t);return i.call(d,r)}:d[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=n.apply(d,t);return!1===a&&(a=i.apply(d,t)),a}};for(var p in r.hooks)f();n.hooks=d}if(r.walkTokens){var g=this.defaults.walkTokens,m=r.walkTokens;n.walkTokens=function(e){var t=[];return t.push(m.call(this,e)),g&&(t=t.concat(g.call(this,e))),t}}this.defaults=l(l({},this.defaults),n)})),this}setOptions(e){return this.defaults=l(l({},this.defaults),e),this}lexer(e,t){return ce.lex(e,null!=t?t:this.defaults)}parser(e,t){return fe.parse(e,null!=t?t:this.defaults)}};function xe(e,t){return be.parse(e,t)}xe.options=xe.setOptions=function(e){return be.setOptions(e),xe.defaults=be.defaults,h(xe.defaults),xe},xe.getDefaults=function(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},xe.defaults=c,xe.use=function(){return be.use(...arguments),xe.defaults=be.defaults,h(xe.defaults),xe},xe.walkTokens=function(e,t){return be.walkTokens(e,t)},xe.parseInline=be.parseInline,xe.Parser=fe,xe.parser=fe.parse,xe.Renderer=he,xe.TextRenderer=de,xe.Lexer=ce,xe.lexer=ce.lex,xe.Tokenizer=_,xe.Hooks=pe,xe.parse=xe,xe.options,xe.setOptions,xe.use,xe.walkTokens,xe.parseInline,fe.parse,ce.lex;var we=r(7412);function De(e,{markdownAutoWrap:t}){const r=e.replace(/<br\/>/g,"\n").replace(/\n{2,}/g,"\n"),n=(0,we.T)(r);return!1===t?n.replace(/ /g,"&nbsp;"):n}function ke(e,t={}){const r=De(e,t),n=xe.lexer(r),a=[[]];let o=0;function s(e,t="normal"){"text"===e.type?e.text.split("\n").forEach(((e,r)=>{0!==r&&(o++,a.push([])),e.split(" ").forEach((e=>{(e=e.replace(/&#39;/g,"'"))&&a[o].push({content:e,type:t})}))})):"strong"===e.type||"em"===e.type?e.tokens.forEach((t=>{s(t,e.type)})):"html"===e.type&&a[o].push({content:e.text,type:"normal"})}return(0,i.K2)(s,"processNode"),n.forEach((e=>{"paragraph"===e.type?e.tokens?.forEach((e=>{s(e)})):"html"===e.type&&a[o].push({content:e.text,type:"normal"})})),a}function Ee(e,{markdownAutoWrap:t}={}){const r=xe.lexer(e);function n(e){return"text"===e.type?!1===t?e.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):e.text.replace(/\n */g,"<br/>"):"strong"===e.type?`<strong>${e.tokens?.map(n).join("")}</strong>`:"em"===e.type?`<em>${e.tokens?.map(n).join("")}</em>`:"paragraph"===e.type?`<p>${e.tokens?.map(n).join("")}</p>`:"space"===e.type?"":"html"===e.type?`${e.text}`:"escape"===e.type?e.text:`Unsupported markdown: ${e.type}`}return(0,i.K2)(n,"output"),r.map(n).join("")}function Ae(e){return Intl.Segmenter?[...(new Intl.Segmenter).segment(e)].map((e=>e.segment)):[...e]}function Ce(e,t){return _e(e,[],Ae(t.content),t.type)}function _e(e,t,r,n){if(0===r.length)return[{content:t.join(""),type:n},{content:"",type:n}];const[i,...a]=r,o=[...t,i];return e([{content:o.join(""),type:n}])?_e(e,o,a,n):(0===t.length&&i&&(t.push(i),r.shift()),[{content:t.join(""),type:n},{content:r.join(""),type:n}])}function Te(e,t){if(e.some((({content:e})=>e.includes("\n"))))throw new Error("splitLineToFitWidth does not support newlines in the line");return Se(e,t)}function Se(e,t,r=[],n=[]){if(0===e.length)return n.length>0&&r.push(n),r.length>0?r:[];let i="";" "===e[0].content&&(i=" ",e.shift());const a=e.shift()??{content:" ",type:"normal"},o=[...n];if(""!==i&&o.push({content:i,type:"normal"}),o.push(a),t(o))return Se(e,t,r,o);if(n.length>0)r.push(n),e.unshift(a);else if(a.content){const[n,i]=Ce(t,a);r.push([n]),i.content&&e.unshift(i)}return Se(e,t,r)}function Fe(e,t){t&&e.attr("style",t)}async function Oe(e,t,r,n,a=!1){const o=e.append("foreignObject");o.attr("width",10*r+"px"),o.attr("height",10*r+"px");const s=o.append("xhtml:div");let l=t.label;t.label&&(0,i.Wi)(t.label)&&(l=await(0,i.VJ)(t.label.replace(i.Y2.lineBreakRegex,"\n"),(0,i.D7)()));const u=t.isNode?"nodeLabel":"edgeLabel",c=s.append("span");c.html(l),Fe(c,t.labelStyle),c.attr("class",`${u} ${n}`),Fe(s,t.labelStyle),s.style("display","table-cell"),s.style("white-space","nowrap"),s.style("line-height","1.5"),s.style("max-width",r+"px"),s.style("text-align","center"),s.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&s.attr("class","labelBkg");let h=s.node().getBoundingClientRect();return h.width===r&&(s.style("display","table"),s.style("white-space","break-spaces"),s.style("width",r+"px"),h=s.node().getBoundingClientRect()),o.node()}function Be(e,t,r){return e.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",t*r-.1+"em").attr("dy",r+"em")}function Ne(e,t,r){const n=e.append("text"),i=Be(n,1,t);Re(i,r);const a=i.node().getComputedTextLength();return n.remove(),a}function Le(e,t,r){const n=e.append("text"),i=Be(n,1,t);Re(i,[{content:r,type:"normal"}]);const a=i.node()?.getBoundingClientRect();return a&&n.remove(),a}function Ie(e,t,r,n=!1){const a=t.append("g"),o=a.insert("rect").attr("class","background").attr("style","stroke: none"),s=a.append("text").attr("y","-10.1");let l=0;for(const t of r){const r=(0,i.K2)((t=>Ne(a,1.1,t)<=e),"checkWidth"),n=r(t)?[t]:Te(t,r);for(const e of n)Re(Be(s,l,1.1),e),l++}if(n){const e=s.node().getBBox(),t=2;return o.attr("x",e.x-t).attr("y",e.y-t).attr("width",e.width+2*t).attr("height",e.height+2*t),a.node()}return s.node()}function Re(e,t){e.text(""),t.forEach(((t,r)=>{const n=e.append("tspan").attr("font-style","em"===t.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===t.type?"bold":"normal");0===r?n.text(t.content):n.text(" "+t.content)}))}function Me(e){return e.replace(/fa[bklrs]?:fa-[\w-]+/g,(e=>`<i class='${e.replace(":"," ")}'></i>`))}(0,i.K2)(De,"preprocessMarkdown"),(0,i.K2)(ke,"markdownToLines"),(0,i.K2)(Ee,"markdownToHTML"),(0,i.K2)(Ae,"splitTextToChars"),(0,i.K2)(Ce,"splitWordToFitWidth"),(0,i.K2)(_e,"splitWordToFitWidthRecursion"),(0,i.K2)(Te,"splitLineToFitWidth"),(0,i.K2)(Se,"splitLineToFitWidthRecursion"),(0,i.K2)(Fe,"applyStyle"),(0,i.K2)(Oe,"addHtmlSpan"),(0,i.K2)(Be,"createTspan"),(0,i.K2)(Ne,"computeWidthOfText"),(0,i.K2)(Le,"computeDimensionOfText"),(0,i.K2)(Ie,"createFormattedText"),(0,i.K2)(Re,"updateTextContentAndStyles"),(0,i.K2)(Me,"replaceIconSubstring");var Pe=(0,i.K2)((async(e,t="",{style:r="",isTitle:o=!1,classes:s="",useHtmlLabels:l=!0,isNode:u=!0,width:c=200,addSvgBackground:h=!1}={},d)=>{if(i.Rm.debug("XYZ createText",t,r,o,s,l,u,"addSvgBackground: ",h),l){const a=Ee(t,d),o=Me((0,n.Sm)(a)),l=t.replace(/\\\\/g,"\\"),f={isNode:u,label:(0,i.Wi)(t)?l:o,labelStyle:r.replace("fill:","color:")};return await Oe(e,f,c,s,h)}{const n=Ie(c,e,ke(t.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),d),!!t&&h);if(u){/stroke:/.exec(r)&&(r=r.replace("stroke:","lineColor:"));const e=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,a.Ltv)(n).attr("style",e)}else{const e=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");(0,a.Ltv)(n).select("rect").attr("style",e.replace(/background:/g,"fill:"));const t=r.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,a.Ltv)(n).select("text").attr("style",t)}return n}}),"createText")},8159:(e,t,r)=>{"use strict";r.d(t,{$C:()=>_,$t:()=>q,C4:()=>H,I5:()=>K,Ib:()=>g,KL:()=>V,Sm:()=>W,Un:()=>I,_K:()=>U,bH:()=>B,dq:()=>$,pe:()=>l,rY:()=>G,ru:()=>L,sM:()=>A,vU:()=>f,yT:()=>S});var n=r(7692),i=r(5397),a=r(5763),o=r(927),s=r(6014),l="​",u={curveBasis:a.qrM,curveBasisClosed:a.Yu4,curveBasisOpen:a.IA3,curveBumpX:a.Wi0,curveBumpY:a.PGM,curveBundle:a.OEq,curveCardinalClosed:a.olC,curveCardinalOpen:a.IrU,curveCardinal:a.y8u,curveCatmullRomClosed:a.Q7f,curveCatmullRomOpen:a.cVp,curveCatmullRom:a.oDi,curveLinear:a.lUB,curveLinearClosed:a.Lx9,curveMonotoneX:a.nVG,curveMonotoneY:a.uxU,curveNatural:a.Xf2,curveStep:a.GZz,curveStepAfter:a.UPb,curveStepBefore:a.dyv},c=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,h=(0,n.K2)((function(e,t){const r=d(e,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(r)){const e=r.map((e=>e.args));(0,n.$i)(e),i=(0,n.hH)(i,[...e])}else i=r.args;if(!i)return;let a=(0,n.Ch)(e,t);const o="config";return void 0!==i[o]&&("flowchart-v2"===a&&(a="flowchart"),i[a]=i[o],delete i[o]),i}),"detectInit"),d=(0,n.K2)((function(e,t=null){try{const r=new RegExp(`[%]{2}(?![{]${c.source})(?=[}][%]{2}).*\n`,"ig");let i;e=e.trim().replace(r,"").replace(/'/gm,'"'),n.Rm.debug(`Detecting diagram directive${null!==t?" type:"+t:""} based on the text:${e}`);const a=[];for(;null!==(i=n.DB.exec(e));)if(i.index===n.DB.lastIndex&&n.DB.lastIndex++,i&&!t||t&&i[1]?.match(t)||t&&i[2]?.match(t)){const e=i[1]?i[1]:i[2],t=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;a.push({type:e,args:t})}return 0===a.length?{type:e,args:null}:1===a.length?a[0]:a}catch(r){return n.Rm.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}}),"detectDirective"),f=(0,n.K2)((function(e){return e.replace(n.DB,"")}),"removeDirectives"),p=(0,n.K2)((function(e,t){for(const[r,n]of t.entries())if(n.match(e))return r;return-1}),"isSubstringInArray");function g(e,t){if(!e)return t;const r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return u[r]??t}function m(e,t){const r=e.trim();if(r)return"loose"!==t.securityLevel?(0,i.J)(r):r}(0,n.K2)(g,"interpolateToCurve"),(0,n.K2)(m,"formatUrl");var y=(0,n.K2)(((e,...t)=>{const r=e.split("."),i=r.length-1,a=r[i];let o=window;for(let t=0;t<i;t++)if(o=o[r[t]],!o)return void n.Rm.error(`Function name: ${e} not found in window`);o[a](...t)}),"runFunc");function v(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function b(e){let t,r=0;return e.forEach((e=>{r+=v(e,t),t=e})),D(e,r/2)}function x(e){return 1===e.length?e[0]:b(e)}(0,n.K2)(v,"distance"),(0,n.K2)(b,"traverseEdge"),(0,n.K2)(x,"calcLabelPosition");var w=(0,n.K2)(((e,t=2)=>{const r=Math.pow(10,t);return Math.round(e*r)/r}),"roundNumber"),D=(0,n.K2)(((e,t)=>{let r,n=t;for(const t of e){if(r){const e=v(t,r);if(e<n)n-=e;else{const i=n/e;if(i<=0)return r;if(i>=1)return{x:t.x,y:t.y};if(i>0&&i<1)return{x:w((1-i)*r.x+i*t.x,5),y:w((1-i)*r.y+i*t.y,5)}}}r=t}throw new Error("Could not find a suitable point for the given distance")}),"calculatePoint"),k=(0,n.K2)(((e,t,r)=>{n.Rm.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());const i=D(t,25),a=e?10:5,o=Math.atan2(t[0].y-i.y,t[0].x-i.x),s={x:0,y:0};return s.x=Math.sin(o)*a+(t[0].x+i.x)/2,s.y=-Math.cos(o)*a+(t[0].y+i.y)/2,s}),"calcCardinalityPosition");function E(e,t,r){const i=structuredClone(r);n.Rm.info("our points",i),"start_left"!==t&&"start_right"!==t&&i.reverse();const a=D(i,25+e),o=10+.5*e,s=Math.atan2(i[0].y-a.y,i[0].x-a.x),l={x:0,y:0};return"start_left"===t?(l.x=Math.sin(s+Math.PI)*o+(i[0].x+a.x)/2,l.y=-Math.cos(s+Math.PI)*o+(i[0].y+a.y)/2):"end_right"===t?(l.x=Math.sin(s-Math.PI)*o+(i[0].x+a.x)/2-5,l.y=-Math.cos(s-Math.PI)*o+(i[0].y+a.y)/2-5):"end_left"===t?(l.x=Math.sin(s)*o+(i[0].x+a.x)/2-5,l.y=-Math.cos(s)*o+(i[0].y+a.y)/2-5):(l.x=Math.sin(s)*o+(i[0].x+a.x)/2,l.y=-Math.cos(s)*o+(i[0].y+a.y)/2),l}function A(e){let t="",r="";for(const n of e)void 0!==n&&(n.startsWith("color:")||n.startsWith("text-align:")?r=r+n+";":t=t+n+";");return{style:t,labelStyle:r}}(0,n.K2)(E,"calcTerminalLabelPosition"),(0,n.K2)(A,"getStylesFromArray");var C=0,_=(0,n.K2)((()=>(C++,"id-"+Math.random().toString(36).substr(2,12)+"-"+C)),"generateId");function T(e){let t="";for(let r=0;r<e;r++)t+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return t}(0,n.K2)(T,"makeRandomHex");var S=(0,n.K2)((e=>T(e.length)),"random"),F=(0,n.K2)((function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}}),"getTextObj"),O=(0,n.K2)((function(e,t){const r=t.text.replace(n.Y2.lineBreakRegex," "),[,i]=K(t.fontSize),a=e.append("text");a.attr("x",t.x),a.attr("y",t.y),a.style("text-anchor",t.anchor),a.style("font-family",t.fontFamily),a.style("font-size",i),a.style("font-weight",t.fontWeight),a.attr("fill",t.fill),void 0!==t.class&&a.attr("class",t.class);const o=a.append("tspan");return o.attr("x",t.x+2*t.textMargin),o.attr("fill",t.fill),o.text(r),a}),"drawSimpleText"),B=(0,o.A)(((e,t,r)=>{if(!e)return e;if(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),n.Y2.lineBreakRegex.test(e))return e;const i=e.split(" ").filter(Boolean),a=[];let o="";return i.forEach(((e,n)=>{const s=I(`${e} `,r),l=I(o,r);if(s>t){const{hyphenatedStrings:n,remainingWord:i}=N(e,t,"-",r);a.push(o,...n),o=i}else l+s>=t?(a.push(o),o=e):o=[o,e].filter(Boolean).join(" ");n+1===i.length&&a.push(o)})),a.filter((e=>""!==e)).join(r.joinWith)}),((e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`)),N=(0,o.A)(((e,t,r="-",n)=>{n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},n);const i=[...e],a=[];let o="";return i.forEach(((e,s)=>{const l=`${o}${e}`;if(I(l,n)>=t){const e=s+1,t=i.length===e,n=`${l}${r}`;a.push(t?l:n),o=""}else o=l})),{hyphenatedStrings:a,remainingWord:o}}),((e,t,r="-",n)=>`${e}${t}${r}${n.fontSize}${n.fontWeight}${n.fontFamily}`));function L(e,t){return M(e,t).height}function I(e,t){return M(e,t).width}(0,n.K2)(L,"calculateTextHeight"),(0,n.K2)(I,"calculateTextWidth");var R,M=(0,o.A)(((e,t)=>{const{fontSize:r=12,fontFamily:i="Arial",fontWeight:o=400}=t;if(!e)return{width:0,height:0};const[,s]=K(r),u=["sans-serif",i],c=e.split(n.Y2.lineBreakRegex),h=[],d=(0,a.Ltv)("body");if(!d.remove)return{width:0,height:0,lineHeight:0};const f=d.append("svg");for(const e of u){let t=0;const r={width:0,height:0,lineHeight:0};for(const n of c){const i=F();i.text=n||l;const a=O(f,i).style("font-size",s).style("font-weight",o).style("font-family",e),u=(a._groups||a)[0][0].getBBox();if(0===u.width&&0===u.height)throw new Error("svg element not in render tree");r.width=Math.round(Math.max(r.width,u.width)),t=Math.round(u.height),r.height+=t,r.lineHeight=Math.round(Math.max(r.lineHeight,t))}h.push(r)}return f.remove(),h[isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1]}),((e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`)),P=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{(0,n.K2)(this,"InitIDGenerator")}},z=(0,n.K2)((function(e){return R=R||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),R.innerHTML=e,unescape(R.textContent)}),"entityDecode");function $(e){return"str"in e}(0,n.K2)($,"isDetailedError");var j=(0,n.K2)(((e,t,r,n)=>{if(!n)return;const i=e.node()?.getBBox();i&&e.append("text").text(n).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-r).attr("class",t)}),"insertTitle"),K=(0,n.K2)((e=>{if("number"==typeof e)return[e,e+"px"];const t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]}),"parseFontSize");function q(e,t){return(0,s.A)({},e,t)}(0,n.K2)(q,"cleanAndMerge");var U={assignWithDepth:n.hH,wrapLabel:B,calculateTextHeight:L,calculateTextWidth:I,calculateTextDimensions:M,cleanAndMerge:q,detectInit:h,detectDirective:d,isSubstringInArray:p,interpolateToCurve:g,calcLabelPosition:x,calcCardinalityPosition:k,calcTerminalLabelPosition:E,formatUrl:m,getStylesFromArray:A,generateId:_,random:S,runFunc:y,entityDecode:z,insertTitle:j,parseFontSize:K,InitIDGenerator:P},H=(0,n.K2)((function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,(function(e){return e.substring(0,e.length-1)})),t=t.replace(/classDef.*:\S*#.*;/g,(function(e){return e.substring(0,e.length-1)})),t=t.replace(/#\w+;/g,(function(e){const t=e.substring(1,e.length-1);return/^\+?\d+$/.test(t)?"ﬂ°°"+t+"¶ß":"ﬂ°"+t+"¶ß"})),t}),"encodeEntities"),W=(0,n.K2)((function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")}),"decodeEntities"),G=(0,n.K2)(((e,t,{counter:r=0,prefix:n,suffix:i})=>`${n?`${n}_`:""}${e}_${t}_${r}${i?`_${i}`:""}`),"getEdgeId");function V(e){return e??null}(0,n.K2)(V,"handleUndefinedAttr")},1282:(e,t,r)=>{"use strict";r.d(t,{DA:()=>x,IU:()=>L,U:()=>N,U7:()=>Dt,U_:()=>Et,Zk:()=>c,aP:()=>bt,gh:()=>kt,lC:()=>d,on:()=>wt});var n=r(1099),i=r(3115),a=r(8945),o=r(8159),s=r(7692),l=r(5763),u=r(9111),c=(0,s.K2)((async(e,t,r)=>{let n;const i=t.useHtmlLabels||(0,s._3)((0,s.D7)()?.htmlLabels);n=r||"node default";const u=e.insert("g").attr("class",n).attr("id",t.domId||t.id),c=u.insert("g").attr("class","label").attr("style",(0,o.KL)(t.labelStyle));let h;h=void 0===t.label?"":"string"==typeof t.label?t.label:t.label[0];const d=await(0,a.GZ)(c,(0,s.jZ)((0,o.Sm)(h),(0,s.D7)()),{useHtmlLabels:i,width:t.width||(0,s.D7)().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:t.labelStyle,addSvgBackground:!!t.icon||!!t.img});let f=d.getBBox();const p=(t?.padding??0)/2;if(i){const e=d.children[0],t=(0,l.Ltv)(d),r=e.getElementsByTagName("img");if(r){const e=""===h.replace(/<img[^>]*>/g,"").trim();await Promise.all([...r].map((t=>new Promise((r=>{function n(){if(t.style.display="flex",t.style.flexDirection="column",e){const e=(0,s.D7)().fontSize?(0,s.D7)().fontSize:window.getComputedStyle(document.body).fontSize,r=5,[n=s.UI.fontSize]=(0,o.I5)(e),i=n*r+"px";t.style.minWidth=i,t.style.maxWidth=i}else t.style.width="100%";r(t)}(0,s.K2)(n,"setupImage"),setTimeout((()=>{t.complete&&n()})),t.addEventListener("error",n),t.addEventListener("load",n)})))))}f=e.getBoundingClientRect(),t.attr("width",f.width),t.attr("height",f.height)}return i?c.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):c.attr("transform","translate(0, "+-f.height/2+")"),t.centerLabel&&c.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),c.insert("rect",":first-child"),{shapeSvg:u,bbox:f,halfPadding:p,label:c}}),"labelHelper"),h=(0,s.K2)((async(e,t,r)=>{const n=r.useHtmlLabels||(0,s._3)((0,s.D7)()?.flowchart?.htmlLabels),i=e.insert("g").attr("class","label").attr("style",r.labelStyle||""),u=await(0,a.GZ)(i,(0,s.jZ)((0,o.Sm)(t),(0,s.D7)()),{useHtmlLabels:n,width:r.width||(0,s.D7)()?.flowchart?.wrappingWidth,style:r.labelStyle,addSvgBackground:!!r.icon||!!r.img});let c=u.getBBox();const h=r.padding/2;if((0,s._3)((0,s.D7)()?.flowchart?.htmlLabels)){const e=u.children[0],t=(0,l.Ltv)(u);c=e.getBoundingClientRect(),t.attr("width",c.width),t.attr("height",c.height)}return n?i.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):i.attr("transform","translate(0, "+-c.height/2+")"),r.centerLabel&&i.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:e,bbox:c,halfPadding:h,label:i}}),"insertLabel"),d=(0,s.K2)(((e,t)=>{const r=t.node().getBBox();e.width=r.width,e.height=r.height}),"updateNodeBounds"),f=(0,s.K2)(((e,t)=>("handDrawn"===e.look?"rough-node":"node")+" "+e.cssClasses+" "+(t||"")),"getNodeClasses");function p(e){const t=e.map(((e,t)=>`${0===t?"M":"L"}${e.x},${e.y}`));return t.push("Z"),t.join(" ")}function g(e,t,r,n,i,a){const o=[],s=r-e,l=n-t,u=s/a,c=2*Math.PI/u,h=t+l/2;for(let t=0;t<=50;t++){const r=e+t/50*s,n=h+i*Math.sin(c*(r-e));o.push({x:r,y:n})}return o}function m(e,t,r,n,i,a){const o=[],s=i*Math.PI/180,l=(a*Math.PI/180-s)/(n-1);for(let i=0;i<n;i++){const n=s+i*l,a=e+r*Math.cos(n),u=t+r*Math.sin(n);o.push({x:-a,y:-u})}return o}(0,s.K2)(p,"createPathFromPoints"),(0,s.K2)(g,"generateFullSineWavePoints"),(0,s.K2)(m,"generateCirclePoints");var y=(0,s.K2)(((e,t)=>{var r,n,i=e.x,a=e.y,o=t.x-i,s=t.y-a,l=e.width/2,u=e.height/2;return Math.abs(s)*l>Math.abs(o)*u?(s<0&&(u=-u),r=0===s?0:u*o/s,n=u):(o<0&&(l=-l),r=l,n=0===o?0:l*s/o),{x:i+r,y:a+n}}),"intersectRect");function v(e,t){t&&e.attr("style",t)}async function b(e){const t=(0,l.Ltv)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),r=t.append("xhtml:div");let n=e.label;e.label&&(0,s.Wi)(e.label)&&(n=await(0,s.VJ)(e.label.replace(s.Y2.lineBreakRegex,"\n"),(0,s.D7)()));const i=e.isNode?"nodeLabel":"edgeLabel";return r.html('<span class="'+i+'" '+(e.labelStyle?'style="'+e.labelStyle+'"':"")+">"+n+"</span>"),v(r,e.labelStyle),r.style("display","inline-block"),r.style("padding-right","1px"),r.style("white-space","nowrap"),r.attr("xmlns","http://www.w3.org/1999/xhtml"),t.node()}(0,s.K2)(v,"applyStyle"),(0,s.K2)(b,"addHtmlLabel");var x=(0,s.K2)((async(e,t,r,n)=>{let i=e||"";if("object"==typeof i&&(i=i[0]),(0,s._3)((0,s.D7)().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),s.Rm.info("vertexText"+i);const e={isNode:n,label:(0,o.Sm)(i).replace(/fa[blrs]?:fa-[\w-]+/g,(e=>`<i class='${e.replace(":"," ")}'></i>`)),labelStyle:t?t.replace("fill:","color:"):t};return await b(e)}{const e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("style",t.replace("color:","fill:"));let n=[];n="string"==typeof i?i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?i:[];for(const t of n){const n=document.createElementNS("http://www.w3.org/2000/svg","tspan");n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),n.setAttribute("dy","1em"),n.setAttribute("x","0"),r?n.setAttribute("class","title-row"):n.setAttribute("class","row"),n.textContent=t.trim(),e.appendChild(n)}return e}}),"createLabel"),w=(0,s.K2)(((e,t,r,n,i)=>["M",e+i,t,"H",e+r-i,"A",i,i,0,0,1,e+r,t+i,"V",t+n-i,"A",i,i,0,0,1,e+r-i,t+n,"H",e+i,"A",i,i,0,0,1,e,t+n-i,"V",t+i,"A",i,i,0,0,1,e+i,t,"Z"].join(" ")),"createRoundedRectPathD"),D=(0,s.K2)((e=>{const{handDrawnSeed:t}=(0,s.D7)();return{fill:e,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:e,seed:t}}),"solidStateFill"),k=(0,s.K2)((e=>{const t=E([...e.cssCompiledStyles||[],...e.cssStyles||[]]);return{stylesMap:t,stylesArray:[...t]}}),"compileStyles"),E=(0,s.K2)((e=>{const t=new Map;return e.forEach((e=>{const[r,n]=e.split(":");t.set(r.trim(),n?.trim())})),t}),"styles2Map"),A=(0,s.K2)((e=>{const{stylesArray:t}=k(e),r=[],n=[],i=[],a=[];return t.forEach((e=>{const t=e[0];"color"===t||"font-size"===t||"font-family"===t||"font-weight"===t||"font-style"===t||"text-decoration"===t||"text-align"===t||"text-transform"===t||"line-height"===t||"letter-spacing"===t||"word-spacing"===t||"text-shadow"===t||"text-overflow"===t||"white-space"===t||"word-wrap"===t||"word-break"===t||"overflow-wrap"===t||"hyphens"===t?r.push(e.join(":")+" !important"):(n.push(e.join(":")+" !important"),t.includes("stroke")&&i.push(e.join(":")+" !important"),"fill"===t&&a.push(e.join(":")+" !important"))})),{labelStyles:r.join(";"),nodeStyles:n.join(";"),stylesArray:t,borderStyles:i,backgroundStyles:a}}),"styles2String"),C=(0,s.K2)(((e,t)=>{const{themeVariables:r,handDrawnSeed:n}=(0,s.D7)(),{nodeBorder:i,mainBkg:a}=r,{stylesMap:o}=k(e);return Object.assign({roughness:.7,fill:o.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:n,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0]},t)}),"userNodeOverrides"),_=(0,s.K2)((async(e,t)=>{s.Rm.info("Creating subgraph rect for ",t.id,t);const r=(0,s.D7)(),{themeVariables:n,handDrawnSeed:o}=r,{clusterBkg:c,clusterBorder:h}=n,{labelStyles:d,nodeStyles:f,borderStyles:p,backgroundStyles:g}=A(t),m=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=(0,s._3)(r.flowchart.htmlLabels),b=m.insert("g").attr("class","cluster-label "),x=await(0,a.GZ)(b,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0});let D=x.getBBox();if((0,s._3)(r.flowchart.htmlLabels)){const e=x.children[0],t=(0,l.Ltv)(x);D=e.getBoundingClientRect(),t.attr("width",D.width),t.attr("height",D.height)}const k=t.width<=D.width+t.padding?D.width+t.padding:t.width;t.width<=D.width+t.padding?t.diff=(k-t.width)/2-t.padding:t.diff=-t.padding;const E=t.height,_=t.x-k/2,T=t.y-E/2;let S;if(s.Rm.trace("Data ",t,JSON.stringify(t)),"handDrawn"===t.look){const e=u.A.svg(m),r=C(t,{roughness:.7,fill:c,stroke:h,fillWeight:3,seed:o}),n=e.path(w(_,T,k,E,0),r);S=m.insert((()=>(s.Rm.debug("Rough node insert CXC",n),n)),":first-child"),S.select("path:nth-child(2)").attr("style",p.join(";")),S.select("path").attr("style",g.join(";").replace("fill","stroke"))}else S=m.insert("rect",":first-child"),S.attr("style",f).attr("rx",t.rx).attr("ry",t.ry).attr("x",_).attr("y",T).attr("width",k).attr("height",E);const{subGraphTitleTopMargin:F}=(0,i.O)(r);if(b.attr("transform",`translate(${t.x-D.width/2}, ${t.y-t.height/2+F})`),d){const e=b.select("span");e&&e.attr("style",d)}const O=S.node().getBBox();return t.offsetX=0,t.width=O.width,t.height=O.height,t.offsetY=D.height-t.padding/2,t.intersect=function(e){return y(t,e)},{cluster:m,labelBBox:D}}),"rect"),T=(0,s.K2)(((e,t)=>{const r=e.insert("g").attr("class","note-cluster").attr("id",t.id),n=r.insert("rect",":first-child"),i=0*t.padding,a=i/2;n.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");const o=n.node().getBBox();return t.width=o.width,t.height=o.height,t.intersect=function(e){return y(t,e)},{cluster:r,labelBBox:{width:0,height:0}}}),"noteGroup"),S=(0,s.K2)((async(e,t)=>{const r=(0,s.D7)(),{themeVariables:n,handDrawnSeed:i}=r,{altBackground:a,compositeBackground:o,compositeTitleBackground:c,nodeBorder:h}=n,d=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-id",t.id).attr("data-look",t.look),f=d.insert("g",":first-child"),p=d.insert("g").attr("class","cluster-label");let g=d.append("rect");const m=p.node().appendChild(await x(t.label,t.labelStyle,void 0,!0));let v=m.getBBox();if((0,s._3)(r.flowchart.htmlLabels)){const e=m.children[0],t=(0,l.Ltv)(m);v=e.getBoundingClientRect(),t.attr("width",v.width),t.attr("height",v.height)}const b=0*t.padding,D=b/2,k=(t.width<=v.width+t.padding?v.width+t.padding:t.width)+b;t.width<=v.width+t.padding?t.diff=(k-t.width)/2-t.padding:t.diff=-t.padding;const E=t.height+b,A=t.height+b-v.height-6,C=t.x-k/2,_=t.y-E/2;t.width=k;const T=t.y-t.height/2-D+v.height+2;let S;if("handDrawn"===t.look){const e=t.cssClasses.includes("statediagram-cluster-alt"),r=u.A.svg(d),n=t.rx||t.ry?r.path(w(C,_,k,E,10),{roughness:.7,fill:c,fillStyle:"solid",stroke:h,seed:i}):r.rectangle(C,_,k,E,{seed:i});S=d.insert((()=>n),":first-child");const s=r.rectangle(C,T,k,A,{fill:e?a:o,fillStyle:e?"hachure":"solid",stroke:h,seed:i});S=d.insert((()=>n),":first-child"),g=d.insert((()=>s))}else{S=f.insert("rect",":first-child");const e="outer";S.attr("class",e).attr("x",C).attr("y",_).attr("width",k).attr("height",E).attr("data-look",t.look),g.attr("class","inner").attr("x",C).attr("y",T).attr("width",k).attr("height",A)}p.attr("transform",`translate(${t.x-v.width/2}, ${_+1-((0,s._3)(r.flowchart.htmlLabels)?0:3)})`);const F=S.node().getBBox();return t.height=F.height,t.offsetX=0,t.offsetY=v.height-t.padding/2,t.labelBBox=v,t.intersect=function(e){return y(t,e)},{cluster:d,labelBBox:v}}),"roundedWithTitle"),F=(0,s.K2)((async(e,t)=>{s.Rm.info("Creating subgraph rect for ",t.id,t);const r=(0,s.D7)(),{themeVariables:n,handDrawnSeed:o}=r,{clusterBkg:c,clusterBorder:h}=n,{labelStyles:d,nodeStyles:f,borderStyles:p,backgroundStyles:g}=A(t),m=e.insert("g").attr("class","cluster "+t.cssClasses).attr("id",t.id).attr("data-look",t.look),v=(0,s._3)(r.flowchart.htmlLabels),b=m.insert("g").attr("class","cluster-label "),x=await(0,a.GZ)(b,t.label,{style:t.labelStyle,useHtmlLabels:v,isNode:!0,width:t.width});let D=x.getBBox();if((0,s._3)(r.flowchart.htmlLabels)){const e=x.children[0],t=(0,l.Ltv)(x);D=e.getBoundingClientRect(),t.attr("width",D.width),t.attr("height",D.height)}const k=t.width<=D.width+t.padding?D.width+t.padding:t.width;t.width<=D.width+t.padding?t.diff=(k-t.width)/2-t.padding:t.diff=-t.padding;const E=t.height,_=t.x-k/2,T=t.y-E/2;let S;if(s.Rm.trace("Data ",t,JSON.stringify(t)),"handDrawn"===t.look){const e=u.A.svg(m),r=C(t,{roughness:.7,fill:c,stroke:h,fillWeight:4,seed:o}),n=e.path(w(_,T,k,E,t.rx),r);S=m.insert((()=>(s.Rm.debug("Rough node insert CXC",n),n)),":first-child"),S.select("path:nth-child(2)").attr("style",p.join(";")),S.select("path").attr("style",g.join(";").replace("fill","stroke"))}else S=m.insert("rect",":first-child"),S.attr("style",f).attr("rx",t.rx).attr("ry",t.ry).attr("x",_).attr("y",T).attr("width",k).attr("height",E);const{subGraphTitleTopMargin:F}=(0,i.O)(r);if(b.attr("transform",`translate(${t.x-D.width/2}, ${t.y-t.height/2+F})`),d){const e=b.select("span");e&&e.attr("style",d)}const O=S.node().getBBox();return t.offsetX=0,t.width=O.width,t.height=O.height,t.offsetY=D.height-t.padding/2,t.intersect=function(e){return y(t,e)},{cluster:m,labelBBox:D}}),"kanbanSection"),O={rect:_,squareRect:_,roundedWithTitle:S,noteGroup:T,divider:(0,s.K2)(((e,t)=>{const r=(0,s.D7)(),{themeVariables:n,handDrawnSeed:i}=r,{nodeBorder:a}=n,o=e.insert("g").attr("class",t.cssClasses).attr("id",t.id).attr("data-look",t.look),l=o.insert("g",":first-child"),c=0*t.padding,h=t.width+c;t.diff=-t.padding;const d=t.height+c,f=t.x-h/2,p=t.y-d/2;let g;if(t.width=h,"handDrawn"===t.look){const e=u.A.svg(o).rectangle(f,p,h,d,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:i});g=o.insert((()=>e),":first-child")}else{g=l.insert("rect",":first-child");const e="divider";g.attr("class",e).attr("x",f).attr("y",p).attr("width",h).attr("height",d).attr("data-look",t.look)}const m=g.node().getBBox();return t.height=m.height,t.offsetX=0,t.offsetY=0,t.intersect=function(e){return y(t,e)},{cluster:o,labelBBox:{}}}),"divider"),kanbanSection:F},B=new Map,N=(0,s.K2)((async(e,t)=>{const r=t.shape||"rect",n=await O[r](e,t);return B.set(t.id,n),n}),"insertCluster"),L=(0,s.K2)((()=>{B=new Map}),"clear");function I(e,t){return e.intersect(t)}(0,s.K2)(I,"intersectNode");var R=I;function M(e,t,r,n){var i=e.x,a=e.y,o=i-n.x,s=a-n.y,l=Math.sqrt(t*t*s*s+r*r*o*o),u=Math.abs(t*r*o/l);n.x<i&&(u=-u);var c=Math.abs(t*r*s/l);return n.y<a&&(c=-c),{x:i+u,y:a+c}}(0,s.K2)(M,"intersectEllipse");var P=M;function z(e,t,r){return P(e,t,t,r)}(0,s.K2)(z,"intersectCircle");var $=z;function j(e,t,r,n){var i,a,o,s,l,u,c,h,d,f,p,g,m;if(i=t.y-e.y,o=e.x-t.x,l=t.x*e.y-e.x*t.y,d=i*r.x+o*r.y+l,f=i*n.x+o*n.y+l,!(0!==d&&0!==f&&K(d,f)||(a=n.y-r.y,s=r.x-n.x,u=n.x*r.y-r.x*n.y,c=a*e.x+s*e.y+u,h=a*t.x+s*t.y+u,0!==c&&0!==h&&K(c,h)||0==(p=i*s-a*o))))return g=Math.abs(p/2),{x:(m=o*u-s*l)<0?(m-g)/p:(m+g)/p,y:(m=a*l-i*u)<0?(m-g)/p:(m+g)/p}}function K(e,t){return e*t>0}(0,s.K2)(j,"intersectLine"),(0,s.K2)(K,"sameSign");var q=j;function U(e,t,r){let n=e.x,i=e.y,a=[],o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;"function"==typeof t.forEach?t.forEach((function(e){o=Math.min(o,e.x),s=Math.min(s,e.y)})):(o=Math.min(o,t.x),s=Math.min(s,t.y));let l=n-e.width/2-o,u=i-e.height/2-s;for(let n=0;n<t.length;n++){let i=t[n],o=t[n<t.length-1?n+1:0],s=q(e,r,{x:l+i.x,y:u+i.y},{x:l+o.x,y:u+o.y});s&&a.push(s)}return a.length?(a.length>1&&a.sort((function(e,t){let n=e.x-r.x,i=e.y-r.y,a=Math.sqrt(n*n+i*i),o=t.x-r.x,s=t.y-r.y,l=Math.sqrt(o*o+s*s);return a<l?-1:a===l?0:1})),a[0]):e}(0,s.K2)(U,"intersectPolygon");var H={node:R,circle:$,ellipse:P,polygon:U,rect:y};function W(e,t){const{labelStyles:r}=A(t);t.labelStyle=r;const n=f(t);let i=n;n||(i="anchor");const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),{cssStyles:l}=t,c=u.A.svg(a),h=C(t,{fill:"black",stroke:"none",fillStyle:"solid"});"handDrawn"!==t.look&&(h.roughness=0);const p=c.circle(0,0,2,h),g=a.insert((()=>p),":first-child");return g.attr("class","anchor").attr("style",(0,o.KL)(l)),d(t,g),t.intersect=function(e){return s.Rm.info("Circle intersect",t,1,e),H.circle(t,1,e)},a}function G(e,t,r,n,i,a,o){const s=(e+r)/2,l=(t+n)/2,u=Math.atan2(n-t,r-e),c=(r-e)/2/i,h=(n-t)/2/a,d=Math.sqrt(c**2+h**2);if(d>1)throw new Error("The given radii are too small to create an arc between the points.");const f=Math.sqrt(1-d**2),p=s+f*a*Math.sin(u)*(o?-1:1),g=l-f*i*Math.cos(u)*(o?-1:1),m=Math.atan2((t-g)/a,(e-p)/i);let y=Math.atan2((n-g)/a,(r-p)/i)-m;o&&y<0&&(y+=2*Math.PI),!o&&y>0&&(y-=2*Math.PI);const v=[];for(let e=0;e<20;e++){const t=m+e/19*y,r=p+i*Math.cos(t),n=g+a*Math.sin(t);v.push({x:r,y:n})}return v}async function V(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=a.width+t.padding+20,s=a.height+t.padding,l=s/2,h=l/(2.5+s/50),{cssStyles:g}=t,m=[{x:o/2,y:-s/2},{x:-o/2,y:-s/2},...G(-o/2,-s/2,-o/2,s/2,h,l,!1),{x:o/2,y:s/2},...G(o/2,s/2,o/2,-s/2,h,l,!0)],y=u.A.svg(i),v=C(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const b=p(m),x=y.path(b,v),w=i.insert((()=>x),":first-child");return w.attr("class","basic label-container"),g&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",g),n&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${h/2}, 0)`),d(t,w),t.intersect=function(e){return H.polygon(t,m,e)},i}function Y(e,t,r,n){return e.insert("polygon",":first-child").attr("points",n.map((function(e){return e.x+","+e.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-t/2+","+r/2+")")}async function X(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=a.height+t.padding,s=a.width+t.padding+12,l=-o,h=[{x:12,y:l},{x:s,y:l},{x:s,y:0},{x:0,y:0},{x:0,y:l+12},{x:12,y:l}];let g;const{cssStyles:m}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=p(h),a=e.path(n,r);g=i.insert((()=>a),":first-child").attr("transform",`translate(${-s/2}, ${o/2})`),m&&g.attr("style",m)}else g=Y(i,s,o,h);return n&&g.attr("style",n),d(t,g),t.intersect=function(e){return H.polygon(t,h,e)},i}function Z(e,t){const{nodeStyles:r}=A(t);t.label="";const n=e.insert("g").attr("class",f(t)).attr("id",t.domId??t.id),{cssStyles:i}=t,a=Math.max(28,t.width??0),o=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],s=u.A.svg(n),l=C(t,{});"handDrawn"!==t.look&&(l.roughness=0,l.fillStyle="solid");const c=p(o),h=s.path(c,l),d=n.insert((()=>h),":first-child");return i&&"handDrawn"!==t.look&&d.selectAll("path").attr("style",i),r&&"handDrawn"!==t.look&&d.selectAll("path").attr("style",r),t.width=28,t.height=28,t.intersect=function(e){return H.polygon(t,o,e)},n}async function Q(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:l}=await c(e,t,f(t)),h=a.width/2+l;let p;const{cssStyles:g}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=e.circle(0,0,2*h,r);p=i.insert((()=>n),":first-child"),p.attr("class","basic label-container").attr("style",(0,o.KL)(g))}else p=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",n).attr("r",h).attr("cx",0).attr("cy",0);return d(t,p),t.intersect=function(e){return s.Rm.info("Circle intersect",t,h,e),H.circle(t,h,e)},i}function J(e){const t=Math.cos(Math.PI/4),r=Math.sin(Math.PI/4),n=2*e;return`M ${-n/2*t},${n/2*r} L ${n/2*t},${-n/2*r}\n                   M ${n/2*t},${n/2*r} L ${-n/2*t},${-n/2*r}`}function ee(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r,t.label="";const i=e.insert("g").attr("class",f(t)).attr("id",t.domId??t.id),a=Math.max(30,t?.width??0),{cssStyles:o}=t,l=u.A.svg(i),c=C(t,{});"handDrawn"!==t.look&&(c.roughness=0,c.fillStyle="solid");const h=l.circle(0,0,2*a,c),p=J(a),g=l.path(p,c),m=i.insert((()=>h),":first-child");return m.insert((()=>g)),o&&"handDrawn"!==t.look&&m.selectAll("path").attr("style",o),n&&"handDrawn"!==t.look&&m.selectAll("path").attr("style",n),d(t,m),t.intersect=function(e){return s.Rm.info("crossedCircle intersect",t,{radius:a,point:e}),H.circle(t,a,e)},i}function te(e,t,r,n=100,i=0,a=180){const o=[],s=i*Math.PI/180,l=(a*Math.PI/180-s)/(n-1);for(let i=0;i<n;i++){const n=s+i*l,a=e+r*Math.cos(n),u=t+r*Math.sin(n);o.push({x:-a,y:-u})}return o}async function re(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=a.width+(t.padding??0),l=a.height+(t.padding??0),h=Math.max(5,.1*l),{cssStyles:g}=t,m=[...te(s/2,-l/2,h,30,-90,0),{x:-s/2-h,y:h},...te(s/2+2*h,-h,h,20,-180,-270),...te(s/2+2*h,h,h,20,-90,-180),{x:-s/2-h,y:-l/2},...te(s/2,l/2,h,20,0,90)],y=[{x:s/2,y:-l/2-h},{x:-s/2,y:-l/2-h},...te(s/2,-l/2,h,20,-90,0),{x:-s/2-h,y:-h},...te(s/2+.1*s,-h,h,20,-180,-270),...te(s/2+.1*s,h,h,20,-90,-180),{x:-s/2-h,y:l/2},...te(s/2,l/2,h,20,0,90),{x:-s/2,y:l/2+h},{x:s/2,y:l/2+h}],v=u.A.svg(i),b=C(t,{fill:"none"});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const x=p(m).replace("Z",""),w=v.path(x,b),D=p(y),k=v.path(D,{...b}),E=i.insert("g",":first-child");return E.insert((()=>k),":first-child").attr("stroke-opacity",0),E.insert((()=>w),":first-child"),E.attr("class","text"),g&&"handDrawn"!==t.look&&E.selectAll("path").attr("style",g),n&&"handDrawn"!==t.look&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${h}, 0)`),o.attr("transform",`translate(${-s/2+h-(a.x-(a.left??0))},${-l/2+(t.padding??0)/2-(a.y-(a.top??0))})`),d(t,E),t.intersect=function(e){return H.polygon(t,y,e)},i}function ne(e,t,r,n=100,i=0,a=180){const o=[],s=i*Math.PI/180,l=(a*Math.PI/180-s)/(n-1);for(let i=0;i<n;i++){const n=s+i*l,a=e+r*Math.cos(n),u=t+r*Math.sin(n);o.push({x:a,y:u})}return o}async function ie(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=a.width+(t.padding??0),l=a.height+(t.padding??0),h=Math.max(5,.1*l),{cssStyles:g}=t,m=[...ne(s/2,-l/2,h,20,-90,0),{x:s/2+h,y:-h},...ne(s/2+2*h,-h,h,20,-180,-270),...ne(s/2+2*h,h,h,20,-90,-180),{x:s/2+h,y:l/2},...ne(s/2,l/2,h,20,0,90)],y=[{x:-s/2,y:-l/2-h},{x:s/2,y:-l/2-h},...ne(s/2,-l/2,h,20,-90,0),{x:s/2+h,y:-h},...ne(s/2+2*h,-h,h,20,-180,-270),...ne(s/2+2*h,h,h,20,-90,-180),{x:s/2+h,y:l/2},...ne(s/2,l/2,h,20,0,90),{x:s/2,y:l/2+h},{x:-s/2,y:l/2+h}],v=u.A.svg(i),b=C(t,{fill:"none"});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const x=p(m).replace("Z",""),w=v.path(x,b),D=p(y),k=v.path(D,{...b}),E=i.insert("g",":first-child");return E.insert((()=>k),":first-child").attr("stroke-opacity",0),E.insert((()=>w),":first-child"),E.attr("class","text"),g&&"handDrawn"!==t.look&&E.selectAll("path").attr("style",g),n&&"handDrawn"!==t.look&&E.selectAll("path").attr("style",n),E.attr("transform",`translate(${-h}, 0)`),o.attr("transform",`translate(${-s/2+(t.padding??0)/2-(a.x-(a.left??0))},${-l/2+(t.padding??0)/2-(a.y-(a.top??0))})`),d(t,E),t.intersect=function(e){return H.polygon(t,y,e)},i}function ae(e,t,r,n=100,i=0,a=180){const o=[],s=i*Math.PI/180,l=(a*Math.PI/180-s)/(n-1);for(let i=0;i<n;i++){const n=s+i*l,a=e+r*Math.cos(n),u=t+r*Math.sin(n);o.push({x:-a,y:-u})}return o}async function oe(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=a.width+(t.padding??0),l=a.height+(t.padding??0),h=Math.max(5,.1*l),{cssStyles:g}=t,m=[...ae(s/2,-l/2,h,30,-90,0),{x:-s/2-h,y:h},...ae(s/2+2*h,-h,h,20,-180,-270),...ae(s/2+2*h,h,h,20,-90,-180),{x:-s/2-h,y:-l/2},...ae(s/2,l/2,h,20,0,90)],y=[...ae(-s/2+h+h/2,-l/2,h,20,-90,-180),{x:s/2-h/2,y:h},...ae(-s/2-h/2,-h,h,20,0,90),...ae(-s/2-h/2,h,h,20,-90,0),{x:s/2-h/2,y:-h},...ae(-s/2+h+h/2,l/2,h,30,-180,-270)],v=[{x:s/2,y:-l/2-h},{x:-s/2,y:-l/2-h},...ae(s/2,-l/2,h,20,-90,0),{x:-s/2-h,y:-h},...ae(s/2+2*h,-h,h,20,-180,-270),...ae(s/2+2*h,h,h,20,-90,-180),{x:-s/2-h,y:l/2},...ae(s/2,l/2,h,20,0,90),{x:-s/2,y:l/2+h},{x:s/2-h-h/2,y:l/2+h},...ae(-s/2+h+h/2,-l/2,h,20,-90,-180),{x:s/2-h/2,y:h},...ae(-s/2-h/2,-h,h,20,0,90),...ae(-s/2-h/2,h,h,20,-90,0),{x:s/2-h/2,y:-h},...ae(-s/2+h+h/2,l/2,h,30,-180,-270)],b=u.A.svg(i),x=C(t,{fill:"none"});"handDrawn"!==t.look&&(x.roughness=0,x.fillStyle="solid");const w=p(m).replace("Z",""),D=b.path(w,x),k=p(y).replace("Z",""),E=b.path(k,x),_=p(v),T=b.path(_,{...x}),S=i.insert("g",":first-child");return S.insert((()=>T),":first-child").attr("stroke-opacity",0),S.insert((()=>D),":first-child"),S.insert((()=>E),":first-child"),S.attr("class","text"),g&&"handDrawn"!==t.look&&S.selectAll("path").attr("style",g),n&&"handDrawn"!==t.look&&S.selectAll("path").attr("style",n),S.attr("transform",`translate(${h-h/4}, 0)`),o.attr("transform",`translate(${-s/2+(t.padding??0)/2-(a.x-(a.left??0))},${-l/2+(t.padding??0)/2-(a.y-(a.top??0))})`),d(t,S),t.intersect=function(e){return H.polygon(t,v,e)},i}async function se(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(80,1.25*(a.width+2*(t.padding??0)),t?.width??0),s=Math.max(20,a.height+2*(t.padding??0),t?.height??0),l=s/2,{cssStyles:h}=t,g=u.A.svg(i),y=C(t,{});"handDrawn"!==t.look&&(y.roughness=0,y.fillStyle="solid");const v=o-l,b=s/4,x=[{x:v,y:0},{x:b,y:0},{x:0,y:s/2},{x:b,y:s},{x:v,y:s},...m(-v,-s/2,l,50,270,90)],w=p(x),D=g.path(w,y),k=i.insert((()=>D),":first-child");return k.attr("class","basic label-container"),h&&"handDrawn"!==t.look&&k.selectChildren("path").attr("style",h),n&&"handDrawn"!==t.look&&k.selectChildren("path").attr("style",n),k.attr("transform",`translate(${-o/2}, ${-s/2})`),d(t,k),t.intersect=function(e){return H.polygon(t,x,e)},i}(0,s.K2)(W,"anchor"),(0,s.K2)(G,"generateArcPoints"),(0,s.K2)(V,"bowTieRect"),(0,s.K2)(Y,"insertPolygonShape"),(0,s.K2)(X,"card"),(0,s.K2)(Z,"choice"),(0,s.K2)(Q,"circle"),(0,s.K2)(J,"createLine"),(0,s.K2)(ee,"crossedCircle"),(0,s.K2)(te,"generateCirclePoints"),(0,s.K2)(re,"curlyBraceLeft"),(0,s.K2)(ne,"generateCirclePoints"),(0,s.K2)(ie,"curlyBraceRight"),(0,s.K2)(ae,"generateCirclePoints"),(0,s.K2)(oe,"curlyBraces"),(0,s.K2)(se,"curvedTrapezoid");var le=(0,s.K2)(((e,t,r,n,i,a)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n].join(" ")),"createCylinderPathD"),ue=(0,s.K2)(((e,t,r,n,i,a)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n].join(" ")),"createOuterCylinderPathD"),ce=(0,s.K2)(((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" ")),"createInnerCylinderPathD");async function he(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await c(e,t,f(t)),l=Math.max(a.width+t.padding,t.width??0),h=l/2,p=h/(2.5+l/50),g=Math.max(a.height+p+t.padding,t.height??0);let m;const{cssStyles:y}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=ue(0,0,l,g,h,p),n=ce(0,p,l,g,h,p),a=e.path(r,C(t,{})),o=e.path(n,C(t,{fill:"none"}));m=i.insert((()=>o),":first-child"),m=i.insert((()=>a),":first-child"),m.attr("class","basic label-container"),y&&m.attr("style",y)}else{const e=le(0,0,l,g,h,p);m=i.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",(0,o.KL)(y)).attr("style",n)}return m.attr("label-offset-y",p),m.attr("transform",`translate(${-l/2}, ${-(g/2+p)})`),d(t,m),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-a.height/2+(t.padding??0)/1.5-(a.y-(a.top??0))})`),t.intersect=function(e){const r=H.rect(t,e),n=r.x-(t.x??0);if(0!=h&&(Math.abs(n)<(t.width??0)/2||Math.abs(n)==(t.width??0)/2&&Math.abs(r.y-(t.y??0))>(t.height??0)/2-p)){let i=p*p*(1-n*n/(h*h));i>0&&(i=Math.sqrt(i)),i=p-i,e.y-(t.y??0)>0&&(i=-i),r.y+=i}return r},i}async function de(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=a.width+t.padding,l=a.height+t.padding,h=.2*l,p=-s/2,g=-l/2-h/2,{cssStyles:m}=t,y=u.A.svg(i),v=C(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const b=[{x:p,y:g+h},{x:-p,y:g+h},{x:-p,y:-g},{x:p,y:-g},{x:p,y:g},{x:-p,y:g},{x:-p,y:g+h}],x=y.polygon(b.map((e=>[e.x,e.y])),v),w=i.insert((()=>x),":first-child");return w.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",n),o.attr("transform",`translate(${p+(t.padding??0)/2-(a.x-(a.left??0))}, ${g+h+(t.padding??0)/2-(a.y-(a.top??0))})`),d(t,w),t.intersect=function(e){return H.rect(t,e)},i}async function fe(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,halfPadding:l}=await c(e,t,f(t)),h=a.width/2+l+5,p=a.width/2+l;let g;const{cssStyles:m}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{roughness:.2,strokeWidth:2.5}),n=C(t,{roughness:.2,strokeWidth:1.5}),a=e.circle(0,0,2*h,r),s=e.circle(0,0,2*p,n);g=i.insert("g",":first-child"),g.attr("class",(0,o.KL)(t.cssClasses)).attr("style",(0,o.KL)(m)),g.node()?.appendChild(a),g.node()?.appendChild(s)}else{g=i.insert("g",":first-child");const e=g.insert("circle",":first-child"),t=g.insert("circle");g.attr("class","basic label-container").attr("style",n),e.attr("class","outer-circle").attr("style",n).attr("r",h).attr("cx",0).attr("cy",0),t.attr("class","inner-circle").attr("style",n).attr("r",p).attr("cx",0).attr("cy",0)}return d(t,g),t.intersect=function(e){return s.Rm.info("DoubleCircle intersect",t,h,e),H.circle(t,h,e)},i}function pe(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=A(t);t.label="",t.labelStyle=n;const a=e.insert("g").attr("class",f(t)).attr("id",t.domId??t.id),{cssStyles:o}=t,l=u.A.svg(a),{nodeBorder:c}=r,h=C(t,{fillStyle:"solid"});"handDrawn"!==t.look&&(h.roughness=0);const p=l.circle(0,0,14,h),g=a.insert((()=>p),":first-child");return g.selectAll("path").attr("style",`fill: ${c} !important;`),o&&o.length>0&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",o),i&&"handDrawn"!==t.look&&g.selectAll("path").attr("style",i),d(t,g),t.intersect=function(e){return s.Rm.info("filledCircle intersect",t,{radius:7,point:e}),H.circle(t,7,e)},a}async function ge(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),l=a.width+(t.padding??0),h=l+a.height,g=l+a.height,m=[{x:0,y:-h},{x:g,y:-h},{x:g/2,y:0}],{cssStyles:y}=t,v=u.A.svg(i),b=C(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const x=p(m),w=v.path(x,b),D=i.insert((()=>w),":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return y&&"handDrawn"!==t.look&&D.selectChildren("path").attr("style",y),n&&"handDrawn"!==t.look&&D.selectChildren("path").attr("style",n),t.width=l,t.height=h,d(t,D),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-h/2+(t.padding??0)/2+(a.y-(a.top??0))})`),t.intersect=function(e){return s.Rm.info("Triangle intersect",t,m,e),H.polygon(t,m,e)},i}function me(e,t,{dir:r,config:{state:n,themeVariables:i}}){const{nodeStyles:a}=A(t);t.label="";const o=e.insert("g").attr("class",f(t)).attr("id",t.domId??t.id),{cssStyles:s}=t;let l=Math.max(70,t?.width??0),c=Math.max(10,t?.height??0);"LR"===r&&(l=Math.max(10,t?.width??0),c=Math.max(70,t?.height??0));const h=-1*l/2,p=-1*c/2,g=u.A.svg(o),m=C(t,{stroke:i.lineColor,fill:i.lineColor});"handDrawn"!==t.look&&(m.roughness=0,m.fillStyle="solid");const y=g.rectangle(h,p,l,c,m),v=o.insert((()=>y),":first-child");s&&"handDrawn"!==t.look&&v.selectAll("path").attr("style",s),a&&"handDrawn"!==t.look&&v.selectAll("path").attr("style",a),d(t,v);const b=n?.padding??0;return t.width&&t.height&&(t.width+=b/2||0,t.height+=b/2||0),t.intersect=function(e){return H.rect(t,e)},o}async function ye(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(80,a.width+2*(t.padding??0),t?.width??0),l=Math.max(50,a.height+2*(t.padding??0),t?.height??0),h=l/2,{cssStyles:g}=t,y=u.A.svg(i),v=C(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const b=[{x:-o/2,y:-l/2},{x:o/2-h,y:-l/2},...m(-o/2+h,0,h,50,90,270),{x:o/2-h,y:l/2},{x:-o/2,y:l/2}],x=p(b),w=y.path(x,v),D=i.insert((()=>w),":first-child");return D.attr("class","basic label-container"),g&&"handDrawn"!==t.look&&D.selectChildren("path").attr("style",g),n&&"handDrawn"!==t.look&&D.selectChildren("path").attr("style",n),d(t,D),t.intersect=function(e){return s.Rm.info("Pill intersect",t,{radius:h,point:e}),H.polygon(t,b,e)},i}(0,s.K2)(he,"cylinder"),(0,s.K2)(de,"dividedRectangle"),(0,s.K2)(fe,"doublecircle"),(0,s.K2)(pe,"filledCircle"),(0,s.K2)(ge,"flippedTriangle"),(0,s.K2)(me,"forkJoin"),(0,s.K2)(ye,"halfRoundedRectangle");var ve=(0,s.K2)(((e,t,r,n,i)=>[`M${e+i},${t}`,`L${e+r-i},${t}`,`L${e+r},${t-n/2}`,`L${e+r-i},${t-n}`,`L${e+i},${t-n}`,`L${e},${t-n/2}`,"Z"].join(" ")),"createHexagonPathD");async function be(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=a.height+t.padding,s=o/4,l=a.width+2*s+t.padding,h=[{x:s,y:0},{x:l-s,y:0},{x:l,y:-o/2},{x:l-s,y:-o},{x:s,y:-o},{x:0,y:-o/2}];let p;const{cssStyles:g}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=ve(0,0,l,o,s),a=e.path(n,r);p=i.insert((()=>a),":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),g&&p.attr("style",g)}else p=Y(i,l,o,h);return n&&p.attr("style",n),t.width=l,t.height=o,d(t,p),t.intersect=function(e){return H.polygon(t,h,e)},i}async function xe(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.label="",t.labelStyle=r;const{shapeSvg:i}=await c(e,t,f(t)),a=Math.max(30,t?.width??0),o=Math.max(30,t?.height??0),{cssStyles:l}=t,h=u.A.svg(i),g=C(t,{});"handDrawn"!==t.look&&(g.roughness=0,g.fillStyle="solid");const m=[{x:0,y:0},{x:a,y:0},{x:0,y:o},{x:a,y:o}],y=p(m),v=h.path(y,g),b=i.insert((()=>v),":first-child");return b.attr("class","basic label-container"),l&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",l),n&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",n),b.attr("transform",`translate(${-a/2}, ${-o/2})`),d(t,b),t.intersect=function(e){return s.Rm.info("Pill intersect",t,{points:m}),H.polygon(t,m,e)},i}async function we(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:a}=A(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,h=Math.max(o,l),f=i?.wrappingWidth;t.width=Math.max(h,f??0);const{shapeSvg:p,bbox:g,label:m}=await c(e,t,"icon-shape default"),y="t"===t.pos,v=h,b=h,{nodeBorder:x}=r,{stylesMap:w}=k(t),D=-b/2,E=-v/2,_=t.label?8:0,T=u.A.svg(p),S=C(t,{stroke:"none",fill:"none"});"handDrawn"!==t.look&&(S.roughness=0,S.fillStyle="solid");const F=T.rectangle(D,E,b,v,S),O=Math.max(b,g.width),B=v+g.height+_,N=T.rectangle(-O/2,-B/2,O,B,{...S,fill:"transparent",stroke:"none"}),L=p.insert((()=>F),":first-child"),I=p.insert((()=>N));if(t.icon){const e=p.append("g");e.html(`<g>${await(0,n.WY)(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const r=e.node().getBBox(),i=r.width,a=r.height,o=r.x,s=r.y;e.attr("transform",`translate(${-i/2-o},${y?g.height/2+_/2-a/2-s:-g.height/2-_/2-a/2-s})`),e.attr("style",`color: ${w.get("stroke")??x};`)}return m.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${y?-B/2:B/2-g.height})`),L.attr("transform",`translate(0,${y?g.height/2+_/2:-g.height/2-_/2})`),d(t,I),t.intersect=function(e){if(s.Rm.info("iconSquare intersect",t,e),!t.label)return H.rect(t,e);const r=t.x??0,n=t.y??0,i=t.height??0;let a=[];return a=y?[{x:r-g.width/2,y:n-i/2},{x:r+g.width/2,y:n-i/2},{x:r+g.width/2,y:n-i/2+g.height+_},{x:r+b/2,y:n-i/2+g.height+_},{x:r+b/2,y:n+i/2},{x:r-b/2,y:n+i/2},{x:r-b/2,y:n-i/2+g.height+_},{x:r-g.width/2,y:n-i/2+g.height+_}]:[{x:r-b/2,y:n-i/2},{x:r+b/2,y:n-i/2},{x:r+b/2,y:n-i/2+v},{x:r+g.width/2,y:n-i/2+v},{x:r+g.width/2/2,y:n+i/2},{x:r-g.width/2,y:n+i/2},{x:r-g.width/2,y:n-i/2+v},{x:r-b/2,y:n-i/2+v}],H.polygon(t,a,e)},p}async function De(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:a}=A(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,h=Math.max(o,l),f=i?.wrappingWidth;t.width=Math.max(h,f??0);const{shapeSvg:p,bbox:g,label:m}=await c(e,t,"icon-shape default"),y=t.label?8:0,v="t"===t.pos,{nodeBorder:b,mainBkg:x}=r,{stylesMap:w}=k(t),D=u.A.svg(p),E=C(t,{});"handDrawn"!==t.look&&(E.roughness=0,E.fillStyle="solid");const _=w.get("fill");E.stroke=_??x;const T=p.append("g");t.icon&&T.html(`<g>${await(0,n.WY)(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const S=T.node().getBBox(),F=S.width,O=S.height,B=S.x,N=S.y,L=Math.max(F,O)*Math.SQRT2+40,I=D.circle(0,0,L,E),R=Math.max(L,g.width),M=L+g.height+y,P=D.rectangle(-R/2,-M/2,R,M,{...E,fill:"transparent",stroke:"none"}),z=p.insert((()=>I),":first-child"),$=p.insert((()=>P));return T.attr("transform",`translate(${-F/2-B},${v?g.height/2+y/2-O/2-N:-g.height/2-y/2-O/2-N})`),T.attr("style",`color: ${w.get("stroke")??b};`),m.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${v?-M/2:M/2-g.height})`),z.attr("transform",`translate(0,${v?g.height/2+y/2:-g.height/2-y/2})`),d(t,$),t.intersect=function(e){return s.Rm.info("iconSquare intersect",t,e),H.rect(t,e)},p}async function ke(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:a}=A(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,h=Math.max(o,l),f=i?.wrappingWidth;t.width=Math.max(h,f??0);const{shapeSvg:p,bbox:g,halfPadding:m,label:y}=await c(e,t,"icon-shape default"),v="t"===t.pos,b=h+2*m,x=h+2*m,{nodeBorder:D,mainBkg:E}=r,{stylesMap:_}=k(t),T=-x/2,S=-b/2,F=t.label?8:0,O=u.A.svg(p),B=C(t,{});"handDrawn"!==t.look&&(B.roughness=0,B.fillStyle="solid");const N=_.get("fill");B.stroke=N??E;const L=O.path(w(T,S,x,b,5),B),I=Math.max(x,g.width),R=b+g.height+F,M=O.rectangle(-I/2,-R/2,I,R,{...B,fill:"transparent",stroke:"none"}),P=p.insert((()=>L),":first-child").attr("class","icon-shape2"),z=p.insert((()=>M));if(t.icon){const e=p.append("g");e.html(`<g>${await(0,n.WY)(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const r=e.node().getBBox(),i=r.width,a=r.height,o=r.x,s=r.y;e.attr("transform",`translate(${-i/2-o},${v?g.height/2+F/2-a/2-s:-g.height/2-F/2-a/2-s})`),e.attr("style",`color: ${_.get("stroke")??D};`)}return y.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${v?-R/2:R/2-g.height})`),P.attr("transform",`translate(0,${v?g.height/2+F/2:-g.height/2-F/2})`),d(t,z),t.intersect=function(e){if(s.Rm.info("iconSquare intersect",t,e),!t.label)return H.rect(t,e);const r=t.x??0,n=t.y??0,i=t.height??0;let a=[];return a=v?[{x:r-g.width/2,y:n-i/2},{x:r+g.width/2,y:n-i/2},{x:r+g.width/2,y:n-i/2+g.height+F},{x:r+x/2,y:n-i/2+g.height+F},{x:r+x/2,y:n+i/2},{x:r-x/2,y:n+i/2},{x:r-x/2,y:n-i/2+g.height+F},{x:r-g.width/2,y:n-i/2+g.height+F}]:[{x:r-x/2,y:n-i/2},{x:r+x/2,y:n-i/2},{x:r+x/2,y:n-i/2+b},{x:r+g.width/2,y:n-i/2+b},{x:r+g.width/2/2,y:n+i/2},{x:r-g.width/2,y:n+i/2},{x:r-g.width/2,y:n-i/2+b},{x:r-x/2,y:n-i/2+b}],H.polygon(t,a,e)},p}async function Ee(e,t,{config:{themeVariables:r,flowchart:i}}){const{labelStyles:a}=A(t);t.labelStyle=a;const o=t.assetHeight??48,l=t.assetWidth??48,h=Math.max(o,l),f=i?.wrappingWidth;t.width=Math.max(h,f??0);const{shapeSvg:p,bbox:g,halfPadding:m,label:y}=await c(e,t,"icon-shape default"),v="t"===t.pos,b=h+2*m,x=h+2*m,{nodeBorder:D,mainBkg:E}=r,{stylesMap:_}=k(t),T=-x/2,S=-b/2,F=t.label?8:0,O=u.A.svg(p),B=C(t,{});"handDrawn"!==t.look&&(B.roughness=0,B.fillStyle="solid");const N=_.get("fill");B.stroke=N??E;const L=O.path(w(T,S,x,b,.1),B),I=Math.max(x,g.width),R=b+g.height+F,M=O.rectangle(-I/2,-R/2,I,R,{...B,fill:"transparent",stroke:"none"}),P=p.insert((()=>L),":first-child"),z=p.insert((()=>M));if(t.icon){const e=p.append("g");e.html(`<g>${await(0,n.WY)(t.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const r=e.node().getBBox(),i=r.width,a=r.height,o=r.x,s=r.y;e.attr("transform",`translate(${-i/2-o},${v?g.height/2+F/2-a/2-s:-g.height/2-F/2-a/2-s})`),e.attr("style",`color: ${_.get("stroke")??D};`)}return y.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${v?-R/2:R/2-g.height})`),P.attr("transform",`translate(0,${v?g.height/2+F/2:-g.height/2-F/2})`),d(t,z),t.intersect=function(e){if(s.Rm.info("iconSquare intersect",t,e),!t.label)return H.rect(t,e);const r=t.x??0,n=t.y??0,i=t.height??0;let a=[];return a=v?[{x:r-g.width/2,y:n-i/2},{x:r+g.width/2,y:n-i/2},{x:r+g.width/2,y:n-i/2+g.height+F},{x:r+x/2,y:n-i/2+g.height+F},{x:r+x/2,y:n+i/2},{x:r-x/2,y:n+i/2},{x:r-x/2,y:n-i/2+g.height+F},{x:r-g.width/2,y:n-i/2+g.height+F}]:[{x:r-x/2,y:n-i/2},{x:r+x/2,y:n-i/2},{x:r+x/2,y:n-i/2+b},{x:r+g.width/2,y:n-i/2+b},{x:r+g.width/2/2,y:n+i/2},{x:r-g.width/2,y:n+i/2},{x:r-g.width/2,y:n-i/2+b},{x:r-x/2,y:n-i/2+b}],H.polygon(t,a,e)},p}async function Ae(e,t,{config:{flowchart:r}}){const n=new Image;n.src=t?.img??"",await n.decode();const i=Number(n.naturalWidth.toString().replace("px","")),a=Number(n.naturalHeight.toString().replace("px",""));t.imageAspectRatio=i/a;const{labelStyles:o}=A(t);t.labelStyle=o;const l=r?.wrappingWidth;t.defaultWidth=r?.wrappingWidth;const h=Math.max(t.label?l??0:0,t?.assetWidth??i),f="on"===t.constraint&&t?.assetHeight?t.assetHeight*t.imageAspectRatio:h,p="on"===t.constraint?f/t.imageAspectRatio:t?.assetHeight??a;t.width=Math.max(f,l??0);const{shapeSvg:g,bbox:m,label:y}=await c(e,t,"image-shape default"),v="t"===t.pos,b=-f/2,x=-p/2,w=t.label?8:0,D=u.A.svg(g),k=C(t,{});"handDrawn"!==t.look&&(k.roughness=0,k.fillStyle="solid");const E=D.rectangle(b,x,f,p,k),_=Math.max(f,m.width),T=p+m.height+w,S=D.rectangle(-_/2,-T/2,_,T,{...k,fill:"none",stroke:"none"}),F=g.insert((()=>E),":first-child"),O=g.insert((()=>S));if(t.img){const e=g.append("image");e.attr("href",t.img),e.attr("width",f),e.attr("height",p),e.attr("preserveAspectRatio","none"),e.attr("transform",`translate(${-f/2},${v?T/2-p:-T/2})`)}return y.attr("transform",`translate(${-m.width/2-(m.x-(m.left??0))},${v?-p/2-m.height/2-w/2:p/2-m.height/2+w/2})`),F.attr("transform",`translate(0,${v?m.height/2+w/2:-m.height/2-w/2})`),d(t,O),t.intersect=function(e){if(s.Rm.info("iconSquare intersect",t,e),!t.label)return H.rect(t,e);const r=t.x??0,n=t.y??0,i=t.height??0;let a=[];return a=v?[{x:r-m.width/2,y:n-i/2},{x:r+m.width/2,y:n-i/2},{x:r+m.width/2,y:n-i/2+m.height+w},{x:r+f/2,y:n-i/2+m.height+w},{x:r+f/2,y:n+i/2},{x:r-f/2,y:n+i/2},{x:r-f/2,y:n-i/2+m.height+w},{x:r-m.width/2,y:n-i/2+m.height+w}]:[{x:r-f/2,y:n-i/2},{x:r+f/2,y:n-i/2},{x:r+f/2,y:n-i/2+p},{x:r+m.width/2,y:n-i/2+p},{x:r+m.width/2/2,y:n+i/2},{x:r-m.width/2,y:n+i/2},{x:r-m.width/2,y:n-i/2+p},{x:r-f/2,y:n-i/2+p}],H.polygon(t,a,e)},g}async function Ce(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(a.width+2*(t.padding??0),t?.width??0),s=Math.max(a.height+2*(t.padding??0),t?.height??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*s/6,y:-s},{x:-3*s/6,y:-s}];let h;const{cssStyles:g}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=p(l),a=e.path(n,r);h=i.insert((()=>a),":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),g&&h.attr("style",g)}else h=Y(i,o,s,l);return n&&h.attr("style",n),t.width=o,t.height=s,d(t,h),t.intersect=function(e){return H.polygon(t,l,e)},i}async function _e(e,t,r){const{labelStyles:n,nodeStyles:i}=A(t);t.labelStyle=n;const{shapeSvg:a,bbox:s}=await c(e,t,f(t)),l=Math.max(s.width+2*r.labelPaddingX,t?.width||0),h=Math.max(s.height+2*r.labelPaddingY,t?.height||0),p=-l/2,g=-h/2;let m,{rx:y,ry:v}=t;const{cssStyles:b}=t;if(r?.rx&&r.ry&&(y=r.rx,v=r.ry),"handDrawn"===t.look){const e=u.A.svg(a),r=C(t,{}),n=y||v?e.path(w(p,g,l,h,y||0),r):e.rectangle(p,g,l,h,r);m=a.insert((()=>n),":first-child"),m.attr("class","basic label-container").attr("style",(0,o.KL)(b))}else m=a.insert("rect",":first-child"),m.attr("class","basic label-container").attr("style",i).attr("rx",(0,o.KL)(y)).attr("ry",(0,o.KL)(v)).attr("x",p).attr("y",g).attr("width",l).attr("height",h);return d(t,m),t.intersect=function(e){return H.rect(t,e)},a}async function Te(e,t){const{shapeSvg:r,bbox:n,label:i}=await c(e,t,"label"),a=r.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),r.attr("class","label edgeLabel"),i.attr("transform",`translate(${-n.width/2-(n.x-(n.left??0))}, ${-n.height/2-(n.y-(n.top??0))})`),d(t,a),t.intersect=function(e){return H.rect(t,e)},r}async function Se(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(a.width+(t.padding??0),t?.width??0),s=Math.max(a.height+(t.padding??0),t?.height??0),l=[{x:0,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:-3*s/6,y:-s}];let h;const{cssStyles:g}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=p(l),a=e.path(n,r);h=i.insert((()=>a),":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),g&&h.attr("style",g)}else h=Y(i,o,s,l);return n&&h.attr("style",n),t.width=o,t.height=s,d(t,h),t.intersect=function(e){return H.polygon(t,l,e)},i}async function Fe(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(a.width+(t.padding??0),t?.width??0),s=Math.max(a.height+(t.padding??0),t?.height??0),l=[{x:-3*s/6,y:0},{x:o,y:0},{x:o+3*s/6,y:-s},{x:0,y:-s}];let h;const{cssStyles:g}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=p(l),a=e.path(n,r);h=i.insert((()=>a),":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),g&&h.attr("style",g)}else h=Y(i,o,s,l);return n&&h.attr("style",n),t.width=o,t.height=s,d(t,h),t.intersect=function(e){return H.polygon(t,l,e)},i}function Oe(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.label="",t.labelStyle=r;const i=e.insert("g").attr("class",f(t)).attr("id",t.domId??t.id),{cssStyles:a}=t,o=Math.max(35,t?.width??0),l=Math.max(35,t?.height??0),c=[{x:o,y:0},{x:0,y:l+3.5},{x:o-14,y:l+3.5},{x:0,y:2*l},{x:o,y:l-3.5},{x:14,y:l-3.5}],h=u.A.svg(i),g=C(t,{});"handDrawn"!==t.look&&(g.roughness=0,g.fillStyle="solid");const m=p(c),y=h.path(m,g),v=i.insert((()=>y),":first-child");return a&&"handDrawn"!==t.look&&v.selectAll("path").attr("style",a),n&&"handDrawn"!==t.look&&v.selectAll("path").attr("style",n),v.attr("transform",`translate(-${o/2},${-l})`),d(t,v),t.intersect=function(e){return s.Rm.info("lightningBolt intersect",t,e),H.polygon(t,c,e)},i}(0,s.K2)(be,"hexagon"),(0,s.K2)(xe,"hourglass"),(0,s.K2)(we,"icon"),(0,s.K2)(De,"iconCircle"),(0,s.K2)(ke,"iconRounded"),(0,s.K2)(Ee,"iconSquare"),(0,s.K2)(Ae,"imageSquare"),(0,s.K2)(Ce,"inv_trapezoid"),(0,s.K2)(_e,"drawRect"),(0,s.K2)(Te,"labelRect"),(0,s.K2)(Se,"lean_left"),(0,s.K2)(Fe,"lean_right"),(0,s.K2)(Oe,"lightningBolt");var Be=(0,s.K2)(((e,t,r,n,i,a,o)=>[`M${e},${t+a}`,`a${i},${a} 0,0,0 ${r},0`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n,`M${e},${t+a+o}`,`a${i},${a} 0,0,0 ${r},0`].join(" ")),"createCylinderPathD"),Ne=(0,s.K2)(((e,t,r,n,i,a,o)=>[`M${e},${t+a}`,`M${e+r},${t+a}`,`a${i},${a} 0,0,0 ${-r},0`,`l0,${n}`,`a${i},${a} 0,0,0 ${r},0`,"l0,"+-n,`M${e},${t+a+o}`,`a${i},${a} 0,0,0 ${r},0`].join(" ")),"createOuterCylinderPathD"),Le=(0,s.K2)(((e,t,r,n,i,a)=>[`M${e-r/2},${-n/2}`,`a${i},${a} 0,0,0 ${r},0`].join(" ")),"createInnerCylinderPathD");async function Ie(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await c(e,t,f(t)),l=Math.max(a.width+(t.padding??0),t.width??0),h=l/2,p=h/(2.5+l/50),g=Math.max(a.height+p+(t.padding??0),t.height??0),m=.1*g;let y;const{cssStyles:v}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=Ne(0,0,l,g,h,p,m),n=Le(0,p,l,g,h,p),a=C(t,{}),o=e.path(r,a),s=e.path(n,a);i.insert((()=>s),":first-child").attr("class","line"),y=i.insert((()=>o),":first-child"),y.attr("class","basic label-container"),v&&y.attr("style",v)}else{const e=Be(0,0,l,g,h,p,m);y=i.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",(0,o.KL)(v)).attr("style",n)}return y.attr("label-offset-y",p),y.attr("transform",`translate(${-l/2}, ${-(g/2+p)})`),d(t,y),s.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-a.height/2+p-(a.y-(a.top??0))})`),t.intersect=function(e){const r=H.rect(t,e),n=r.x-(t.x??0);if(0!=h&&(Math.abs(n)<(t.width??0)/2||Math.abs(n)==(t.width??0)/2&&Math.abs(r.y-(t.y??0))>(t.height??0)/2-p)){let i=p*p*(1-n*n/(h*h));i>0&&(i=Math.sqrt(i)),i=p-i,e.y-(t.y??0)>0&&(i=-i),r.y+=i}return r},i}async function Re(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),h=l/4,p=l+h,{cssStyles:m}=t,y=u.A.svg(i),v=C(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const b=[{x:-s/2-s/2*.1,y:-p/2},{x:-s/2-s/2*.1,y:p/2},...g(-s/2-s/2*.1,p/2,s/2+s/2*.1,p/2,h,.8),{x:s/2+s/2*.1,y:-p/2},{x:-s/2-s/2*.1,y:-p/2},{x:-s/2,y:-p/2},{x:-s/2,y:p/2*1.1},{x:-s/2,y:-p/2}],x=y.polygon(b.map((e=>[e.x,e.y])),v),w=i.insert((()=>x),":first-child");return w.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)+s/2*.1/2-(a.x-(a.left??0))},${-l/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),d(t,w),t.intersect=function(e){return H.polygon(t,b,e)},i}async function Me(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),h=-s/2,g=-l/2,{cssStyles:m}=t,y=u.A.svg(i),v=C(t,{}),b=[{x:h-5,y:g+5},{x:h-5,y:g+l+5},{x:h+s-5,y:g+l+5},{x:h+s-5,y:g+l},{x:h+s,y:g+l},{x:h+s,y:g+l-5},{x:h+s+5,y:g+l-5},{x:h+s+5,y:g-5},{x:h+5,y:g-5},{x:h+5,y:g},{x:h,y:g},{x:h,y:g+5}],x=[{x:h,y:g+5},{x:h+s-5,y:g+5},{x:h+s-5,y:g+l},{x:h+s,y:g+l},{x:h+s,y:g},{x:h,y:g}];"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const w=p(b),D=y.path(w,v),k=p(x),E=y.path(k,{...v,fill:"none"}),_=i.insert((()=>E),":first-child");return _.insert((()=>D),":first-child"),_.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&_.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&_.selectAll("path").attr("style",n),o.attr("transform",`translate(${-a.width/2-5-(a.x-(a.left??0))}, ${-a.height/2+5-(a.y-(a.top??0))})`),d(t,_),t.intersect=function(e){return H.polygon(t,b,e)},i}async function Pe(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),h=l/4,m=l+h,y=-s/2,v=-m/2,{cssStyles:b}=t,x=g(y-5,v+m+5,y+s-5,v+m+5,h,.8),w=x?.[x.length-1],D=[{x:y-5,y:v+5},{x:y-5,y:v+m+5},...x,{x:y+s-5,y:w.y-5},{x:y+s,y:w.y-5},{x:y+s,y:w.y-10},{x:y+s+5,y:w.y-10},{x:y+s+5,y:v-5},{x:y+5,y:v-5},{x:y+5,y:v},{x:y,y:v},{x:y,y:v+5}],k=[{x:y,y:v+5},{x:y+s-5,y:v+5},{x:y+s-5,y:w.y-5},{x:y+s,y:w.y-5},{x:y+s,y:v},{x:y,y:v}],E=u.A.svg(i),_=C(t,{});"handDrawn"!==t.look&&(_.roughness=0,_.fillStyle="solid");const T=p(D),S=E.path(T,_),F=p(k),O=E.path(F,_),B=i.insert((()=>S),":first-child");return B.insert((()=>O)),B.attr("class","basic label-container"),b&&"handDrawn"!==t.look&&B.selectAll("path").attr("style",b),n&&"handDrawn"!==t.look&&B.selectAll("path").attr("style",n),B.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-a.width/2-5-(a.x-(a.left??0))}, ${-a.height/2+5-h/2-(a.y-(a.top??0))})`),d(t,B),t.intersect=function(e){return H.polygon(t,D,e)},i}async function ze(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=A(t);t.labelStyle=n,t.useHtmlLabels||!1!==(0,s.zj)().flowchart?.htmlLabels||(t.centerLabel=!0);const{shapeSvg:a,bbox:o}=await c(e,t,f(t)),l=Math.max(o.width+2*(t.padding??0),t?.width??0),h=Math.max(o.height+2*(t.padding??0),t?.height??0),p=-l/2,g=-h/2,{cssStyles:m}=t,y=u.A.svg(a),v=C(t,{fill:r.noteBkgColor,stroke:r.noteBorderColor});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const b=y.rectangle(p,g,l,h,v),x=a.insert((()=>b),":first-child");return x.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",m),i&&"handDrawn"!==t.look&&x.selectAll("path").attr("style",i),d(t,x),t.intersect=function(e){return H.rect(t,e)},a}(0,s.K2)(Ie,"linedCylinder"),(0,s.K2)(Re,"linedWaveEdgedRect"),(0,s.K2)(Me,"multiRect"),(0,s.K2)(Pe,"multiWaveEdgedRectangle"),(0,s.K2)(ze,"note");var $e=(0,s.K2)(((e,t,r)=>[`M${e+r/2},${t}`,`L${e+r},${t-r/2}`,`L${e+r/2},${t-r}`,`L${e},${t-r/2}`,"Z"].join(" ")),"createDecisionBoxPathD");async function je(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=a.width+t.padding+(a.height+t.padding),l=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];let h;const{cssStyles:p}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=$e(0,0,o),a=e.path(n,r);h=i.insert((()=>a),":first-child").attr("transform",`translate(${-o/2}, ${o/2})`),p&&h.attr("style",p)}else h=Y(i,o,o,l);return n&&h.attr("style",n),d(t,h),t.intersect=function(e){return s.Rm.debug("APA12 Intersect called SPLIT\npoint:",e,"\nnode:\n",t,"\nres:",H.polygon(t,l,e)),H.polygon(t,l,e)},i}async function Ke(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=-Math.max(a.width+(t.padding??0),t?.width??0)/2,l=-Math.max(a.height+(t.padding??0),t?.height??0)/2,h=l/2,g=[{x:s+h,y:l},{x:s,y:0},{x:s+h,y:-l},{x:-s,y:-l},{x:-s,y:l}],{cssStyles:m}=t,y=u.A.svg(i),v=C(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const b=p(g),x=y.path(b,v),w=i.insert((()=>x),":first-child");return w.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",m),n&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",n),w.attr("transform",`translate(${-h/2},0)`),o.attr("transform",`translate(${-h/2-a.width/2-(a.x-(a.left??0))}, ${-a.height/2-(a.y-(a.top??0))})`),d(t,w),t.intersect=function(e){return H.polygon(t,g,e)},i}async function qe(e,t){const{labelStyles:r,nodeStyles:n}=A(t);let i;t.labelStyle=r,i=t.cssClasses?"node "+t.cssClasses:"node default";const a=e.insert("g").attr("class",i).attr("id",t.domId||t.id),o=a.insert("g"),c=a.insert("g").attr("class","label").attr("style",n),h=t.description,f=t.label,p=c.node().appendChild(await x(f,t.labelStyle,!0,!0));let g={width:0,height:0};if((0,s._3)((0,s.D7)()?.flowchart?.htmlLabels)){const e=p.children[0],t=(0,l.Ltv)(p);g=e.getBoundingClientRect(),t.attr("width",g.width),t.attr("height",g.height)}s.Rm.info("Text 2",h);const m=h||[],y=p.getBBox(),v=c.node().appendChild(await x(m.join?m.join("<br/>"):m,t.labelStyle,!0,!0)),b=v.children[0],D=(0,l.Ltv)(v);g=b.getBoundingClientRect(),D.attr("width",g.width),D.attr("height",g.height);const k=(t.padding||0)/2;(0,l.Ltv)(v).attr("transform","translate( "+(g.width>y.width?0:(y.width-g.width)/2)+", "+(y.height+k+5)+")"),(0,l.Ltv)(p).attr("transform","translate( "+(g.width<y.width?0:-(y.width-g.width)/2)+", 0)"),g=c.node().getBBox(),c.attr("transform","translate("+-g.width/2+", "+(-g.height/2-k+3)+")");const E=g.width+(t.padding||0),_=g.height+(t.padding||0),T=-g.width/2-k,S=-g.height/2-k;let F,O;if("handDrawn"===t.look){const e=u.A.svg(a),r=C(t,{}),n=e.path(w(T,S,E,_,t.rx||0),r),i=e.line(-g.width/2-k,-g.height/2-k+y.height+k,g.width/2+k,-g.height/2-k+y.height+k,r);O=a.insert((()=>(s.Rm.debug("Rough node insert CXC",n),i)),":first-child"),F=a.insert((()=>(s.Rm.debug("Rough node insert CXC",n),n)),":first-child")}else F=o.insert("rect",":first-child"),O=o.insert("line"),F.attr("class","outer title-state").attr("style",n).attr("x",-g.width/2-k).attr("y",-g.height/2-k).attr("width",g.width+(t.padding||0)).attr("height",g.height+(t.padding||0)),O.attr("class","divider").attr("x1",-g.width/2-k).attr("x2",g.width/2+k).attr("y1",-g.height/2-k+y.height+k).attr("y2",-g.height/2-k+y.height+k);return d(t,F),t.intersect=function(e){return H.rect(t,e)},a}async function Ue(e,t){return _e(e,t,{rx:5,ry:5,classes:"",labelPaddingX:1*(t?.padding||0),labelPaddingY:1*(t?.padding||0)})}async function He(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s}=await c(e,t,f(t)),l=t?.padding??0,h=Math.max(a.width+2*(t.padding??0),t?.width??0),p=Math.max(a.height+2*(t.padding??0),t?.height??0),g=-a.width/2-l,m=-a.height/2-l,{cssStyles:y}=t,v=u.A.svg(i),b=C(t,{});"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const x=[{x:g,y:m},{x:g+h+8,y:m},{x:g+h+8,y:m+p},{x:g-8,y:m+p},{x:g-8,y:m},{x:g,y:m},{x:g,y:m+p}],w=v.polygon(x.map((e=>[e.x,e.y])),b),D=i.insert((()=>w),":first-child");return D.attr("class","basic label-container").attr("style",(0,o.KL)(y)),n&&"handDrawn"!==t.look&&D.selectAll("path").attr("style",n),y&&"handDrawn"!==t.look&&D.selectAll("path").attr("style",n),s.attr("transform",`translate(${-h/2+4+(t.padding??0)-(a.x-(a.left??0))},${-p/2+(t.padding??0)-(a.y-(a.top??0))})`),d(t,D),t.intersect=function(e){return H.rect(t,e)},i}async function We(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),h=-s/2,g=-l/2,{cssStyles:m}=t,y=u.A.svg(i),v=C(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const b=[{x:h,y:g},{x:h,y:g+l},{x:h+s,y:g+l},{x:h+s,y:g-l/2}],x=p(b),w=y.path(x,v),D=i.insert((()=>w),":first-child");return D.attr("class","basic label-container"),m&&"handDrawn"!==t.look&&D.selectChildren("path").attr("style",m),n&&"handDrawn"!==t.look&&D.selectChildren("path").attr("style",n),D.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(a.x-(a.left??0))}, ${-l/4+(t.padding??0)-(a.y-(a.top??0))})`),d(t,D),t.intersect=function(e){return H.polygon(t,b,e)},i}async function Ge(e,t){return _e(e,t,{rx:0,ry:0,classes:"",labelPaddingX:2*(t?.padding||0),labelPaddingY:1*(t?.padding||0)})}async function Ve(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),s=a.height+t.padding,l=a.width+s/4+t.padding;let h;const{cssStyles:p}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=w(-l/2,-s/2,l,s,s/2),a=e.path(n,r);h=i.insert((()=>a),":first-child"),h.attr("class","basic label-container").attr("style",(0,o.KL)(p))}else h=i.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",n).attr("rx",s/2).attr("ry",s/2).attr("x",-l/2).attr("y",-s/2).attr("width",l).attr("height",s);return d(t,h),t.intersect=function(e){return H.rect(t,e)},i}async function Ye(e,t){return _e(e,t,{rx:5,ry:5,classes:"flowchart-node"})}function Xe(e,t,{config:{themeVariables:r}}){const{labelStyles:n,nodeStyles:i}=A(t);t.labelStyle=n;const{cssStyles:a}=t,{lineColor:o,stateBorder:s,nodeBorder:l}=r,c=e.insert("g").attr("class","node default").attr("id",t.domId||t.id),h=u.A.svg(c),f=C(t,{});"handDrawn"!==t.look&&(f.roughness=0,f.fillStyle="solid");const p=h.circle(0,0,14,{...f,stroke:o,strokeWidth:2}),g=s??l,m=h.circle(0,0,5,{...f,fill:g,stroke:g,strokeWidth:2,fillStyle:"solid"}),y=c.insert((()=>p),":first-child");return y.insert((()=>m)),a&&y.selectAll("path").attr("style",a),i&&y.selectAll("path").attr("style",i),d(t,y),t.intersect=function(e){return H.circle(t,7,e)},c}function Ze(e,t,{config:{themeVariables:r}}){const{lineColor:n}=r,i=e.insert("g").attr("class","node default").attr("id",t.domId||t.id);let a;if("handDrawn"===t.look){const e=u.A.svg(i).circle(0,0,14,D(n));a=i.insert((()=>e)),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=i.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return d(t,a),t.intersect=function(e){return H.circle(t,7,e)},i}async function Qe(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),s=(t?.padding||0)/2,l=a.width+t.padding,h=a.height+t.padding,p=-a.width/2-s,g=-a.height/2-s,m=[{x:0,y:0},{x:l,y:0},{x:l,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=e.rectangle(p-8,g,l+16,h,r),a=e.line(p,g,p,g+h,r),s=e.line(p+l,g,p+l,g+h,r);i.insert((()=>a),":first-child"),i.insert((()=>s),":first-child");const c=i.insert((()=>n),":first-child"),{cssStyles:f}=t;c.attr("class","basic label-container").attr("style",(0,o.KL)(f)),d(t,c)}else{const e=Y(i,l,h,m);n&&e.attr("style",n),d(t,e)}return t.intersect=function(e){return H.polygon(t,m,e)},i}async function Je(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(a.width+2*(t.padding??0),t?.width??0),s=Math.max(a.height+2*(t.padding??0),t?.height??0),l=-o/2,h=-s/2,g=.2*s,m=.2*s,{cssStyles:y}=t,v=u.A.svg(i),b=C(t,{}),x=[{x:l-g/2,y:h},{x:l+o+g/2,y:h},{x:l+o+g/2,y:h+s},{x:l-g/2,y:h+s}],w=[{x:l+o-g/2,y:h+s},{x:l+o+g/2,y:h+s},{x:l+o+g/2,y:h+s-m}];"handDrawn"!==t.look&&(b.roughness=0,b.fillStyle="solid");const D=p(x),k=v.path(D,b),E=p(w),_=v.path(E,{...b,fillStyle:"solid"}),T=i.insert((()=>_),":first-child");return T.insert((()=>k),":first-child"),T.attr("class","basic label-container"),y&&"handDrawn"!==t.look&&T.selectAll("path").attr("style",y),n&&"handDrawn"!==t.look&&T.selectAll("path").attr("style",n),d(t,T),t.intersect=function(e){return H.polygon(t,x,e)},i}async function et(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),h=l/4,m=.2*s,y=.2*l,v=l+h,{cssStyles:b}=t,x=u.A.svg(i),w=C(t,{});"handDrawn"!==t.look&&(w.roughness=0,w.fillStyle="solid");const D=[{x:-s/2-s/2*.1,y:v/2},...g(-s/2-s/2*.1,v/2,s/2+s/2*.1,v/2,h,.8),{x:s/2+s/2*.1,y:-v/2},{x:-s/2-s/2*.1,y:-v/2}],k=-s/2+s/2*.1,E=-v/2-.4*y,_=[{x:k+s-m,y:1.4*(E+l)},{x:k+s,y:E+l-y},{x:k+s,y:.9*(E+l)},...g(k+s,1.3*(E+l),k+s-m,1.5*(E+l),.03*-l,.5)],T=p(D),S=x.path(T,w),F=p(_),O=x.path(F,{...w,fillStyle:"solid"}),B=i.insert((()=>O),":first-child");return B.insert((()=>S),":first-child"),B.attr("class","basic label-container"),b&&"handDrawn"!==t.look&&B.selectAll("path").attr("style",b),n&&"handDrawn"!==t.look&&B.selectAll("path").attr("style",n),B.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(a.x-(a.left??0))},${-l/2+(t.padding??0)-h/2-(a.y-(a.top??0))})`),d(t,B),t.intersect=function(e){return H.polygon(t,D,e)},i}async function tt(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(a.width+t.padding,t?.width||0),s=Math.max(a.height+t.padding,t?.height||0),l=-o/2,u=-s/2,h=i.insert("rect",":first-child");return h.attr("class","text").attr("style",n).attr("rx",0).attr("ry",0).attr("x",l).attr("y",u).attr("width",o).attr("height",s),d(t,h),t.intersect=function(e){return H.rect(t,e)},i}(0,s.K2)(je,"question"),(0,s.K2)(Ke,"rect_left_inv_arrow"),(0,s.K2)(qe,"rectWithTitle"),(0,s.K2)(Ue,"roundedRect"),(0,s.K2)(He,"shadedProcess"),(0,s.K2)(We,"slopedRect"),(0,s.K2)(Ge,"squareRect"),(0,s.K2)(Ve,"stadium"),(0,s.K2)(Ye,"state"),(0,s.K2)(Xe,"stateEnd"),(0,s.K2)(Ze,"stateStart"),(0,s.K2)(Qe,"subroutine"),(0,s.K2)(Je,"taggedRect"),(0,s.K2)(et,"taggedWaveEdgedRectangle"),(0,s.K2)(tt,"text");var rt=(0,s.K2)(((e,t,r,n,i,a)=>`M${e},${t}\n    a${i},${a} 0,0,1 0,${-n}\n    l${r},0\n    a${i},${a} 0,0,1 0,${n}\n    M${r},${-n}\n    a${i},${a} 0,0,0 0,${n}\n    l${-r},0`),"createCylinderPathD"),nt=(0,s.K2)(((e,t,r,n,i,a)=>[`M${e},${t}`,`M${e+r},${t}`,`a${i},${a} 0,0,0 0,${-n}`,`l${-r},0`,`a${i},${a} 0,0,0 0,${n}`,`l${r},0`].join(" ")),"createOuterCylinderPathD"),it=(0,s.K2)(((e,t,r,n,i,a)=>[`M${e+r/2},${-n/2}`,`a${i},${a} 0,0,0 0,${n}`].join(" ")),"createInnerCylinderPathD");async function at(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:s,halfPadding:l}=await c(e,t,f(t)),h="neo"===t.look?2*l:l,p=a.height+h,g=p/2,m=g/(2.5+p/50),y=a.width+m+h,{cssStyles:v}=t;let b;if("handDrawn"===t.look){const e=u.A.svg(i),r=nt(0,0,y,p,m,g),n=it(0,0,y,p,m,g),a=e.path(r,C(t,{})),o=e.path(n,C(t,{fill:"none"}));b=i.insert((()=>o),":first-child"),b=i.insert((()=>a),":first-child"),b.attr("class","basic label-container"),v&&b.attr("style",v)}else{const e=rt(0,0,y,p,m,g);b=i.insert("path",":first-child").attr("d",e).attr("class","basic label-container").attr("style",(0,o.KL)(v)).attr("style",n),b.attr("class","basic label-container"),v&&b.selectAll("path").attr("style",v),n&&b.selectAll("path").attr("style",n)}return b.attr("label-offset-x",m),b.attr("transform",`translate(${-y/2}, ${p/2} )`),s.attr("transform",`translate(${-a.width/2-m-(a.x-(a.left??0))}, ${-a.height/2-(a.y-(a.top??0))})`),d(t,b),t.intersect=function(e){const r=H.rect(t,e),n=r.y-(t.y??0);if(0!=g&&(Math.abs(n)<(t.height??0)/2||Math.abs(n)==(t.height??0)/2&&Math.abs(r.x-(t.x??0))>(t.width??0)/2-m)){let i=m*m*(1-n*n/(g*g));0!=i&&(i=Math.sqrt(Math.abs(i))),i=m-i,e.x-(t.x??0)>0&&(i=-i),r.x+=i}return r},i}async function ot(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=a.width+t.padding,s=a.height+t.padding,l=[{x:-3*s/6,y:0},{x:o+3*s/6,y:0},{x:o,y:-s},{x:0,y:-s}];let h;const{cssStyles:g}=t;if("handDrawn"===t.look){const e=u.A.svg(i),r=C(t,{}),n=p(l),a=e.path(n,r);h=i.insert((()=>a),":first-child").attr("transform",`translate(${-o/2}, ${s/2})`),g&&h.attr("style",g)}else h=Y(i,o,s,l);return n&&h.attr("style",n),t.width=o,t.height=s,d(t,h),t.intersect=function(e){return H.polygon(t,l,e)},i}async function st(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(60,a.width+2*(t.padding??0),t?.width??0),s=Math.max(20,a.height+2*(t.padding??0),t?.height??0),{cssStyles:l}=t,h=u.A.svg(i),g=C(t,{});"handDrawn"!==t.look&&(g.roughness=0,g.fillStyle="solid");const m=[{x:-o/2*.8,y:-s/2},{x:o/2*.8,y:-s/2},{x:o/2,y:-s/2*.6},{x:o/2,y:s/2},{x:-o/2,y:s/2},{x:-o/2,y:-s/2*.6}],y=p(m),v=h.path(y,g),b=i.insert((()=>v),":first-child");return b.attr("class","basic label-container"),l&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",l),n&&"handDrawn"!==t.look&&b.selectChildren("path").attr("style",n),d(t,b),t.intersect=function(e){return H.polygon(t,m,e)},i}async function lt(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),l=(0,s._3)((0,s.D7)().flowchart?.htmlLabels),h=a.width+(t.padding??0),g=h+a.height,m=h+a.height,y=[{x:0,y:0},{x:m,y:0},{x:m/2,y:-g}],{cssStyles:v}=t,b=u.A.svg(i),x=C(t,{});"handDrawn"!==t.look&&(x.roughness=0,x.fillStyle="solid");const w=p(y),D=b.path(w,x),k=i.insert((()=>D),":first-child").attr("transform",`translate(${-g/2}, ${g/2})`);return v&&"handDrawn"!==t.look&&k.selectChildren("path").attr("style",v),n&&"handDrawn"!==t.look&&k.selectChildren("path").attr("style",n),t.width=h,t.height=g,d(t,k),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${g/2-(a.height+(t.padding??0)/(l?2:1)-(a.y-(a.top??0)))})`),t.intersect=function(e){return s.Rm.info("Triangle intersect",t,y,e),H.polygon(t,y,e)},i}async function ut(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),h=l/8,m=l+h,{cssStyles:y}=t,v=70-s,b=v>0?v/2:0,x=u.A.svg(i),w=C(t,{});"handDrawn"!==t.look&&(w.roughness=0,w.fillStyle="solid");const D=[{x:-s/2-b,y:m/2},...g(-s/2-b,m/2,s/2+b,m/2,h,.8),{x:s/2+b,y:-m/2},{x:-s/2-b,y:-m/2}],k=p(D),E=x.path(k,w),_=i.insert((()=>E),":first-child");return _.attr("class","basic label-container"),y&&"handDrawn"!==t.look&&_.selectAll("path").attr("style",y),n&&"handDrawn"!==t.look&&_.selectAll("path").attr("style",n),_.attr("transform",`translate(0,${-h/2})`),o.attr("transform",`translate(${-s/2+(t.padding??0)-(a.x-(a.left??0))},${-l/2+(t.padding??0)-h-(a.y-(a.top??0))})`),d(t,_),t.intersect=function(e){return H.polygon(t,D,e)},i}async function ct(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a}=await c(e,t,f(t)),o=Math.max(a.width+2*(t.padding??0),t?.width??0),s=Math.max(a.height+2*(t.padding??0),t?.height??0),l=o/s;let h=o,m=s;h>m*l?m=h/l:h=m*l,h=Math.max(h,100),m=Math.max(m,50);const y=Math.min(.2*m,m/4),v=m+2*y,{cssStyles:b}=t,x=u.A.svg(i),w=C(t,{});"handDrawn"!==t.look&&(w.roughness=0,w.fillStyle="solid");const D=[{x:-h/2,y:v/2},...g(-h/2,v/2,h/2,v/2,y,1),{x:h/2,y:-v/2},...g(h/2,-v/2,-h/2,-v/2,y,-1)],k=p(D),E=x.path(k,w),_=i.insert((()=>E),":first-child");return _.attr("class","basic label-container"),b&&"handDrawn"!==t.look&&_.selectAll("path").attr("style",b),n&&"handDrawn"!==t.look&&_.selectAll("path").attr("style",n),d(t,_),t.intersect=function(e){return H.polygon(t,D,e)},i}async function ht(e,t){const{labelStyles:r,nodeStyles:n}=A(t);t.labelStyle=r;const{shapeSvg:i,bbox:a,label:o}=await c(e,t,f(t)),s=Math.max(a.width+2*(t.padding??0),t?.width??0),l=Math.max(a.height+2*(t.padding??0),t?.height??0),h=-s/2,p=-l/2,{cssStyles:g}=t,m=u.A.svg(i),y=C(t,{}),v=[{x:h-5,y:p-5},{x:h-5,y:p+l},{x:h+s,y:p+l},{x:h+s,y:p-5}],b=`M${h-5},${p-5} L${h+s},${p-5} L${h+s},${p+l} L${h-5},${p+l} L${h-5},${p-5}\n                M${h-5},${p} L${h+s},${p}\n                M${h},${p-5} L${h},${p+l}`;"handDrawn"!==t.look&&(y.roughness=0,y.fillStyle="solid");const x=m.path(b,y),w=i.insert((()=>x),":first-child");return w.attr("transform","translate(2.5, 2.5)"),w.attr("class","basic label-container"),g&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",g),n&&"handDrawn"!==t.look&&w.selectAll("path").attr("style",n),o.attr("transform",`translate(${-a.width/2+2.5-(a.x-(a.left??0))}, ${-a.height/2+2.5-(a.y-(a.top??0))})`),d(t,w),t.intersect=function(e){return H.polygon(t,v,e)},i}async function dt(e,t,r,n,i=r.class.padding??12){const a=n?0:3,o=e.insert("g").attr("class",f(t)).attr("id",t.domId||t.id);let s=null,l=null,u=null,c=null,h=0,d=0,p=0;if(s=o.insert("g").attr("class","annotation-group text"),t.annotations.length>0){const e=t.annotations[0];await ft(s,{text:`«${e}»`},0),h=s.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await ft(l,t,0,["font-weight: bolder"]);const g=l.node().getBBox();d=g.height,u=o.insert("g").attr("class","members-group text");let m=0;for(const e of t.members)m+=await ft(u,e,m,[e.parseClassifier()])+a;p=u.node().getBBox().height,p<=0&&(p=i/2),c=o.insert("g").attr("class","methods-group text");let y=0;for(const e of t.methods)y+=await ft(c,e,y,[e.parseClassifier()])+a;let v=o.node().getBBox();if(null!==s){const e=s.node().getBBox();s.attr("transform",`translate(${-e.width/2})`)}return l.attr("transform",`translate(${-g.width/2}, ${h})`),v=o.node().getBBox(),u.attr("transform",`translate(0, ${h+d+2*i})`),v=o.node().getBBox(),c.attr("transform",`translate(0, ${h+d+(p?p+4*i:2*i)})`),v=o.node().getBBox(),{shapeSvg:o,bbox:v}}async function ft(e,t,r,n=[]){const i=e.insert("g").attr("class","label").attr("style",n.join("; ")),u=(0,s.zj)();let c="useHtmlLabels"in t?t.useHtmlLabels:(0,s._3)(u.htmlLabels)??!0,h="";h="text"in t?t.text:t.label,!c&&h.startsWith("\\")&&(h=h.substring(1)),(0,s.Wi)(h)&&(c=!0);const d=await(0,a.GZ)(i,(0,s.oB)((0,o.Sm)(h)),{width:(0,o.Un)(h,u)+50,classes:"markdown-node-label",useHtmlLabels:c},u);let f,p=1;if(c){const e=d.children[0],t=(0,l.Ltv)(d);p=e.innerHTML.split("<br>").length,e.innerHTML.includes("</math>")&&(p+=e.innerHTML.split("<mrow>").length-1);const r=e.getElementsByTagName("img");if(r){const e=""===h.replace(/<img[^>]*>/g,"").trim();await Promise.all([...r].map((t=>new Promise((r=>{function n(){if(t.style.display="flex",t.style.flexDirection="column",e){const e=u.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,r=5,n=parseInt(e,10)*r+"px";t.style.minWidth=n,t.style.maxWidth=n}else t.style.width="100%";r(t)}(0,s.K2)(n,"setupImage"),setTimeout((()=>{t.complete&&n()})),t.addEventListener("error",n),t.addEventListener("load",n)})))))}f=e.getBoundingClientRect(),t.attr("width",f.width),t.attr("height",f.height)}else{n.includes("font-weight: bolder")&&(0,l.Ltv)(d).selectAll("tspan").attr("font-weight",""),p=d.children.length;const e=d.children[0];(""===d.textContent||d.textContent.includes("&gt"))&&(e.textContent=h[0]+h.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim()," "===h[1]&&(e.textContent=e.textContent[0]+" "+e.textContent.substring(1))),"undefined"===e.textContent&&(e.textContent=""),f=d.getBBox()}return i.attr("transform","translate(0,"+(-f.height/(2*p)+r)+")"),f.height}async function pt(e,t){const r=(0,s.D7)(),n=r.class.padding??12,i=n,a=t.useHtmlLabels??(0,s._3)(r.htmlLabels)??!0,o=t;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:c,bbox:h}=await dt(e,t,r,a,i),{labelStyles:f,nodeStyles:p}=A(t);t.labelStyle=f,t.cssStyles=o.styles||"";const g=o.styles?.join(";")||p||"";t.cssStyles||(t.cssStyles=g.replaceAll("!important","").split(";"));const m=0===o.members.length&&0===o.methods.length&&!r.class?.hideEmptyMembersBox,y=u.A.svg(c),v=C(t,{});"handDrawn"!==t.look&&(v.roughness=0,v.fillStyle="solid");const b=h.width;let x=h.height;0===o.members.length&&0===o.methods.length?x+=i:o.members.length>0&&0===o.methods.length&&(x+=2*i);const w=-b/2,D=-x/2,k=y.rectangle(w-n,D-n-(m?n:0===o.members.length&&0===o.methods.length?-n/2:0),b+2*n,x+2*n+(m?2*n:0===o.members.length&&0===o.methods.length?-n:0),v),E=c.insert((()=>k),":first-child");E.attr("class","basic label-container");const _=E.node().getBBox();c.selectAll(".text").each(((e,t,r)=>{const i=(0,l.Ltv)(r[t]),s=i.attr("transform");let u=0;if(s){const e=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(s);e&&(u=parseFloat(e[2]))}let h=u+D+n-(m?n:0===o.members.length&&0===o.methods.length?-n/2:0);a||(h-=4);let d=w;(i.attr("class").includes("label-group")||i.attr("class").includes("annotation-group"))&&(d=-i.node()?.getBBox().width/2||0,c.selectAll("text").each((function(e,t,r){"middle"===window.getComputedStyle(r[t]).textAnchor&&(d=0)}))),i.attr("transform",`translate(${d}, ${h})`)}));const T=c.select(".annotation-group").node().getBBox().height-(m?n/2:0)||0,S=c.select(".label-group").node().getBBox().height-(m?n/2:0)||0,F=c.select(".members-group").node().getBBox().height-(m?n/2:0)||0;if(o.members.length>0||o.methods.length>0||m){const e=y.line(_.x,T+S+D+n,_.x+_.width,T+S+D+n,v);c.insert((()=>e)).attr("class","divider").attr("style",g)}if(m||o.members.length>0||o.methods.length>0){const e=y.line(_.x,T+S+F+D+2*i+n,_.x+_.width,T+S+F+D+n+2*i,v);c.insert((()=>e)).attr("class","divider").attr("style",g)}if("handDrawn"!==o.look&&c.selectAll("path").attr("style",g),E.select(":nth-child(2)").attr("style",g),c.selectAll(".divider").select("path").attr("style",g),t.labelStyle?c.selectAll("span").attr("style",t.labelStyle):c.selectAll("span").attr("style",g),!a){const e=RegExp(/color\s*:\s*([^;]*)/),t=e.exec(g);if(t){const e=t[0].replace("color","fill");c.selectAll("tspan").attr("style",e)}else if(f){const t=e.exec(f);if(t){const e=t[0].replace("color","fill");c.selectAll("tspan").attr("style",e)}}}return d(t,E),t.intersect=function(e){return H.rect(t,e)},c}(0,s.K2)(at,"tiltedCylinder"),(0,s.K2)(ot,"trapezoid"),(0,s.K2)(st,"trapezoidalPentagon"),(0,s.K2)(lt,"triangle"),(0,s.K2)(ut,"waveEdgedRectangle"),(0,s.K2)(ct,"waveRectangle"),(0,s.K2)(ht,"windowPane"),(0,s.K2)(dt,"textHelper"),(0,s.K2)(ft,"addText"),(0,s.K2)(pt,"classBox");var gt=(0,s.K2)((e=>{switch(e){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}}),"colorFromPriority");async function mt(e,t,{config:r}){const{labelStyles:n,nodeStyles:i}=A(t);t.labelStyle=n||"";const a=t.width;t.width=(t.width??200)-10;const{shapeSvg:o,bbox:s,label:l}=await c(e,t,f(t)),p=t.padding||10;let g,m="";"ticket"in t&&t.ticket&&r?.kanban?.ticketBaseUrl&&(m=r?.kanban?.ticketBaseUrl.replace("#TICKET#",t.ticket),g=o.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",m).attr("target","_blank"));const y={useHtmlLabels:t.useHtmlLabels,labelStyle:t.labelStyle||"",width:t.width,img:t.img,padding:t.padding||8,centerLabel:!1};let v,b;({label:v,bbox:b}=g?await h(g,"ticket"in t&&t.ticket||"",y):await h(o,"ticket"in t&&t.ticket||"",y));const{label:x,bbox:D}=await h(o,"assigned"in t&&t.assigned||"",y);t.width=a;const k=t?.width||0,E=Math.max(b.height,D.height)/2,_=Math.max(s.height+20,t?.height||0)+E,T=-k/2,S=-_/2;let F;l.attr("transform","translate("+(p-k/2)+", "+(-E-s.height/2)+")"),v.attr("transform","translate("+(p-k/2)+", "+(-E+s.height/2)+")"),x.attr("transform","translate("+(p+k/2-D.width-20)+", "+(-E+s.height/2)+")");const{rx:O,ry:B}=t,{cssStyles:N}=t;if("handDrawn"===t.look){const e=u.A.svg(o),r=C(t,{}),n=O||B?e.path(w(T,S,k,_,O||0),r):e.rectangle(T,S,k,_,r);F=o.insert((()=>n),":first-child"),F.attr("class","basic label-container").attr("style",N||null)}else{F=o.insert("rect",":first-child"),F.attr("class","basic label-container __APA__").attr("style",i).attr("rx",O??5).attr("ry",B??5).attr("x",T).attr("y",S).attr("width",k).attr("height",_);const e="priority"in t&&t.priority;if(e){const t=o.append("line"),r=T+2,n=S+Math.floor((O??0)/2),i=S+_-Math.floor((O??0)/2);t.attr("x1",r).attr("y1",n).attr("x2",r).attr("y2",i).attr("stroke-width","4").attr("stroke",gt(e))}}return d(t,F),t.height=_,t.intersect=function(e){return H.rect(t,e)},o}(0,s.K2)(mt,"kanbanItem");var yt=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:Ge},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:Ue},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:Ve},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:Qe},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:he},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:Q},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:je},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:be},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:Fe},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:Se},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:ot},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:Ce},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:fe},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:tt},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:X},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:He},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Ze},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Xe},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:me},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:xe},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:re},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:ie},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:oe},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:Oe},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:ut},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:ye},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:at},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:Ie},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:se},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:de},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:lt},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:ht},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:pe},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:st},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:ge},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:We},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:Pe},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:Me},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:V},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:ee},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:et},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:Je},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:ct},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:Ke},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:Re}],vt=(0,s.K2)((()=>{const e={state:Ye,choice:Z,note:ze,rectWithTitle:qe,labelRect:Te,iconSquare:Ee,iconCircle:De,icon:we,iconRounded:ke,imageSquare:Ae,anchor:W,kanbanItem:mt,classBox:pt},t=[...Object.entries(e),...yt.flatMap((e=>[e.shortName,..."aliases"in e?e.aliases:[],..."internalAliases"in e?e.internalAliases:[]].map((t=>[t,e.handler]))))];return Object.fromEntries(t)}),"generateShapeMap")();function bt(e){return e in vt}(0,s.K2)(bt,"isValidShape");var xt=new Map;async function wt(e,t,r){let n,i;"rect"===t.shape&&(t.rx&&t.ry?t.shape="roundedRect":t.shape="squareRect");const a=t.shape?vt[t.shape]:void 0;if(!a)throw new Error(`No such shape: ${t.shape}. Please check your syntax.`);if(t.link){let o;"sandbox"===r.config.securityLevel?o="_top":t.linkTarget&&(o=t.linkTarget||"_blank"),n=e.insert("svg:a").attr("xlink:href",t.link).attr("target",o??null),i=await a(n,t,r)}else i=await a(e,t,r),n=i;return t.tooltip&&i.attr("title",t.tooltip),xt.set(t.id,n),t.haveCallback&&n.attr("class",n.attr("class")+" clickable"),n}(0,s.K2)(wt,"insertNode");var Dt=(0,s.K2)(((e,t)=>{xt.set(t.id,e)}),"setNodeElem"),kt=(0,s.K2)((()=>{xt.clear()}),"clear"),Et=(0,s.K2)((e=>{const t=xt.get(e.id);s.Rm.trace("Transforming node",e.diff,e,"translate("+(e.x-e.width/2-5)+", "+e.width/2+")");const r=e.diff||0;return e.clusterNode?t.attr("transform","translate("+(e.x+r-e.width/2)+", "+(e.y-e.height/2-8)+")"):t.attr("transform","translate("+e.x+", "+e.y+")"),r}),"positionNode")},758:(e,t,r)=>{"use strict";r.d(t,{Zk:()=>l,iP:()=>Me,q7:()=>L,tM:()=>Pe});var n=r(6474),i=r(7308),a=r(8159),o=r(7692),s=function(){var e=(0,o.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],l=[1,16],u=[1,17],c=[1,18],h=[1,19],d=[1,32],f=[1,20],p=[1,21],g=[1,22],m=[1,23],y=[1,24],v=[1,26],b=[1,27],x=[1,28],w=[1,29],D=[1,30],k=[1,31],E=[1,34],A=[1,35],C=[1,36],_=[1,37],T=[1,33],S=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],F=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],O=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],B={trace:(0,o.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,SD:6,document:7,line:8,statement:9,classDefStatement:10,styleStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"--\x3e":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,style:42,STYLE_IDS:43,STYLEDEF_STYLEOPTS:44,class:45,CLASSENTITY_IDS:46,STYLECLASS:47,direction_tb:48,direction_bt:49,direction_rl:50,direction_lr:51,eol:52,";":53,EDGE_STATE:54,STYLE_SEPARATOR:55,left_of:56,right_of:57,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",6:"SD",14:"DESCR",15:"--\x3e",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"style",43:"STYLE_IDS",44:"STYLEDEF_STYLEOPTS",45:"class",46:"CLASSENTITY_IDS",47:"STYLECLASS",48:"direction_tb",49:"direction_bt",50:"direction_rl",51:"direction_lr",53:";",54:"EDGE_STATE",55:"STYLE_SEPARATOR",56:"left_of",57:"right_of"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,3],[9,4],[9,1],[9,2],[9,1],[9,4],[9,3],[9,6],[9,1],[9,1],[9,1],[9,1],[9,4],[9,4],[9,1],[9,2],[9,2],[9,1],[10,3],[10,3],[11,3],[12,3],[32,1],[32,1],[32,1],[32,1],[52,1],[52,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1]],performAction:(0,o.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 3:return n.setRootDoc(a[s]),a[s];case 4:this.$=[];break;case 5:"nl"!=a[s]&&(a[s-1].push(a[s]),this.$=a[s-1]);break;case 6:case 7:case 12:this.$=a[s];break;case 8:this.$="nl";break;case 13:const e=a[s-1];e.description=n.trimColon(a[s]),this.$=e;break;case 14:this.$={stmt:"relation",state1:a[s-2],state2:a[s]};break;case 15:const t=n.trimColon(a[s]);this.$={stmt:"relation",state1:a[s-3],state2:a[s-1],description:t};break;case 19:this.$={stmt:"state",id:a[s-3],type:"default",description:"",doc:a[s-1]};break;case 20:var l=a[s],u=a[s-2].trim();if(a[s].match(":")){var c=a[s].split(":");l=c[0],u=[u,c[1]]}this.$={stmt:"state",id:l,type:"default",description:u};break;case 21:this.$={stmt:"state",id:a[s-3],type:"default",description:a[s-5],doc:a[s-1]};break;case 22:this.$={stmt:"state",id:a[s],type:"fork"};break;case 23:this.$={stmt:"state",id:a[s],type:"join"};break;case 24:this.$={stmt:"state",id:a[s],type:"choice"};break;case 25:this.$={stmt:"state",id:n.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:a[s-1].trim(),note:{position:a[s-2].trim(),text:a[s].trim()}};break;case 29:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 30:case 31:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 32:case 33:this.$={stmt:"classDef",id:a[s-1].trim(),classes:a[s].trim()};break;case 34:this.$={stmt:"style",id:a[s-1].trim(),styleClass:a[s].trim()};break;case 35:this.$={stmt:"applyClass",id:a[s-1].trim(),styleClass:a[s].trim()};break;case 36:n.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 37:n.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 38:n.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 39:n.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 42:case 43:this.$={stmt:"state",id:a[s].trim(),type:"default",description:""};break;case 44:case 45:this.$={stmt:"state",id:a[s-2].trim(),classes:[a[s].trim()],type:"default",description:""}}}),"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,45,48,49,50,51,54],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:c,22:h,24:d,25:f,26:p,27:g,28:m,29:y,32:25,33:v,35:b,37:x,38:w,42:D,45:k,48:E,49:A,50:C,51:_,54:T},e(S,[2,5]),{9:38,10:12,11:13,12:14,13:15,16:l,17:u,19:c,22:h,24:d,25:f,26:p,27:g,28:m,29:y,32:25,33:v,35:b,37:x,38:w,42:D,45:k,48:E,49:A,50:C,51:_,54:T},e(S,[2,7]),e(S,[2,8]),e(S,[2,9]),e(S,[2,10]),e(S,[2,11]),e(S,[2,12],{14:[1,39],15:[1,40]}),e(S,[2,16]),{18:[1,41]},e(S,[2,18],{20:[1,42]}),{23:[1,43]},e(S,[2,22]),e(S,[2,23]),e(S,[2,24]),e(S,[2,25]),{30:44,31:[1,45],56:[1,46],57:[1,47]},e(S,[2,28]),{34:[1,48]},{36:[1,49]},e(S,[2,31]),{39:[1,50],41:[1,51]},{43:[1,52]},{46:[1,53]},e(F,[2,42],{55:[1,54]}),e(F,[2,43],{55:[1,55]}),e(S,[2,36]),e(S,[2,37]),e(S,[2,38]),e(S,[2,39]),e(S,[2,6]),e(S,[2,13]),{13:56,24:d,54:T},e(S,[2,17]),e(O,i,{7:57}),{24:[1,58]},{24:[1,59]},{23:[1,60]},{24:[2,46]},{24:[2,47]},e(S,[2,29]),e(S,[2,30]),{40:[1,61]},{40:[1,62]},{44:[1,63]},{47:[1,64]},{24:[1,65]},{24:[1,66]},e(S,[2,14],{14:[1,67]}),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:c,21:[1,68],22:h,24:d,25:f,26:p,27:g,28:m,29:y,32:25,33:v,35:b,37:x,38:w,42:D,45:k,48:E,49:A,50:C,51:_,54:T},e(S,[2,20],{20:[1,69]}),{31:[1,70]},{24:[1,71]},e(S,[2,32]),e(S,[2,33]),e(S,[2,34]),e(S,[2,35]),e(F,[2,44]),e(F,[2,45]),e(S,[2,15]),e(S,[2,19]),e(O,i,{7:72}),e(S,[2,26]),e(S,[2,27]),{4:a,5:s,8:8,9:10,10:12,11:13,12:14,13:15,16:l,17:u,19:c,21:[1,73],22:h,24:d,25:f,26:p,27:g,28:m,29:y,32:25,33:v,35:b,37:x,38:w,42:D,45:k,48:E,49:A,50:C,51:_,54:T},e(S,[2,21])],defaultActions:{5:[2,1],6:[2,2],46:[2,46],47:[2,47]},parseError:(0,o.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,o.K2)((function(e){var t=this,r=[0],n=[],i=[null],a=[],s=this.table,l="",u=0,c=0,h=0,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,o.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,a.length=a.length-e}),"popStack"),(0,o.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),a.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},y&&(T._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],i,a].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),a=a.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),a.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},N=function(){return{EOF:1,parseError:(0,o.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,o.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,o.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,o.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,o.K2)((function(){return this._more=!0,this}),"more"),reject:(0,o.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,o.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,o.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,o.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,o.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,o.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,o.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,o.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,o.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,o.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,o.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,o.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,o.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,o.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,o.K2)((function(e,t,r,n){switch(r){case 0:return 41;case 1:case 42:return 48;case 2:case 43:return 49;case 3:case 44:return 50;case 4:case 45:return 51;case 5:case 6:case 8:case 9:case 10:case 11:case 54:case 56:case 62:break;case 7:case 77:return 5;case 12:case 32:return this.pushState("SCALE"),17;case 13:case 33:return 18;case 14:case 20:case 34:case 49:case 52:this.popState();break;case 15:return this.begin("acc_title"),33;case 16:return this.popState(),"acc_title_value";case 17:return this.begin("acc_descr"),35;case 18:return this.popState(),"acc_descr_value";case 19:this.begin("acc_descr_multiline");break;case 21:return"acc_descr_multiline_value";case 22:return this.pushState("CLASSDEF"),38;case 23:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 24:return this.popState(),this.pushState("CLASSDEFID"),39;case 25:return this.popState(),40;case 26:return this.pushState("CLASS"),45;case 27:return this.popState(),this.pushState("CLASS_STYLE"),46;case 28:return this.popState(),47;case 29:return this.pushState("STYLE"),42;case 30:return this.popState(),this.pushState("STYLEDEF_STYLES"),43;case 31:return this.popState(),44;case 35:this.pushState("STATE");break;case 36:case 39:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),25;case 37:case 40:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),26;case 38:case 41:return this.popState(),t.yytext=t.yytext.slice(0,-10).trim(),27;case 46:this.pushState("STATE_STRING");break;case 47:return this.pushState("STATE_ID"),"AS";case 48:case 64:return this.popState(),"ID";case 50:return"STATE_DESCR";case 51:return 19;case 53:return this.popState(),this.pushState("struct"),20;case 55:return this.popState(),21;case 57:return this.begin("NOTE"),29;case 58:return this.popState(),this.pushState("NOTE_ID"),56;case 59:return this.popState(),this.pushState("NOTE_ID"),57;case 60:this.popState(),this.pushState("FLOATING_NOTE");break;case 61:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 63:return"NOTE_TEXT";case 65:return this.popState(),this.pushState("NOTE_TEXT"),24;case 66:return this.popState(),t.yytext=t.yytext.substr(2).trim(),31;case 67:return this.popState(),t.yytext=t.yytext.slice(0,-8).trim(),31;case 68:case 69:return 6;case 70:return 16;case 71:return 54;case 72:return 24;case 73:return t.yytext=t.yytext.trim(),14;case 74:return 15;case 75:return 28;case 76:return 55;case 78:return"INVALID"}}),"anonymous"),rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:style\s+)/i,/^(?:[\w,]+\s+)/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[9,10],inclusive:!1},struct:{rules:[9,10,22,26,29,35,42,43,44,45,54,55,56,57,71,72,73,74,75],inclusive:!1},FLOATING_NOTE_ID:{rules:[64],inclusive:!1},FLOATING_NOTE:{rules:[61,62,63],inclusive:!1},NOTE_TEXT:{rules:[66,67],inclusive:!1},NOTE_ID:{rules:[65],inclusive:!1},NOTE:{rules:[58,59,60],inclusive:!1},STYLEDEF_STYLEOPTS:{rules:[],inclusive:!1},STYLEDEF_STYLES:{rules:[31],inclusive:!1},STYLE_IDS:{rules:[],inclusive:!1},STYLE:{rules:[30],inclusive:!1},CLASS_STYLE:{rules:[28],inclusive:!1},CLASS:{rules:[27],inclusive:!1},CLASSDEFID:{rules:[25],inclusive:!1},CLASSDEF:{rules:[23,24],inclusive:!1},acc_descr_multiline:{rules:[20,21],inclusive:!1},acc_descr:{rules:[18],inclusive:!1},acc_title:{rules:[16],inclusive:!1},SCALE:{rules:[13,14,33,34],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[48],inclusive:!1},STATE_STRING:{rules:[49,50],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[9,10,36,37,38,39,40,41,46,47,51,52,53],inclusive:!1},ID:{rules:[9,10],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,8,10,11,12,15,17,19,22,26,29,32,35,53,57,68,69,70,71,72,73,74,76,77,78],inclusive:!0}}}}();function L(){this.yy={}}return B.lexer=N,(0,o.K2)(L,"Parser"),L.prototype=B,B.Parser=L,new L}();s.parser=s;var l=s,u="state",c="relation",h="default",d="divider",f="fill:none",p="fill: #333",g="text",m="normal",y="rect",v="rectWithTitle",b="divider",x="roundedWithTitle",w="statediagram",D=`${w}-state`,k="transition",E=`${k} note-edge`,A=`${w}-note`,C=`${w}-cluster`,_=`${w}-cluster-alt`,T="parent",S="note",F="----",O=`${F}${S}`,B=`${F}${T}`,N=(0,o.K2)(((e,t="TB")=>{if(!e.doc)return t;let r=t;for(const t of e.doc)"dir"===t.stmt&&(r=t.value);return r}),"getDir"),L={getClasses:(0,o.K2)((function(e,t){return t.db.extract(t.db.getRootDocV2()),t.db.getClasses()}),"getClasses"),draw:(0,o.K2)((async function(e,t,r,s){o.Rm.info("REF0:"),o.Rm.info("Drawing state diagram (v2)",t);const{securityLevel:l,state:u,layout:c}=(0,o.D7)();s.db.extract(s.db.getRootDocV2());const h=s.db.getData(),d=(0,n.A)(t,l);h.type=s.type,h.layoutAlgorithm=c,h.nodeSpacing=u?.nodeSpacing||50,h.rankSpacing=u?.rankSpacing||50,h.markers=["barb"],h.diagramId=t,await(0,i.XX)(h,d),a._K.insertTitle(d,"statediagramTitleText",u?.titleTopMargin??25,s.db.getDiagramTitle()),(0,n.P)(d,8,w,u?.useMaxWidth??!0)}),"draw"),getDir:N},I=new Map,R=0;function M(e="",t=0,r="",n=F){return`state-${e}${null!==r&&r.length>0?`${n}${r}`:""}-${t}`}(0,o.K2)(M,"stateDomId");var P=(0,o.K2)(((e,t,r,n,i,a,s,l)=>{o.Rm.trace("items",t),t.forEach((t=>{switch(t.stmt){case u:case h:q(e,t,r,n,i,a,s,l);break;case c:{q(e,t.state1,r,n,i,a,s,l),q(e,t.state2,r,n,i,a,s,l);const u={id:"edge"+R,start:t.state1.id,end:t.state2.id,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:f,labelStyle:"",label:o.Y2.sanitizeText(t.description,(0,o.D7)()),arrowheadStyle:p,labelpos:"c",labelType:g,thickness:m,classes:k,look:s};i.push(u),R++}}}))}),"setupDoc"),z=(0,o.K2)(((e,t="TB")=>{let r=t;if(e.doc)for(const t of e.doc)"dir"===t.stmt&&(r=t.value);return r}),"getDir");function $(e,t,r){if(!t.id||"</join></fork>"===t.id||"</choice>"===t.id)return;t.cssClasses&&(Array.isArray(t.cssCompiledStyles)||(t.cssCompiledStyles=[]),t.cssClasses.split(" ").forEach((e=>{if(r.get(e)){const n=r.get(e);t.cssCompiledStyles=[...t.cssCompiledStyles,...n.styles]}})));const n=e.find((e=>e.id===t.id));n?Object.assign(n,t):e.push(t)}function j(e){return e?.classes?.join(" ")??""}function K(e){return e?.styles??[]}(0,o.K2)($,"insertOrUpdateNode"),(0,o.K2)(j,"getClassesFromDbInfo"),(0,o.K2)(K,"getStylesFromDbInfo");var q=(0,o.K2)(((e,t,r,n,i,a,s,l)=>{const u=t.id,c=r.get(u),w=j(c),k=K(c);if(o.Rm.info("dataFetcher parsedItem",t,c,k),"root"!==u){let r=y;!0===t.start?r="stateStart":!1===t.start&&(r="stateEnd"),t.type!==h&&(r=t.type),I.get(u)||I.set(u,{id:u,shape:r,description:o.Y2.sanitizeText(u,(0,o.D7)()),cssClasses:`${w} ${D}`,cssStyles:k});const c=I.get(u);t.description&&(Array.isArray(c.description)?(c.shape=v,c.description.push(t.description)):c.description?.length>0?(c.shape=v,c.description===u?c.description=[t.description]:c.description=[c.description,t.description]):(c.shape=y,c.description=t.description),c.description=o.Y2.sanitizeTextOrArray(c.description,(0,o.D7)())),1===c.description?.length&&c.shape===v&&("group"===c.type?c.shape=x:c.shape=y),!c.type&&t.doc&&(o.Rm.info("Setting cluster for XCX",u,z(t)),c.type="group",c.isGroup=!0,c.dir=z(t),c.shape=t.type===d?b:x,c.cssClasses=`${c.cssClasses} ${C} ${a?_:""}`);const F={labelStyle:"",shape:c.shape,label:c.description,cssClasses:c.cssClasses,cssCompiledStyles:[],cssStyles:c.cssStyles,id:u,dir:c.dir,domId:M(u,R),type:c.type,isGroup:"group"===c.type,padding:8,rx:10,ry:10,look:s};if(F.shape===b&&(F.label=""),e&&"root"!==e.id&&(o.Rm.trace("Setting node ",u," to be child of its parent ",e.id),F.parentId=e.id),F.centerLabel=!0,t.note){const e={labelStyle:"",shape:"note",label:t.note.text,cssClasses:A,cssStyles:[],cssCompilesStyles:[],id:u+O+"-"+R,domId:M(u,R,S),type:c.type,isGroup:"group"===c.type,padding:(0,o.D7)().flowchart.padding,look:s,position:t.note.position},r=u+B,a={labelStyle:"",shape:"noteGroup",label:t.note.text,cssClasses:c.cssClasses,cssStyles:[],id:u+B,domId:M(u,R,T),type:"group",isGroup:!0,padding:16,look:s,position:t.note.position};R++,a.id=r,e.parentId=r,$(n,a,l),$(n,e,l),$(n,F,l);let h=u,d=e.id;"left of"===t.note.position&&(h=e.id,d=u),i.push({id:h+"-"+d,start:h,end:d,arrowhead:"none",arrowTypeEnd:"",style:f,labelStyle:"",classes:E,arrowheadStyle:p,labelpos:"c",labelType:g,thickness:m,look:s})}else $(n,F,l)}t.doc&&(o.Rm.trace("Adding nodes children "),P(t,t.doc,r,n,i,!a,s,l))}),"dataFetcher"),U=(0,o.K2)((()=>{I.clear(),R=0}),"reset"),H="[*]",W="start",G=H,V="color",Y="fill";function X(){return new Map}(0,o.K2)(X,"newClassesList");var Z=[],Q=[],J="LR",ee=[],te=X(),re=(0,o.K2)((()=>({relations:[],states:new Map,documents:{}})),"newDoc"),ne={root:re()},ie=ne.root,ae=0,oe=0,se=(0,o.K2)((e=>JSON.parse(JSON.stringify(e))),"clone"),le=(0,o.K2)((e=>{o.Rm.info("Setting root doc",e),ee=e}),"setRootDoc"),ue=(0,o.K2)((()=>ee),"getRootDoc"),ce=(0,o.K2)(((e,t,r)=>{if(t.stmt===c)ce(e,t.state1,!0),ce(e,t.state2,!1);else if(t.stmt===u&&("[*]"===t.id?(t.id=r?e.id+"_start":e.id+"_end",t.start=r):t.id=t.id.trim()),t.doc){const e=[];let r,n=[];for(r=0;r<t.doc.length;r++)if(t.doc[r].type===d){const i=se(t.doc[r]);i.doc=se(n),e.push(i),n=[]}else n.push(t.doc[r]);if(e.length>0&&n.length>0){const r={stmt:u,id:(0,a.$C)(),type:"divider",doc:se(n)};e.push(se(r)),t.doc=e}t.doc.forEach((e=>ce(t,e,!0)))}}),"docTranslator"),he=(0,o.K2)((()=>(ce({id:"root"},{id:"root",doc:ee},!0),{id:"root",doc:ee})),"getRootDocV2"),de=(0,o.K2)((e=>{let t;t=e.doc?e.doc:e,o.Rm.info(t),pe(!0),o.Rm.info("Extract initial document:",t),t.forEach((e=>{switch(o.Rm.warn("Statement",e.stmt),e.stmt){case u:fe(e.id.trim(),e.type,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles);break;case c:Ee(e.state1,e.state2,e.description);break;case"classDef":Te(e.id.trim(),e.classes);break;case"style":{const t=e.id.trim().split(","),r=e.styleClass.split(",");t.forEach((e=>{let t=ge(e);if(void 0===t){const r=e.trim();fe(r),t=ge(r)}t.styles=r.map((e=>e.replace(/;/g,"")?.trim()))}))}break;case"applyClass":Fe(e.id.trim(),e.styleClass)}}));const r=me(),n=(0,o.D7)().look;U(),q(void 0,he(),r,Z,Q,!0,n,te),Z.forEach((e=>{if(Array.isArray(e.label)){if(e.description=e.label.slice(1),e.isGroup&&e.description.length>0)throw new Error("Group nodes can only have label. Remove the additional description for node ["+e.id+"]");e.label=e.label[0]}}))}),"extract"),fe=(0,o.K2)((function(e,t=h,r=null,n=null,i=null,a=null,s=null,l=null){const u=e?.trim();if(ie.states.has(u)?(ie.states.get(u).doc||(ie.states.get(u).doc=r),ie.states.get(u).type||(ie.states.get(u).type=t)):(o.Rm.info("Adding state ",u,n),ie.states.set(u,{id:u,descriptions:[],type:t,doc:r,note:i,classes:[],styles:[],textStyles:[]})),n&&(o.Rm.info("Setting state description",u,n),"string"==typeof n&&Ae(u,n.trim()),"object"==typeof n&&n.forEach((e=>Ae(u,e.trim())))),i){const e=ie.states.get(u);e.note=i,e.note.text=o.Y2.sanitizeText(e.note.text,(0,o.D7)())}a&&(o.Rm.info("Setting state classes",u,a),("string"==typeof a?[a]:a).forEach((e=>Fe(u,e.trim())))),s&&(o.Rm.info("Setting state styles",u,s),("string"==typeof s?[s]:s).forEach((e=>Oe(u,e.trim())))),l&&(o.Rm.info("Setting state styles",u,s),("string"==typeof l?[l]:l).forEach((e=>Be(u,e.trim()))))}),"addState"),pe=(0,o.K2)((function(e){Z=[],Q=[],ne={root:re()},ie=ne.root,ae=0,te=X(),e||(0,o.IU)()}),"clear"),ge=(0,o.K2)((function(e){return ie.states.get(e)}),"getState"),me=(0,o.K2)((function(){return ie.states}),"getStates"),ye=(0,o.K2)((function(){o.Rm.info("Documents = ",ne)}),"logDocuments"),ve=(0,o.K2)((function(){return ie.relations}),"getRelations");function be(e=""){let t=e;return e===H&&(ae++,t=`${W}${ae}`),t}function xe(e="",t=h){return e===H?W:t}function we(e=""){let t=e;return e===G&&(t="end"+ ++ae),t}function De(e="",t=h){return e===G?"end":t}function ke(e,t,r){let n=be(e.id.trim()),i=xe(e.id.trim(),e.type),a=be(t.id.trim()),s=xe(t.id.trim(),t.type);fe(n,i,e.doc,e.description,e.note,e.classes,e.styles,e.textStyles),fe(a,s,t.doc,t.description,t.note,t.classes,t.styles,t.textStyles),ie.relations.push({id1:n,id2:a,relationTitle:o.Y2.sanitizeText(r,(0,o.D7)())})}(0,o.K2)(be,"startIdIfNeeded"),(0,o.K2)(xe,"startTypeIfNeeded"),(0,o.K2)(we,"endIdIfNeeded"),(0,o.K2)(De,"endTypeIfNeeded"),(0,o.K2)(ke,"addRelationObjs");var Ee=(0,o.K2)((function(e,t,r){if("object"==typeof e)ke(e,t,r);else{const n=be(e.trim()),i=xe(e),a=we(t.trim()),s=De(t);fe(n,i),fe(a,s),ie.relations.push({id1:n,id2:a,title:o.Y2.sanitizeText(r,(0,o.D7)())})}}),"addRelation"),Ae=(0,o.K2)((function(e,t){const r=ie.states.get(e),n=t.startsWith(":")?t.replace(":","").trim():t;r.descriptions.push(o.Y2.sanitizeText(n,(0,o.D7)()))}),"addDescription"),Ce=(0,o.K2)((function(e){return":"===e.substring(0,1)?e.substr(2).trim():e.trim()}),"cleanupLabel"),_e=(0,o.K2)((()=>"divider-id-"+ ++oe),"getDividerId"),Te=(0,o.K2)((function(e,t=""){te.has(e)||te.set(e,{id:e,styles:[],textStyles:[]});const r=te.get(e);null!=t&&t.split(",").forEach((e=>{const t=e.replace(/([^;]*);/,"$1").trim();if(RegExp(V).exec(e)){const e=t.replace(Y,"bgFill").replace(V,Y);r.textStyles.push(e)}r.styles.push(t)}))}),"addStyleClass"),Se=(0,o.K2)((function(){return te}),"getClasses"),Fe=(0,o.K2)((function(e,t){e.split(",").forEach((function(e){let r=ge(e);if(void 0===r){const t=e.trim();fe(t),r=ge(t)}r.classes.push(t)}))}),"setCssClass"),Oe=(0,o.K2)((function(e,t){const r=ge(e);void 0!==r&&r.styles.push(t)}),"setStyle"),Be=(0,o.K2)((function(e,t){const r=ge(e);void 0!==r&&r.textStyles.push(t)}),"setTextStyle"),Ne=(0,o.K2)((()=>J),"getDirection"),Le=(0,o.K2)((e=>{J=e}),"setDirection"),Ie=(0,o.K2)((e=>e&&":"===e[0]?e.substr(1).trim():e.trim()),"trimColon"),Re=(0,o.K2)((()=>{const e=(0,o.D7)();return{nodes:Z,edges:Q,other:{},config:e,direction:N(he())}}),"getData"),Me={getConfig:(0,o.K2)((()=>(0,o.D7)().state),"getConfig"),getData:Re,addState:fe,clear:pe,getState:ge,getStates:me,getRelations:ve,getClasses:Se,getDirection:Ne,addRelation:Ee,getDividerId:_e,setDirection:Le,cleanupLabel:Ce,lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:ye,getRootDoc:ue,setRootDoc:le,getRootDocV2:he,extract:de,trimColon:Ie,getAccTitle:o.iN,setAccTitle:o.SV,getAccDescription:o.m7,setAccDescription:o.EI,addStyleClass:Te,setCssClass:Fe,addDescription:Ae,setDiagramTitle:o.ke,getDiagramTitle:o.ab},Pe=(0,o.K2)((e=>`\ndefs #statediagram-barbEnd {\n    fill: ${e.transitionColor};\n    stroke: ${e.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${e.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${e.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${e.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${e.mainBkg};\n  stroke: ${e.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${e.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${e.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${e.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${e.noteBorderColor};\n  fill: ${e.noteBkgColor};\n\n  text {\n    fill: ${e.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${e.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${e.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel {\n  background-color: ${e.edgeLabelBackground};\n  p {\n    background-color: ${e.edgeLabelBackground};\n  }\n  rect {\n    opacity: 0.5;\n    background-color: ${e.edgeLabelBackground};\n    fill: ${e.edgeLabelBackground};\n  }\n  text-align: center;\n}\n.edgeLabel .label text {\n  fill: ${e.transitionLabelColor||e.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${e.transitionLabelColor||e.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${e.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${e.specialStateColor};\n  stroke: ${e.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${e.specialStateColor};\n  stroke: ${e.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${e.innerEndBackground};\n  stroke: ${e.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${e.compositeBackground||e.background};\n  // stroke: ${e.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${e.stateBkg||e.mainBkg};\n  stroke: ${e.stateBorder||e.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${e.mainBkg};\n  stroke: ${e.stateBorder||e.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${e.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${e.compositeTitleBackground};\n  stroke: ${e.stateBorder||e.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${e.stateLabelColor};\n  // line-height: 1;\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${e.stateBorder||e.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${e.compositeBackground||e.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${e.altBackground?e.altBackground:"#efefef"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${e.altBackground?e.altBackground:"#efefef"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${e.noteBkgColor};\n  stroke: ${e.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${e.noteBkgColor};\n  stroke: ${e.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${e.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${e.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${e.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${e.lineColor};\n  stroke: ${e.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${e.textColor};\n}\n`),"getStyles")},3814:(e,t,r)=>{"use strict";r.d(t,{CP:()=>u,HT:()=>h,PB:()=>c,aC:()=>l,lC:()=>o,m:()=>s,tk:()=>a});var n=r(7692),i=r(5397),a=(0,n.K2)(((e,t)=>{const r=e.append("rect");if(r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),t.name&&r.attr("name",t.name),t.rx&&r.attr("rx",t.rx),t.ry&&r.attr("ry",t.ry),void 0!==t.attrs)for(const e in t.attrs)r.attr(e,t.attrs[e]);return t.class&&r.attr("class",t.class),r}),"drawRect"),o=(0,n.K2)(((e,t)=>{const r={x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,stroke:t.stroke,class:"rect"};a(e,r).lower()}),"drawBackgroundRect"),s=(0,n.K2)(((e,t)=>{const r=t.text.replace(n.H1," "),i=e.append("text");i.attr("x",t.x),i.attr("y",t.y),i.attr("class","legend"),i.style("text-anchor",t.anchor),t.class&&i.attr("class",t.class);const a=i.append("tspan");return a.attr("x",t.x+2*t.textMargin),a.text(r),i}),"drawText"),l=(0,n.K2)(((e,t,r,n)=>{const a=e.append("image");a.attr("x",t),a.attr("y",r);const o=(0,i.J)(n);a.attr("xlink:href",o)}),"drawImage"),u=(0,n.K2)(((e,t,r,n)=>{const a=e.append("use");a.attr("x",t),a.attr("y",r);const o=(0,i.J)(n);a.attr("xlink:href",`#${o}`)}),"drawEmbeddedImage"),c=(0,n.K2)((()=>({x:0,y:0,width:100,height:100,fill:"#EDF2AE",stroke:"#666",anchor:"start",rx:0,ry:0})),"getNoteRect"),h=(0,n.K2)((()=>({x:0,y:0,width:100,height:100,"text-anchor":"start",style:"#666",textMargin:0,rx:0,ry:0,tspan:!0})),"getTextObj")},7308:(e,t,r)=>{"use strict";r.d(t,{XX:()=>c,q7:()=>h,sO:()=>u});var n=r(7938),i=r(1282),a=r(8159),o=r(7692),s={common:o.Y2,getConfig:o.zj,insertCluster:i.U,insertEdge:n.Jo,insertEdgeLabel:n.jP,insertMarkers:n.g0,insertNode:i.on,interpolateToCurve:a.Ib,labelHelper:i.Zk,log:o.Rm,positionEdgeLabel:n.T_},l={},u=(0,o.K2)((e=>{for(const t of e)l[t.name]=t}),"registerLayoutLoaders");(0,o.K2)((()=>{u([{name:"dagre",loader:(0,o.K2)((async()=>await Promise.resolve().then(r.bind(r,5024))),"loader")}])}),"registerDefaultLayoutLoaders")();var c=(0,o.K2)((async(e,t)=>{if(!(e.layoutAlgorithm in l))throw new Error(`Unknown layout algorithm: ${e.layoutAlgorithm}`);const r=l[e.layoutAlgorithm];return(await r.loader()).render(e,t,s,{algorithm:r.algorithm})}),"render"),h=(0,o.K2)(((e="",{fallback:t="dagre"}={})=>{if(e in l)return e;if(t in l)return o.Rm.warn(`Layout algorithm ${e} is not registered. Using ${t} as fallback.`),t;throw new Error(`Both layout algorithms ${e} and ${t} are not registered.`)}),"getRegisteredLayoutAlgorithm")},7286:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var n=r(7692),i=r(5763),a=(0,n.K2)((e=>{const{securityLevel:t}=(0,n.D7)();let r=(0,i.Ltv)("body");if("sandbox"===t){const t=(0,i.Ltv)(`#i${e}`),n=t.node()?.contentDocument??document;r=(0,i.Ltv)(n.body)}return r.select(`#${e}`)}),"selectSvgElement")},6144:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var n="11.4.1"},8160:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(7692),i=class{constructor(e){this.init=e,this.records=this.init()}static{(0,n.K2)(this,"ImperativeState")}reset(){this.records=this.init()}}},1099:(e,t,r)=>{"use strict";r.d(t,{WY:()=>E,pC:()=>D,Gc:()=>b});var n=r(7692);const i=(e,t)=>!!e&&!(!(t&&""===e.prefix||e.prefix)||!e.name),a=Object.freeze({left:0,top:0,width:16,height:16}),o=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),s=Object.freeze({...a,...o}),l=Object.freeze({...s,body:"",hidden:!1});function u(e,t){const r=function(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}(e,t);for(const n in l)n in o?n in e&&!(n in r)&&(r[n]=o[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function c(e,t,r){const n=e.icons,i=e.aliases||Object.create(null);let a={};function o(e){a=u(n[e]||i[e],a)}return o(t),r.forEach(o),u(e,a)}const h=Object.freeze({width:null,height:null}),d=Object.freeze({...h,...o}),f=/(-?[0-9.]*[0-9]+[0-9.]*)/g,p=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function g(e,t,r){if(1===t)return e;if(r=r||100,"number"==typeof e)return Math.ceil(e*t*r)/r;if("string"!=typeof e)return e;const n=e.split(f);if(null===n||!n.length)return e;const i=[];let a=n.shift(),o=p.test(a);for(;;){if(o){const e=parseFloat(a);isNaN(e)?i.push(a):i.push(Math.ceil(e*t*r)/r)}else i.push(a);if(a=n.shift(),void 0===a)return i.join("");o=!o}}const m=/\sid="(\S+)"/g,y="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let v=0;var b={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},x=new Map,w=new Map,D=(0,n.K2)((e=>{for(const t of e){if(!t.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(n.Rm.debug("Registering icon pack:",t.name),"loader"in t)w.set(t.name,t.loader);else{if(!("icons"in t))throw n.Rm.error("Invalid icon loader:",t),new Error('Invalid icon loader. Must have either "icons" or "loader" property.');x.set(t.name,t.icons)}}}),"registerIconPacks"),k=(0,n.K2)((async(e,t)=>{const r=((e,t,r,n="")=>{const a=e.split(":");if("@"===e.slice(0,1)){if(a.length<2||a.length>3)return null;n=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const e=a.pop(),r=a.pop(),o={provider:a.length>0?a[0]:n,prefix:r,name:e};return t&&!i(o)?null:o}const o=a[0],s=o.split("-");if(s.length>1){const e={provider:n,prefix:s.shift(),name:s.join("-")};return t&&!i(e)?null:e}if(r&&""===n){const e={provider:n,prefix:"",name:o};return t&&!i(e,r)?null:e}return null})(e,!0,void 0!==t);if(!r)throw new Error(`Invalid icon name: ${e}`);const a=r.prefix||t;if(!a)throw new Error(`Icon name must contain a prefix: ${e}`);let o=x.get(a);if(!o){const e=w.get(a);if(!e)throw new Error(`Icon set not found: ${r.prefix}`);try{o={...await e(),prefix:a},x.set(a,o)}catch(e){throw n.Rm.error(e),new Error(`Failed to load icon set: ${r.prefix}`)}}const s=function(e,t){if(e.icons[t])return c(e,t,[]);const r=function(e,t){const r=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);return(t||Object.keys(r).concat(Object.keys(n))).forEach((function e(t){if(r[t])return i[t]=[];if(!(t in i)){i[t]=null;const r=n[t]&&n[t].parent,a=r&&e(r);a&&(i[t]=[r].concat(a))}return i[t]})),i}(e,[t])[t];return r?c(e,t,r):null}(o,r.name);if(!s)throw new Error(`Icon not found: ${e}`);return s}),"getRegisteredIconData"),E=(0,n.K2)((async(e,t)=>{let r;try{r=await k(e,t?.fallbackPrefix)}catch(e){n.Rm.error(e),r=b}const i=function(e,t){const r={...s,...e},n={...d,...t},i={left:r.left,top:r.top,width:r.width,height:r.height};let a=r.body;[r,n].forEach((e=>{const t=[],r=e.hFlip,n=e.vFlip;let o,s=e.rotate;switch(r?n?s+=2:(t.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),t.push("scale(-1 1)"),i.top=i.left=0):n&&(t.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),t.push("scale(1 -1)"),i.top=i.left=0),s<0&&(s-=4*Math.floor(s/4)),s%=4,s){case 1:o=i.height/2+i.top,t.unshift("rotate(90 "+o.toString()+" "+o.toString()+")");break;case 2:t.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:o=i.width/2+i.left,t.unshift("rotate(-90 "+o.toString()+" "+o.toString()+")")}s%2==1&&(i.left!==i.top&&(o=i.left,i.left=i.top,i.top=o),i.width!==i.height&&(o=i.width,i.width=i.height,i.height=o)),t.length&&(a=function(e,t){const r=function(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const i=e.indexOf(">",n),a=e.indexOf("</"+t);if(-1===i||-1===a)break;const o=e.indexOf(">",a);if(-1===o)break;r+=e.slice(i+1,a).trim(),e=e.slice(0,n).trim()+e.slice(o+1)}return{defs:r,content:e}}(e);return n=r.defs,i=t+r.content+"</g>",n?"<defs>"+n+"</defs>"+i:i;var n,i}(a,'<g transform="'+t.join(" ")+'">'))}));const o=n.width,l=n.height,u=i.width,c=i.height;let h,f;null===o?(f=null===l?"1em":"auto"===l?c:l,h=g(f,u/c)):(h="auto"===o?u:o,f=null===l?g(h,c/u):"auto"===l?c:l);const p={},m=(e,t)=>{(e=>"unset"===e||"undefined"===e||"none"===e)(t)||(p[e]=t.toString())};m("width",h),m("height",f);const y=[i.left,i.top,u,c];return p.viewBox=y.join(" "),{attributes:p,viewBox:y,body:a}}(r,t);return function(e,t){let r=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const e in t)r+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}(function(e,t=y){const r=[];let n;for(;n=m.exec(e);)r.push(n[1]);if(!r.length)return e;const i="suffix"+(16777216*Math.random()|Date.now()).toString(16);return r.forEach((r=>{const n="function"==typeof t?t(r):t+(v++).toString(),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+n+i+"$3")})),e=e.replace(new RegExp(i,"g"),"")}(i.body),i.attributes)}),"getIconSVG")},9874:(e,t,r)=>{"use strict";r.d(t,{H:()=>tr,r:()=>er});var n=r(7692);function i(e){return null==e}function a(e){return"object"==typeof e&&null!==e}function o(e){return Array.isArray(e)?e:i(e)?[]:[e]}function s(e,t){var r,n,i,a;if(t)for(r=0,n=(a=Object.keys(t)).length;r<n;r+=1)e[i=a[r]]=t[i];return e}function l(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n}function u(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e}(0,n.K2)(i,"isNothing"),(0,n.K2)(a,"isObject"),(0,n.K2)(o,"toArray"),(0,n.K2)(s,"extend"),(0,n.K2)(l,"repeat"),(0,n.K2)(u,"isNegativeZero");var c={isNothing:i,isObject:a,toArray:o,repeat:l,isNegativeZero:u,extend:s};function h(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function d(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=h(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(0,n.K2)(h,"formatError"),(0,n.K2)(d,"YAMLException$1"),d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.toString=(0,n.K2)((function(e){return this.name+": "+h(this,e)}),"toString");var f=d;function p(e,t,r,n,i){var a="",o="",s=Math.floor(i/2)-1;return n-t>s&&(t=n-s+(a=" ... ").length),r-n>s&&(r=n+s-(o=" ...").length),{str:a+e.slice(t,r).replace(/\t/g,"→")+o,pos:n-t+a.length}}function g(e,t){return c.repeat(" ",t-e.length)+e}function m(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,n=/\r?\n|\r|\0/g,i=[0],a=[],o=-1;r=n.exec(e.buffer);)a.push(r.index),i.push(r.index+r[0].length),e.position<=r.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var s,l,u="",h=Math.min(e.line+t.linesAfter,a.length).toString().length,d=t.maxLength-(t.indent+h+3);for(s=1;s<=t.linesBefore&&!(o-s<0);s++)l=p(e.buffer,i[o-s],a[o-s],e.position-(i[o]-i[o-s]),d),u=c.repeat(" ",t.indent)+g((e.line-s+1).toString(),h)+" | "+l.str+"\n"+u;for(l=p(e.buffer,i[o],a[o],e.position,d),u+=c.repeat(" ",t.indent)+g((e.line+1).toString(),h)+" | "+l.str+"\n",u+=c.repeat("-",t.indent+h+3+l.pos)+"^\n",s=1;s<=t.linesAfter&&!(o+s>=a.length);s++)l=p(e.buffer,i[o+s],a[o+s],e.position-(i[o]-i[o+s]),d),u+=c.repeat(" ",t.indent)+g((e.line+s+1).toString(),h)+" | "+l.str+"\n";return u.replace(/\n$/,"")}(0,n.K2)(p,"getLine"),(0,n.K2)(g,"padStart"),(0,n.K2)(m,"makeSnippet");var y=m,v=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],b=["scalar","sequence","mapping"];function x(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}function w(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===v.indexOf(t))throw new f('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=x(t.styleAliases||null),-1===b.indexOf(this.kind))throw new f('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}(0,n.K2)(x,"compileStyleAliases"),(0,n.K2)(w,"Type$1");var D=w;function k(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)})),r[t]=e})),r}function E(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function i(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for((0,n.K2)(i,"collectType"),e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return r}function A(e){return this.extend(e)}(0,n.K2)(k,"compileList"),(0,n.K2)(E,"compileMap"),(0,n.K2)(A,"Schema$1"),A.prototype.extend=(0,n.K2)((function(e){var t=[],r=[];if(e instanceof D)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new f("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof D))throw new f("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new f("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new f("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof D))throw new f("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var n=Object.create(A.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=k(n,"implicit"),n.compiledExplicit=k(n,"explicit"),n.compiledTypeMap=E(n.compiledImplicit,n.compiledExplicit),n}),"extend");var C=new A({explicit:[new D("tag:yaml.org,2002:str",{kind:"scalar",construct:(0,n.K2)((function(e){return null!==e?e:""}),"construct")}),new D("tag:yaml.org,2002:seq",{kind:"sequence",construct:(0,n.K2)((function(e){return null!==e?e:[]}),"construct")}),new D("tag:yaml.org,2002:map",{kind:"mapping",construct:(0,n.K2)((function(e){return null!==e?e:{}}),"construct")})]});function _(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)}function T(){return null}function S(e){return null===e}(0,n.K2)(_,"resolveYamlNull"),(0,n.K2)(T,"constructYamlNull"),(0,n.K2)(S,"isNull");var F=new D("tag:yaml.org,2002:null",{kind:"scalar",resolve:_,construct:T,predicate:S,represent:{canonical:(0,n.K2)((function(){return"~"}),"canonical"),lowercase:(0,n.K2)((function(){return"null"}),"lowercase"),uppercase:(0,n.K2)((function(){return"NULL"}),"uppercase"),camelcase:(0,n.K2)((function(){return"Null"}),"camelcase"),empty:(0,n.K2)((function(){return""}),"empty")},defaultStyle:"lowercase"});function O(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)}function B(e){return"true"===e||"True"===e||"TRUE"===e}function N(e){return"[object Boolean]"===Object.prototype.toString.call(e)}(0,n.K2)(O,"resolveYamlBoolean"),(0,n.K2)(B,"constructYamlBoolean"),(0,n.K2)(N,"isBoolean");var L=new D("tag:yaml.org,2002:bool",{kind:"scalar",resolve:O,construct:B,predicate:N,represent:{lowercase:(0,n.K2)((function(e){return e?"true":"false"}),"lowercase"),uppercase:(0,n.K2)((function(e){return e?"TRUE":"FALSE"}),"uppercase"),camelcase:(0,n.K2)((function(e){return e?"True":"False"}),"camelcase")},defaultStyle:"lowercase"});function I(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function R(e){return 48<=e&&e<=55}function M(e){return 48<=e&&e<=57}function P(e){if(null===e)return!1;var t,r=e.length,n=0,i=!1;if(!r)return!1;if("-"!==(t=e[n])&&"+"!==t||(t=e[++n]),"0"===t){if(n+1===r)return!0;if("b"===(t=e[++n])){for(n++;n<r;n++)if("_"!==(t=e[n])){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!I(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}if("o"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!R(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}}if("_"===t)return!1;for(;n<r;n++)if("_"!==(t=e[n])){if(!M(e.charCodeAt(n)))return!1;i=!0}return!(!i||"_"===t)}function z(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)}function $(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!c.isNegativeZero(e)}(0,n.K2)(I,"isHexCode"),(0,n.K2)(R,"isOctCode"),(0,n.K2)(M,"isDecCode"),(0,n.K2)(P,"resolveYamlInteger"),(0,n.K2)(z,"constructYamlInteger"),(0,n.K2)($,"isInteger");var j=new D("tag:yaml.org,2002:int",{kind:"scalar",resolve:P,construct:z,predicate:$,represent:{binary:(0,n.K2)((function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)}),"binary"),octal:(0,n.K2)((function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)}),"octal"),decimal:(0,n.K2)((function(e){return e.toString(10)}),"decimal"),hexadecimal:(0,n.K2)((function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}),"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),K=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function q(e){return null!==e&&!(!K.test(e)||"_"===e[e.length-1])}function U(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)}(0,n.K2)(q,"resolveYamlFloat"),(0,n.K2)(U,"constructYamlFloat");var H=/^[-+]?[0-9]+e/;function W(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(c.isNegativeZero(e))return"-0.0";return r=e.toString(10),H.test(r)?r.replace("e",".e"):r}function G(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||c.isNegativeZero(e))}(0,n.K2)(W,"representYamlFloat"),(0,n.K2)(G,"isFloat");var V=new D("tag:yaml.org,2002:float",{kind:"scalar",resolve:q,construct:U,predicate:G,represent:W,defaultStyle:"lowercase"}),Y=C.extend({implicit:[F,L,j,V]}),X=Y,Z=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Q=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function J(e){return null!==e&&(null!==Z.exec(e)||null!==Q.exec(e))}function ee(e){var t,r,n,i,a,o,s,l,u=0,c=null;if(null===(t=Z.exec(e))&&(t=Q.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(a=+t[4],o=+t[5],s=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(c=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(c=-c)),l=new Date(Date.UTC(r,n,i,a,o,s,u)),c&&l.setTime(l.getTime()-c),l}function te(e){return e.toISOString()}(0,n.K2)(J,"resolveYamlTimestamp"),(0,n.K2)(ee,"constructYamlTimestamp"),(0,n.K2)(te,"representYamlTimestamp");var re=new D("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:J,construct:ee,instanceOf:Date,represent:te});function ne(e){return"<<"===e||null===e}(0,n.K2)(ne,"resolveYamlMerge");var ie=new D("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ne}),ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function oe(e){if(null===e)return!1;var t,r,n=0,i=e.length,a=ae;for(r=0;r<i;r++)if(!((t=a.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0}function se(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,a=ae,o=0,s=[];for(t=0;t<i;t++)t%4==0&&t&&(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)),o=o<<6|a.indexOf(n.charAt(t));return 0==(r=i%4*6)?(s.push(o>>16&255),s.push(o>>8&255),s.push(255&o)):18===r?(s.push(o>>10&255),s.push(o>>2&255)):12===r&&s.push(o>>4&255),new Uint8Array(s)}function le(e){var t,r,n="",i=0,a=e.length,o=ae;for(t=0;t<a;t++)t%3==0&&t&&(n+=o[i>>18&63],n+=o[i>>12&63],n+=o[i>>6&63],n+=o[63&i]),i=(i<<8)+e[t];return 0==(r=a%3)?(n+=o[i>>18&63],n+=o[i>>12&63],n+=o[i>>6&63],n+=o[63&i]):2===r?(n+=o[i>>10&63],n+=o[i>>4&63],n+=o[i<<2&63],n+=o[64]):1===r&&(n+=o[i>>2&63],n+=o[i<<4&63],n+=o[64],n+=o[64]),n}function ue(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}(0,n.K2)(oe,"resolveYamlBinary"),(0,n.K2)(se,"constructYamlBinary"),(0,n.K2)(le,"representYamlBinary"),(0,n.K2)(ue,"isBinary");var ce=new D("tag:yaml.org,2002:binary",{kind:"scalar",resolve:oe,construct:se,predicate:ue,represent:le}),he=Object.prototype.hasOwnProperty,de=Object.prototype.toString;function fe(e){if(null===e)return!0;var t,r,n,i,a,o=[],s=e;for(t=0,r=s.length;t<r;t+=1){if(n=s[t],a=!1,"[object Object]"!==de.call(n))return!1;for(i in n)if(he.call(n,i)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==o.indexOf(i))return!1;o.push(i)}return!0}function pe(e){return null!==e?e:[]}(0,n.K2)(fe,"resolveYamlOmap"),(0,n.K2)(pe,"constructYamlOmap");var ge=new D("tag:yaml.org,2002:omap",{kind:"sequence",resolve:fe,construct:pe}),me=Object.prototype.toString;function ye(e){if(null===e)return!0;var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],"[object Object]"!==me.call(n))return!1;if(1!==(i=Object.keys(n)).length)return!1;a[t]=[i[0],n[i[0]]]}return!0}function ve(e){if(null===e)return[];var t,r,n,i,a,o=e;for(a=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),a[t]=[i[0],n[i[0]]];return a}(0,n.K2)(ye,"resolveYamlPairs"),(0,n.K2)(ve,"constructYamlPairs");var be=new D("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ye,construct:ve}),xe=Object.prototype.hasOwnProperty;function we(e){if(null===e)return!0;var t,r=e;for(t in r)if(xe.call(r,t)&&null!==r[t])return!1;return!0}function De(e){return null!==e?e:{}}(0,n.K2)(we,"resolveYamlSet"),(0,n.K2)(De,"constructYamlSet");var ke=new D("tag:yaml.org,2002:set",{kind:"mapping",resolve:we,construct:De}),Ee=X.extend({implicit:[re,ie],explicit:[ce,ge,be,ke]}),Ae=Object.prototype.hasOwnProperty,Ce=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_e=/[\x85\u2028\u2029]/,Te=/[,\[\]\{\}]/,Se=/^(?:!|!!|![a-z\-]+!)$/i,Fe=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Oe(e){return Object.prototype.toString.call(e)}function Be(e){return 10===e||13===e}function Ne(e){return 9===e||32===e}function Le(e){return 9===e||32===e||10===e||13===e}function Ie(e){return 44===e||91===e||93===e||123===e||125===e}function Re(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function Me(e){return 120===e?2:117===e?4:85===e?8:0}function Pe(e){return 48<=e&&e<=57?e-48:-1}function ze(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function $e(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}(0,n.K2)(Oe,"_class"),(0,n.K2)(Be,"is_EOL"),(0,n.K2)(Ne,"is_WHITE_SPACE"),(0,n.K2)(Le,"is_WS_OR_EOL"),(0,n.K2)(Ie,"is_FLOW_INDICATOR"),(0,n.K2)(Re,"fromHexCode"),(0,n.K2)(Me,"escapedHexLen"),(0,n.K2)(Pe,"fromDecimalCode"),(0,n.K2)(ze,"simpleEscapeSequence"),(0,n.K2)($e,"charFromCodepoint");var je,Ke=new Array(256),qe=new Array(256);for(je=0;je<256;je++)Ke[je]=ze(je)?1:0,qe[je]=ze(je);function Ue(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Ee,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function He(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=y(r),new f(t,r)}function We(e,t){throw He(e,t)}function Ge(e,t){e.onWarning&&e.onWarning.call(null,He(e,t))}(0,n.K2)(Ue,"State$1"),(0,n.K2)(He,"generateError"),(0,n.K2)(We,"throwError"),(0,n.K2)(Ge,"throwWarning");var Ve={YAML:(0,n.K2)((function(e,t,r){var n,i,a;null!==e.version&&We(e,"duplication of %YAML directive"),1!==r.length&&We(e,"YAML directive accepts exactly one argument"),null===(n=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&We(e,"ill-formed argument of the YAML directive"),i=parseInt(n[1],10),a=parseInt(n[2],10),1!==i&&We(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=a<2,1!==a&&2!==a&&Ge(e,"unsupported YAML version of the document")}),"handleYamlDirective"),TAG:(0,n.K2)((function(e,t,r){var n,i;2!==r.length&&We(e,"TAG directive accepts exactly two arguments"),n=r[0],i=r[1],Se.test(n)||We(e,"ill-formed tag handle (first argument) of the TAG directive"),Ae.call(e.tagMap,n)&&We(e,'there is a previously declared suffix for "'+n+'" tag handle'),Fe.test(i)||We(e,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(t){We(e,"tag prefix is malformed: "+i)}e.tagMap[n]=i}),"handleTagDirective")};function Ye(e,t,r,n){var i,a,o,s;if(t<r){if(s=e.input.slice(t,r),n)for(i=0,a=s.length;i<a;i+=1)9===(o=s.charCodeAt(i))||32<=o&&o<=1114111||We(e,"expected valid JSON character");else Ce.test(s)&&We(e,"the stream contains non-printable characters");e.result+=s}}function Xe(e,t,r,n){var i,a,o,s;for(c.isObject(r)||We(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,s=(i=Object.keys(r)).length;o<s;o+=1)a=i[o],Ae.call(t,a)||(t[a]=r[a],n[a]=!0)}function Ze(e,t,r,n,i,a,o,s,l){var u,c;if(Array.isArray(i))for(u=0,c=(i=Array.prototype.slice.call(i)).length;u<c;u+=1)Array.isArray(i[u])&&We(e,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===Oe(i[u])&&(i[u]="[object Object]");if("object"==typeof i&&"[object Object]"===Oe(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(a))for(u=0,c=a.length;u<c;u+=1)Xe(e,t,a[u],r);else Xe(e,t,a,r);else e.json||Ae.call(r,i)||!Ae.call(t,i)||(e.line=o||e.line,e.lineStart=s||e.lineStart,e.position=l||e.position,We(e,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete r[i];return t}function Qe(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):We(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Je(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);0!==i;){for(;Ne(i);)9===i&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&35===i)do{i=e.input.charCodeAt(++e.position)}while(10!==i&&13!==i&&0!==i);if(!Be(i))break;for(Qe(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position)}return-1!==r&&0!==n&&e.lineIndent<r&&Ge(e,"deficient indentation"),n}function et(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!Le(t)))}function tt(e,t){1===t?e.result+=" ":t>1&&(e.result+=c.repeat("\n",t-1))}function rt(e,t,r){var n,i,a,o,s,l,u,c,h=e.kind,d=e.result;if(Le(c=e.input.charCodeAt(e.position))||Ie(c)||35===c||38===c||42===c||33===c||124===c||62===c||39===c||34===c||37===c||64===c||96===c)return!1;if((63===c||45===c)&&(Le(n=e.input.charCodeAt(e.position+1))||r&&Ie(n)))return!1;for(e.kind="scalar",e.result="",i=a=e.position,o=!1;0!==c;){if(58===c){if(Le(n=e.input.charCodeAt(e.position+1))||r&&Ie(n))break}else if(35===c){if(Le(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&et(e)||r&&Ie(c))break;if(Be(c)){if(s=e.line,l=e.lineStart,u=e.lineIndent,Je(e,!1,-1),e.lineIndent>=t){o=!0,c=e.input.charCodeAt(e.position);continue}e.position=a,e.line=s,e.lineStart=l,e.lineIndent=u;break}}o&&(Ye(e,i,a,!1),tt(e,e.line-s),i=a=e.position,o=!1),Ne(c)||(a=e.position+1),c=e.input.charCodeAt(++e.position)}return Ye(e,i,a,!1),!!e.result||(e.kind=h,e.result=d,!1)}function nt(e,t){var r,n,i;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(Ye(e,n,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;n=e.position,e.position++,i=e.position}else Be(r)?(Ye(e,n,i,!0),tt(e,Je(e,!1,t)),n=i=e.position):e.position===e.lineStart&&et(e)?We(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);We(e,"unexpected end of the stream within a single quoted scalar")}function it(e,t){var r,n,i,a,o,s;if(34!==(s=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(s=e.input.charCodeAt(e.position));){if(34===s)return Ye(e,r,e.position,!0),e.position++,!0;if(92===s){if(Ye(e,r,e.position,!0),Be(s=e.input.charCodeAt(++e.position)))Je(e,!1,t);else if(s<256&&Ke[s])e.result+=qe[s],e.position++;else if((o=Me(s))>0){for(i=o,a=0;i>0;i--)(o=Re(s=e.input.charCodeAt(++e.position)))>=0?a=(a<<4)+o:We(e,"expected hexadecimal character");e.result+=$e(a),e.position++}else We(e,"unknown escape sequence");r=n=e.position}else Be(s)?(Ye(e,r,n,!0),tt(e,Je(e,!1,t)),r=n=e.position):e.position===e.lineStart&&et(e)?We(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}We(e,"unexpected end of the stream within a double quoted scalar")}function at(e,t){var r,n,i,a,o,s,l,u,c,h,d,f,p=!0,g=e.tag,m=e.anchor,y=Object.create(null);if(91===(f=e.input.charCodeAt(e.position)))o=93,u=!1,a=[];else{if(123!==f)return!1;o=125,u=!0,a={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=a),f=e.input.charCodeAt(++e.position);0!==f;){if(Je(e,!0,t),(f=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=g,e.anchor=m,e.kind=u?"mapping":"sequence",e.result=a,!0;p?44===f&&We(e,"expected the node content, but found ','"):We(e,"missed comma between flow collection entries"),d=null,s=l=!1,63===f&&Le(e.input.charCodeAt(e.position+1))&&(s=l=!0,e.position++,Je(e,!0,t)),r=e.line,n=e.lineStart,i=e.position,dt(e,t,1,!1,!0),h=e.tag,c=e.result,Je(e,!0,t),f=e.input.charCodeAt(e.position),!l&&e.line!==r||58!==f||(s=!0,f=e.input.charCodeAt(++e.position),Je(e,!0,t),dt(e,t,1,!1,!0),d=e.result),u?Ze(e,a,y,h,c,d,r,n,i):s?a.push(Ze(e,null,y,h,c,d,r,n,i)):a.push(c),Je(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(p=!0,f=e.input.charCodeAt(++e.position)):p=!1}We(e,"unexpected end of the stream within a flow collection")}function ot(e,t){var r,n,i,a,o=1,s=!1,l=!1,u=t,h=0,d=!1;if(124===(a=e.input.charCodeAt(e.position)))n=!1;else{if(62!==a)return!1;n=!0}for(e.kind="scalar",e.result="";0!==a;)if(43===(a=e.input.charCodeAt(++e.position))||45===a)1===o?o=43===a?3:2:We(e,"repeat of a chomping mode identifier");else{if(!((i=Pe(a))>=0))break;0===i?We(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?We(e,"repeat of an indentation width identifier"):(u=t+i-1,l=!0)}if(Ne(a)){do{a=e.input.charCodeAt(++e.position)}while(Ne(a));if(35===a)do{a=e.input.charCodeAt(++e.position)}while(!Be(a)&&0!==a)}for(;0!==a;){for(Qe(e),e.lineIndent=0,a=e.input.charCodeAt(e.position);(!l||e.lineIndent<u)&&32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>u&&(u=e.lineIndent),Be(a))h++;else{if(e.lineIndent<u){3===o?e.result+=c.repeat("\n",s?1+h:h):1===o&&s&&(e.result+="\n");break}for(n?Ne(a)?(d=!0,e.result+=c.repeat("\n",s?1+h:h)):d?(d=!1,e.result+=c.repeat("\n",h+1)):0===h?s&&(e.result+=" "):e.result+=c.repeat("\n",h):e.result+=c.repeat("\n",s?1+h:h),s=!0,l=!0,h=0,r=e.position;!Be(a)&&0!==a;)a=e.input.charCodeAt(++e.position);Ye(e,r,e.position,!1)}}return!0}function st(e,t){var r,n,i=e.tag,a=e.anchor,o=[],s=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),n=e.input.charCodeAt(e.position);0!==n&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,We(e,"tab characters must not be used in indentation")),45===n)&&Le(e.input.charCodeAt(e.position+1));)if(s=!0,e.position++,Je(e,!0,-1)&&e.lineIndent<=t)o.push(null),n=e.input.charCodeAt(e.position);else if(r=e.line,dt(e,t,3,!1,!0),o.push(e.result),Je(e,!0,-1),n=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==n)We(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!s&&(e.tag=i,e.anchor=a,e.kind="sequence",e.result=o,!0)}function lt(e,t,r){var n,i,a,o,s,l,u,c=e.tag,h=e.anchor,d={},f=Object.create(null),p=null,g=null,m=null,y=!1,v=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=d),u=e.input.charCodeAt(e.position);0!==u;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,We(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),a=e.line,63!==u&&58!==u||!Le(n)){if(o=e.line,s=e.lineStart,l=e.position,!dt(e,r,2,!1,!0))break;if(e.line===a){for(u=e.input.charCodeAt(e.position);Ne(u);)u=e.input.charCodeAt(++e.position);if(58===u)Le(u=e.input.charCodeAt(++e.position))||We(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Ze(e,d,f,p,g,null,o,s,l),p=g=m=null),v=!0,y=!1,i=!1,p=e.tag,g=e.result;else{if(!v)return e.tag=c,e.anchor=h,!0;We(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=c,e.anchor=h,!0;We(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(y&&(Ze(e,d,f,p,g,null,o,s,l),p=g=m=null),v=!0,y=!0,i=!0):y?(y=!1,i=!0):We(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,u=n;if((e.line===a||e.lineIndent>t)&&(y&&(o=e.line,s=e.lineStart,l=e.position),dt(e,t,4,!0,i)&&(y?g=e.result:m=e.result),y||(Ze(e,d,f,p,g,m,o,s,l),p=g=m=null),Je(e,!0,-1),u=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&0!==u)We(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Ze(e,d,f,p,g,null,o,s,l),v&&(e.tag=c,e.anchor=h,e.kind="mapping",e.result=d),v}function ut(e){var t,r,n,i,a=!1,o=!1;if(33!==(i=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&We(e,"duplication of a tag property"),60===(i=e.input.charCodeAt(++e.position))?(a=!0,i=e.input.charCodeAt(++e.position)):33===i?(o=!0,r="!!",i=e.input.charCodeAt(++e.position)):r="!",t=e.position,a){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&62!==i);e.position<e.length?(n=e.input.slice(t,e.position),i=e.input.charCodeAt(++e.position)):We(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!Le(i);)33===i&&(o?We(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),Se.test(r)||We(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),i=e.input.charCodeAt(++e.position);n=e.input.slice(t,e.position),Te.test(n)&&We(e,"tag suffix cannot contain flow indicator characters")}n&&!Fe.test(n)&&We(e,"tag name cannot contain such characters: "+n);try{n=decodeURIComponent(n)}catch(t){We(e,"tag name is malformed: "+n)}return a?e.tag=n:Ae.call(e.tagMap,r)?e.tag=e.tagMap[r]+n:"!"===r?e.tag="!"+n:"!!"===r?e.tag="tag:yaml.org,2002:"+n:We(e,'undeclared tag handle "'+r+'"'),!0}function ct(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&We(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!Le(r)&&!Ie(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&We(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ht(e){var t,r,n;if(42!==(n=e.input.charCodeAt(e.position)))return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!Le(n)&&!Ie(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&We(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Ae.call(e.anchorMap,r)||We(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Je(e,!0,-1),!0}function dt(e,t,r,n,i){var a,o,s,l,u,c,h,d,f,p=1,g=!1,m=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=s=4===r||3===r,n&&Je(e,!0,-1)&&(g=!0,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)),1===p)for(;ut(e)||ct(e);)Je(e,!0,-1)?(g=!0,s=a,e.lineIndent>t?p=1:e.lineIndent===t?p=0:e.lineIndent<t&&(p=-1)):s=!1;if(s&&(s=g||i),1!==p&&4!==r||(d=1===r||2===r?t:t+1,f=e.position-e.lineStart,1===p?s&&(st(e,f)||lt(e,f,d))||at(e,d)?m=!0:(o&&ot(e,d)||nt(e,d)||it(e,d)?m=!0:ht(e)?(m=!0,null===e.tag&&null===e.anchor||We(e,"alias node should not have any properties")):rt(e,d,1===r)&&(m=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===p&&(m=s&&st(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&We(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,u=e.implicitTypes.length;l<u;l+=1)if((h=e.implicitTypes[l]).resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(Ae.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,l=0,u=(c=e.typeMap.multi[e.kind||"fallback"]).length;l<u;l+=1)if(e.tag.slice(0,c[l].tag.length)===c[l].tag){h=c[l];break}h||We(e,"unknown tag !<"+e.tag+">"),null!==e.result&&h.kind!==e.kind&&We(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):We(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||m}function ft(e){var t,r,n,i,a=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(i=e.input.charCodeAt(e.position))&&(Je(e,!0,-1),i=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==i));){for(o=!0,i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!Le(i);)i=e.input.charCodeAt(++e.position);for(n=[],(r=e.input.slice(t,e.position)).length<1&&We(e,"directive name must not be less than one character in length");0!==i;){for(;Ne(i);)i=e.input.charCodeAt(++e.position);if(35===i){do{i=e.input.charCodeAt(++e.position)}while(0!==i&&!Be(i));break}if(Be(i))break;for(t=e.position;0!==i&&!Le(i);)i=e.input.charCodeAt(++e.position);n.push(e.input.slice(t,e.position))}0!==i&&Qe(e),Ae.call(Ve,r)?Ve[r](e,r,n):Ge(e,'unknown document directive "'+r+'"')}Je(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Je(e,!0,-1)):o&&We(e,"directives end mark is expected"),dt(e,e.lineIndent-1,4,!1,!0),Je(e,!0,-1),e.checkLineBreaks&&_e.test(e.input.slice(a,e.position))&&Ge(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&et(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Je(e,!0,-1)):e.position<e.length-1&&We(e,"end of the stream or a document separator is expected")}function pt(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new Ue(e,t),n=e.indexOf("\0");for(-1!==n&&(r.position=n,We(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)ft(r);return r.documents}function gt(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var n=pt(e,r);if("function"!=typeof t)return n;for(var i=0,a=n.length;i<a;i+=1)t(n[i])}function mt(e,t){var r=pt(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new f("expected a single document in the stream, but found more")}}(0,n.K2)(Ye,"captureSegment"),(0,n.K2)(Xe,"mergeMappings"),(0,n.K2)(Ze,"storeMappingPair"),(0,n.K2)(Qe,"readLineBreak"),(0,n.K2)(Je,"skipSeparationSpace"),(0,n.K2)(et,"testDocumentSeparator"),(0,n.K2)(tt,"writeFoldedLines"),(0,n.K2)(rt,"readPlainScalar"),(0,n.K2)(nt,"readSingleQuotedScalar"),(0,n.K2)(it,"readDoubleQuotedScalar"),(0,n.K2)(at,"readFlowCollection"),(0,n.K2)(ot,"readBlockScalar"),(0,n.K2)(st,"readBlockSequence"),(0,n.K2)(lt,"readBlockMapping"),(0,n.K2)(ut,"readTagProperty"),(0,n.K2)(ct,"readAnchorProperty"),(0,n.K2)(ht,"readAlias"),(0,n.K2)(dt,"composeNode"),(0,n.K2)(ft,"readDocument"),(0,n.K2)(pt,"loadDocuments"),(0,n.K2)(gt,"loadAll$1"),(0,n.K2)(mt,"load$1");var yt=mt,vt=Object.prototype.toString,bt=Object.prototype.hasOwnProperty,xt=65279,wt={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Dt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],kt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Et(e,t){var r,n,i,a,o,s,l;if(null===t)return{};for(r={},i=0,a=(n=Object.keys(t)).length;i<a;i+=1)o=n[i],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(l=e.compiledTypeMap.fallback[o])&&bt.call(l.styleAliases,s)&&(s=l.styleAliases[s]),r[o]=s;return r}function At(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new f("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+c.repeat("0",n-t.length)+t}function Ct(e){this.schema=e.schema||Ee,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=c.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Et(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function _t(e,t){for(var r,n=c.repeat(" ",t),i=0,a=-1,o="",s=e.length;i<s;)-1===(a=e.indexOf("\n",i))?(r=e.slice(i),i=s):(r=e.slice(i,a+1),i=a+1),r.length&&"\n"!==r&&(o+=n),o+=r;return o}function Tt(e,t){return"\n"+c.repeat(" ",e.indent*t)}function St(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}function Ft(e){return 32===e||9===e}function Ot(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==xt||65536<=e&&e<=1114111}function Bt(e){return Ot(e)&&e!==xt&&13!==e&&10!==e}function Nt(e,t,r){var n=Bt(e),i=n&&!Ft(e);return(r?n:n&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!i)||Bt(t)&&!Ft(t)&&35===e||58===t&&i}function Lt(e){return Ot(e)&&e!==xt&&!Ft(e)&&45!==e&&63!==e&&58!==e&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e&&35!==e&&38!==e&&42!==e&&33!==e&&124!==e&&61!==e&&62!==e&&39!==e&&34!==e&&37!==e&&64!==e&&96!==e}function It(e){return!Ft(e)&&58!==e}function Rt(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function Mt(e){return/^\n* /.test(e)}function Pt(e,t,r,n,i,a,o,s){var l,u=0,c=null,h=!1,d=!1,f=-1!==n,p=-1,g=Lt(Rt(e,0))&&It(Rt(e,e.length-1));if(t||o)for(l=0;l<e.length;u>=65536?l+=2:l++){if(!Ot(u=Rt(e,l)))return 5;g=g&&Nt(u,c,s),c=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(10===(u=Rt(e,l)))h=!0,f&&(d=d||l-p-1>n&&" "!==e[p+1],p=l);else if(!Ot(u))return 5;g=g&&Nt(u,c,s),c=u}d=d||f&&l-p-1>n&&" "!==e[p+1]}return h||d?r>9&&Mt(e)?5:o?2===a?5:2:d?4:3:!g||o||i(e)?2===a?5:2:1}function zt(e,t,r,i,a){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==Dt.indexOf(t)||kt.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),l=i||e.flowLevel>-1&&r>=e.flowLevel;function u(t){return St(e,t)}switch((0,n.K2)(u,"testAmbiguity"),Pt(t,l,e.indent,s,u,e.quotingType,e.forceQuotes&&!i,a)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+$t(t,e.indent)+jt(_t(t,o));case 4:return">"+$t(t,e.indent)+jt(_t(Kt(t,s),o));case 5:return'"'+Ut(t)+'"';default:throw new f("impossible error: invalid scalar style")}}()}function $t(e,t){var r=Mt(e)?String(t):"",n="\n"===e[e.length-1];return r+(!n||"\n"!==e[e.length-2]&&"\n"!==e?n?"":"-":"+")+"\n"}function jt(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function Kt(e,t){for(var r,n,i,a=/(\n+)([^\n]*)/g,o=(r=-1!==(r=e.indexOf("\n"))?r:e.length,a.lastIndex=r,qt(e.slice(0,r),t)),s="\n"===e[0]||" "===e[0];i=a.exec(e);){var l=i[1],u=i[2];n=" "===u[0],o+=l+(s||n||""===u?"":"\n")+qt(u,t),s=n}return o}function qt(e,t){if(""===e||" "===e[0])return e;for(var r,n,i=/ [^ ]/g,a=0,o=0,s=0,l="";r=i.exec(e);)(s=r.index)-a>t&&(n=o>a?o:s,l+="\n"+e.slice(a,n),a=n+1),o=s;return l+="\n",e.length-a>t&&o>a?l+=e.slice(a,o)+"\n"+e.slice(o+1):l+=e.slice(a),l.slice(1)}function Ut(e){for(var t,r="",n=0,i=0;i<e.length;n>=65536?i+=2:i++)n=Rt(e,i),!(t=wt[n])&&Ot(n)?(r+=e[i],n>=65536&&(r+=e[i+1])):r+=t||At(n);return r}function Ht(e,t,r){var n,i,a,o="",s=e.tag;for(n=0,i=r.length;n<i;n+=1)a=r[n],e.replacer&&(a=e.replacer.call(r,String(n),a)),(Xt(e,t,a,!1,!1)||void 0===a&&Xt(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=s,e.dump="["+o+"]"}function Wt(e,t,r,n){var i,a,o,s="",l=e.tag;for(i=0,a=r.length;i<a;i+=1)o=r[i],e.replacer&&(o=e.replacer.call(r,String(i),o)),(Xt(e,t+1,o,!0,!0,!1,!0)||void 0===o&&Xt(e,t+1,null,!0,!0,!1,!0))&&(n&&""===s||(s+=Tt(e,t)),e.dump&&10===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=l,e.dump=s||"[]"}function Gt(e,t,r){var n,i,a,o,s,l="",u=e.tag,c=Object.keys(r);for(n=0,i=c.length;n<i;n+=1)s="",""!==l&&(s+=", "),e.condenseFlow&&(s+='"'),o=r[a=c[n]],e.replacer&&(o=e.replacer.call(r,a,o)),Xt(e,t,a,!1,!1)&&(e.dump.length>1024&&(s+="? "),s+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Xt(e,t,o,!1,!1)&&(l+=s+=e.dump));e.tag=u,e.dump="{"+l+"}"}function Vt(e,t,r,n){var i,a,o,s,l,u,c="",h=e.tag,d=Object.keys(r);if(!0===e.sortKeys)d.sort();else if("function"==typeof e.sortKeys)d.sort(e.sortKeys);else if(e.sortKeys)throw new f("sortKeys must be a boolean or a function");for(i=0,a=d.length;i<a;i+=1)u="",n&&""===c||(u+=Tt(e,t)),s=r[o=d[i]],e.replacer&&(s=e.replacer.call(r,o,s)),Xt(e,t+1,o,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,l&&(u+=Tt(e,t)),Xt(e,t+1,s,!0,l)&&(e.dump&&10===e.dump.charCodeAt(0)?u+=":":u+=": ",c+=u+=e.dump));e.tag=h,e.dump=c||"{}"}function Yt(e,t,r){var n,i,a,o,s,l;for(a=0,o=(i=r?e.explicitTypes:e.implicitTypes).length;a<o;a+=1)if(((s=i[a]).instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof t&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(l=e.styleMap[s.tag]||s.defaultStyle,"[object Function]"===vt.call(s.represent))n=s.represent(t,l);else{if(!bt.call(s.represent,l))throw new f("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');n=s.represent[l](t,l)}e.dump=n}return!0}return!1}function Xt(e,t,r,n,i,a,o){e.tag=null,e.dump=r,Yt(e,r,!1)||Yt(e,r,!0);var s,l=vt.call(e.dump),u=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var c,h,d="[object Object]"===l||"[object Array]"===l;if(d&&(h=-1!==(c=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(d&&h&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),"[object Object]"===l)n&&0!==Object.keys(e.dump).length?(Vt(e,t,e.dump,i),h&&(e.dump="&ref_"+c+e.dump)):(Gt(e,t,e.dump),h&&(e.dump="&ref_"+c+" "+e.dump));else if("[object Array]"===l)n&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?Wt(e,t-1,e.dump,i):Wt(e,t,e.dump,i),h&&(e.dump="&ref_"+c+e.dump)):(Ht(e,t,e.dump),h&&(e.dump="&ref_"+c+" "+e.dump));else{if("[object String]"!==l){if("[object Undefined]"===l)return!1;if(e.skipInvalid)return!1;throw new f("unacceptable kind of an object to dump "+l)}"?"!==e.tag&&zt(e,e.dump,t,a,u)}null!==e.tag&&"?"!==e.tag&&(s=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),s="!"===e.tag[0]?"!"+s:"tag:yaml.org,2002:"===s.slice(0,18)?"!!"+s.slice(18):"!<"+s+">",e.dump=s+" "+e.dump)}return!0}function Zt(e,t){var r,n,i=[],a=[];for(Qt(e,i,a),r=0,n=a.length;r<n;r+=1)t.duplicates.push(i[a[r]]);t.usedDuplicates=new Array(n)}function Qt(e,t,r){var n,i,a;if(null!==e&&"object"==typeof e)if(-1!==(i=t.indexOf(e)))-1===r.indexOf(i)&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)Qt(e[i],t,r);else for(i=0,a=(n=Object.keys(e)).length;i<a;i+=1)Qt(e[n[i]],t,r)}function Jt(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}(0,n.K2)(Et,"compileStyleMap"),(0,n.K2)(At,"encodeHex"),(0,n.K2)(Ct,"State"),(0,n.K2)(_t,"indentString"),(0,n.K2)(Tt,"generateNextLine"),(0,n.K2)(St,"testImplicitResolving"),(0,n.K2)(Ft,"isWhitespace"),(0,n.K2)(Ot,"isPrintable"),(0,n.K2)(Bt,"isNsCharOrWhitespace"),(0,n.K2)(Nt,"isPlainSafe"),(0,n.K2)(Lt,"isPlainSafeFirst"),(0,n.K2)(It,"isPlainSafeLast"),(0,n.K2)(Rt,"codePointAt"),(0,n.K2)(Mt,"needIndentIndicator"),(0,n.K2)(Pt,"chooseScalarStyle"),(0,n.K2)(zt,"writeScalar"),(0,n.K2)($t,"blockHeader"),(0,n.K2)(jt,"dropEndingNewline"),(0,n.K2)(Kt,"foldString"),(0,n.K2)(qt,"foldLine"),(0,n.K2)(Ut,"escapeString"),(0,n.K2)(Ht,"writeFlowSequence"),(0,n.K2)(Wt,"writeBlockSequence"),(0,n.K2)(Gt,"writeFlowMapping"),(0,n.K2)(Vt,"writeBlockMapping"),(0,n.K2)(Yt,"detectType"),(0,n.K2)(Xt,"writeNode"),(0,n.K2)(Zt,"getDuplicateReferences"),(0,n.K2)(Qt,"inspectNode"),(0,n.K2)((function(e,t){var r=new Ct(t=t||{});r.noRefs||Zt(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Xt(r,0,n,!0,!0)?r.dump+"\n":""}),"dump$1"),(0,n.K2)(Jt,"renamed");var er=Y,tr=yt;Jt("safeLoad","load"),Jt("safeLoadAll","loadAll"),Jt("safeDump","dump")},6240:(e,t,r)=>{"use strict";r.d(t,{Lh:()=>le,_$:()=>u,tM:()=>oe,z2:()=>ae});var n=r(6474),i=r(7308),a=r(8159),o=r(7692),s=r(5763),l=function(){var e=(0,o.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,18],r=[1,19],n=[1,20],i=[1,41],a=[1,42],s=[1,26],l=[1,24],u=[1,25],c=[1,32],h=[1,33],d=[1,34],f=[1,45],p=[1,35],g=[1,36],m=[1,37],y=[1,38],v=[1,27],b=[1,28],x=[1,29],w=[1,30],D=[1,31],k=[1,44],E=[1,46],A=[1,43],C=[1,47],_=[1,9],T=[1,8,9],S=[1,58],F=[1,59],O=[1,60],B=[1,61],N=[1,62],L=[1,63],I=[1,64],R=[1,8,9,41],M=[1,76],P=[1,8,9,12,13,22,39,41,44,66,67,68,69,70,71,72,77,79],z=[1,8,9,12,13,17,20,22,39,41,44,48,58,66,67,68,69,70,71,72,77,79,84,99,101,102],$=[13,58,84,99,101,102],j=[13,58,71,72,84,99,101,102],K=[13,58,66,67,68,69,70,84,99,101,102],q=[1,98],U=[1,115],H=[1,107],W=[1,113],G=[1,108],V=[1,109],Y=[1,110],X=[1,111],Z=[1,112],Q=[1,114],J=[22,58,59,80,84,85,86,87,88,89],ee=[1,8,9,39,41,44],te=[1,8,9,22],re=[1,143],ne=[1,8,9,59],ie=[1,8,9,22,58,59,80,84,85,86,87,88,89],ae={trace:(0,o.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statements:5,graphConfig:6,CLASS_DIAGRAM:7,NEWLINE:8,EOF:9,statement:10,classLabel:11,SQS:12,STR:13,SQE:14,namespaceName:15,alphaNumToken:16,DOT:17,className:18,classLiteralName:19,GENERICTYPE:20,relationStatement:21,LABEL:22,namespaceStatement:23,classStatement:24,memberStatement:25,annotationStatement:26,clickStatement:27,styleStatement:28,cssClassStatement:29,noteStatement:30,classDefStatement:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,namespaceIdentifier:38,STRUCT_START:39,classStatements:40,STRUCT_STOP:41,NAMESPACE:42,classIdentifier:43,STYLE_SEPARATOR:44,members:45,CLASS:46,ANNOTATION_START:47,ANNOTATION_END:48,MEMBER:49,SEPARATOR:50,relation:51,NOTE_FOR:52,noteText:53,NOTE:54,CLASSDEF:55,classList:56,stylesOpt:57,ALPHA:58,COMMA:59,direction_tb:60,direction_bt:61,direction_rl:62,direction_lr:63,relationType:64,lineType:65,AGGREGATION:66,EXTENSION:67,COMPOSITION:68,DEPENDENCY:69,LOLLIPOP:70,LINE:71,DOTTED_LINE:72,CALLBACK:73,LINK:74,LINK_TARGET:75,CLICK:76,CALLBACK_NAME:77,CALLBACK_ARGS:78,HREF:79,STYLE:80,CSSCLASS:81,style:82,styleComponent:83,NUM:84,COLON:85,UNIT:86,SPACE:87,BRKT:88,PCT:89,commentToken:90,textToken:91,graphCodeTokens:92,textNoTagsToken:93,TAGSTART:94,TAGEND:95,"==":96,"--":97,DEFAULT:98,MINUS:99,keywords:100,UNICODE_TEXT:101,BQUOTE_STR:102,$accept:0,$end:1},terminals_:{2:"error",7:"CLASS_DIAGRAM",8:"NEWLINE",9:"EOF",12:"SQS",13:"STR",14:"SQE",17:"DOT",20:"GENERICTYPE",22:"LABEL",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",39:"STRUCT_START",41:"STRUCT_STOP",42:"NAMESPACE",44:"STYLE_SEPARATOR",46:"CLASS",47:"ANNOTATION_START",48:"ANNOTATION_END",49:"MEMBER",50:"SEPARATOR",52:"NOTE_FOR",54:"NOTE",55:"CLASSDEF",58:"ALPHA",59:"COMMA",60:"direction_tb",61:"direction_bt",62:"direction_rl",63:"direction_lr",66:"AGGREGATION",67:"EXTENSION",68:"COMPOSITION",69:"DEPENDENCY",70:"LOLLIPOP",71:"LINE",72:"DOTTED_LINE",73:"CALLBACK",74:"LINK",75:"LINK_TARGET",76:"CLICK",77:"CALLBACK_NAME",78:"CALLBACK_ARGS",79:"HREF",80:"STYLE",81:"CSSCLASS",84:"NUM",85:"COLON",86:"UNIT",87:"SPACE",88:"BRKT",89:"PCT",92:"graphCodeTokens",94:"TAGSTART",95:"TAGEND",96:"==",97:"--",98:"DEFAULT",99:"MINUS",100:"keywords",101:"UNICODE_TEXT",102:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[4,1],[6,4],[5,1],[5,2],[5,3],[11,3],[15,1],[15,3],[15,2],[18,1],[18,3],[18,1],[18,2],[18,2],[18,2],[10,1],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[23,4],[23,5],[38,2],[40,1],[40,2],[40,3],[24,1],[24,3],[24,4],[24,6],[43,2],[43,3],[26,4],[45,1],[45,2],[25,1],[25,2],[25,1],[25,1],[21,3],[21,4],[21,4],[21,5],[30,3],[30,2],[31,3],[56,1],[56,3],[32,1],[32,1],[32,1],[32,1],[51,3],[51,2],[51,2],[51,1],[64,1],[64,1],[64,1],[64,1],[64,1],[65,1],[65,1],[27,3],[27,4],[27,3],[27,4],[27,4],[27,5],[27,3],[27,4],[27,4],[27,5],[27,4],[27,5],[27,5],[27,6],[28,3],[29,3],[57,1],[57,3],[82,1],[82,2],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[90,1],[90,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[91,1],[93,1],[93,1],[93,1],[93,1],[16,1],[16,1],[16,1],[16,1],[19,1],[53,1]],performAction:(0,o.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 8:this.$=a[s-1];break;case 9:case 12:case 14:this.$=a[s];break;case 10:case 13:this.$=a[s-2]+"."+a[s];break;case 11:case 15:case 95:this.$=a[s-1]+a[s];break;case 16:case 17:this.$=a[s-1]+"~"+a[s]+"~";break;case 18:n.addRelation(a[s]);break;case 19:a[s-1].title=n.cleanupLabel(a[s]),n.addRelation(a[s-1]);break;case 30:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 31:case 32:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 33:n.addClassesToNamespace(a[s-3],a[s-1]);break;case 34:n.addClassesToNamespace(a[s-4],a[s-1]);break;case 35:this.$=a[s],n.addNamespace(a[s]);break;case 36:case 46:case 59:case 92:this.$=[a[s]];break;case 37:this.$=[a[s-1]];break;case 38:a[s].unshift(a[s-2]),this.$=a[s];break;case 40:n.setCssClass(a[s-2],a[s]);break;case 41:n.addMembers(a[s-3],a[s-1]);break;case 42:n.setCssClass(a[s-5],a[s-3]),n.addMembers(a[s-5],a[s-1]);break;case 43:this.$=a[s],n.addClass(a[s]);break;case 44:this.$=a[s-1],n.addClass(a[s-1]),n.setClassLabel(a[s-1],a[s]);break;case 45:n.addAnnotation(a[s],a[s-2]);break;case 47:a[s].push(a[s-1]),this.$=a[s];break;case 48:case 50:case 51:break;case 49:n.addMember(a[s-1],n.cleanupLabel(a[s]));break;case 52:this.$={id1:a[s-2],id2:a[s],relation:a[s-1],relationTitle1:"none",relationTitle2:"none"};break;case 53:this.$={id1:a[s-3],id2:a[s],relation:a[s-1],relationTitle1:a[s-2],relationTitle2:"none"};break;case 54:this.$={id1:a[s-3],id2:a[s],relation:a[s-2],relationTitle1:"none",relationTitle2:a[s-1]};break;case 55:this.$={id1:a[s-4],id2:a[s],relation:a[s-2],relationTitle1:a[s-3],relationTitle2:a[s-1]};break;case 56:n.addNote(a[s],a[s-1]);break;case 57:n.addNote(a[s]);break;case 58:this.$=a[s-2],n.defineClass(a[s-1],a[s]);break;case 60:this.$=a[s-2].concat([a[s]]);break;case 61:n.setDirection("TB");break;case 62:n.setDirection("BT");break;case 63:n.setDirection("RL");break;case 64:n.setDirection("LR");break;case 65:this.$={type1:a[s-2],type2:a[s],lineType:a[s-1]};break;case 66:this.$={type1:"none",type2:a[s],lineType:a[s-1]};break;case 67:this.$={type1:a[s-1],type2:"none",lineType:a[s]};break;case 68:this.$={type1:"none",type2:"none",lineType:a[s]};break;case 69:this.$=n.relationType.AGGREGATION;break;case 70:this.$=n.relationType.EXTENSION;break;case 71:this.$=n.relationType.COMPOSITION;break;case 72:this.$=n.relationType.DEPENDENCY;break;case 73:this.$=n.relationType.LOLLIPOP;break;case 74:this.$=n.lineType.LINE;break;case 75:this.$=n.lineType.DOTTED_LINE;break;case 76:case 82:this.$=a[s-2],n.setClickEvent(a[s-1],a[s]);break;case 77:case 83:this.$=a[s-3],n.setClickEvent(a[s-2],a[s-1]),n.setTooltip(a[s-2],a[s]);break;case 78:this.$=a[s-2],n.setLink(a[s-1],a[s]);break;case 79:this.$=a[s-3],n.setLink(a[s-2],a[s-1],a[s]);break;case 80:this.$=a[s-3],n.setLink(a[s-2],a[s-1]),n.setTooltip(a[s-2],a[s]);break;case 81:this.$=a[s-4],n.setLink(a[s-3],a[s-2],a[s]),n.setTooltip(a[s-3],a[s-1]);break;case 84:this.$=a[s-3],n.setClickEvent(a[s-2],a[s-1],a[s]);break;case 85:this.$=a[s-4],n.setClickEvent(a[s-3],a[s-2],a[s-1]),n.setTooltip(a[s-3],a[s]);break;case 86:this.$=a[s-3],n.setLink(a[s-2],a[s]);break;case 87:this.$=a[s-4],n.setLink(a[s-3],a[s-1],a[s]);break;case 88:this.$=a[s-4],n.setLink(a[s-3],a[s-1]),n.setTooltip(a[s-3],a[s]);break;case 89:this.$=a[s-5],n.setLink(a[s-4],a[s-2],a[s]),n.setTooltip(a[s-4],a[s-1]);break;case 90:this.$=a[s-2],n.setCssStyle(a[s-1],a[s]);break;case 91:n.setCssClass(a[s-1],a[s]);break;case 93:a[s-2].push(a[s]),this.$=a[s-2]}}),"anonymous"),table:[{3:1,4:2,5:3,6:4,7:[1,6],10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:l,50:u,52:c,54:h,55:d,58:f,60:p,61:g,62:m,63:y,73:v,74:b,76:x,80:w,81:D,84:k,99:E,101:A,102:C},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},e(_,[2,5],{8:[1,48]}),{8:[1,49]},e(T,[2,18],{22:[1,50]}),e(T,[2,20]),e(T,[2,21]),e(T,[2,22]),e(T,[2,23]),e(T,[2,24]),e(T,[2,25]),e(T,[2,26]),e(T,[2,27]),e(T,[2,28]),e(T,[2,29]),{34:[1,51]},{36:[1,52]},e(T,[2,32]),e(T,[2,48],{51:53,64:56,65:57,13:[1,54],22:[1,55],66:S,67:F,68:O,69:B,70:N,71:L,72:I}),{39:[1,65]},e(R,[2,39],{39:[1,67],44:[1,66]}),e(T,[2,50]),e(T,[2,51]),{16:68,58:f,84:k,99:E,101:A},{16:39,18:69,19:40,58:f,84:k,99:E,101:A,102:C},{16:39,18:70,19:40,58:f,84:k,99:E,101:A,102:C},{16:39,18:71,19:40,58:f,84:k,99:E,101:A,102:C},{58:[1,72]},{13:[1,73]},{16:39,18:74,19:40,58:f,84:k,99:E,101:A,102:C},{13:M,53:75},{56:77,58:[1,78]},e(T,[2,61]),e(T,[2,62]),e(T,[2,63]),e(T,[2,64]),e(P,[2,12],{16:39,19:40,18:80,17:[1,79],20:[1,81],58:f,84:k,99:E,101:A,102:C}),e(P,[2,14],{20:[1,82]}),{15:83,16:84,58:f,84:k,99:E,101:A},{16:39,18:85,19:40,58:f,84:k,99:E,101:A,102:C},e(z,[2,118]),e(z,[2,119]),e(z,[2,120]),e(z,[2,121]),e([1,8,9,12,13,20,22,39,41,44,66,67,68,69,70,71,72,77,79],[2,122]),e(_,[2,6],{10:5,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,18:21,38:22,43:23,16:39,19:40,5:86,33:t,35:r,37:n,42:i,46:a,47:s,49:l,50:u,52:c,54:h,55:d,58:f,60:p,61:g,62:m,63:y,73:v,74:b,76:x,80:w,81:D,84:k,99:E,101:A,102:C}),{5:87,10:5,16:39,18:21,19:40,21:7,23:8,24:9,25:10,26:11,27:12,28:13,29:14,30:15,31:16,32:17,33:t,35:r,37:n,38:22,42:i,43:23,46:a,47:s,49:l,50:u,52:c,54:h,55:d,58:f,60:p,61:g,62:m,63:y,73:v,74:b,76:x,80:w,81:D,84:k,99:E,101:A,102:C},e(T,[2,19]),e(T,[2,30]),e(T,[2,31]),{13:[1,89],16:39,18:88,19:40,58:f,84:k,99:E,101:A,102:C},{51:90,64:56,65:57,66:S,67:F,68:O,69:B,70:N,71:L,72:I},e(T,[2,49]),{65:91,71:L,72:I},e($,[2,68],{64:92,66:S,67:F,68:O,69:B,70:N}),e(j,[2,69]),e(j,[2,70]),e(j,[2,71]),e(j,[2,72]),e(j,[2,73]),e(K,[2,74]),e(K,[2,75]),{8:[1,94],24:95,40:93,43:23,46:a},{16:96,58:f,84:k,99:E,101:A},{45:97,49:q},{48:[1,99]},{13:[1,100]},{13:[1,101]},{77:[1,102],79:[1,103]},{22:U,57:104,58:H,80:W,82:105,83:106,84:G,85:V,86:Y,87:X,88:Z,89:Q},{58:[1,116]},{13:M,53:117},e(T,[2,57]),e(T,[2,123]),{22:U,57:118,58:H,59:[1,119],80:W,82:105,83:106,84:G,85:V,86:Y,87:X,88:Z,89:Q},e(J,[2,59]),{16:39,18:120,19:40,58:f,84:k,99:E,101:A,102:C},e(P,[2,15]),e(P,[2,16]),e(P,[2,17]),{39:[2,35]},{15:122,16:84,17:[1,121],39:[2,9],58:f,84:k,99:E,101:A},e(ee,[2,43],{11:123,12:[1,124]}),e(_,[2,7]),{9:[1,125]},e(te,[2,52]),{16:39,18:126,19:40,58:f,84:k,99:E,101:A,102:C},{13:[1,128],16:39,18:127,19:40,58:f,84:k,99:E,101:A,102:C},e($,[2,67],{64:129,66:S,67:F,68:O,69:B,70:N}),e($,[2,66]),{41:[1,130]},{24:95,40:131,43:23,46:a},{8:[1,132],41:[2,36]},e(R,[2,40],{39:[1,133]}),{41:[1,134]},{41:[2,46],45:135,49:q},{16:39,18:136,19:40,58:f,84:k,99:E,101:A,102:C},e(T,[2,76],{13:[1,137]}),e(T,[2,78],{13:[1,139],75:[1,138]}),e(T,[2,82],{13:[1,140],78:[1,141]}),{13:[1,142]},e(T,[2,90],{59:re}),e(ne,[2,92],{83:144,22:U,58:H,80:W,84:G,85:V,86:Y,87:X,88:Z,89:Q}),e(ie,[2,94]),e(ie,[2,96]),e(ie,[2,97]),e(ie,[2,98]),e(ie,[2,99]),e(ie,[2,100]),e(ie,[2,101]),e(ie,[2,102]),e(ie,[2,103]),e(ie,[2,104]),e(T,[2,91]),e(T,[2,56]),e(T,[2,58],{59:re}),{58:[1,145]},e(P,[2,13]),{15:146,16:84,58:f,84:k,99:E,101:A},{39:[2,11]},e(ee,[2,44]),{13:[1,147]},{1:[2,4]},e(te,[2,54]),e(te,[2,53]),{16:39,18:148,19:40,58:f,84:k,99:E,101:A,102:C},e($,[2,65]),e(T,[2,33]),{41:[1,149]},{24:95,40:150,41:[2,37],43:23,46:a},{45:151,49:q},e(R,[2,41]),{41:[2,47]},e(T,[2,45]),e(T,[2,77]),e(T,[2,79]),e(T,[2,80],{75:[1,152]}),e(T,[2,83]),e(T,[2,84],{13:[1,153]}),e(T,[2,86],{13:[1,155],75:[1,154]}),{22:U,58:H,80:W,82:156,83:106,84:G,85:V,86:Y,87:X,88:Z,89:Q},e(ie,[2,95]),e(J,[2,60]),{39:[2,10]},{14:[1,157]},e(te,[2,55]),e(T,[2,34]),{41:[2,38]},{41:[1,158]},e(T,[2,81]),e(T,[2,85]),e(T,[2,87]),e(T,[2,88],{75:[1,159]}),e(ne,[2,93],{83:144,22:U,58:H,80:W,84:G,85:V,86:Y,87:X,88:Z,89:Q}),e(ee,[2,8]),e(R,[2,42]),e(T,[2,89])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],83:[2,35],122:[2,11],125:[2,4],135:[2,47],146:[2,10],150:[2,38]},parseError:(0,o.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,o.K2)((function(e){var t=this,r=[0],n=[],i=[null],a=[],s=this.table,l="",u=0,c=0,h=0,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,o.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,a.length=a.length-e}),"popStack"),(0,o.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),a.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},y&&(T._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],i,a].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),a=a.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),a.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},oe=function(){return{EOF:1,parseError:(0,o.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,o.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,o.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,o.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,o.K2)((function(){return this._more=!0,this}),"more"),reject:(0,o.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,o.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,o.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,o.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,o.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,o.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,o.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,o.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,o.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,o.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,o.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,o.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,o.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,o.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{},performAction:(0,o.K2)((function(e,t,r,n){switch(r){case 0:return 60;case 1:return 61;case 2:return 62;case 3:return 63;case 4:case 5:case 14:case 31:case 36:case 40:case 47:break;case 6:return this.begin("acc_title"),33;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),35;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 19:case 22:case 24:case 58:case 61:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:case 35:return 8;case 15:case 16:return 7;case 17:case 37:case 45:return"EDGE_STATE";case 18:this.begin("callback_name");break;case 20:this.popState(),this.begin("callback_args");break;case 21:return 77;case 23:return 78;case 25:return"STR";case 26:this.begin("string");break;case 27:return 80;case 28:return 55;case 29:return this.begin("namespace"),42;case 30:case 39:return this.popState(),8;case 32:return this.begin("namespace-body"),39;case 33:case 43:return this.popState(),41;case 34:case 44:return"EOF_IN_STRUCT";case 38:return this.begin("class"),46;case 41:return this.popState(),this.popState(),41;case 42:return this.begin("class-body"),39;case 46:return"OPEN_IN_STRUCT";case 48:return"MEMBER";case 49:return 81;case 50:return 73;case 51:return 74;case 52:return 76;case 53:return 52;case 54:return 54;case 55:return 47;case 56:return 48;case 57:return 79;case 59:return"GENERICTYPE";case 60:this.begin("generic");break;case 62:return"BQUOTE_STR";case 63:this.begin("bqstring");break;case 64:case 65:case 66:case 67:return 75;case 68:case 69:return 67;case 70:case 71:return 69;case 72:return 68;case 73:return 66;case 74:return 70;case 75:return 71;case 76:return 72;case 77:return 22;case 78:return 44;case 79:return 99;case 80:return 17;case 81:return"PLUS";case 82:return 85;case 83:return 59;case 84:case 85:return 88;case 86:return 89;case 87:case 88:return"EQUALS";case 89:return 58;case 90:return 12;case 91:return 14;case 92:return"PUNCTUATION";case 93:return 84;case 94:return 101;case 95:case 96:return 87;case 97:return 9}}),"anonymous"),rules:[/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:\[\*\])/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:["])/,/^(?:[^"]*)/,/^(?:["])/,/^(?:style\b)/,/^(?:classDef\b)/,/^(?:namespace\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:\[\*\])/,/^(?:class\b)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:[}])/,/^(?:[{])/,/^(?:[}])/,/^(?:$)/,/^(?:\[\*\])/,/^(?:[{])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:href\b)/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:~)/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:[`])/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?::)/,/^(?:,)/,/^(?:#)/,/^(?:#)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:\[)/,/^(?:\])/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:\s)/,/^(?:$)/],conditions:{"namespace-body":{rules:[26,33,34,35,36,37,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},namespace:{rules:[26,29,30,31,32,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},"class-body":{rules:[26,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},class:{rules:[26,39,40,41,42,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr_multiline:{rules:[11,12,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_descr:{rules:[9,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},acc_title:{rules:[7,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_args:{rules:[22,23,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},callback_name:{rules:[19,20,21,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},href:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},struct:{rules:[26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},generic:{rules:[26,49,50,51,52,53,54,55,56,57,58,59,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},bqstring:{rules:[26,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},string:{rules:[24,25,26,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,86,87,88,89,90,91,92,93,94,95,97],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,8,10,13,14,15,16,17,18,26,27,28,29,38,49,50,51,52,53,54,55,56,57,60,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97],inclusive:!0}}}}();function se(){this.yy={}}return ae.lexer=oe,(0,o.K2)(se,"Parser"),se.prototype=ae,ae.Parser=se,new se}();l.parser=l;var u=l,c=["#","+","~","-",""],h=class{static{(0,o.K2)(this,"ClassMember")}constructor(e,t){this.memberType=t,this.visibility="",this.classifier="",this.text="";const r=(0,o.jZ)(e,(0,o.D7)());this.parseMember(r)}getDisplayDetails(){let e=this.visibility+(0,o.QO)(this.id);return"method"===this.memberType&&(e+=`(${(0,o.QO)(this.parameters.trim())})`,this.returnType&&(e+=" : "+(0,o.QO)(this.returnType))),e=e.trim(),{displayText:e,cssStyle:this.parseClassifier()}}parseMember(e){let t="";if("method"===this.memberType){const r=/([#+~-])?(.+)\((.*)\)([\s$*])?(.*)([$*])?/.exec(e);if(r){const e=r[1]?r[1].trim():"";if(c.includes(e)&&(this.visibility=e),this.id=r[2],this.parameters=r[3]?r[3].trim():"",t=r[4]?r[4].trim():"",this.returnType=r[5]?r[5].trim():"",""===t){const e=this.returnType.substring(this.returnType.length-1);/[$*]/.exec(e)&&(t=e,this.returnType=this.returnType.substring(0,this.returnType.length-1))}}}else{const r=e.length,n=e.substring(0,1),i=e.substring(r-1);c.includes(n)&&(this.visibility=n),/[$*]/.exec(i)&&(t=i),this.id=e.substring(""===this.visibility?0:1,""===t?r:r-1)}this.classifier=t,this.id=this.id.startsWith(" ")?" "+this.id.trim():this.id.trim();const r=`${this.visibility?"\\"+this.visibility:""}${(0,o.QO)(this.id)}${"method"===this.memberType?`(${(0,o.QO)(this.parameters)})${this.returnType?" : "+(0,o.QO)(this.returnType):""}`:""}`;this.text=r.replaceAll("<","&lt;").replaceAll(">","&gt;"),this.text.startsWith("\\&lt;")&&(this.text=this.text.replace("\\&lt;","~"))}parseClassifier(){switch(this.classifier){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}}},d="classId-",f=[],p=new Map,g=new Map,m=[],y=[],v=0,b=new Map,x=0,w=[],D=(0,o.K2)((e=>o.Y2.sanitizeText(e,(0,o.D7)())),"sanitizeText"),k=(0,o.K2)((function(e){const t=o.Y2.sanitizeText(e,(0,o.D7)());let r="",n=t;if(t.indexOf("~")>0){const e=t.split("~");n=D(e[0]),r=D(e[1])}return{className:n,type:r}}),"splitClassNameAndType"),E=(0,o.K2)((function(e,t){const r=o.Y2.sanitizeText(e,(0,o.D7)());t&&(t=D(t));const{className:n}=k(r);p.get(n).label=t,p.get(n).text=`${t}${p.get(n).type?`<${p.get(n).type}>`:""}`}),"setClassLabel"),A=(0,o.K2)((function(e){const t=o.Y2.sanitizeText(e,(0,o.D7)()),{className:r,type:n}=k(t);if(p.has(r))return;const i=o.Y2.sanitizeText(r,(0,o.D7)());p.set(i,{id:i,type:n,label:i,text:`${i}${n?`&lt;${n}&gt;`:""}`,shape:"classBox",cssClasses:"default",methods:[],members:[],annotations:[],styles:[],domId:d+i+"-"+v}),v++}),"addClass"),C=(0,o.K2)((function(e,t){const r={id:`interface${y.length}`,label:e,classId:t};y.push(r)}),"addInterface"),_=(0,o.K2)((function(e){const t=o.Y2.sanitizeText(e,(0,o.D7)());if(p.has(t))return p.get(t).domId;throw new Error("Class not found: "+t)}),"lookUpDomId"),T=(0,o.K2)((function(){f=[],p=new Map,m=[],y=[],(w=[]).push(V),b=new Map,x=0,Y="TB",(0,o.IU)()}),"clear"),S=(0,o.K2)((function(e){return p.get(e)}),"getClass"),F=(0,o.K2)((function(){return p}),"getClasses"),O=(0,o.K2)((function(){return f}),"getRelations"),B=(0,o.K2)((function(){return m}),"getNotes"),N=(0,o.K2)((function(e){o.Rm.debug("Adding relation: "+JSON.stringify(e));const t=[G.LOLLIPOP,G.AGGREGATION,G.COMPOSITION,G.DEPENDENCY,G.EXTENSION];e.relation.type1!==G.LOLLIPOP||t.includes(e.relation.type2)?e.relation.type2!==G.LOLLIPOP||t.includes(e.relation.type1)?(A(e.id1),A(e.id2)):(A(e.id1),C(e.id2,e.id1),e.id2="interface"+(y.length-1)):(A(e.id2),C(e.id1,e.id2),e.id1="interface"+(y.length-1)),e.id1=k(e.id1).className,e.id2=k(e.id2).className,e.relationTitle1=o.Y2.sanitizeText(e.relationTitle1.trim(),(0,o.D7)()),e.relationTitle2=o.Y2.sanitizeText(e.relationTitle2.trim(),(0,o.D7)()),f.push(e)}),"addRelation"),L=(0,o.K2)((function(e,t){const r=k(e).className;p.get(r).annotations.push(t)}),"addAnnotation"),I=(0,o.K2)((function(e,t){A(e);const r=k(e).className,n=p.get(r);if("string"==typeof t){const e=t.trim();e.startsWith("<<")&&e.endsWith(">>")?n.annotations.push(D(e.substring(2,e.length-2))):e.indexOf(")")>0?n.methods.push(new h(e,"method")):e&&n.members.push(new h(e,"attribute"))}}),"addMember"),R=(0,o.K2)((function(e,t){Array.isArray(t)&&(t.reverse(),t.forEach((t=>I(e,t))))}),"addMembers"),M=(0,o.K2)((function(e,t){const r={id:`note${m.length}`,class:t,text:e};m.push(r)}),"addNote"),P=(0,o.K2)((function(e){return e.startsWith(":")&&(e=e.substring(1)),D(e.trim())}),"cleanupLabel"),z=(0,o.K2)((function(e,t){e.split(",").forEach((function(e){let r=e;/\d/.exec(e[0])&&(r=d+r);const n=p.get(r);n&&(n.cssClasses+=" "+t)}))}),"setCssClass"),$=(0,o.K2)((function(e,t){for(const r of e){let e=g.get(r);void 0===e&&(e={id:r,styles:[],textStyles:[]},g.set(r,e)),t&&t.forEach((function(t){if(/color/.exec(t)){const r=t.replace("fill","bgFill");e.textStyles.push(r)}e.styles.push(t)})),p.forEach((e=>{e.cssClasses.includes(r)&&e.styles.push(...t.flatMap((e=>e.split(","))))}))}}),"defineClass"),j=(0,o.K2)((function(e,t){e.split(",").forEach((function(e){void 0!==t&&(p.get(e).tooltip=D(t))}))}),"setTooltip"),K=(0,o.K2)((function(e,t){return t&&b.has(t)?b.get(t).classes.get(e).tooltip:p.get(e).tooltip}),"getTooltip"),q=(0,o.K2)((function(e,t,r){const n=(0,o.D7)();e.split(",").forEach((function(e){let i=e;/\d/.exec(e[0])&&(i=d+i);const o=p.get(i);o&&(o.link=a._K.formatUrl(t,n),"sandbox"===n.securityLevel?o.linkTarget="_top":o.linkTarget="string"==typeof r?D(r):"_blank")})),z(e,"clickable")}),"setLink"),U=(0,o.K2)((function(e,t,r){e.split(",").forEach((function(e){H(e,t,r),p.get(e).haveCallback=!0})),z(e,"clickable")}),"setClickEvent"),H=(0,o.K2)((function(e,t,r){const n=o.Y2.sanitizeText(e,(0,o.D7)());if("loose"!==(0,o.D7)().securityLevel)return;if(void 0===t)return;const i=n;if(p.has(i)){const e=_(i);let n=[];if("string"==typeof r){n=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let e=0;e<n.length;e++){let t=n[e].trim();t.startsWith('"')&&t.endsWith('"')&&(t=t.substr(1,t.length-2)),n[e]=t}}0===n.length&&n.push(e),w.push((function(){const r=document.querySelector(`[id="${e}"]`);null!==r&&r.addEventListener("click",(function(){a._K.runFunc(t,...n)}),!1)}))}}),"setClickFunc"),W=(0,o.K2)((function(e){w.forEach((function(t){t(e)}))}),"bindFunctions"),G={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},V=(0,o.K2)((function(e){let t=(0,s.Ltv)(".mermaidTooltip");null===(t._groups||t)[0][0]&&(t=(0,s.Ltv)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,s.Ltv)(e).select("svg").selectAll("g.node").on("mouseover",(function(){const e=(0,s.Ltv)(this);if(null===e.attr("title"))return;const r=this.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(e.attr("title")).style("left",window.scrollX+r.left+(r.right-r.left)/2+"px").style("top",window.scrollY+r.top-14+document.body.scrollTop+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),e.classed("hover",!0)})).on("mouseout",(function(){t.transition().duration(500).style("opacity",0),(0,s.Ltv)(this).classed("hover",!1)}))}),"setupToolTips");w.push(V);var Y="TB",X=(0,o.K2)((()=>Y),"getDirection"),Z=(0,o.K2)((e=>{Y=e}),"setDirection"),Q=(0,o.K2)((function(e){b.has(e)||(b.set(e,{id:e,classes:new Map,children:{},domId:d+e+"-"+x}),x++)}),"addNamespace"),J=(0,o.K2)((function(e){return b.get(e)}),"getNamespace"),ee=(0,o.K2)((function(){return b}),"getNamespaces"),te=(0,o.K2)((function(e,t){if(b.has(e))for(const r of t){const{className:t}=k(r);p.get(t).parent=e,b.get(e).classes.set(t,p.get(t))}}),"addClassesToNamespace"),re=(0,o.K2)((function(e,t){const r=p.get(e);if(t&&r)for(const e of t)e.includes(",")?r.styles.push(...e.split(",")):r.styles.push(e)}),"setCssStyle");function ne(e){let t;switch(e){case 0:t="aggregation";break;case 1:t="extension";break;case 2:t="composition";break;case 3:t="dependency";break;case 4:t="lollipop";break;default:t="none"}return t}(0,o.K2)(ne,"getArrowMarker");var ie=(0,o.K2)((()=>{const e=[],t=[],r=(0,o.D7)();for(const t of b.keys()){const n=b.get(t);if(n){const t={id:n.id,label:n.id,isGroup:!0,padding:r.class.padding??16,shape:"rect",cssStyles:["fill: none","stroke: black"],look:r.look};e.push(t)}}for(const t of p.keys()){const n=p.get(t);if(n){const t=n;t.parentId=n.parent,t.look=r.look,e.push(t)}}let n=0;for(const i of m){n++;const a={id:i.id,label:i.text,isGroup:!1,shape:"note",padding:r.class.padding??6,cssStyles:["text-align: left","white-space: nowrap",`fill: ${r.themeVariables.noteBkgColor}`,`stroke: ${r.themeVariables.noteBorderColor}`],look:r.look};e.push(a);const o=p.get(i.class)?.id??"";if(o){const e={id:`edgeNote${n}`,start:i.id,end:o,type:"normal",thickness:"normal",classes:"relation",arrowTypeStart:"none",arrowTypeEnd:"none",arrowheadStyle:"",labelStyle:[""],style:["fill: none"],pattern:"dotted",look:r.look};t.push(e)}}for(const t of y){const n={id:t.id,label:t.label,isGroup:!1,shape:"rect",cssStyles:["opacity: 0;"],look:r.look};e.push(n)}n=0;for(const e of f){n++;const i={id:(0,a.rY)(e.id1,e.id2,{prefix:"id",counter:n}),start:e.id1,end:e.id2,type:"normal",label:e.title,labelpos:"c",thickness:"normal",classes:"relation",arrowTypeStart:ne(e.relation.type1),arrowTypeEnd:ne(e.relation.type2),startLabelRight:"none"===e.relationTitle1?"":e.relationTitle1,endLabelLeft:"none"===e.relationTitle2?"":e.relationTitle2,arrowheadStyle:"",labelStyle:["display: inline-block"],style:e.style||"",pattern:1==e.relation.lineType?"dashed":"solid",look:r.look};t.push(i)}return{nodes:e,edges:t,other:{},config:r,direction:X()}}),"getData"),ae={setAccTitle:o.SV,getAccTitle:o.iN,getAccDescription:o.m7,setAccDescription:o.EI,getConfig:(0,o.K2)((()=>(0,o.D7)().class),"getConfig"),addClass:A,bindFunctions:W,clear:T,getClass:S,getClasses:F,getNotes:B,addAnnotation:L,addNote:M,getRelations:O,addRelation:N,getDirection:X,setDirection:Z,addMember:I,addMembers:R,cleanupLabel:P,lineType:{LINE:0,DOTTED_LINE:1},relationType:G,setClickEvent:U,setCssClass:z,defineClass:$,setLink:q,getTooltip:K,setTooltip:j,lookUpDomId:_,setDiagramTitle:o.ke,getDiagramTitle:o.ab,setClassLabel:E,addNamespace:Q,addClassesToNamespace:te,getNamespace:J,getNamespaces:ee,setCssStyle:re,getData:ie},oe=(0,o.K2)((e=>`g.classGroup text {\n  fill: ${e.nodeBorder||e.classText};\n  stroke: none;\n  font-family: ${e.fontFamily};\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ${e.classText};\n}\n.edgeLabel .label rect {\n  fill: ${e.mainBkg};\n}\n.label text {\n  fill: ${e.classText};\n}\n\n.labelBkg {\n  background: ${e.mainBkg};\n}\n.edgeLabel .label span {\n  background: ${e.mainBkg};\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${e.mainBkg};\n    stroke: ${e.nodeBorder};\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ${e.nodeBorder};\n  stroke-width: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ${e.mainBkg};\n  stroke: ${e.nodeBorder};\n}\n\ng.classGroup line {\n  stroke: ${e.nodeBorder};\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${e.mainBkg};\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ${e.nodeBorder};\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ${e.lineColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n.dotted-line{\n  stroke-dasharray: 1 2;\n}\n\n#compositionStart, .composition {\n  fill: ${e.lineColor} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ${e.lineColor} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${e.lineColor} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ${e.lineColor} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: transparent !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: transparent !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: transparent !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: transparent !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopStart, .lollipop {\n  fill: ${e.mainBkg} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n#lollipopEnd, .lollipop {\n  fill: ${e.mainBkg} !important;\n  stroke: ${e.lineColor} !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n  line-height: initial;\n}\n\n.classTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${e.textColor};\n}\n`),"getStyles"),se=(0,o.K2)(((e,t="TB")=>{if(!e.doc)return t;let r=t;for(const t of e.doc)"dir"===t.stmt&&(r=t.value);return r}),"getDir"),le={getClasses:(0,o.K2)((function(e,t){return t.db.getClasses()}),"getClasses"),draw:(0,o.K2)((async function(e,t,r,s){o.Rm.info("REF0:"),o.Rm.info("Drawing class diagram (v3)",t);const{securityLevel:l,state:u,layout:c}=(0,o.D7)(),h=s.db.getData(),d=(0,n.A)(t,l);h.type=s.type,h.layoutAlgorithm=(0,i.q7)(c),h.nodeSpacing=u?.nodeSpacing||50,h.rankSpacing=u?.rankSpacing||50,h.markers=["aggregation","extension","composition","dependency","lollipop"],h.diagramId=t,await(0,i.XX)(h,d),a._K.insertTitle(d,"classDiagramTitleText",u?.titleTopMargin??25,s.db.getDiagramTitle()),(0,n.P)(d,8,"classDiagram",u?.useMaxWidth??!0)}),"draw"),getDir:se}},3933:(e,t,r)=>{"use strict";function n(e,t){e.accDescr&&t.setAccDescription?.(e.accDescr),e.accTitle&&t.setAccTitle?.(e.accTitle),e.title&&t.setDiagramTitle?.(e.title)}r.d(t,{S:()=>n}),(0,r(7692).K2)(n,"populateCommonDb")},391:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>a});var n=r(6240),i=(r(6474),r(7308),r(7938),r(1282),r(1099),r(7588),r(3115),r(8945),r(8159),r(7692)),a={parser:n._$,db:n.z2,renderer:n.Lh,styles:n.tM,init:(0,i.K2)((e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,n.z2.clear()}),"init")}},3056:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>a});var n=r(6240),i=(r(6474),r(7308),r(7938),r(1282),r(1099),r(7588),r(3115),r(8945),r(8159),r(7692)),a={parser:n._$,db:n.z2,renderer:n.Lh,styles:n.tM,init:(0,i.K2)((e=>{e.class||(e.class={}),e.class.arrowMarkerAbsolute=e.arrowMarkerAbsolute,n.z2.clear()}),"init")}},5024:(e,t,r)=>{"use strict";r.r(t),r.d(t,{render:()=>O});var n=r(7938),i=r(1282),a=(r(1099),r(7588),r(3115)),o=(r(8945),r(8159),r(7692)),s=r(4776),l=r(9079),u=r(6434),c=r(4389);function h(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:d(e),edges:f(e)};return l.A(e.graph())||(t.value=u.A(e.graph())),t}function d(e){return c.A(e.nodes(),(function(t){var r=e.node(t),n=e.parent(t),i={v:t};return l.A(r)||(i.value=r),l.A(n)||(i.parent=n),i}))}function f(e){return c.A(e.edges(),(function(t){var r=e.edge(t),n={v:t.v,w:t.w};return l.A(t.name)||(n.name=t.name),l.A(r)||(n.value=r),n}))}r(8872);var p=r(8756),g=new Map,m=new Map,y=new Map,v=(0,o.K2)((()=>{m.clear(),y.clear(),g.clear()}),"clear"),b=(0,o.K2)(((e,t)=>{const r=m.get(t)||[];return o.Rm.trace("In isDescendant",t," ",e," = ",r.includes(e)),r.includes(e)}),"isDescendant"),x=(0,o.K2)(((e,t)=>{const r=m.get(t)||[];return o.Rm.info("Descendants of ",t," is ",r),o.Rm.info("Edge is ",e),e.v!==t&&e.w!==t&&(r?r.includes(e.v)||b(e.v,t)||b(e.w,t)||r.includes(e.w):(o.Rm.debug("Tilt, ",t,",not in descendants"),!1))}),"edgeInCluster"),w=(0,o.K2)(((e,t,r,n)=>{o.Rm.warn("Copying children of ",e,"root",n,"data",t.node(e),n);const i=t.children(e)||[];e!==n&&i.push(e),o.Rm.warn("Copying (nodes) clusterId",e,"nodes",i),i.forEach((i=>{if(t.children(i).length>0)w(i,t,r,n);else{const a=t.node(i);o.Rm.info("cp ",i," to ",n," with parent ",e),r.setNode(i,a),n!==t.parent(i)&&(o.Rm.warn("Setting parent",i,t.parent(i)),r.setParent(i,t.parent(i))),e!==n&&i!==e?(o.Rm.debug("Setting parent",i,e),r.setParent(i,e)):(o.Rm.info("In copy ",e,"root",n,"data",t.node(e),n),o.Rm.debug("Not Setting parent for node=",i,"cluster!==rootId",e!==n,"node!==clusterId",i!==e));const s=t.edges(i);o.Rm.debug("Copying Edges",s),s.forEach((i=>{o.Rm.info("Edge",i);const a=t.edge(i.v,i.w,i.name);o.Rm.info("Edge data",a,n);try{x(i,n)?(o.Rm.info("Copying as ",i.v,i.w,a,i.name),r.setEdge(i.v,i.w,a,i.name),o.Rm.info("newGraph edges ",r.edges(),r.edge(r.edges()[0]))):o.Rm.info("Skipping copy of edge ",i.v,"--\x3e",i.w," rootId: ",n," clusterId:",e)}catch(e){o.Rm.error(e)}}))}o.Rm.debug("Removing node",i),t.removeNode(i)}))}),"copy"),D=(0,o.K2)(((e,t)=>{const r=t.children(e);let n=[...r];for(const i of r)y.set(i,e),n=[...n,...D(i,t)];return n}),"extractDescendants"),k=(0,o.K2)(((e,t,r)=>{const n=e.edges().filter((e=>e.v===t||e.w===t)),i=e.edges().filter((e=>e.v===r||e.w===r)),a=n.map((e=>({v:e.v===t?r:e.v,w:e.w===t?t:e.w}))),o=i.map((e=>({v:e.v,w:e.w})));return a.filter((e=>o.some((t=>e.v===t.v&&e.w===t.w))))}),"findCommonEdges"),E=(0,o.K2)(((e,t,r)=>{const n=t.children(e);if(o.Rm.trace("Searching children of id ",e,n),n.length<1)return e;let i;for(const e of n){const n=E(e,t,r),a=k(t,r,n);if(n){if(!(a.length>0))return n;i=n}}return i}),"findNonClusterChild"),A=(0,o.K2)((e=>g.has(e)&&g.get(e).externalConnections&&g.has(e)?g.get(e).id:e),"getAnchorId"),C=(0,o.K2)(((e,t)=>{if(!e||t>10)o.Rm.debug("Opting out, no graph ");else{o.Rm.debug("Opting in, graph "),e.nodes().forEach((function(t){e.children(t).length>0&&(o.Rm.warn("Cluster identified",t," Replacement id in edges: ",E(t,e,t)),m.set(t,D(t,e)),g.set(t,{id:E(t,e,t),clusterData:e.node(t)}))})),e.nodes().forEach((function(t){const r=e.children(t),n=e.edges();r.length>0?(o.Rm.debug("Cluster identified",t,m),n.forEach((e=>{b(e.v,t)^b(e.w,t)&&(o.Rm.warn("Edge: ",e," leaves cluster ",t),o.Rm.warn("Descendants of XXX ",t,": ",m.get(t)),g.get(t).externalConnections=!0)}))):o.Rm.debug("Not a cluster ",t,m)}));for(let t of g.keys()){const r=g.get(t).id,n=e.parent(r);n!==t&&g.has(n)&&!g.get(n).externalConnections&&(g.get(t).id=n)}e.edges().forEach((function(t){const r=e.edge(t);o.Rm.warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),o.Rm.warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(e.edge(t)));let n=t.v,i=t.w;if(o.Rm.warn("Fix XXX",g,"ids:",t.v,t.w,"Translating: ",g.get(t.v)," --- ",g.get(t.w)),g.get(t.v)||g.get(t.w)){if(o.Rm.warn("Fixing and trying - removing XXX",t.v,t.w,t.name),n=A(t.v),i=A(t.w),e.removeEdge(t.v,t.w,t.name),n!==t.v){const i=e.parent(n);g.get(i).externalConnections=!0,r.fromCluster=t.v}if(i!==t.w){const n=e.parent(i);g.get(n).externalConnections=!0,r.toCluster=t.w}o.Rm.warn("Fix Replacing with XXX",n,i,t.name),e.setEdge(n,i,r,t.name)}})),o.Rm.warn("Adjusted Graph",h(e)),_(e,0),o.Rm.trace(g)}}),"adjustClustersAndEdges"),_=(0,o.K2)(((e,t)=>{if(o.Rm.warn("extractor - ",t,h(e),e.children("D")),t>10)return void o.Rm.error("Bailing out");let r=e.nodes(),n=!1;for(const t of r){const r=e.children(t);n=n||r.length>0}if(n){o.Rm.debug("Nodes = ",r,t);for(const n of r)if(o.Rm.debug("Extracting node",n,g,g.has(n)&&!g.get(n).externalConnections,!e.parent(n),e.node(n),e.children("D")," Depth ",t),g.has(n))if(!g.get(n).externalConnections&&e.children(n)&&e.children(n).length>0){o.Rm.warn("Cluster without external connections, without a parent and with children",n,t);let r="TB"===e.graph().rankdir?"LR":"TB";g.get(n)?.clusterData?.dir&&(r=g.get(n).clusterData.dir,o.Rm.warn("Fixing dir",g.get(n).clusterData.dir,r));const i=new p.T({multigraph:!0,compound:!0}).setGraph({rankdir:r,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));o.Rm.warn("Old graph before copy",h(e)),w(n,e,i,n),e.setNode(n,{clusterNode:!0,id:n,clusterData:g.get(n).clusterData,label:g.get(n).label,graph:i}),o.Rm.warn("New graph after copy node: (",n,")",h(i)),o.Rm.debug("Old graph after copy",h(e))}else o.Rm.warn("Cluster ** ",n," **not meeting the criteria !externalConnections:",!g.get(n).externalConnections," no parent: ",!e.parent(n)," children ",e.children(n)&&e.children(n).length>0,e.children("D"),t),o.Rm.debug(g);else o.Rm.debug("Not a cluster",n,t);r=e.nodes(),o.Rm.warn("New list of nodes",r);for(const n of r){const r=e.node(n);o.Rm.warn(" Now next level",n,r),r?.clusterNode&&_(r.graph,t+1)}}else o.Rm.debug("Done, no node has children",e.nodes())}),"extractor"),T=(0,o.K2)(((e,t)=>{if(0===t.length)return[];let r=Object.assign([],t);return t.forEach((t=>{const n=e.children(t),i=T(e,n);r=[...r,...i]})),r}),"sorter"),S=(0,o.K2)((e=>T(e,e.children())),"sortNodesByHierarchy"),F=(0,o.K2)((async(e,t,r,l,u,c)=>{o.Rm.warn("Graph in recursive render:XAX",h(t),u);const d=t.graph().rankdir;o.Rm.trace("Dir in recursive render - dir:",d);const f=e.insert("g").attr("class","root");t.nodes()?o.Rm.info("Recursive render XXX",t.nodes()):o.Rm.info("No nodes found for",t),t.edges().length>0&&o.Rm.info("Recursive edges",t.edge(t.edges()[0]));const p=f.insert("g").attr("class","clusters"),m=f.insert("g").attr("class","edgePaths"),y=f.insert("g").attr("class","edgeLabels"),v=f.insert("g").attr("class","nodes");await Promise.all(t.nodes().map((async function(e){const n=t.node(e);if(void 0!==u){const r=JSON.parse(JSON.stringify(u.clusterData));o.Rm.trace("Setting data for parent cluster XXX\n Node.id = ",e,"\n data=",r.height,"\nParent cluster",u.height),t.setNode(u.id,r),t.parent(e)||(o.Rm.trace("Setting parent",e,u.id),t.setParent(e,u.id,r))}if(o.Rm.info("(Insert) Node XXX"+e+": "+JSON.stringify(t.node(e))),n?.clusterNode){o.Rm.info("Cluster identified XBX",e,n.width,t.node(e));const{ranksep:a,nodesep:s}=t.graph();n.graph.setGraph({...n.graph.graph(),ranksep:a+25,nodesep:s});const u=await F(v,n.graph,r,l,t.node(e),c),h=u.elem;(0,i.lC)(n,h),n.diff=u.diff||0,o.Rm.info("New compound node after recursive render XAX",e,"width",n.width,"height",n.height),(0,i.U7)(h,n)}else t.children(e).length>0?(o.Rm.trace("Cluster - the non recursive path XBX",e,n.id,n,n.width,"Graph:",t),o.Rm.trace(E(n.id,t)),g.set(n.id,{id:E(n.id,t),node:n})):(o.Rm.trace("Node - the non recursive path XAX",e,v,t.node(e),d),await(0,i.on)(v,t.node(e),{config:c,dir:d}))})));const b=(0,o.K2)((async()=>{const e=t.edges().map((async function(e){const r=t.edge(e.v,e.w,e.name);o.Rm.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),o.Rm.info("Edge "+e.v+" -> "+e.w+": ",e," ",JSON.stringify(t.edge(e))),o.Rm.info("Fix",g,"ids:",e.v,e.w,"Translating: ",g.get(e.v),g.get(e.w)),await(0,n.jP)(y,r)}));await Promise.all(e)}),"processEdges");await b(),o.Rm.info("Graph before layout:",JSON.stringify(h(t))),o.Rm.info("############################################# XXX"),o.Rm.info("###                Layout                 ### XXX"),o.Rm.info("############################################# XXX"),(0,s.Zp)(t),o.Rm.info("Graph after layout:",JSON.stringify(h(t)));let x=0,{subGraphTitleTotalMargin:w}=(0,a.O)(c);return await Promise.all(S(t).map((async function(e){const r=t.node(e);if(o.Rm.info("Position XBX => "+e+": ("+r.x,","+r.y,") width: ",r.width," height: ",r.height),r?.clusterNode)r.y+=w,o.Rm.info("A tainted cluster node XBX1",e,r.id,r.width,r.height,r.x,r.y,t.parent(e)),g.get(r.id).node=r,(0,i.U_)(r);else if(t.children(e).length>0){o.Rm.info("A pure cluster node XBX1",e,r.id,r.x,r.y,r.width,r.height,t.parent(e)),r.height+=w,t.node(r.parentId);const n=r?.padding/2||0,a=r?.labelBBox?.height||0,s=a-n||0;o.Rm.debug("OffsetY",s,"labelHeight",a,"halfPadding",n),await(0,i.U)(p,r),g.get(r.id).node=r}else{const e=t.node(r.parentId);r.y+=w/2,o.Rm.info("A regular node XBX1 - using the padding",r.id,"parent",r.parentId,r.width,r.height,r.x,r.y,"offsetY",r.offsetY,"parent",e,e?.offsetY,r),(0,i.U_)(r)}}))),t.edges().forEach((function(e){const i=t.edge(e);o.Rm.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(i),i),i.points.forEach((e=>e.y+=w/2));const a=t.node(e.v);var s=t.node(e.w);const u=(0,n.Jo)(m,i,g,r,a,s,l);(0,n.T_)(i,u)})),t.nodes().forEach((function(e){const r=t.node(e);o.Rm.info(e,r.type,r.diff),r.isGroup&&(x=r.diff)})),o.Rm.warn("Returning from recursive render XAX",f,x),{elem:f,diff:x}}),"recursiveRender"),O=(0,o.K2)((async(e,t)=>{const r=new p.T({multigraph:!0,compound:!0}).setGraph({rankdir:e.direction,nodesep:e.config?.nodeSpacing||e.config?.flowchart?.nodeSpacing||e.nodeSpacing,ranksep:e.config?.rankSpacing||e.config?.flowchart?.rankSpacing||e.rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),a=t.select("g");(0,n.g0)(a,e.markers,e.type,e.diagramId),(0,i.gh)(),(0,n.IU)(),(0,i.IU)(),v(),e.nodes.forEach((e=>{r.setNode(e.id,{...e}),e.parentId&&r.setParent(e.id,e.parentId)})),o.Rm.debug("Edges:",e.edges),e.edges.forEach((e=>{if(e.start===e.end){const t=e.start,n=t+"---"+t+"---1",i=t+"---"+t+"---2",a=r.node(t);r.setNode(n,{domId:n,id:n,parentId:a.parentId,labelStyle:"",label:"",padding:0,shape:"labelRect",style:"",width:10,height:10}),r.setParent(n,a.parentId),r.setNode(i,{domId:i,id:i,parentId:a.parentId,labelStyle:"",padding:0,shape:"labelRect",label:"",style:"",width:10,height:10}),r.setParent(i,a.parentId);const o=structuredClone(e),s=structuredClone(e),l=structuredClone(e);o.label="",o.arrowTypeEnd="none",o.id=t+"-cyclic-special-1",s.arrowTypeEnd="none",s.id=t+"-cyclic-special-mid",l.label="",a.isGroup&&(o.fromCluster=t,l.toCluster=t),l.id=t+"-cyclic-special-2",r.setEdge(t,n,o,t+"-cyclic-special-0"),r.setEdge(n,i,s,t+"-cyclic-special-1"),r.setEdge(i,t,l,t+"-cyc<lic-special-2")}else r.setEdge(e.start,e.end,{...e},e.id)})),o.Rm.warn("Graph at first:",JSON.stringify(h(r))),C(r),o.Rm.warn("Graph after XAX:",JSON.stringify(h(r)));const s=(0,o.D7)();await F(a,r,e.type,e.diagramId,void 0,s)}),"render")},7357:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>x});var n=r(3933),i=r(8159),a=r(7286),o=r(7692),s=r(8731),l={packet:[]},u=structuredClone(l),c=o.UI.packet,h=(0,o.K2)((()=>{const e=(0,i.$t)({...c,...(0,o.zj)().packet});return e.showBits&&(e.paddingY+=10),e}),"getConfig"),d=(0,o.K2)((()=>u.packet),"getPacket"),f={pushWord:(0,o.K2)((e=>{e.length>0&&u.packet.push(e)}),"pushWord"),getPacket:d,getConfig:h,clear:(0,o.K2)((()=>{(0,o.IU)(),u=structuredClone(l)}),"clear"),setAccTitle:o.SV,getAccTitle:o.iN,setDiagramTitle:o.ke,getDiagramTitle:o.ab,getAccDescription:o.m7,setAccDescription:o.EI},p=(0,o.K2)((e=>{(0,n.S)(e,f);let t=-1,r=[],i=1;const{bitsPerRow:a}=f.getConfig();for(let{start:n,end:s,label:l}of e.blocks){if(s&&s<n)throw new Error(`Packet block ${n} - ${s} is invalid. End must be greater than start.`);if(n!==t+1)throw new Error(`Packet block ${n} - ${s??n} is not contiguous. It should start from ${t+1}.`);for(t=s??n,o.Rm.debug(`Packet block ${n} - ${t} with label ${l}`);r.length<=a+1&&f.getPacket().length<1e4;){const[e,t]=g({start:n,end:s,label:l},i,a);if(r.push(e),e.end+1===i*a&&(f.pushWord(r),r=[],i++),!t)break;({start:n,end:s,label:l}=t)}}f.pushWord(r)}),"populate"),g=(0,o.K2)(((e,t,r)=>{if(void 0===e.end&&(e.end=e.start),e.start>e.end)throw new Error(`Block start ${e.start} is greater than block end ${e.end}.`);return e.end+1<=t*r?[e,void 0]:[{start:e.start,end:t*r-1,label:e.label},{start:t*r,end:e.end,label:e.label}]}),"getNextFittingBlock"),m={parse:(0,o.K2)((async e=>{const t=await(0,s.qg)("packet",e);o.Rm.debug(t),p(t)}),"parse")},y=(0,o.K2)(((e,t,r,n)=>{const i=n.db,s=i.getConfig(),{rowHeight:l,paddingY:u,bitWidth:c,bitsPerRow:h}=s,d=i.getPacket(),f=i.getDiagramTitle(),p=l+u,g=p*(d.length+1)-(f?0:l),m=c*h+2,y=(0,a.D)(t);y.attr("viewbox",`0 0 ${m} ${g}`),(0,o.a$)(y,g,m,s.useMaxWidth);for(const[e,t]of d.entries())v(y,t,e,s);y.append("text").text(f).attr("x",m/2).attr("y",g-p/2).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("class","packetTitle")}),"draw"),v=(0,o.K2)(((e,t,r,{rowHeight:n,paddingX:i,paddingY:a,bitWidth:o,bitsPerRow:s,showBits:l})=>{const u=e.append("g"),c=r*(n+a)+a;for(const e of t){const t=e.start%s*o+1,r=(e.end-e.start+1)*o-i;if(u.append("rect").attr("x",t).attr("y",c).attr("width",r).attr("height",n).attr("class","packetBlock"),u.append("text").attr("x",t+r/2).attr("y",c+n/2).attr("class","packetLabel").attr("dominant-baseline","middle").attr("text-anchor","middle").text(e.label),!l)continue;const a=e.end===e.start,h=c-2;u.append("text").attr("x",t+(a?r/2:0)).attr("y",h).attr("class","packetByte start").attr("dominant-baseline","auto").attr("text-anchor",a?"middle":"start").text(e.start),a||u.append("text").attr("x",t+r).attr("y",h).attr("class","packetByte end").attr("dominant-baseline","auto").attr("text-anchor","end").text(e.end)}}),"drawWord"),b={byteFontSize:"10px",startByteColor:"black",endByteColor:"black",labelColor:"black",labelFontSize:"12px",titleColor:"black",titleFontSize:"14px",blockStrokeColor:"black",blockStrokeWidth:"1",blockFillColor:"#efefef"},x={parser:m,db:f,renderer:{draw:y},styles:(0,o.K2)((({packet:e}={})=>{const t=(0,i.$t)(b,e);return`\n\t.packetByte {\n\t\tfont-size: ${t.byteFontSize};\n\t}\n\t.packetByte.start {\n\t\tfill: ${t.startByteColor};\n\t}\n\t.packetByte.end {\n\t\tfill: ${t.endByteColor};\n\t}\n\t.packetLabel {\n\t\tfill: ${t.labelColor};\n\t\tfont-size: ${t.labelFontSize};\n\t}\n\t.packetTitle {\n\t\tfill: ${t.titleColor};\n\t\tfont-size: ${t.titleFontSize};\n\t}\n\t.packetBlock {\n\t\tstroke: ${t.blockStrokeColor};\n\t\tstroke-width: ${t.blockStrokeWidth};\n\t\tfill: ${t.blockFillColor};\n\t}\n\t`}),"styles")}},7402:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>U});for(var n=r(8159),i=r(7692),a=r(8756),o=r(5763),s=r(4776),l=[],u=0;u<256;++u)l.push((u+256).toString(16).slice(1));const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,h=function(e){if(!function(e){return"string"==typeof e&&c.test(e)}(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function d(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function f(e,t){return e<<t|e>>>32-t}var p=function(e,t,r){function n(e,t,n,i){var a;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof t&&(t=h(t)),16!==(null===(a=t)||void 0===a?void 0:a.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(t),o.set(e,t.length),(o=r(o))[6]=15&o[6]|80,o[8]=63&o[8]|128,n){i=i||0;for(var s=0;s<16;++s)n[i+s]=o[s];return n}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}(o)}try{n.name="v5"}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}(0,0,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,o=Math.ceil(a/16),s=new Array(o),l=0;l<o;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*l+4*c]<<24|e[64*l+4*c+1]<<16|e[64*l+4*c+2]<<8|e[64*l+4*c+3];s[l]=u}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<o;++h){for(var p=new Uint32Array(80),g=0;g<16;++g)p[g]=s[h][g];for(var m=16;m<80;++m)p[m]=f(p[m-3]^p[m-8]^p[m-14]^p[m-16],1);for(var y=r[0],v=r[1],b=r[2],x=r[3],w=r[4],D=0;D<80;++D){var k=Math.floor(D/20),E=f(y,5)+d(k,v,b,x)+w+t[k]+p[D]>>>0;w=x,x=b,b=f(v,30)>>>0,v=y,y=E}r[0]=r[0]+y>>>0,r[1]=r[1]+v>>>0,r[2]=r[2]+b>>>0,r[3]=r[3]+x>>>0,r[4]=r[4]+w>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}));const g=p;var m=function(){var e=(0,i.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[6,8,10,20,22,24,26,27,28],r=[1,10],n=[1,11],a=[1,12],o=[1,13],s=[1,14],l=[1,15],u=[1,21],c=[1,22],h=[1,23],d=[1,24],f=[1,25],p=[6,8,10,13,15,18,19,20,22,24,26,27,28,41,42,43,44,45],g=[1,34],m=[27,28,46,47],y=[41,42,43,44,45],v=[17,34],b=[1,54],x=[1,53],w=[17,34,36,38],D={trace:(0,i.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,entityName:11,relSpec:12,":":13,role:14,BLOCK_START:15,attributes:16,BLOCK_STOP:17,SQS:18,SQE:19,title:20,title_value:21,acc_title:22,acc_title_value:23,acc_descr:24,acc_descr_value:25,acc_descr_multiline_value:26,ALPHANUM:27,ENTITY_NAME:28,attribute:29,attributeType:30,attributeName:31,attributeKeyTypeList:32,attributeComment:33,ATTRIBUTE_WORD:34,attributeKeyType:35,COMMA:36,ATTRIBUTE_KEY:37,COMMENT:38,cardinality:39,relType:40,ZERO_OR_ONE:41,ZERO_OR_MORE:42,ONE_OR_MORE:43,ONLY_ONE:44,MD_PARENT:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",8:"SPACE",10:"NEWLINE",13:":",15:"BLOCK_START",17:"BLOCK_STOP",18:"SQS",19:"SQE",20:"title",21:"title_value",22:"acc_title",23:"acc_title_value",24:"acc_descr",25:"acc_descr_value",26:"acc_descr_multiline_value",27:"ALPHANUM",28:"ENTITY_NAME",34:"ATTRIBUTE_WORD",36:"COMMA",37:"ATTRIBUTE_KEY",38:"COMMENT",41:"ZERO_OR_ONE",42:"ZERO_OR_MORE",43:"ONE_OR_MORE",44:"ONLY_ONE",45:"MD_PARENT",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,5],[9,4],[9,3],[9,1],[9,7],[9,6],[9,4],[9,2],[9,2],[9,2],[9,1],[11,1],[11,1],[16,1],[16,2],[29,2],[29,3],[29,3],[29,4],[30,1],[31,1],[32,1],[32,3],[35,1],[33,1],[12,3],[39,1],[39,1],[39,1],[39,1],[39,1],[40,1],[40,1],[14,1],[14,1],[14,1]],performAction:(0,i.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:break;case 2:case 6:case 7:this.$=[];break;case 3:a[s-1].push(a[s]),this.$=a[s-1];break;case 4:case 5:case 19:case 43:case 27:case 28:case 31:this.$=a[s];break;case 8:n.addEntity(a[s-4]),n.addEntity(a[s-2]),n.addRelationship(a[s-4],a[s],a[s-2],a[s-3]);break;case 9:n.addEntity(a[s-3]),n.addAttributes(a[s-3],a[s-1]);break;case 10:n.addEntity(a[s-2]);break;case 11:n.addEntity(a[s]);break;case 12:n.addEntity(a[s-6],a[s-4]),n.addAttributes(a[s-6],a[s-1]);break;case 13:n.addEntity(a[s-5],a[s-3]);break;case 14:n.addEntity(a[s-3],a[s-1]);break;case 15:case 16:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 17:case 18:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 20:case 41:case 42:case 32:this.$=a[s].replace(/"/g,"");break;case 21:case 29:this.$=[a[s]];break;case 22:a[s].push(a[s-1]),this.$=a[s];break;case 23:this.$={attributeType:a[s-1],attributeName:a[s]};break;case 24:this.$={attributeType:a[s-2],attributeName:a[s-1],attributeKeyTypeList:a[s]};break;case 25:this.$={attributeType:a[s-2],attributeName:a[s-1],attributeComment:a[s]};break;case 26:this.$={attributeType:a[s-3],attributeName:a[s-2],attributeKeyTypeList:a[s-1],attributeComment:a[s]};break;case 30:a[s-2].push(a[s]),this.$=a[s-2];break;case 33:this.$={cardA:a[s],relType:a[s-1],cardB:a[s-2]};break;case 34:this.$=n.Cardinality.ZERO_OR_ONE;break;case 35:this.$=n.Cardinality.ZERO_OR_MORE;break;case 36:this.$=n.Cardinality.ONE_OR_MORE;break;case 37:this.$=n.Cardinality.ONLY_ONE;break;case 38:this.$=n.Cardinality.MD_PARENT;break;case 39:this.$=n.Identification.NON_IDENTIFYING;break;case 40:this.$=n.Identification.IDENTIFYING}}),"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:9,20:r,22:n,24:a,26:o,27:s,28:l},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:16,11:9,20:r,22:n,24:a,26:o,27:s,28:l},e(t,[2,5]),e(t,[2,6]),e(t,[2,11],{12:17,39:20,15:[1,18],18:[1,19],41:u,42:c,43:h,44:d,45:f}),{21:[1,26]},{23:[1,27]},{25:[1,28]},e(t,[2,18]),e(p,[2,19]),e(p,[2,20]),e(t,[2,4]),{11:29,27:s,28:l},{16:30,17:[1,31],29:32,30:33,34:g},{11:35,27:s,28:l},{40:36,46:[1,37],47:[1,38]},e(m,[2,34]),e(m,[2,35]),e(m,[2,36]),e(m,[2,37]),e(m,[2,38]),e(t,[2,15]),e(t,[2,16]),e(t,[2,17]),{13:[1,39]},{17:[1,40]},e(t,[2,10]),{16:41,17:[2,21],29:32,30:33,34:g},{31:42,34:[1,43]},{34:[2,27]},{19:[1,44]},{39:45,41:u,42:c,43:h,44:d,45:f},e(y,[2,39]),e(y,[2,40]),{14:46,27:[1,49],28:[1,48],48:[1,47]},e(t,[2,9]),{17:[2,22]},e(v,[2,23],{32:50,33:51,35:52,37:b,38:x}),e([17,34,37,38],[2,28]),e(t,[2,14],{15:[1,55]}),e([27,28],[2,33]),e(t,[2,8]),e(t,[2,41]),e(t,[2,42]),e(t,[2,43]),e(v,[2,24],{33:56,36:[1,57],38:x}),e(v,[2,25]),e(w,[2,29]),e(v,[2,32]),e(w,[2,31]),{16:58,17:[1,59],29:32,30:33,34:g},e(v,[2,26]),{35:60,37:b},{17:[1,61]},e(t,[2,13]),e(w,[2,30]),e(t,[2,12])],defaultActions:{34:[2,27],41:[2,22]},parseError:(0,i.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,i.K2)((function(e){var t=this,r=[0],n=[],a=[null],o=[],s=this.table,l="",u=0,c=0,h=0,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,i.K2)((function(e){r.length=r.length-2*e,a.length=a.length-e,o.length=o.length-e}),"popStack"),(0,i.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),a.push(f.yytext),o.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=a[a.length-A],T._$={first_line:o[o.length-(A||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(A||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(A||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],a,o].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),a=a.slice(0,-1*A),o=o.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),a.push(T.$),o.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},k=function(){var e={EOF:1,parseError:(0,i.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,i.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,i.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,i.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,i.K2)((function(){return this._more=!0,this}),"more"),reject:(0,i.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,i.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,i.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,i.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,i.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,i.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,i.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,i.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,i.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,i.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,i.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,i.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,i.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,i.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,i.K2)((function(e,t,r,n){switch(r){case 0:return this.begin("acc_title"),22;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),24;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return 10;case 8:case 15:case 20:break;case 9:return 8;case 10:return 28;case 11:return 48;case 12:return 4;case 13:return this.begin("block"),15;case 14:return 36;case 16:return 37;case 17:case 18:return 34;case 19:return 38;case 21:return this.popState(),17;case 22:case 54:return t.yytext[0];case 23:return 18;case 24:return 19;case 25:case 29:case 30:case 43:return 41;case 26:case 27:case 28:case 36:case 38:case 45:return 43;case 31:case 32:case 33:case 34:case 35:case 37:case 44:return 42;case 39:case 40:case 41:case 42:return 44;case 46:return 45;case 47:case 50:case 51:case 52:return 46;case 48:case 49:return 47;case 53:return 27;case 55:return 6}}),"anonymous"),rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:,)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK)|(?:UK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[\*A-Za-z_][A-Za-z0-9\-_\[\]\(\)]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\s*u\b)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z_][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},block:{rules:[14,15,16,17,18,19,20,21,22],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55],inclusive:!0}}};return e}();function E(){this.yy={}}return D.lexer=k,(0,i.K2)(E,"Parser"),E.prototype=D,D.Parser=E,new E}();m.parser=m;var y=m,v=new Map,b=[],x=(0,i.K2)((function(e,t=void 0){return v.has(e)?!v.get(e).alias&&t&&(v.get(e).alias=t,i.Rm.info(`Add alias '${t}' to entity '${e}'`)):(v.set(e,{attributes:[],alias:t}),i.Rm.info("Added new entity :",e)),v.get(e)}),"addEntity"),w=(0,i.K2)((()=>v),"getEntities"),D=(0,i.K2)((function(e,t){let r,n=x(e);for(r=t.length-1;r>=0;r--)n.attributes.push(t[r]),i.Rm.debug("Added attribute ",t[r].attributeName)}),"addAttributes"),k=(0,i.K2)((function(e,t,r,n){let a={entityA:e,roleA:t,entityB:r,relSpec:n};b.push(a),i.Rm.debug("Added new relationship :",a)}),"addRelationship"),E=(0,i.K2)((()=>b),"getRelationships"),A=(0,i.K2)((function(){v=new Map,b=[],(0,i.IU)()}),"clear"),C={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE",MD_PARENT:"MD_PARENT"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},getConfig:(0,i.K2)((()=>(0,i.D7)().er),"getConfig"),addEntity:x,addAttributes:D,getEntities:w,addRelationship:k,getRelationships:E,clear:A,setAccTitle:i.SV,getAccTitle:i.iN,setAccDescription:i.EI,getAccDescription:i.m7,setDiagramTitle:i.ke,getDiagramTitle:i.ab},_={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END",MD_PARENT_END:"MD_PARENT_END",MD_PARENT_START:"MD_PARENT_START"},T={ERMarkers:_,insertMarkers:(0,i.K2)((function(e,t){let r;e.append("defs").append("marker").attr("id",_.MD_PARENT_START).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",_.MD_PARENT_END).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),e.append("defs").append("marker").attr("id",_.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),e.append("defs").append("marker").attr("id",_.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",_.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M9,0 L9,18"),r=e.append("defs").append("marker").attr("id",_.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,0 L21,18"),e.append("defs").append("marker").attr("id",_.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),e.append("defs").append("marker").attr("id",_.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),r=e.append("defs").append("marker").attr("id",_.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),r=e.append("defs").append("marker").attr("id",_.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),r.append("circle").attr("stroke",t.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),r.append("path").attr("stroke",t.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}),"insertMarkers")},S=/[^\dA-Za-z](\W)*/g,F={},O=new Map,B=(0,i.K2)((function(e){const t=Object.keys(e);for(const r of t)F[r]=e[r]}),"setConf"),N=(0,i.K2)(((e,t,r)=>{const n=F.entityPadding/3,a=F.entityPadding/3,o=.85*F.fontSize,s=t.node().getBBox(),l=[];let u=!1,c=!1,h=0,d=0,f=0,p=0,g=s.height+2*n,m=1;r.forEach((e=>{void 0!==e.attributeKeyTypeList&&e.attributeKeyTypeList.length>0&&(u=!0),void 0!==e.attributeComment&&(c=!0)})),r.forEach((r=>{const a=`${t.node().id}-attr-${m}`;let s=0;const y=(0,i.QO)(r.attributeType),v=e.append("text").classed("er entityLabel",!0).attr("id",`${a}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",(0,i.D7)().fontFamily).style("font-size",o+"px").text(y),b=e.append("text").classed("er entityLabel",!0).attr("id",`${a}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",(0,i.D7)().fontFamily).style("font-size",o+"px").text(r.attributeName),x={};x.tn=v,x.nn=b;const w=v.node().getBBox(),D=b.node().getBBox();if(h=Math.max(h,w.width),d=Math.max(d,D.width),s=Math.max(w.height,D.height),u){const t=void 0!==r.attributeKeyTypeList?r.attributeKeyTypeList.join(","):"",n=e.append("text").classed("er entityLabel",!0).attr("id",`${a}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",(0,i.D7)().fontFamily).style("font-size",o+"px").text(t);x.kn=n;const l=n.node().getBBox();f=Math.max(f,l.width),s=Math.max(s,l.height)}if(c){const t=e.append("text").classed("er entityLabel",!0).attr("id",`${a}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",(0,i.D7)().fontFamily).style("font-size",o+"px").text(r.attributeComment||"");x.cn=t;const n=t.node().getBBox();p=Math.max(p,n.width),s=Math.max(s,n.height)}x.height=s,l.push(x),g+=s+2*n,m+=1}));let y=4;u&&(y+=2),c&&(y+=2);const v=h+d+f+p,b={width:Math.max(F.minEntityWidth,Math.max(s.width+2*F.entityPadding,v+a*y)),height:r.length>0?g:Math.max(F.minEntityHeight,s.height+2*F.entityPadding)};if(r.length>0){const r=Math.max(0,(b.width-v-a*y)/(y/2));t.attr("transform","translate("+b.width/2+","+(n+s.height/2)+")");let i=s.height+2*n,o="attributeBoxOdd";l.forEach((t=>{const s=i+n+t.height/2;t.tn.attr("transform","translate("+a+","+s+")");const l=e.insert("rect","#"+t.tn.node().id).classed(`er ${o}`,!0).attr("x",0).attr("y",i).attr("width",h+2*a+r).attr("height",t.height+2*n),g=parseFloat(l.attr("x"))+parseFloat(l.attr("width"));t.nn.attr("transform","translate("+(g+a)+","+s+")");const m=e.insert("rect","#"+t.nn.node().id).classed(`er ${o}`,!0).attr("x",g).attr("y",i).attr("width",d+2*a+r).attr("height",t.height+2*n);let y=parseFloat(m.attr("x"))+parseFloat(m.attr("width"));if(u){t.kn.attr("transform","translate("+(y+a)+","+s+")");const l=e.insert("rect","#"+t.kn.node().id).classed(`er ${o}`,!0).attr("x",y).attr("y",i).attr("width",f+2*a+r).attr("height",t.height+2*n);y=parseFloat(l.attr("x"))+parseFloat(l.attr("width"))}c&&(t.cn.attr("transform","translate("+(y+a)+","+s+")"),e.insert("rect","#"+t.cn.node().id).classed(`er ${o}`,"true").attr("x",y).attr("y",i).attr("width",p+2*a+r).attr("height",t.height+2*n)),i+=t.height+2*n,o="attributeBoxOdd"===o?"attributeBoxEven":"attributeBoxOdd"}))}else b.height=Math.max(F.minEntityHeight,g),t.attr("transform","translate("+b.width/2+","+b.height/2+")");return b}),"drawAttributes"),L=(0,i.K2)((function(e,t,r){let n;return[...t.keys()].forEach((function(a){const o=K(a,"entity");O.set(a,o);const s=e.append("g").attr("id",o);n=void 0===n?o:n;const l="text-"+o,u=s.append("text").classed("er entityLabel",!0).attr("id",l).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",(0,i.D7)().fontFamily).style("font-size",F.fontSize+"px").text(t.get(a).alias??a),{width:c,height:h}=N(s,u,t.get(a).attributes),d=s.insert("rect","#"+l).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",c).attr("height",h).node().getBBox();r.setNode(o,{width:d.width,height:d.height,shape:"rect",id:o})})),n}),"drawEntities"),I=(0,i.K2)((function(e,t){t.nodes().forEach((function(r){void 0!==r&&void 0!==t.node(r)&&e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )")}))}),"adjustEntities"),R=(0,i.K2)((function(e){return(e.entityA+e.roleA+e.entityB).replace(/\s/g,"")}),"getEdgeName"),M=(0,i.K2)((function(e,t){return e.forEach((function(e){t.setEdge(O.get(e.entityA),O.get(e.entityB),{relationship:e},R(e))})),e}),"addRelationships"),P=0,z=(0,i.K2)((function(e,t,r,n,a){P++;const s=r.edge(O.get(t.entityA),O.get(t.entityB),R(t)),l=(0,o.n8j)().x((function(e){return e.x})).y((function(e){return e.y})).curve(o.qrM),u=e.insert("path","#"+n).classed("er relationshipLine",!0).attr("d",l(s.points)).style("stroke",F.stroke).style("fill","none");t.relSpec.relType===a.db.Identification.NON_IDENTIFYING&&u.attr("stroke-dasharray","8,8");let c="";switch(F.arrowMarkerAbsolute&&(c=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,c=c.replace(/\(/g,"\\("),c=c.replace(/\)/g,"\\)")),t.relSpec.cardA){case a.db.Cardinality.ZERO_OR_ONE:u.attr("marker-end","url("+c+"#"+T.ERMarkers.ZERO_OR_ONE_END+")");break;case a.db.Cardinality.ZERO_OR_MORE:u.attr("marker-end","url("+c+"#"+T.ERMarkers.ZERO_OR_MORE_END+")");break;case a.db.Cardinality.ONE_OR_MORE:u.attr("marker-end","url("+c+"#"+T.ERMarkers.ONE_OR_MORE_END+")");break;case a.db.Cardinality.ONLY_ONE:u.attr("marker-end","url("+c+"#"+T.ERMarkers.ONLY_ONE_END+")");break;case a.db.Cardinality.MD_PARENT:u.attr("marker-end","url("+c+"#"+T.ERMarkers.MD_PARENT_END+")")}switch(t.relSpec.cardB){case a.db.Cardinality.ZERO_OR_ONE:u.attr("marker-start","url("+c+"#"+T.ERMarkers.ZERO_OR_ONE_START+")");break;case a.db.Cardinality.ZERO_OR_MORE:u.attr("marker-start","url("+c+"#"+T.ERMarkers.ZERO_OR_MORE_START+")");break;case a.db.Cardinality.ONE_OR_MORE:u.attr("marker-start","url("+c+"#"+T.ERMarkers.ONE_OR_MORE_START+")");break;case a.db.Cardinality.ONLY_ONE:u.attr("marker-start","url("+c+"#"+T.ERMarkers.ONLY_ONE_START+")");break;case a.db.Cardinality.MD_PARENT:u.attr("marker-start","url("+c+"#"+T.ERMarkers.MD_PARENT_START+")")}const h=u.node().getTotalLength(),d=u.node().getPointAtLength(.5*h),f="rel"+P,p=t.roleA.split(/<br ?\/>/g),g=e.append("text").classed("er relationshipLabel",!0).attr("id",f).attr("x",d.x).attr("y",d.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",(0,i.D7)().fontFamily).style("font-size",F.fontSize+"px");if(1==p.length)g.text(t.roleA);else{const e=.5*-(p.length-1);p.forEach(((t,r)=>{g.append("tspan").attr("x",d.x).attr("dy",`${0===r?e:1}em`).text(t)}))}const m=g.node().getBBox();e.insert("rect","#"+f).classed("er relationshipLabelBox",!0).attr("x",d.x-m.width/2).attr("y",d.y-m.height/2).attr("width",m.width).attr("height",m.height)}),"drawRelationshipFromLayout"),$=(0,i.K2)((function(e,t,r,l){F=(0,i.D7)().er,i.Rm.info("Drawing ER diagram");const u=(0,i.D7)().securityLevel;let c;"sandbox"===u&&(c=(0,o.Ltv)("#i"+t));const h=("sandbox"===u?(0,o.Ltv)(c.nodes()[0].contentDocument.body):(0,o.Ltv)("body")).select(`[id='${t}']`);let d;T.insertMarkers(h,F),d=new a.T({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:F.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));const f=L(h,l.db.getEntities(),d),p=M(l.db.getRelationships(),d);(0,s.Zp)(d),I(h,d),p.forEach((function(e){z(h,e,d,f,l)}));const g=F.diagramPadding;n._K.insertTitle(h,"entityTitleText",F.titleTopMargin,l.db.getDiagramTitle());const m=h.node().getBBox(),y=m.width+2*g,v=m.height+2*g;(0,i.a$)(h,v,y,F.useMaxWidth),h.attr("viewBox",`${m.x-g} ${m.y-g} ${y} ${v}`)}),"draw"),j="28e9f9db-3c8d-5aa5-9faf-44286ae5937c";function K(e="",t=""){const r=e.replace(S,"");return`${q(t)}${q(r)}${g(e,j)}`}function q(e=""){return e.length>0?`${e}-`:""}(0,i.K2)(K,"generateId"),(0,i.K2)(q,"strWithHyphen");var U={parser:y,db:C,renderer:{setConf:B,draw:$},styles:(0,i.K2)((e=>`\n  .entityBox {\n    fill: ${e.mainBkg};\n    stroke: ${e.nodeBorder};\n  }\n\n  .attributeBoxOdd {\n    fill: ${e.attributeBackgroundColorOdd};\n    stroke: ${e.nodeBorder};\n  }\n\n  .attributeBoxEven {\n    fill:  ${e.attributeBackgroundColorEven};\n    stroke: ${e.nodeBorder};\n  }\n\n  .relationshipLabelBox {\n    fill: ${e.tertiaryColor};\n    opacity: 0.7;\n    background-color: ${e.tertiaryColor};\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ${e.lineColor};\n    }\n\n  .entityTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${e.textColor};\n  }    \n  #MD_PARENT_START {\n    fill: #f5f5f5 !important;\n    stroke: ${e.lineColor} !important;\n    stroke-width: 1;\n  }\n  #MD_PARENT_END {\n    fill: #f5f5f5 !important;\n    stroke: ${e.lineColor} !important;\n    stroke-width: 1;\n  }\n  \n`),"getStyles")}},4485:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>De});var n,i,a=r(6474),o=r(9874),s=r(7308),l=(r(7938),r(1282)),u=(r(1099),r(7588),r(3115),r(8945),r(8159)),c=r(7692),h=r(5763),d=r(2538),f=r(71),p=0,g=(0,c.D7)(),m=new Map,y=[],v=new Map,b=[],x=new Map,w=new Map,D=0,k=!0,E=[],A=(0,c.K2)((e=>c.Y2.sanitizeText(e,g)),"sanitizeText"),C=(0,c.K2)((function(e){for(const t of m.values())if(t.id===e)return t.domId;return e}),"lookUpDomId"),_=(0,c.K2)((function(e,t,r,n,i,a,s={},u){if(!e||0===e.trim().length)return;let h,d=m.get(e);if(void 0===d&&(d={id:e,labelType:"text",domId:"flowchart-"+e+"-"+p,styles:[],classes:[]},m.set(e,d)),p++,void 0!==t?(g=(0,c.D7)(),h=A(t.text.trim()),d.labelType=t.type,h.startsWith('"')&&h.endsWith('"')&&(h=h.substring(1,h.length-1)),d.text=h):void 0===d.text&&(d.text=e),void 0!==r&&(d.type=r),null!=n&&n.forEach((function(e){d.styles.push(e)})),null!=i&&i.forEach((function(e){d.classes.push(e)})),void 0!==a&&(d.dir=a),void 0===d.props?d.props=s:void 0!==s&&Object.assign(d.props,s),void 0!==u){let t;t=u.includes("\n")?u+"\n":"{\n"+u+"\n}";const r=(0,o.H)(t,{schema:o.r});if(r.shape){if(r.shape!==r.shape.toLowerCase()||r.shape.includes("_"))throw new Error(`No such shape: ${r.shape}. Shape names should be lowercase.`);if(!(0,l.aP)(r.shape))throw new Error(`No such shape: ${r.shape}.`);d.type=r?.shape}r?.label&&(d.text=r?.label),r?.icon&&(d.icon=r?.icon,r.label?.trim()||d.text!==e||(d.text="")),r?.form&&(d.form=r?.form),r?.pos&&(d.pos=r?.pos),r?.img&&(d.img=r?.img,r.label?.trim()||d.text!==e||(d.text="")),r?.constraint&&(d.constraint=r.constraint),r.w&&(d.assetWidth=Number(r.w)),r.h&&(d.assetHeight=Number(r.h))}}),"addVertex"),T=(0,c.K2)((function(e,t,r){const n={start:e,end:t,type:void 0,text:"",labelType:"text"};c.Rm.info("abc78 Got edge...",n);const i=r.text;if(void 0!==i&&(n.text=A(i.text.trim()),n.text.startsWith('"')&&n.text.endsWith('"')&&(n.text=n.text.substring(1,n.text.length-1)),n.labelType=i.type),void 0!==r&&(n.type=r.type,n.stroke=r.stroke,n.length=r.length>10?10:r.length),!(y.length<(g.maxEdges??500)))throw new Error(`Edge limit exceeded. ${y.length} edges found, but the limit is ${g.maxEdges}.\n\nInitialize mermaid with maxEdges set to a higher number to allow more edges.\nYou cannot set this config via configuration inside the diagram as it is a secure config.\nYou have to call mermaid.initialize.`);c.Rm.info("Pushing edge..."),y.push(n)}),"addSingleLink"),S=(0,c.K2)((function(e,t,r){c.Rm.info("addLink",e,t,r);for(const n of e)for(const e of t)T(n,e,r)}),"addLink"),F=(0,c.K2)((function(e,t){e.forEach((function(e){"default"===e?y.defaultInterpolate=t:y[e].interpolate=t}))}),"updateLinkInterpolate"),O=(0,c.K2)((function(e,t){e.forEach((function(e){if("number"==typeof e&&e>=y.length)throw new Error(`The index ${e} for linkStyle is out of bounds. Valid indices for linkStyle are between 0 and ${y.length-1}. (Help: Ensure that the index is within the range of existing edges.)`);"default"===e?y.defaultStyle=t:(y[e].style=t,(y[e]?.style?.length??0)>0&&!y[e]?.style?.some((e=>e?.startsWith("fill")))&&y[e]?.style?.push("fill:none"))}))}),"updateLink"),B=(0,c.K2)((function(e,t){e.split(",").forEach((function(e){let r=v.get(e);void 0===r&&(r={id:e,styles:[],textStyles:[]},v.set(e,r)),null!=t&&t.forEach((function(e){if(/color/.exec(e)){const t=e.replace("fill","bgFill");r.textStyles.push(t)}r.styles.push(e)}))}))}),"addClass"),N=(0,c.K2)((function(e){/.*</.exec(n=e)&&(n="RL"),/.*\^/.exec(n)&&(n="BT"),/.*>/.exec(n)&&(n="LR"),/.*v/.exec(n)&&(n="TB"),"TD"===n&&(n="TB")}),"setDirection"),L=(0,c.K2)((function(e,t){for(const r of e.split(",")){const e=m.get(r);e&&e.classes.push(t);const n=x.get(r);n&&n.classes.push(t)}}),"setClass"),I=(0,c.K2)((function(e,t){if(void 0!==t){t=A(t);for(const r of e.split(","))w.set("gen-1"===i?C(r):r,t)}}),"setTooltip"),R=(0,c.K2)((function(e,t,r){const n=C(e);if("loose"!==(0,c.D7)().securityLevel)return;if(void 0===t)return;let i=[];if("string"==typeof r){i=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let e=0;e<i.length;e++){let t=i[e].trim();t.startsWith('"')&&t.endsWith('"')&&(t=t.substr(1,t.length-2)),i[e]=t}}0===i.length&&i.push(e);const a=m.get(e);a&&(a.haveCallback=!0,E.push((function(){const e=document.querySelector(`[id="${n}"]`);null!==e&&e.addEventListener("click",(function(){u._K.runFunc(t,...i)}),!1)})))}),"setClickFun"),M=(0,c.K2)((function(e,t,r){e.split(",").forEach((function(e){const n=m.get(e);void 0!==n&&(n.link=u._K.formatUrl(t,g),n.linkTarget=r)})),L(e,"clickable")}),"setLink"),P=(0,c.K2)((function(e){return w.get(e)}),"getTooltip"),z=(0,c.K2)((function(e,t,r){e.split(",").forEach((function(e){R(e,t,r)})),L(e,"clickable")}),"setClickEvent"),$=(0,c.K2)((function(e){E.forEach((function(t){t(e)}))}),"bindFunctions"),j=(0,c.K2)((function(){return n.trim()}),"getDirection"),K=(0,c.K2)((function(){return m}),"getVertices"),q=(0,c.K2)((function(){return y}),"getEdges"),U=(0,c.K2)((function(){return v}),"getClasses"),H=(0,c.K2)((function(e){let t=(0,h.Ltv)(".mermaidTooltip");null===(t._groups||t)[0][0]&&(t=(0,h.Ltv)("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),(0,h.Ltv)(e).select("svg").selectAll("g.node").on("mouseover",(function(){const e=(0,h.Ltv)(this);if(null===e.attr("title"))return;const r=this?.getBoundingClientRect();t.transition().duration(200).style("opacity",".9"),t.text(e.attr("title")).style("left",window.scrollX+r.left+(r.right-r.left)/2+"px").style("top",window.scrollY+r.bottom+"px"),t.html(t.html().replace(/&lt;br\/&gt;/g,"<br/>")),e.classed("hover",!0)})).on("mouseout",(function(){t.transition().duration(500).style("opacity",0),(0,h.Ltv)(this).classed("hover",!1)}))}),"setupToolTips");E.push(H);var W=(0,c.K2)((function(e="gen-1"){m=new Map,v=new Map,y=[],E=[H],b=[],x=new Map,D=0,w=new Map,k=!0,i=e,g=(0,c.D7)(),(0,c.IU)()}),"clear"),G=(0,c.K2)((e=>{i=e||"gen-2"}),"setGen"),V=(0,c.K2)((function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"}),"defaultStyle"),Y=(0,c.K2)((function(e,t,r){let n=e.text.trim(),a=r.text;function o(e){const t={boolean:{},number:{},string:{}},r=[];let n;return{nodeList:e.filter((function(e){const i=typeof e;return e.stmt&&"dir"===e.stmt?(n=e.value,!1):""!==e.trim()&&(i in t?!t[i].hasOwnProperty(e)&&(t[i][e]=!0):!r.includes(e)&&r.push(e))})),dir:n}}e===r&&/\s/.exec(r.text)&&(n=void 0),(0,c.K2)(o,"uniq");const{nodeList:s,dir:l}=o(t.flat());if("gen-1"===i)for(let e=0;e<s.length;e++)s[e]=C(s[e]);n=n??"subGraph"+D,a=a||"",a=A(a),D+=1;const u={id:n,nodes:s,title:a.trim(),classes:[],dir:l,labelType:r.type};return c.Rm.info("Adding",u.id,u.nodes,u.dir),u.nodes=ue(u,b).nodes,b.push(u),x.set(n,u),n}),"addSubGraph"),X=(0,c.K2)((function(e){for(const[t,r]of b.entries())if(r.id===e)return t;return-1}),"getPosForId"),Z=-1,Q=[],J=(0,c.K2)((function(e,t){const r=b[t].nodes;if((Z+=1)>2e3)return{result:!1,count:0};if(Q[Z]=t,b[t].id===e)return{result:!0,count:0};let n=0,i=1;for(;n<r.length;){const t=X(r[n]);if(t>=0){const r=J(e,t);if(r.result)return{result:!0,count:i+r.count};i+=r.count}n+=1}return{result:!1,count:i}}),"indexNodes2"),ee=(0,c.K2)((function(e){return Q[e]}),"getDepthFirstPos"),te=(0,c.K2)((function(){Z=-1,b.length>0&&J("none",b.length-1)}),"indexNodes"),re=(0,c.K2)((function(){return b}),"getSubGraphs"),ne=(0,c.K2)((()=>!!k&&(k=!1,!0)),"firstGraph"),ie=(0,c.K2)((e=>{let t=e.trim(),r="arrow_open";switch(t[0]){case"<":r="arrow_point",t=t.slice(1);break;case"x":r="arrow_cross",t=t.slice(1);break;case"o":r="arrow_circle",t=t.slice(1)}let n="normal";return t.includes("=")&&(n="thick"),t.includes(".")&&(n="dotted"),{type:r,stroke:n}}),"destructStartLink"),ae=(0,c.K2)(((e,t)=>{const r=t.length;let n=0;for(let i=0;i<r;++i)t[i]===e&&++n;return n}),"countChar"),oe=(0,c.K2)((e=>{const t=e.trim();let r=t.slice(0,-1),n="arrow_open";switch(t.slice(-1)){case"x":n="arrow_cross",t.startsWith("x")&&(n="double_"+n,r=r.slice(1));break;case">":n="arrow_point",t.startsWith("<")&&(n="double_"+n,r=r.slice(1));break;case"o":n="arrow_circle",t.startsWith("o")&&(n="double_"+n,r=r.slice(1))}let i="normal",a=r.length-1;r.startsWith("=")&&(i="thick"),r.startsWith("~")&&(i="invisible");const o=ae(".",r);return o&&(i="dotted",a=o),{type:n,stroke:i,length:a}}),"destructEndLink"),se=(0,c.K2)(((e,t)=>{const r=oe(e);let n;if(t){if(n=ie(t),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===n.type)n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return"double_arrow"===n.type&&(n.type="double_arrow_point"),n.length=r.length,n}return r}),"destructLink"),le=(0,c.K2)(((e,t)=>{for(const r of e)if(r.nodes.includes(t))return!0;return!1}),"exists"),ue=(0,c.K2)(((e,t)=>{const r=[];return e.nodes.forEach(((n,i)=>{le(t,n)||r.push(e.nodes[i])})),{nodes:r}}),"makeUniq"),ce={firstGraph:ne},he=(0,c.K2)((e=>{if(e.img)return"imageSquare";if(e.icon)return"circle"===e.form?"iconCircle":"square"===e.form?"iconSquare":"rounded"===e.form?"iconRounded":"icon";switch(e.type){case"square":case void 0:return"squareRect";case"round":return"roundedRect";case"ellipse":return"ellipse";default:return e.type}}),"getTypeFromVertex"),de=(0,c.K2)(((e,t)=>e.find((e=>e.id===t))),"findNode"),fe=(0,c.K2)((e=>{let t="none",r="arrow_point";switch(e){case"arrow_point":case"arrow_circle":case"arrow_cross":r=e;break;case"double_arrow_point":case"double_arrow_circle":case"double_arrow_cross":t=e.replace("double_",""),r=t}return{arrowTypeStart:t,arrowTypeEnd:r}}),"destructEdgeType"),pe=(0,c.K2)(((e,t,r,n,i,a)=>{const o=r.get(e.id),s=n.get(e.id)??!1,l=de(t,e.id);if(l)l.cssStyles=e.styles,l.cssCompiledStyles=ge(e.classes),l.cssClasses=e.classes.join(" ");else{const r={id:e.id,label:e.text,labelStyle:"",parentId:o,padding:i.flowchart?.padding||8,cssStyles:e.styles,cssCompiledStyles:ge(["default","node",...e.classes]),cssClasses:"default "+e.classes.join(" "),dir:e.dir,domId:e.domId,look:a,link:e.link,linkTarget:e.linkTarget,tooltip:P(e.id),icon:e.icon,pos:e.pos,img:e.img,assetWidth:e.assetWidth,assetHeight:e.assetHeight,constraint:e.constraint};s?t.push({...r,isGroup:!0,shape:"rect"}):t.push({...r,isGroup:!1,shape:he(e)})}}),"addNodeFromVertex");function ge(e){let t=[];for(const r of e){const e=v.get(r);e?.styles&&(t=[...t,...e.styles??[]].map((e=>e.trim()))),e?.textStyles&&(t=[...t,...e.textStyles??[]].map((e=>e.trim())))}return t}(0,c.K2)(ge,"getCompiledStyles");var me=(0,c.K2)((()=>{const e=(0,c.D7)(),t=[],r=[],n=re(),i=new Map,a=new Map;for(let e=n.length-1;e>=0;e--){const t=n[e];t.nodes.length>0&&a.set(t.id,!0);for(const e of t.nodes)i.set(e,t.id)}for(let r=n.length-1;r>=0;r--){const a=n[r];t.push({id:a.id,label:a.title,labelStyle:"",parentId:i.get(a.id),padding:8,cssCompiledStyles:ge(a.classes),cssClasses:a.classes.join(" "),shape:"rect",dir:a.dir,isGroup:!0,look:e.look})}K().forEach((r=>{pe(r,t,i,a,e,e.look||"classic")}));const o=q();return o.forEach(((t,n)=>{const{arrowTypeStart:i,arrowTypeEnd:a}=fe(t.type),s=[...o.defaultStyle??[]];t.style&&s.push(...t.style);const l={id:(0,u.rY)(t.start,t.end,{counter:n,prefix:"L"}),start:t.start,end:t.end,type:t.type??"normal",label:t.text,labelpos:"c",thickness:t.stroke,minlen:t.length,classes:"invisible"===t?.stroke?"":"edge-thickness-normal edge-pattern-solid flowchart-link",arrowTypeStart:"invisible"===t?.stroke?"none":i,arrowTypeEnd:"invisible"===t?.stroke?"none":a,arrowheadStyle:"fill: #333",labelStyle:s,style:s,pattern:t.stroke,look:e.look};r.push(l)})),{nodes:t,edges:r,other:{},config:e}}),"getData"),ye={defaultConfig:(0,c.K2)((()=>c.ME.flowchart),"defaultConfig"),setAccTitle:c.SV,getAccTitle:c.iN,getAccDescription:c.m7,getData:me,setAccDescription:c.EI,addVertex:_,lookUpDomId:C,addLink:S,updateLinkInterpolate:F,updateLink:O,addClass:B,setDirection:N,setClass:L,setTooltip:I,getTooltip:P,setClickEvent:z,setLink:M,bindFunctions:$,getDirection:j,getVertices:K,getEdges:q,getClasses:U,clear:W,setGen:G,defaultStyle:V,addSubGraph:Y,getDepthFirstPos:ee,indexNodes:te,getSubGraphs:re,destructLink:se,lex:ce,exists:le,makeUniq:ue,setDiagramTitle:c.ke,getDiagramTitle:c.ab},ve={getClasses:(0,c.K2)((function(e,t){return t.db.getClasses()}),"getClasses"),draw:(0,c.K2)((async function(e,t,r,n){c.Rm.info("REF0:"),c.Rm.info("Drawing state diagram (v2)",t);const{securityLevel:i,flowchart:o,layout:l}=(0,c.D7)();let d;"sandbox"===i&&(d=(0,h.Ltv)("#i"+t));const f="sandbox"===i?d.nodes()[0].contentDocument:document;c.Rm.debug("Before getData: ");const p=n.db.getData();c.Rm.debug("Data: ",p);const g=(0,a.A)(t,i),m=j();p.type=n.type,p.layoutAlgorithm=(0,s.q7)(l),"dagre"===p.layoutAlgorithm&&"elk"===l&&c.Rm.warn("flowchart-elk was moved to an external package in Mermaid v11. Please refer [release notes](https://github.com/mermaid-js/mermaid/releases/tag/v11.0.0) for more details. This diagram will be rendered using `dagre` layout as a fallback."),p.direction=m,p.nodeSpacing=o?.nodeSpacing||50,p.rankSpacing=o?.rankSpacing||50,p.markers=["point","circle","cross"],p.diagramId=t,c.Rm.debug("REF1:",p),await(0,s.XX)(p,g);const y=p.config.flowchart?.diagramPadding??8;u._K.insertTitle(g,"flowchartTitleText",o?.titleTopMargin||0,n.db.getDiagramTitle()),(0,a.P)(g,y,"flowchart",o?.useMaxWidth||!1);for(const e of p.nodes){const r=(0,h.Ltv)(`#${t} [id="${e.id}"]`);if(!r||!e.link)continue;const n=f.createElementNS("http://www.w3.org/2000/svg","a");n.setAttributeNS("http://www.w3.org/2000/svg","class",e.cssClasses),n.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===i?n.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):e.linkTarget&&n.setAttributeNS("http://www.w3.org/2000/svg","target",e.linkTarget);const a=r.insert((function(){return n}),":first-child"),o=r.select(".label-container");o&&a.append((function(){return o.node()}));const s=r.select(".label");s&&a.append((function(){return s.node()}))}}),"draw")},be=function(){var e=(0,c.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,4],r=[1,3],n=[1,5],i=[1,8,9,10,11,27,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],a=[2,2],o=[1,13],s=[1,14],l=[1,15],u=[1,16],h=[1,23],d=[1,25],f=[1,26],p=[1,27],g=[1,49],m=[1,48],y=[1,29],v=[1,30],b=[1,31],x=[1,32],w=[1,33],D=[1,44],k=[1,46],E=[1,42],A=[1,47],C=[1,43],_=[1,50],T=[1,45],S=[1,51],F=[1,52],O=[1,34],B=[1,35],N=[1,36],L=[1,37],I=[1,57],R=[1,8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],M=[1,61],P=[1,60],z=[1,62],$=[8,9,11,75,77],j=[1,77],K=[1,90],q=[1,95],U=[1,94],H=[1,91],W=[1,87],G=[1,93],V=[1,89],Y=[1,96],X=[1,92],Z=[1,97],Q=[1,88],J=[8,9,10,11,40,75,77],ee=[8,9,10,11,40,46,75,77],te=[8,9,10,11,29,40,44,46,48,50,52,54,56,58,60,63,65,67,68,70,75,77,88,101,104,105,108,110,113,114,115],re=[8,9,11,44,60,75,77,88,101,104,105,108,110,113,114,115],ne=[44,60,88,101,104,105,108,110,113,114,115],ie=[1,123],ae=[1,122],oe=[1,130],se=[1,144],le=[1,145],ue=[1,146],ce=[1,147],he=[1,132],de=[1,134],fe=[1,138],pe=[1,139],ge=[1,140],me=[1,141],ye=[1,142],ve=[1,143],be=[1,148],xe=[1,149],we=[1,128],De=[1,129],ke=[1,136],Ee=[1,131],Ae=[1,135],Ce=[1,133],_e=[8,9,10,11,27,32,34,36,38,44,60,83,84,85,86,87,88,101,104,105,108,110,113,114,115,120,121,122,123],Te=[1,151],Se=[1,153],Fe=[8,9,11],Oe=[8,9,10,11,14,44,60,88,104,105,108,110,113,114,115],Be=[1,173],Ne=[1,169],Le=[1,170],Ie=[1,174],Re=[1,171],Me=[1,172],Pe=[77,115,118],ze=[8,9,10,11,12,14,27,29,32,44,60,75,83,84,85,86,87,88,89,104,108,110,113,114,115],$e=[10,105],je=[31,49,51,53,55,57,62,64,66,67,69,71,115,116,117],Ke=[1,242],qe=[1,240],Ue=[1,244],He=[1,238],We=[1,239],Ge=[1,241],Ve=[1,243],Ye=[1,245],Xe=[1,263],Ze=[8,9,11,105],Qe=[8,9,10,11,60,83,104,105,108,109,110,111],Je={trace:(0,c.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,graphConfig:4,document:5,line:6,statement:7,SEMI:8,NEWLINE:9,SPACE:10,EOF:11,GRAPH:12,NODIR:13,DIR:14,FirstStmtSeparator:15,ending:16,endToken:17,spaceList:18,spaceListNewline:19,vertexStatement:20,separator:21,styleStatement:22,linkStyleStatement:23,classDefStatement:24,classStatement:25,clickStatement:26,subgraph:27,textNoTags:28,SQS:29,text:30,SQE:31,end:32,direction:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,shapeData:39,SHAPE_DATA:40,link:41,node:42,styledVertex:43,AMP:44,vertex:45,STYLE_SEPARATOR:46,idString:47,DOUBLECIRCLESTART:48,DOUBLECIRCLEEND:49,PS:50,PE:51,"(-":52,"-)":53,STADIUMSTART:54,STADIUMEND:55,SUBROUTINESTART:56,SUBROUTINEEND:57,VERTEX_WITH_PROPS_START:58,"NODE_STRING[field]":59,COLON:60,"NODE_STRING[value]":61,PIPE:62,CYLINDERSTART:63,CYLINDEREND:64,DIAMOND_START:65,DIAMOND_STOP:66,TAGEND:67,TRAPSTART:68,TRAPEND:69,INVTRAPSTART:70,INVTRAPEND:71,linkStatement:72,arrowText:73,TESTSTR:74,START_LINK:75,edgeText:76,LINK:77,edgeTextToken:78,STR:79,MD_STR:80,textToken:81,keywords:82,STYLE:83,LINKSTYLE:84,CLASSDEF:85,CLASS:86,CLICK:87,DOWN:88,UP:89,textNoTagsToken:90,stylesOpt:91,"idString[vertex]":92,"idString[class]":93,CALLBACKNAME:94,CALLBACKARGS:95,HREF:96,LINK_TARGET:97,"STR[link]":98,"STR[tooltip]":99,alphaNum:100,DEFAULT:101,numList:102,INTERPOLATE:103,NUM:104,COMMA:105,style:106,styleComponent:107,NODE_STRING:108,UNIT:109,BRKT:110,PCT:111,idStringToken:112,MINUS:113,MULT:114,UNICODE_TEXT:115,TEXT:116,TAGSTART:117,EDGE_TEXT:118,alphaNumToken:119,direction_tb:120,direction_bt:121,direction_rl:122,direction_lr:123,$accept:0,$end:1},terminals_:{2:"error",8:"SEMI",9:"NEWLINE",10:"SPACE",11:"EOF",12:"GRAPH",13:"NODIR",14:"DIR",27:"subgraph",29:"SQS",31:"SQE",32:"end",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",40:"SHAPE_DATA",44:"AMP",46:"STYLE_SEPARATOR",48:"DOUBLECIRCLESTART",49:"DOUBLECIRCLEEND",50:"PS",51:"PE",52:"(-",53:"-)",54:"STADIUMSTART",55:"STADIUMEND",56:"SUBROUTINESTART",57:"SUBROUTINEEND",58:"VERTEX_WITH_PROPS_START",59:"NODE_STRING[field]",60:"COLON",61:"NODE_STRING[value]",62:"PIPE",63:"CYLINDERSTART",64:"CYLINDEREND",65:"DIAMOND_START",66:"DIAMOND_STOP",67:"TAGEND",68:"TRAPSTART",69:"TRAPEND",70:"INVTRAPSTART",71:"INVTRAPEND",74:"TESTSTR",75:"START_LINK",77:"LINK",79:"STR",80:"MD_STR",83:"STYLE",84:"LINKSTYLE",85:"CLASSDEF",86:"CLASS",87:"CLICK",88:"DOWN",89:"UP",92:"idString[vertex]",93:"idString[class]",94:"CALLBACKNAME",95:"CALLBACKARGS",96:"HREF",97:"LINK_TARGET",98:"STR[link]",99:"STR[tooltip]",101:"DEFAULT",103:"INTERPOLATE",104:"NUM",105:"COMMA",108:"NODE_STRING",109:"UNIT",110:"BRKT",111:"PCT",113:"MINUS",114:"MULT",115:"UNICODE_TEXT",116:"TEXT",117:"TAGSTART",118:"EDGE_TEXT",120:"direction_tb",121:"direction_bt",122:"direction_rl",123:"direction_lr"},productions_:[0,[3,2],[5,0],[5,2],[6,1],[6,1],[6,1],[6,1],[6,1],[4,2],[4,2],[4,2],[4,3],[16,2],[16,1],[17,1],[17,1],[17,1],[15,1],[15,1],[15,2],[19,2],[19,2],[19,1],[19,1],[18,2],[18,1],[7,2],[7,2],[7,2],[7,2],[7,2],[7,2],[7,9],[7,6],[7,4],[7,1],[7,2],[7,2],[7,1],[21,1],[21,1],[21,1],[39,2],[39,1],[20,4],[20,3],[20,4],[20,2],[20,2],[20,1],[42,1],[42,6],[42,5],[43,1],[43,3],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,8],[45,4],[45,4],[45,4],[45,6],[45,4],[45,4],[45,4],[45,4],[45,4],[45,1],[41,2],[41,3],[41,3],[41,1],[41,3],[76,1],[76,2],[76,1],[76,1],[72,1],[73,3],[30,1],[30,2],[30,1],[30,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[82,1],[28,1],[28,2],[28,1],[28,1],[24,5],[25,5],[26,2],[26,4],[26,3],[26,5],[26,3],[26,5],[26,5],[26,7],[26,2],[26,4],[26,2],[26,4],[26,4],[26,6],[22,5],[23,5],[23,5],[23,9],[23,9],[23,7],[23,7],[102,1],[102,3],[91,1],[91,3],[106,1],[106,2],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[107,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[112,1],[81,1],[81,1],[81,1],[81,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[90,1],[78,1],[78,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[119,1],[47,1],[47,2],[100,1],[100,2],[33,1],[33,1],[33,1],[33,1]],performAction:(0,c.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 2:case 28:case 29:case 30:case 31:case 32:this.$=[];break;case 3:(!Array.isArray(a[s])||a[s].length>0)&&a[s-1].push(a[s]),this.$=a[s-1];break;case 4:case 181:case 44:case 54:case 76:case 179:this.$=a[s];break;case 11:n.setDirection("TB"),this.$="TB";break;case 12:n.setDirection(a[s-1]),this.$=a[s-1];break;case 27:this.$=a[s-1].nodes;break;case 33:this.$=n.addSubGraph(a[s-6],a[s-1],a[s-4]);break;case 34:this.$=n.addSubGraph(a[s-3],a[s-1],a[s-3]);break;case 35:this.$=n.addSubGraph(void 0,a[s-1],void 0);break;case 37:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 38:case 39:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 43:case 131:this.$=a[s-1]+a[s];break;case 45:n.addVertex(a[s-1][0],void 0,void 0,void 0,void 0,void 0,void 0,a[s]),n.addLink(a[s-3].stmt,a[s-1],a[s-2]),this.$={stmt:a[s-1],nodes:a[s-1].concat(a[s-3].nodes)};break;case 46:n.addLink(a[s-2].stmt,a[s],a[s-1]),this.$={stmt:a[s],nodes:a[s].concat(a[s-2].nodes)};break;case 47:n.addLink(a[s-3].stmt,a[s-1],a[s-2]),this.$={stmt:a[s-1],nodes:a[s-1].concat(a[s-3].nodes)};break;case 48:this.$={stmt:a[s-1],nodes:a[s-1]};break;case 49:n.addVertex(a[s-1][0],void 0,void 0,void 0,void 0,void 0,void 0,a[s]),this.$={stmt:a[s-1],nodes:a[s-1],shapeData:a[s]};break;case 50:this.$={stmt:a[s],nodes:a[s]};break;case 51:case 126:case 128:this.$=[a[s]];break;case 52:n.addVertex(a[s-5][0],void 0,void 0,void 0,void 0,void 0,void 0,a[s-4]),this.$=a[s-5].concat(a[s]);break;case 53:this.$=a[s-4].concat(a[s]);break;case 55:this.$=a[s-2],n.setClass(a[s-2],a[s]);break;case 56:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"square");break;case 57:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"doublecircle");break;case 58:this.$=a[s-5],n.addVertex(a[s-5],a[s-2],"circle");break;case 59:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"ellipse");break;case 60:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"stadium");break;case 61:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"subroutine");break;case 62:this.$=a[s-7],n.addVertex(a[s-7],a[s-1],"rect",void 0,void 0,void 0,Object.fromEntries([[a[s-5],a[s-3]]]));break;case 63:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"cylinder");break;case 64:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"round");break;case 65:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"diamond");break;case 66:this.$=a[s-5],n.addVertex(a[s-5],a[s-2],"hexagon");break;case 67:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"odd");break;case 68:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"trapezoid");break;case 69:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"inv_trapezoid");break;case 70:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"lean_right");break;case 71:this.$=a[s-3],n.addVertex(a[s-3],a[s-1],"lean_left");break;case 72:this.$=a[s],n.addVertex(a[s]);break;case 73:a[s-1].text=a[s],this.$=a[s-1];break;case 74:case 75:a[s-2].text=a[s-1],this.$=a[s-2];break;case 77:var l=n.destructLink(a[s],a[s-2]);this.$={type:l.type,stroke:l.stroke,length:l.length,text:a[s-1]};break;case 78:case 84:case 99:case 101:this.$={text:a[s],type:"text"};break;case 79:case 85:case 100:this.$={text:a[s-1].text+""+a[s],type:a[s-1].type};break;case 80:case 86:this.$={text:a[s],type:"string"};break;case 81:case 87:case 102:this.$={text:a[s],type:"markdown"};break;case 82:l=n.destructLink(a[s]),this.$={type:l.type,stroke:l.stroke,length:l.length};break;case 83:this.$=a[s-1];break;case 103:this.$=a[s-4],n.addClass(a[s-2],a[s]);break;case 104:this.$=a[s-4],n.setClass(a[s-2],a[s]);break;case 105:case 113:this.$=a[s-1],n.setClickEvent(a[s-1],a[s]);break;case 106:case 114:this.$=a[s-3],n.setClickEvent(a[s-3],a[s-2]),n.setTooltip(a[s-3],a[s]);break;case 107:this.$=a[s-2],n.setClickEvent(a[s-2],a[s-1],a[s]);break;case 108:this.$=a[s-4],n.setClickEvent(a[s-4],a[s-3],a[s-2]),n.setTooltip(a[s-4],a[s]);break;case 109:this.$=a[s-2],n.setLink(a[s-2],a[s]);break;case 110:this.$=a[s-4],n.setLink(a[s-4],a[s-2]),n.setTooltip(a[s-4],a[s]);break;case 111:this.$=a[s-4],n.setLink(a[s-4],a[s-2],a[s]);break;case 112:this.$=a[s-6],n.setLink(a[s-6],a[s-4],a[s]),n.setTooltip(a[s-6],a[s-2]);break;case 115:this.$=a[s-1],n.setLink(a[s-1],a[s]);break;case 116:this.$=a[s-3],n.setLink(a[s-3],a[s-2]),n.setTooltip(a[s-3],a[s]);break;case 117:this.$=a[s-3],n.setLink(a[s-3],a[s-2],a[s]);break;case 118:this.$=a[s-5],n.setLink(a[s-5],a[s-4],a[s]),n.setTooltip(a[s-5],a[s-2]);break;case 119:this.$=a[s-4],n.addVertex(a[s-2],void 0,void 0,a[s]);break;case 120:this.$=a[s-4],n.updateLink([a[s-2]],a[s]);break;case 121:this.$=a[s-4],n.updateLink(a[s-2],a[s]);break;case 122:this.$=a[s-8],n.updateLinkInterpolate([a[s-6]],a[s-2]),n.updateLink([a[s-6]],a[s]);break;case 123:this.$=a[s-8],n.updateLinkInterpolate(a[s-6],a[s-2]),n.updateLink(a[s-6],a[s]);break;case 124:this.$=a[s-6],n.updateLinkInterpolate([a[s-4]],a[s]);break;case 125:this.$=a[s-6],n.updateLinkInterpolate(a[s-4],a[s]);break;case 127:case 129:a[s-2].push(a[s]),this.$=a[s-2];break;case 180:case 182:this.$=a[s-1]+""+a[s];break;case 183:this.$={stmt:"dir",value:"TB"};break;case 184:this.$={stmt:"dir",value:"BT"};break;case 185:this.$={stmt:"dir",value:"RL"};break;case 186:this.$={stmt:"dir",value:"LR"}}}),"anonymous"),table:[{3:1,4:2,9:t,10:r,12:n},{1:[3]},e(i,a,{5:6}),{4:7,9:t,10:r,12:n},{4:8,9:t,10:r,12:n},{13:[1,9],14:[1,10]},{1:[2,1],6:11,7:12,8:o,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,33:24,34:d,36:f,38:p,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:b,86:x,87:w,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F,120:O,121:B,122:N,123:L},e(i,[2,9]),e(i,[2,10]),e(i,[2,11]),{8:[1,54],9:[1,55],10:I,15:53,18:56},e(R,[2,3]),e(R,[2,4]),e(R,[2,5]),e(R,[2,6]),e(R,[2,7]),e(R,[2,8]),{8:M,9:P,11:z,21:58,41:59,72:63,75:[1,64],77:[1,65]},{8:M,9:P,11:z,21:66},{8:M,9:P,11:z,21:67},{8:M,9:P,11:z,21:68},{8:M,9:P,11:z,21:69},{8:M,9:P,11:z,21:70},{8:M,9:P,10:[1,71],11:z,21:72},e(R,[2,36]),{35:[1,73]},{37:[1,74]},e(R,[2,39]),e($,[2,50],{18:75,39:76,10:I,40:j}),{10:[1,78]},{10:[1,79]},{10:[1,80]},{10:[1,81]},{14:K,44:q,60:U,79:[1,85],88:H,94:[1,82],96:[1,83],100:84,104:W,105:G,108:V,110:Y,113:X,114:Z,115:Q,119:86},e(R,[2,183]),e(R,[2,184]),e(R,[2,185]),e(R,[2,186]),e(J,[2,51]),e(J,[2,54],{46:[1,98]}),e(ee,[2,72],{112:111,29:[1,99],44:g,48:[1,100],50:[1,101],52:[1,102],54:[1,103],56:[1,104],58:[1,105],60:m,63:[1,106],65:[1,107],67:[1,108],68:[1,109],70:[1,110],88:D,101:k,104:E,105:A,108:C,110:_,113:T,114:S,115:F}),e(te,[2,179]),e(te,[2,140]),e(te,[2,141]),e(te,[2,142]),e(te,[2,143]),e(te,[2,144]),e(te,[2,145]),e(te,[2,146]),e(te,[2,147]),e(te,[2,148]),e(te,[2,149]),e(te,[2,150]),e(i,[2,12]),e(i,[2,18]),e(i,[2,19]),{9:[1,112]},e(re,[2,26],{18:113,10:I}),e(R,[2,27]),{42:114,43:38,44:g,45:39,47:40,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F},e(R,[2,40]),e(R,[2,41]),e(R,[2,42]),e(ne,[2,76],{73:115,62:[1,117],74:[1,116]}),{76:118,78:119,79:[1,120],80:[1,121],115:ie,118:ae},e([44,60,62,74,88,101,104,105,108,110,113,114,115],[2,82]),e(R,[2,28]),e(R,[2,29]),e(R,[2,30]),e(R,[2,31]),e(R,[2,32]),{10:oe,12:se,14:le,27:ue,28:124,32:ce,44:he,60:de,75:fe,79:[1,126],80:[1,127],82:137,83:pe,84:ge,85:me,86:ye,87:ve,88:be,89:xe,90:125,104:we,108:De,110:ke,113:Ee,114:Ae,115:Ce},e(_e,a,{5:150}),e(R,[2,37]),e(R,[2,38]),e($,[2,48],{44:Te}),e($,[2,49],{18:152,10:I,40:Se}),e(J,[2,44]),{44:g,47:154,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F},{101:[1,155],102:156,104:[1,157]},{44:g,47:158,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F},{44:g,47:159,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F},e(Fe,[2,105],{10:[1,160],95:[1,161]}),{79:[1,162]},e(Fe,[2,113],{119:164,10:[1,163],14:K,44:q,60:U,88:H,104:W,105:G,108:V,110:Y,113:X,114:Z,115:Q}),e(Fe,[2,115],{10:[1,165]}),e(Oe,[2,181]),e(Oe,[2,168]),e(Oe,[2,169]),e(Oe,[2,170]),e(Oe,[2,171]),e(Oe,[2,172]),e(Oe,[2,173]),e(Oe,[2,174]),e(Oe,[2,175]),e(Oe,[2,176]),e(Oe,[2,177]),e(Oe,[2,178]),{44:g,47:166,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F},{30:167,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:175,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:177,50:[1,176],67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:178,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:179,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:180,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{108:[1,181]},{30:182,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:183,65:[1,184],67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:185,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:186,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{30:187,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},e(te,[2,180]),e(i,[2,20]),e(re,[2,25]),e($,[2,46],{39:188,18:189,10:I,40:j}),e(ne,[2,73],{10:[1,190]}),{10:[1,191]},{30:192,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{77:[1,193],78:194,115:ie,118:ae},e(Pe,[2,78]),e(Pe,[2,80]),e(Pe,[2,81]),e(Pe,[2,166]),e(Pe,[2,167]),{8:M,9:P,10:oe,11:z,12:se,14:le,21:196,27:ue,29:[1,195],32:ce,44:he,60:de,75:fe,82:137,83:pe,84:ge,85:me,86:ye,87:ve,88:be,89:xe,90:197,104:we,108:De,110:ke,113:Ee,114:Ae,115:Ce},e(ze,[2,99]),e(ze,[2,101]),e(ze,[2,102]),e(ze,[2,155]),e(ze,[2,156]),e(ze,[2,157]),e(ze,[2,158]),e(ze,[2,159]),e(ze,[2,160]),e(ze,[2,161]),e(ze,[2,162]),e(ze,[2,163]),e(ze,[2,164]),e(ze,[2,165]),e(ze,[2,88]),e(ze,[2,89]),e(ze,[2,90]),e(ze,[2,91]),e(ze,[2,92]),e(ze,[2,93]),e(ze,[2,94]),e(ze,[2,95]),e(ze,[2,96]),e(ze,[2,97]),e(ze,[2,98]),{6:11,7:12,8:o,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,198],33:24,34:d,36:f,38:p,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:b,86:x,87:w,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F,120:O,121:B,122:N,123:L},{10:I,18:199},{44:[1,200]},e(J,[2,43]),{10:[1,201],44:g,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:111,113:T,114:S,115:F},{10:[1,202]},{10:[1,203],105:[1,204]},e($e,[2,126]),{10:[1,205],44:g,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:111,113:T,114:S,115:F},{10:[1,206],44:g,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:111,113:T,114:S,115:F},{79:[1,207]},e(Fe,[2,107],{10:[1,208]}),e(Fe,[2,109],{10:[1,209]}),{79:[1,210]},e(Oe,[2,182]),{79:[1,211],97:[1,212]},e(J,[2,55],{112:111,44:g,60:m,88:D,101:k,104:E,105:A,108:C,110:_,113:T,114:S,115:F}),{31:[1,213],67:Be,81:214,115:Ie,116:Re,117:Me},e(je,[2,84]),e(je,[2,86]),e(je,[2,87]),e(je,[2,151]),e(je,[2,152]),e(je,[2,153]),e(je,[2,154]),{49:[1,215],67:Be,81:214,115:Ie,116:Re,117:Me},{30:216,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{51:[1,217],67:Be,81:214,115:Ie,116:Re,117:Me},{53:[1,218],67:Be,81:214,115:Ie,116:Re,117:Me},{55:[1,219],67:Be,81:214,115:Ie,116:Re,117:Me},{57:[1,220],67:Be,81:214,115:Ie,116:Re,117:Me},{60:[1,221]},{64:[1,222],67:Be,81:214,115:Ie,116:Re,117:Me},{66:[1,223],67:Be,81:214,115:Ie,116:Re,117:Me},{30:224,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},{31:[1,225],67:Be,81:214,115:Ie,116:Re,117:Me},{67:Be,69:[1,226],71:[1,227],81:214,115:Ie,116:Re,117:Me},{67:Be,69:[1,229],71:[1,228],81:214,115:Ie,116:Re,117:Me},e($,[2,45],{18:152,10:I,40:Se}),e($,[2,47],{44:Te}),e(ne,[2,75]),e(ne,[2,74]),{62:[1,230],67:Be,81:214,115:Ie,116:Re,117:Me},e(ne,[2,77]),e(Pe,[2,79]),{30:231,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},e(_e,a,{5:232}),e(ze,[2,100]),e(R,[2,35]),{43:233,44:g,45:39,47:40,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F},{10:I,18:234},{10:Ke,60:qe,83:Ue,91:235,104:He,106:236,107:237,108:We,109:Ge,110:Ve,111:Ye},{10:Ke,60:qe,83:Ue,91:246,103:[1,247],104:He,106:236,107:237,108:We,109:Ge,110:Ve,111:Ye},{10:Ke,60:qe,83:Ue,91:248,103:[1,249],104:He,106:236,107:237,108:We,109:Ge,110:Ve,111:Ye},{104:[1,250]},{10:Ke,60:qe,83:Ue,91:251,104:He,106:236,107:237,108:We,109:Ge,110:Ve,111:Ye},{44:g,47:252,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F},e(Fe,[2,106]),{79:[1,253]},{79:[1,254],97:[1,255]},e(Fe,[2,114]),e(Fe,[2,116],{10:[1,256]}),e(Fe,[2,117]),e(ee,[2,56]),e(je,[2,85]),e(ee,[2,57]),{51:[1,257],67:Be,81:214,115:Ie,116:Re,117:Me},e(ee,[2,64]),e(ee,[2,59]),e(ee,[2,60]),e(ee,[2,61]),{108:[1,258]},e(ee,[2,63]),e(ee,[2,65]),{66:[1,259],67:Be,81:214,115:Ie,116:Re,117:Me},e(ee,[2,67]),e(ee,[2,68]),e(ee,[2,70]),e(ee,[2,69]),e(ee,[2,71]),e([10,44,60,88,101,104,105,108,110,113,114,115],[2,83]),{31:[1,260],67:Be,81:214,115:Ie,116:Re,117:Me},{6:11,7:12,8:o,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,261],33:24,34:d,36:f,38:p,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:b,86:x,87:w,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F,120:O,121:B,122:N,123:L},e(J,[2,53]),{43:262,44:g,45:39,47:40,60:m,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F},e(Fe,[2,119],{105:Xe}),e(Ze,[2,128],{107:264,10:Ke,60:qe,83:Ue,104:He,108:We,109:Ge,110:Ve,111:Ye}),e(Qe,[2,130]),e(Qe,[2,132]),e(Qe,[2,133]),e(Qe,[2,134]),e(Qe,[2,135]),e(Qe,[2,136]),e(Qe,[2,137]),e(Qe,[2,138]),e(Qe,[2,139]),e(Fe,[2,120],{105:Xe}),{10:[1,265]},e(Fe,[2,121],{105:Xe}),{10:[1,266]},e($e,[2,127]),e(Fe,[2,103],{105:Xe}),e(Fe,[2,104],{112:111,44:g,60:m,88:D,101:k,104:E,105:A,108:C,110:_,113:T,114:S,115:F}),e(Fe,[2,108]),e(Fe,[2,110],{10:[1,267]}),e(Fe,[2,111]),{97:[1,268]},{51:[1,269]},{62:[1,270]},{66:[1,271]},{8:M,9:P,11:z,21:272},e(R,[2,34]),e(J,[2,52]),{10:Ke,60:qe,83:Ue,104:He,106:273,107:237,108:We,109:Ge,110:Ve,111:Ye},e(Qe,[2,131]),{14:K,44:q,60:U,88:H,100:274,104:W,105:G,108:V,110:Y,113:X,114:Z,115:Q,119:86},{14:K,44:q,60:U,88:H,100:275,104:W,105:G,108:V,110:Y,113:X,114:Z,115:Q,119:86},{97:[1,276]},e(Fe,[2,118]),e(ee,[2,58]),{30:277,67:Be,79:Ne,80:Le,81:168,115:Ie,116:Re,117:Me},e(ee,[2,66]),e(_e,a,{5:278}),e(Ze,[2,129],{107:264,10:Ke,60:qe,83:Ue,104:He,108:We,109:Ge,110:Ve,111:Ye}),e(Fe,[2,124],{119:164,10:[1,279],14:K,44:q,60:U,88:H,104:W,105:G,108:V,110:Y,113:X,114:Z,115:Q}),e(Fe,[2,125],{119:164,10:[1,280],14:K,44:q,60:U,88:H,104:W,105:G,108:V,110:Y,113:X,114:Z,115:Q}),e(Fe,[2,112]),{31:[1,281],67:Be,81:214,115:Ie,116:Re,117:Me},{6:11,7:12,8:o,9:s,10:l,11:u,20:17,22:18,23:19,24:20,25:21,26:22,27:h,32:[1,282],33:24,34:d,36:f,38:p,42:28,43:38,44:g,45:39,47:40,60:m,83:y,84:v,85:b,86:x,87:w,88:D,101:k,104:E,105:A,108:C,110:_,112:41,113:T,114:S,115:F,120:O,121:B,122:N,123:L},{10:Ke,60:qe,83:Ue,91:283,104:He,106:236,107:237,108:We,109:Ge,110:Ve,111:Ye},{10:Ke,60:qe,83:Ue,91:284,104:He,106:236,107:237,108:We,109:Ge,110:Ve,111:Ye},e(ee,[2,62]),e(R,[2,33]),e(Fe,[2,122],{105:Xe}),e(Fe,[2,123],{105:Xe})],defaultActions:{},parseError:(0,c.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,c.K2)((function(e){var t=this,r=[0],n=[],i=[null],a=[],o=this.table,s="",l=0,u=0,h=0,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,c.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,a.length=a.length-e}),"popStack"),(0,c.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=o[w]&&o[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],o[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),a.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(u=f.yyleng,s=f.yytext,l=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},y&&(T._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[s,u,l,p.yy,D[1],i,a].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),a=a.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),a.push(T._$),C=o[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},et=function(){return{EOF:1,parseError:(0,c.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,c.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,c.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,c.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,c.K2)((function(){return this._more=!0,this}),"more"),reject:(0,c.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,c.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,c.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,c.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,c.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,c.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,c.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,c.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,c.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,c.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,c.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,c.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,c.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,c.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{},performAction:(0,c.K2)((function(e,t,r,n){switch(r){case 0:return this.begin("acc_title"),34;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),36;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:case 12:case 14:case 17:case 20:case 23:case 33:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.pushState("shapeData"),t.yytext="",40;case 8:return this.pushState("shapeDataStr"),40;case 9:return this.popState(),40;case 10:const r=/\n\s*/g;return t.yytext=t.yytext.replace(r,"<br/>"),40;case 11:return 40;case 13:this.begin("callbackname");break;case 15:this.popState(),this.begin("callbackargs");break;case 16:return 94;case 18:return 95;case 19:return"MD_STR";case 21:this.begin("md_string");break;case 22:return"STR";case 24:this.pushState("string");break;case 25:return 83;case 26:return 101;case 27:return 84;case 28:return 103;case 29:return 85;case 30:return 86;case 31:return 96;case 32:this.begin("click");break;case 34:return 87;case 35:case 36:case 37:return e.lex.firstGraph()&&this.begin("dir"),12;case 38:return 27;case 39:return 32;case 40:case 41:case 42:case 43:return 97;case 44:return this.popState(),13;case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:case 54:return this.popState(),14;case 55:return 120;case 56:return 121;case 57:return 122;case 58:return 123;case 59:return 104;case 60:case 101:return 110;case 61:return 46;case 62:return 60;case 63:case 102:return 44;case 64:return 8;case 65:return 105;case 66:case 100:return 114;case 67:case 70:case 73:return this.popState(),77;case 68:return this.pushState("edgeText"),75;case 69:case 72:case 75:return 118;case 71:return this.pushState("thickEdgeText"),75;case 74:return this.pushState("dottedEdgeText"),75;case 76:return 77;case 77:return this.popState(),53;case 78:case 114:return"TEXT";case 79:return this.pushState("ellipseText"),52;case 80:return this.popState(),55;case 81:return this.pushState("text"),54;case 82:return this.popState(),57;case 83:return this.pushState("text"),56;case 84:return 58;case 85:return this.pushState("text"),67;case 86:return this.popState(),64;case 87:return this.pushState("text"),63;case 88:return this.popState(),49;case 89:return this.pushState("text"),48;case 90:return this.popState(),69;case 91:return this.popState(),71;case 92:return 116;case 93:return this.pushState("trapText"),68;case 94:return this.pushState("trapText"),70;case 95:return 117;case 96:return 67;case 97:return 89;case 98:return"SEP";case 99:return 88;case 103:return 108;case 104:return 113;case 105:return 115;case 106:return this.popState(),62;case 107:return this.pushState("text"),62;case 108:return this.popState(),51;case 109:return this.pushState("text"),50;case 110:return this.popState(),31;case 111:return this.pushState("text"),29;case 112:return this.popState(),66;case 113:return this.pushState("text"),65;case 115:return"QUOTE";case 116:return 9;case 117:return 10;case 118:return 11}}),"anonymous"),rules:[/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:@\{)/,/^(?:["])/,/^(?:["])/,/^(?:[^\"]+)/,/^(?:[^}^"]+)/,/^(?:\})/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:[^`"]+)/,/^(?:[`]["])/,/^(?:["][`])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:["])/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s])/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:flowchart-elk\b)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:[^-]|-(?!-)+)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:[^=]|=(?!))/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:[^\.]|\.(?!))/,/^(?:\s*~~[\~]+\s*)/,/^(?:[-/\)][\)])/,/^(?:[^\(\)\[\]\{\}]|!\)+)/,/^(?:\(-)/,/^(?:\]\))/,/^(?:\(\[)/,/^(?:\]\])/,/^(?:\[\[)/,/^(?:\[\|)/,/^(?:>)/,/^(?:\)\])/,/^(?:\[\()/,/^(?:\)\)\))/,/^(?:\(\(\()/,/^(?:[\\(?=\])][\]])/,/^(?:\/(?=\])\])/,/^(?:\/(?!\])|\\(?!\])|[^\\\[\]\(\)\{\}\/]+)/,/^(?:\[\/)/,/^(?:\[\\)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:\*)/,/^(?:#)/,/^(?:&)/,/^(?:([A-Za-z0-9!"\#$%&'*+\.`?\\_\/]|-(?=[^\>\-\.])|(?!))+)/,/^(?:-)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\|)/,/^(?:\))/,/^(?:\()/,/^(?:\])/,/^(?:\[)/,/^(?:(\}))/,/^(?:\{)/,/^(?:[^\[\]\(\)\{\}\|\"]+)/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{shapeDataEndBracket:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeDataStr:{rules:[9,10,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},shapeData:{rules:[8,11,12,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackargs:{rules:[17,18,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},callbackname:{rules:[14,15,16,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},href:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},click:{rules:[21,24,33,34,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dottedEdgeText:{rules:[21,24,73,75,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},thickEdgeText:{rules:[21,24,70,72,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},edgeText:{rules:[21,24,67,69,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},trapText:{rules:[21,24,76,79,81,83,87,89,90,91,92,93,94,107,109,111,113],inclusive:!1},ellipseText:{rules:[21,24,76,77,78,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},text:{rules:[21,24,76,79,80,81,82,83,86,87,88,89,93,94,106,107,108,109,110,111,112,113,114],inclusive:!1},vertex:{rules:[21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},dir:{rules:[21,24,44,45,46,47,48,49,50,51,52,53,54,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr_multiline:{rules:[5,6,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_descr:{rules:[3,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},acc_title:{rules:[1,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},md_string:{rules:[19,20,21,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},string:{rules:[21,22,23,24,76,79,81,83,87,89,93,94,107,109,111,113],inclusive:!1},INITIAL:{rules:[0,2,4,7,13,21,24,25,26,27,28,29,30,31,32,35,36,37,38,39,40,41,42,43,55,56,57,58,59,60,61,62,63,64,65,66,67,68,70,71,73,74,76,79,81,83,84,85,87,89,93,94,95,96,97,98,99,100,101,102,103,104,105,107,109,111,113,115,116,117,118],inclusive:!0}}}}();function tt(){this.yy={}}return Je.lexer=et,(0,c.K2)(tt,"Parser"),tt.prototype=Je,Je.Parser=tt,new tt}();be.parser=be;var xe=be,we=(0,c.K2)(((e,t)=>{const r=d.A,n=r(e,"r"),i=r(e,"g"),a=r(e,"b");return f.A(n,i,a,t)}),"fade"),De={parser:xe,db:ye,renderer:ve,styles:(0,c.K2)((e=>`.label {\n    font-family: ${e.fontFamily};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n  .cluster-label text {\n    fill: ${e.titleColor};\n  }\n  .cluster-label span {\n    color: ${e.titleColor};\n  }\n  .cluster-label span p {\n    background-color: transparent;\n  }\n\n  .label text,span {\n    fill: ${e.nodeTextColor||e.textColor};\n    color: ${e.nodeTextColor||e.textColor};\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${e.mainBkg};\n    stroke: ${e.nodeBorder};\n    stroke-width: 1px;\n  }\n  .rough-node .label text , .node .label text, .image-shape .label, .icon-shape .label {\n    text-anchor: middle;\n  }\n  // .flowchart-label .text-outer-tspan {\n  //   text-anchor: middle;\n  // }\n  // .flowchart-label .text-inner-tspan {\n  //   text-anchor: start;\n  // }\n\n  .node .katex path {\n    fill: #000;\n    stroke: #000;\n    stroke-width: 1px;\n  }\n\n  .rough-node .label,.node .label, .image-shape .label, .icon-shape .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n\n  .root .anchor path {\n    fill: ${e.lineColor} !important;\n    stroke-width: 0;\n    stroke: ${e.lineColor};\n  }\n\n  .arrowheadPath {\n    fill: ${e.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${e.lineColor};\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ${e.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${e.edgeLabelBackground};\n    p {\n      background-color: ${e.edgeLabelBackground};\n    }\n    rect {\n      opacity: 0.5;\n      background-color: ${e.edgeLabelBackground};\n      fill: ${e.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n\n  /* For html labels only */\n  .labelBkg {\n    background-color: ${we(e.edgeLabelBackground,.5)};\n    // background-color:\n  }\n\n  .cluster rect {\n    fill: ${e.clusterBkg};\n    stroke: ${e.clusterBorder};\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ${e.titleColor};\n  }\n\n  .cluster span {\n    color: ${e.titleColor};\n  }\n  /* .cluster div {\n    color: ${e.titleColor};\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ${e.fontFamily};\n    font-size: 12px;\n    background: ${e.tertiaryColor};\n    border: 1px solid ${e.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${e.textColor};\n  }\n\n  rect.text {\n    fill: none;\n    stroke-width: 0;\n  }\n\n  .icon-shape, .image-shape {\n    background-color: ${e.edgeLabelBackground};\n    p {\n      background-color: ${e.edgeLabelBackground};\n      padding: 2px;\n    }\n    rect {\n      opacity: 0.5;\n      background-color: ${e.edgeLabelBackground};\n      fill: ${e.edgeLabelBackground};\n    }\n    text-align: center;\n  }\n`),"getStyles"),init:(0,c.K2)((e=>{e.flowchart||(e.flowchart={}),e.layout&&(0,c.XV)({layout:e.layout}),e.flowchart.arrowMarkerAbsolute=e.arrowMarkerAbsolute,(0,c.XV)({flowchart:{arrowMarkerAbsolute:e.arrowMarkerAbsolute}}),ye.clear(),ye.setGen("gen-2")}),"init")}},6244:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>Le});var n=r(8159),i=r(7692),a=r(5397),o=r(8364),s=r(9322),l=r(282),u=r(3670),c=r(5763),h=function(){var e=(0,i.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[6,8,10,12,13,14,15,16,17,18,20,21,22,23,24,25,26,27,28,29,30,31,33,35,36,38,40],r=[1,26],n=[1,27],a=[1,28],o=[1,29],s=[1,30],l=[1,31],u=[1,32],c=[1,33],h=[1,34],d=[1,9],f=[1,10],p=[1,11],g=[1,12],m=[1,13],y=[1,14],v=[1,15],b=[1,16],x=[1,19],w=[1,20],D=[1,21],k=[1,22],E=[1,23],A=[1,25],C=[1,35],_={trace:(0,i.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,gantt:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NL:10,weekday:11,weekday_monday:12,weekday_tuesday:13,weekday_wednesday:14,weekday_thursday:15,weekday_friday:16,weekday_saturday:17,weekday_sunday:18,weekend:19,weekend_friday:20,weekend_saturday:21,dateFormat:22,inclusiveEndDates:23,topAxis:24,axisFormat:25,tickInterval:26,excludes:27,includes:28,todayMarker:29,title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,section:36,clickStatement:37,taskTxt:38,taskData:39,click:40,callbackname:41,callbackargs:42,href:43,clickStatementDebug:44,$accept:0,$end:1},terminals_:{2:"error",4:"gantt",6:"EOF",8:"SPACE",10:"NL",12:"weekday_monday",13:"weekday_tuesday",14:"weekday_wednesday",15:"weekday_thursday",16:"weekday_friday",17:"weekday_saturday",18:"weekday_sunday",20:"weekend_friday",21:"weekend_saturday",22:"dateFormat",23:"inclusiveEndDates",24:"topAxis",25:"axisFormat",26:"tickInterval",27:"excludes",28:"includes",29:"todayMarker",30:"title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"section",38:"taskTxt",39:"taskData",40:"click",41:"callbackname",42:"callbackargs",43:"href"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[19,1],[19,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,2],[37,2],[37,3],[37,3],[37,4],[37,3],[37,4],[37,2],[44,2],[44,3],[44,3],[44,4],[44,3],[44,4],[44,2]],performAction:(0,i.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:return a[s-1];case 2:case 6:case 7:this.$=[];break;case 3:a[s-1].push(a[s]),this.$=a[s-1];break;case 4:case 5:this.$=a[s];break;case 8:n.setWeekday("monday");break;case 9:n.setWeekday("tuesday");break;case 10:n.setWeekday("wednesday");break;case 11:n.setWeekday("thursday");break;case 12:n.setWeekday("friday");break;case 13:n.setWeekday("saturday");break;case 14:n.setWeekday("sunday");break;case 15:n.setWeekend("friday");break;case 16:n.setWeekend("saturday");break;case 17:n.setDateFormat(a[s].substr(11)),this.$=a[s].substr(11);break;case 18:n.enableInclusiveEndDates(),this.$=a[s].substr(18);break;case 19:n.TopAxis(),this.$=a[s].substr(8);break;case 20:n.setAxisFormat(a[s].substr(11)),this.$=a[s].substr(11);break;case 21:n.setTickInterval(a[s].substr(13)),this.$=a[s].substr(13);break;case 22:n.setExcludes(a[s].substr(9)),this.$=a[s].substr(9);break;case 23:n.setIncludes(a[s].substr(9)),this.$=a[s].substr(9);break;case 24:n.setTodayMarker(a[s].substr(12)),this.$=a[s].substr(12);break;case 27:n.setDiagramTitle(a[s].substr(6)),this.$=a[s].substr(6);break;case 28:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 29:case 30:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 31:n.addSection(a[s].substr(8)),this.$=a[s].substr(8);break;case 33:n.addTask(a[s-1],a[s]),this.$="task";break;case 34:this.$=a[s-1],n.setClickEvent(a[s-1],a[s],null);break;case 35:this.$=a[s-2],n.setClickEvent(a[s-2],a[s-1],a[s]);break;case 36:this.$=a[s-2],n.setClickEvent(a[s-2],a[s-1],null),n.setLink(a[s-2],a[s]);break;case 37:this.$=a[s-3],n.setClickEvent(a[s-3],a[s-2],a[s-1]),n.setLink(a[s-3],a[s]);break;case 38:this.$=a[s-2],n.setClickEvent(a[s-2],a[s],null),n.setLink(a[s-2],a[s-1]);break;case 39:this.$=a[s-3],n.setClickEvent(a[s-3],a[s-1],a[s]),n.setLink(a[s-3],a[s-2]);break;case 40:this.$=a[s-1],n.setLink(a[s-1],a[s]);break;case 41:case 47:this.$=a[s-1]+" "+a[s];break;case 42:case 43:case 45:this.$=a[s-2]+" "+a[s-1]+" "+a[s];break;case 44:case 46:this.$=a[s-3]+" "+a[s-2]+" "+a[s-1]+" "+a[s]}}),"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:17,12:r,13:n,14:a,15:o,16:s,17:l,18:u,19:18,20:c,21:h,22:d,23:f,24:p,25:g,26:m,27:y,28:v,29:b,30:x,31:w,33:D,35:k,36:E,37:24,38:A,40:C},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:36,11:17,12:r,13:n,14:a,15:o,16:s,17:l,18:u,19:18,20:c,21:h,22:d,23:f,24:p,25:g,26:m,27:y,28:v,29:b,30:x,31:w,33:D,35:k,36:E,37:24,38:A,40:C},e(t,[2,5]),e(t,[2,6]),e(t,[2,17]),e(t,[2,18]),e(t,[2,19]),e(t,[2,20]),e(t,[2,21]),e(t,[2,22]),e(t,[2,23]),e(t,[2,24]),e(t,[2,25]),e(t,[2,26]),e(t,[2,27]),{32:[1,37]},{34:[1,38]},e(t,[2,30]),e(t,[2,31]),e(t,[2,32]),{39:[1,39]},e(t,[2,8]),e(t,[2,9]),e(t,[2,10]),e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),{41:[1,40],43:[1,41]},e(t,[2,4]),e(t,[2,28]),e(t,[2,29]),e(t,[2,33]),e(t,[2,34],{42:[1,42],43:[1,43]}),e(t,[2,40],{41:[1,44]}),e(t,[2,35],{43:[1,45]}),e(t,[2,36]),e(t,[2,38],{42:[1,46]}),e(t,[2,37]),e(t,[2,39])],defaultActions:{},parseError:(0,i.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,i.K2)((function(e){var t=this,r=[0],n=[],a=[null],o=[],s=this.table,l="",u=0,c=0,h=0,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,i.K2)((function(e){r.length=r.length-2*e,a.length=a.length-e,o.length=o.length-e}),"popStack"),(0,i.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),a.push(f.yytext),o.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=a[a.length-A],T._$={first_line:o[o.length-(A||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(A||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(A||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],a,o].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),a=a.slice(0,-1*A),o=o.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),a.push(T.$),o.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},T=function(){return{EOF:1,parseError:(0,i.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,i.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,i.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,i.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,i.K2)((function(){return this._more=!0,this}),"more"),reject:(0,i.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,i.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,i.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,i.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,i.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,i.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,i.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,i.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,i.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,i.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,i.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,i.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,i.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,i.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,i.K2)((function(e,t,r,n){switch(r){case 0:return this.begin("open_directive"),"open_directive";case 1:return this.begin("acc_title"),31;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),33;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 15:case 18:case 21:case 24:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:case 9:case 10:case 12:case 13:break;case 11:return 10;case 14:this.begin("href");break;case 16:return 43;case 17:this.begin("callbackname");break;case 19:this.popState(),this.begin("callbackargs");break;case 20:return 41;case 22:return 42;case 23:this.begin("click");break;case 25:return 40;case 26:return 4;case 27:return 22;case 28:return 23;case 29:return 24;case 30:return 25;case 31:return 26;case 32:return 28;case 33:return 27;case 34:return 29;case 35:return 12;case 36:return 13;case 37:return 14;case 38:return 15;case 39:return 16;case 40:return 17;case 41:return 18;case 42:return 20;case 43:return 21;case 44:return"date";case 45:return 30;case 46:return"accDescription";case 47:return 36;case 48:return 38;case 49:return 39;case 50:return":";case 51:return 6;case 52:return"INVALID"}}),"anonymous"),rules:[/^(?:%%\{)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:weekday\s+monday\b)/i,/^(?:weekday\s+tuesday\b)/i,/^(?:weekday\s+wednesday\b)/i,/^(?:weekday\s+thursday\b)/i,/^(?:weekday\s+friday\b)/i,/^(?:weekday\s+saturday\b)/i,/^(?:weekday\s+sunday\b)/i,/^(?:weekend\s+friday\b)/i,/^(?:weekend\s+saturday\b)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^\n]+)/i,/^(?:[^:\n]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},callbackargs:{rules:[21,22],inclusive:!1},callbackname:{rules:[18,19,20],inclusive:!1},href:{rules:[15,16],inclusive:!1},click:{rules:[24,25],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,17,23,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52],inclusive:!0}}}}();function S(){this.yy={}}return _.lexer=T,(0,i.K2)(S,"Parser"),S.prototype=_,_.Parser=S,new S}();h.parser=h;var d=h;o.extend(s),o.extend(l),o.extend(u);var f,p,g={friday:5,saturday:6},m="",y="",v=void 0,b="",x=[],w=[],D=new Map,k=[],E=[],A="",C="",_=["active","done","crit","milestone"],T=[],S=!1,F=!1,O="sunday",B="saturday",N=0,L=(0,i.K2)((function(){k=[],E=[],A="",T=[],de=0,f=void 0,p=void 0,me=[],m="",y="",C="",v=void 0,b="",x=[],w=[],S=!1,F=!1,N=0,D=new Map,(0,i.IU)(),O="sunday",B="saturday"}),"clear"),I=(0,i.K2)((function(e){y=e}),"setAxisFormat"),R=(0,i.K2)((function(){return y}),"getAxisFormat"),M=(0,i.K2)((function(e){v=e}),"setTickInterval"),P=(0,i.K2)((function(){return v}),"getTickInterval"),z=(0,i.K2)((function(e){b=e}),"setTodayMarker"),$=(0,i.K2)((function(){return b}),"getTodayMarker"),j=(0,i.K2)((function(e){m=e}),"setDateFormat"),K=(0,i.K2)((function(){S=!0}),"enableInclusiveEndDates"),q=(0,i.K2)((function(){return S}),"endDatesAreInclusive"),U=(0,i.K2)((function(){F=!0}),"enableTopAxis"),H=(0,i.K2)((function(){return F}),"topAxisEnabled"),W=(0,i.K2)((function(e){C=e}),"setDisplayMode"),G=(0,i.K2)((function(){return C}),"getDisplayMode"),V=(0,i.K2)((function(){return m}),"getDateFormat"),Y=(0,i.K2)((function(e){x=e.toLowerCase().split(/[\s,]+/)}),"setIncludes"),X=(0,i.K2)((function(){return x}),"getIncludes"),Z=(0,i.K2)((function(e){w=e.toLowerCase().split(/[\s,]+/)}),"setExcludes"),Q=(0,i.K2)((function(){return w}),"getExcludes"),J=(0,i.K2)((function(){return D}),"getLinks"),ee=(0,i.K2)((function(e){A=e,k.push(e)}),"addSection"),te=(0,i.K2)((function(){return k}),"getSections"),re=(0,i.K2)((function(){let e=we(),t=0;for(;!e&&t<10;)e=we(),t++;return E=me}),"getTasks"),ne=(0,i.K2)((function(e,t,r,n){return!n.includes(e.format(t.trim()))&&(!(!r.includes("weekends")||e.isoWeekday()!==g[B]&&e.isoWeekday()!==g[B]+1)||!!r.includes(e.format("dddd").toLowerCase())||r.includes(e.format(t.trim())))}),"isInvalidDate"),ie=(0,i.K2)((function(e){O=e}),"setWeekday"),ae=(0,i.K2)((function(){return O}),"getWeekday"),oe=(0,i.K2)((function(e){B=e}),"setWeekend"),se=(0,i.K2)((function(e,t,r,n){if(!r.length||e.manualEndTime)return;let i,a;i=e.startTime instanceof Date?o(e.startTime):o(e.startTime,t,!0),i=i.add(1,"d"),a=e.endTime instanceof Date?o(e.endTime):o(e.endTime,t,!0);const[s,l]=le(i,a,t,r,n);e.endTime=s.toDate(),e.renderEndTime=l}),"checkTaskDates"),le=(0,i.K2)((function(e,t,r,n,i){let a=!1,o=null;for(;e<=t;)a||(o=t.toDate()),a=ne(e,r,n,i),a&&(t=t.add(1,"d")),e=e.add(1,"d");return[t,o]}),"fixTaskDates"),ue=(0,i.K2)((function(e,t,r){r=r.trim();const n=/^after\s+(?<ids>[\d\w- ]+)/.exec(r);if(null!==n){let e=null;for(const t of n.groups.ids.split(" ")){let r=be(t);void 0!==r&&(!e||r.endTime>e.endTime)&&(e=r)}if(e)return e.endTime;const t=new Date;return t.setHours(0,0,0,0),t}let a=o(r,t.trim(),!0);if(a.isValid())return a.toDate();{i.Rm.debug("Invalid date:"+r),i.Rm.debug("With date format:"+t.trim());const e=new Date(r);if(void 0===e||isNaN(e.getTime())||e.getFullYear()<-1e4||e.getFullYear()>1e4)throw new Error("Invalid date:"+r);return e}}),"getStartDate"),ce=(0,i.K2)((function(e){const t=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(e.trim());return null!==t?[Number.parseFloat(t[1]),t[2]]:[NaN,"ms"]}),"parseDuration"),he=(0,i.K2)((function(e,t,r,n=!1){r=r.trim();const i=/^until\s+(?<ids>[\d\w- ]+)/.exec(r);if(null!==i){let e=null;for(const t of i.groups.ids.split(" ")){let r=be(t);void 0!==r&&(!e||r.startTime<e.startTime)&&(e=r)}if(e)return e.startTime;const t=new Date;return t.setHours(0,0,0,0),t}let a=o(r,t.trim(),!0);if(a.isValid())return n&&(a=a.add(1,"d")),a.toDate();let s=o(e);const[l,u]=ce(r);if(!Number.isNaN(l)){const e=s.add(l,u);e.isValid()&&(s=e)}return s.toDate()}),"getEndDate"),de=0,fe=(0,i.K2)((function(e){return void 0===e?"task"+(de+=1):e}),"parseId"),pe=(0,i.K2)((function(e,t){let r;r=":"===t.substr(0,1)?t.substr(1,t.length):t;const n=r.split(","),i={};Se(n,i,_);for(let e=0;e<n.length;e++)n[e]=n[e].trim();let a="";switch(n.length){case 1:i.id=fe(),i.startTime=e.endTime,a=n[0];break;case 2:i.id=fe(),i.startTime=ue(void 0,m,n[0]),a=n[1];break;case 3:i.id=fe(n[0]),i.startTime=ue(void 0,m,n[1]),a=n[2]}return a&&(i.endTime=he(i.startTime,m,a,S),i.manualEndTime=o(a,"YYYY-MM-DD",!0).isValid(),se(i,m,w,x)),i}),"compileData"),ge=(0,i.K2)((function(e,t){let r;r=":"===t.substr(0,1)?t.substr(1,t.length):t;const n=r.split(","),i={};Se(n,i,_);for(let e=0;e<n.length;e++)n[e]=n[e].trim();switch(n.length){case 1:i.id=fe(),i.startTime={type:"prevTaskEnd",id:e},i.endTime={data:n[0]};break;case 2:i.id=fe(),i.startTime={type:"getStartDate",startData:n[0]},i.endTime={data:n[1]};break;case 3:i.id=fe(n[0]),i.startTime={type:"getStartDate",startData:n[1]},i.endTime={data:n[2]}}return i}),"parseData"),me=[],ye={},ve=(0,i.K2)((function(e,t){const r={section:A,type:A,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:t},task:e,classes:[]},n=ge(p,t);r.raw.startTime=n.startTime,r.raw.endTime=n.endTime,r.id=n.id,r.prevTaskId=p,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,r.order=N,N++;const i=me.push(r);p=r.id,ye[r.id]=i-1}),"addTask"),be=(0,i.K2)((function(e){const t=ye[e];return me[t]}),"findTaskById"),xe=(0,i.K2)((function(e,t){const r={section:A,type:A,description:e,task:e,classes:[]},n=pe(f,t);r.startTime=n.startTime,r.endTime=n.endTime,r.id=n.id,r.active=n.active,r.done=n.done,r.crit=n.crit,r.milestone=n.milestone,f=r,E.push(r)}),"addTaskOrg"),we=(0,i.K2)((function(){const e=(0,i.K2)((function(e){const t=me[e];let r="";switch(me[e].raw.startTime.type){case"prevTaskEnd":{const e=be(t.prevTaskId);t.startTime=e.endTime;break}case"getStartDate":r=ue(void 0,m,me[e].raw.startTime.startData),r&&(me[e].startTime=r)}return me[e].startTime&&(me[e].endTime=he(me[e].startTime,m,me[e].raw.endTime.data,S),me[e].endTime&&(me[e].processed=!0,me[e].manualEndTime=o(me[e].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),se(me[e],m,w,x))),me[e].processed}),"compileTask");let t=!0;for(const[r,n]of me.entries())e(r),t=t&&n.processed;return t}),"compileTasks"),De=(0,i.K2)((function(e,t){let r=t;"loose"!==(0,i.D7)().securityLevel&&(r=(0,a.J)(t)),e.split(",").forEach((function(e){void 0!==be(e)&&(Ae(e,(()=>{window.open(r,"_self")})),D.set(e,r))})),ke(e,"clickable")}),"setLink"),ke=(0,i.K2)((function(e,t){e.split(",").forEach((function(e){let r=be(e);void 0!==r&&r.classes.push(t)}))}),"setClass"),Ee=(0,i.K2)((function(e,t,r){if("loose"!==(0,i.D7)().securityLevel)return;if(void 0===t)return;let a=[];if("string"==typeof r){a=r.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let e=0;e<a.length;e++){let t=a[e].trim();t.startsWith('"')&&t.endsWith('"')&&(t=t.substr(1,t.length-2)),a[e]=t}}0===a.length&&a.push(e),void 0!==be(e)&&Ae(e,(()=>{n._K.runFunc(t,...a)}))}),"setClickFun"),Ae=(0,i.K2)((function(e,t){T.push((function(){const r=document.querySelector(`[id="${e}"]`);null!==r&&r.addEventListener("click",(function(){t()}))}),(function(){const r=document.querySelector(`[id="${e}-text"]`);null!==r&&r.addEventListener("click",(function(){t()}))}))}),"pushFun"),Ce=(0,i.K2)((function(e,t,r){e.split(",").forEach((function(e){Ee(e,t,r)})),ke(e,"clickable")}),"setClickEvent"),_e=(0,i.K2)((function(e){T.forEach((function(t){t(e)}))}),"bindFunctions"),Te={getConfig:(0,i.K2)((()=>(0,i.D7)().gantt),"getConfig"),clear:L,setDateFormat:j,getDateFormat:V,enableInclusiveEndDates:K,endDatesAreInclusive:q,enableTopAxis:U,topAxisEnabled:H,setAxisFormat:I,getAxisFormat:R,setTickInterval:M,getTickInterval:P,setTodayMarker:z,getTodayMarker:$,setAccTitle:i.SV,getAccTitle:i.iN,setDiagramTitle:i.ke,getDiagramTitle:i.ab,setDisplayMode:W,getDisplayMode:G,setAccDescription:i.EI,getAccDescription:i.m7,addSection:ee,getSections:te,getTasks:re,addTask:ve,findTaskById:be,addTaskOrg:xe,setIncludes:Y,getIncludes:X,setExcludes:Z,getExcludes:Q,setClickEvent:Ce,setLink:De,getLinks:J,bindFunctions:_e,parseDuration:ce,isInvalidDate:ne,setWeekday:ie,getWeekday:ae,setWeekend:oe};function Se(e,t,r){let n=!0;for(;n;)n=!1,r.forEach((function(r){const i=new RegExp("^\\s*"+r+"\\s*$");e[0].match(i)&&(t[r]=!0,e.shift(1),n=!0)}))}(0,i.K2)(Se,"getTaskTags");var Fe,Oe=(0,i.K2)((function(){i.Rm.debug("Something is calling, setConf, remove the call")}),"setConf"),Be={monday:c.ABi,tuesday:c.PGu,wednesday:c.GuW,thursday:c.Mol,friday:c.TUC,saturday:c.rGn,sunday:c.YPH},Ne=(0,i.K2)(((e,t)=>{let r=[...e].map((()=>-1/0)),n=[...e].sort(((e,t)=>e.startTime-t.startTime||e.order-t.order)),i=0;for(const e of n)for(let n=0;n<r.length;n++)if(e.startTime>=r[n]){r[n]=e.endTime,e.order=n+t,n>i&&(i=n);break}return i}),"getMaxIntersections"),Le={parser:d,db:Te,renderer:{setConf:Oe,draw:(0,i.K2)((function(e,t,r,n){const a=(0,i.D7)().gantt,s=(0,i.D7)().securityLevel;let l;"sandbox"===s&&(l=(0,c.Ltv)("#i"+t));const u="sandbox"===s?(0,c.Ltv)(l.nodes()[0].contentDocument.body):(0,c.Ltv)("body"),h="sandbox"===s?l.nodes()[0].contentDocument:document,d=h.getElementById(t);void 0===(Fe=d.parentElement.offsetWidth)&&(Fe=1200),void 0!==a.useWidth&&(Fe=a.useWidth);const f=n.db.getTasks();let p=[];for(const e of f)p.push(e.type);p=C(p);const g={};let m=2*a.topPadding;if("compact"===n.db.getDisplayMode()||"compact"===a.displayMode){const e={};for(const t of f)void 0===e[t.section]?e[t.section]=[t]:e[t.section].push(t);let t=0;for(const r of Object.keys(e)){const n=Ne(e[r],t)+1;t+=n,m+=n*(a.barHeight+a.barGap),g[r]=n}}else{m+=f.length*(a.barHeight+a.barGap);for(const e of p)g[e]=f.filter((t=>t.type===e)).length}d.setAttribute("viewBox","0 0 "+Fe+" "+m);const y=u.select(`[id="${t}"]`),v=(0,c.w7C)().domain([(0,c.jkA)(f,(function(e){return e.startTime})),(0,c.T9B)(f,(function(e){return e.endTime}))]).rangeRound([0,Fe-a.leftPadding-a.rightPadding]);function b(e,t){const r=e.startTime,n=t.startTime;let i=0;return r>n?i=1:r<n&&(i=-1),i}function x(e,t,r){const i=a.barHeight,o=i+a.barGap,s=a.topPadding,l=a.leftPadding;(0,c.m4Y)().domain([0,p.length]).range(["#00B9FA","#F95002"]).interpolate(c.bEH);D(o,s,l,0,r,e,n.db.getExcludes(),n.db.getIncludes()),k(l,s,0,r),w(e,o,s,l,i,0,t),E(o,s),A(l,0,0,r)}function w(e,r,o,s,l,u,h){const d=[...new Set(e.map((e=>e.order)))].map((t=>e.find((e=>e.order===t))));y.append("g").selectAll("rect").data(d).enter().append("rect").attr("x",0).attr("y",(function(e,t){return e.order*r+o-2})).attr("width",(function(){return h-a.rightPadding/2})).attr("height",r).attr("class",(function(e){for(const[t,r]of p.entries())if(e.type===r)return"section section"+t%a.numberSectionStyles;return"section section0"}));const f=y.append("g").selectAll("rect").data(e).enter(),g=n.db.getLinks();if(f.append("rect").attr("id",(function(e){return e.id})).attr("rx",3).attr("ry",3).attr("x",(function(e){return e.milestone?v(e.startTime)+s+.5*(v(e.endTime)-v(e.startTime))-.5*l:v(e.startTime)+s})).attr("y",(function(e,t){return e.order*r+o})).attr("width",(function(e){return e.milestone?l:v(e.renderEndTime||e.endTime)-v(e.startTime)})).attr("height",l).attr("transform-origin",(function(e,t){return t=e.order,(v(e.startTime)+s+.5*(v(e.endTime)-v(e.startTime))).toString()+"px "+(t*r+o+.5*l).toString()+"px"})).attr("class",(function(e){let t="";e.classes.length>0&&(t=e.classes.join(" "));let r=0;for(const[t,n]of p.entries())e.type===n&&(r=t%a.numberSectionStyles);let n="";return e.active?e.crit?n+=" activeCrit":n=" active":e.done?n=e.crit?" doneCrit":" done":e.crit&&(n+=" crit"),0===n.length&&(n=" task"),e.milestone&&(n=" milestone "+n),n+=r,n+=" "+t,"task"+n})),f.append("text").attr("id",(function(e){return e.id+"-text"})).text((function(e){return e.task})).attr("font-size",a.fontSize).attr("x",(function(e){let t=v(e.startTime),r=v(e.renderEndTime||e.endTime);e.milestone&&(t+=.5*(v(e.endTime)-v(e.startTime))-.5*l),e.milestone&&(r=t+l);const n=this.getBBox().width;return n>r-t?r+n+1.5*a.leftPadding>h?t+s-5:r+s+5:(r-t)/2+t+s})).attr("y",(function(e,t){return e.order*r+a.barHeight/2+(a.fontSize/2-2)+o})).attr("text-height",l).attr("class",(function(e){const t=v(e.startTime);let r=v(e.endTime);e.milestone&&(r=t+l);const n=this.getBBox().width;let i="";e.classes.length>0&&(i=e.classes.join(" "));let o=0;for(const[t,r]of p.entries())e.type===r&&(o=t%a.numberSectionStyles);let s="";return e.active&&(s=e.crit?"activeCritText"+o:"activeText"+o),e.done?s=e.crit?s+" doneCritText"+o:s+" doneText"+o:e.crit&&(s=s+" critText"+o),e.milestone&&(s+=" milestoneText"),n>r-t?r+n+1.5*a.leftPadding>h?i+" taskTextOutsideLeft taskTextOutside"+o+" "+s:i+" taskTextOutsideRight taskTextOutside"+o+" "+s+" width-"+n:i+" taskText taskText"+o+" "+s+" width-"+n})),"sandbox"===(0,i.D7)().securityLevel){let e;e=(0,c.Ltv)("#i"+t);const r=e.nodes()[0].contentDocument;f.filter((function(e){return g.has(e.id)})).each((function(e){var t=r.querySelector("#"+e.id),n=r.querySelector("#"+e.id+"-text");const i=t.parentNode;var a=r.createElement("a");a.setAttribute("xlink:href",g.get(e.id)),a.setAttribute("target","_top"),i.appendChild(a),a.appendChild(t),a.appendChild(n)}))}}function D(e,t,r,s,l,u,c,h){if(0===c.length&&0===h.length)return;let d,f;for(const{startTime:e,endTime:t}of u)(void 0===d||e<d)&&(d=e),(void 0===f||t>f)&&(f=t);if(!d||!f)return;if(o(f).diff(o(d),"year")>5)return void i.Rm.warn("The difference between the min and max time is more than 5 years. This will cause performance issues. Skipping drawing exclude days.");const p=n.db.getDateFormat(),g=[];let m=null,b=o(d);for(;b.valueOf()<=f;)n.db.isInvalidDate(b,p,c,h)?m?m.end=b:m={start:b,end:b}:m&&(g.push(m),m=null),b=b.add(1,"d");y.append("g").selectAll("rect").data(g).enter().append("rect").attr("id",(function(e){return"exclude-"+e.start.format("YYYY-MM-DD")})).attr("x",(function(e){return v(e.start)+r})).attr("y",a.gridLineStartPadding).attr("width",(function(e){const t=e.end.add(1,"day");return v(t)-v(e.start)})).attr("height",l-t-a.gridLineStartPadding).attr("transform-origin",(function(t,n){return(v(t.start)+r+.5*(v(t.end)-v(t.start))).toString()+"px "+(n*e+.5*l).toString()+"px"})).attr("class","exclude-range")}function k(e,t,r,i){let o=(0,c.l78)(v).tickSize(-i+t+a.gridLineStartPadding).tickFormat((0,c.DCK)(n.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));const s=/^([1-9]\d*)(millisecond|second|minute|hour|day|week|month)$/.exec(n.db.getTickInterval()||a.tickInterval);if(null!==s){const e=s[1],t=s[2],r=n.db.getWeekday()||a.weekday;switch(t){case"millisecond":o.ticks(c.t6C.every(e));break;case"second":o.ticks(c.ucG.every(e));break;case"minute":o.ticks(c.wXd.every(e));break;case"hour":o.ticks(c.Agd.every(e));break;case"day":o.ticks(c.UAC.every(e));break;case"week":o.ticks(Be[r].every(e));break;case"month":o.ticks(c.Ui6.every(e))}}if(y.append("g").attr("class","grid").attr("transform","translate("+e+", "+(i-50)+")").call(o).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),n.db.topAxisEnabled()||a.topAxis){let r=(0,c.tlR)(v).tickSize(-i+t+a.gridLineStartPadding).tickFormat((0,c.DCK)(n.db.getAxisFormat()||a.axisFormat||"%Y-%m-%d"));if(null!==s){const e=s[1],t=s[2],i=n.db.getWeekday()||a.weekday;switch(t){case"millisecond":r.ticks(c.t6C.every(e));break;case"second":r.ticks(c.ucG.every(e));break;case"minute":r.ticks(c.wXd.every(e));break;case"hour":r.ticks(c.Agd.every(e));break;case"day":r.ticks(c.UAC.every(e));break;case"week":r.ticks(Be[i].every(e));break;case"month":r.ticks(c.Ui6.every(e))}}y.append("g").attr("class","grid").attr("transform","translate("+e+", "+t+")").call(r).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function E(e,t){let r=0;const n=Object.keys(g).map((e=>[e,g[e]]));y.append("g").selectAll("text").data(n).enter().append((function(e){const t=e[0].split(i.Y2.lineBreakRegex),r=-(t.length-1)/2,n=h.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("dy",r+"em");for(const[e,r]of t.entries()){const t=h.createElementNS("http://www.w3.org/2000/svg","tspan");t.setAttribute("alignment-baseline","central"),t.setAttribute("x","10"),e>0&&t.setAttribute("dy","1em"),t.textContent=r,n.appendChild(t)}return n})).attr("x",10).attr("y",(function(i,a){if(!(a>0))return i[1]*e/2+t;for(let o=0;o<a;o++)return r+=n[a-1][1],i[1]*e/2+r*e+t})).attr("font-size",a.sectionFontSize).attr("class",(function(e){for(const[t,r]of p.entries())if(e[0]===r)return"sectionTitle sectionTitle"+t%a.numberSectionStyles;return"sectionTitle"}))}function A(e,t,r,i){const o=n.db.getTodayMarker();if("off"===o)return;const s=y.append("g").attr("class","today"),l=new Date,u=s.append("line");u.attr("x1",v(l)+e).attr("x2",v(l)+e).attr("y1",a.titleTopMargin).attr("y2",i-a.titleTopMargin).attr("class","today"),""!==o&&u.attr("style",o.replace(/,/g,";"))}function C(e){const t={},r=[];for(let n=0,i=e.length;n<i;++n)Object.prototype.hasOwnProperty.call(t,e[n])||(t[e[n]]=!0,r.push(e[n]));return r}(0,i.K2)(b,"taskCompare"),f.sort(b),x(f,Fe,m),(0,i.a$)(y,m,Fe,a.useMaxWidth),y.append("text").text(n.db.getDiagramTitle()).attr("x",Fe/2).attr("y",a.titleTopMargin).attr("class","titleText"),(0,i.K2)(x,"makeGantt"),(0,i.K2)(w,"drawRects"),(0,i.K2)(D,"drawExcludeDays"),(0,i.K2)(k,"makeGrid"),(0,i.K2)(E,"vertLabels"),(0,i.K2)(A,"drawToday"),(0,i.K2)(C,"checkUnique")}),"draw")},styles:(0,i.K2)((e=>`\n  .mermaid-main-font {\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n\n  .exclude-range {\n    fill: ${e.excludeBkgColor};\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ${e.sectionBkgColor};\n  }\n\n  .section2 {\n    fill: ${e.sectionBkgColor2};\n  }\n\n  .section1,\n  .section3 {\n    fill: ${e.altSectionBkgColor};\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ${e.titleColor};\n  }\n\n  .sectionTitle1 {\n    fill: ${e.titleColor};\n  }\n\n  .sectionTitle2 {\n    fill: ${e.titleColor};\n  }\n\n  .sectionTitle3 {\n    fill: ${e.titleColor};\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ${e.gridColor};\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n  }\n\n  .grid .tick text {\n    font-family: ${e.fontFamily};\n    fill: ${e.textColor};\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ${e.todayLineColor};\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n\n  .taskTextOutsideRight {\n    fill: ${e.taskTextDarkColor};\n    text-anchor: start;\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n\n  .taskTextOutsideLeft {\n    fill: ${e.taskTextDarkColor};\n    text-anchor: end;\n  }\n\n\n  /* Special case clickable */\n\n  .task.clickable {\n    cursor: pointer;\n  }\n\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ${e.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ${e.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ${e.taskTextClickableColor} !important;\n    font-weight: bold;\n  }\n\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ${e.taskTextColor};\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ${e.taskBkgColor};\n    stroke: ${e.taskBorderColor};\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ${e.taskTextOutsideColor};\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ${e.taskTextOutsideColor};\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ${e.activeTaskBkgColor};\n    stroke: ${e.activeTaskBorderColor};\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ${e.taskTextDarkColor} !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ${e.doneTaskBorderColor};\n    fill: ${e.doneTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ${e.taskTextDarkColor} !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ${e.critBorderColor};\n    fill: ${e.critBkgColor};\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ${e.critBorderColor};\n    fill: ${e.activeTaskBkgColor};\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ${e.critBorderColor};\n    fill: ${e.doneTaskBkgColor};\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ${e.taskTextDarkColor} !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ${e.taskTextDarkColor} !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${e.titleColor||e.textColor};\n    font-family: var(--mermaid-font-family, "trebuchet ms", verdana, arial, sans-serif);\n  }\n`),"getStyles")}},5978:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>ve});var n=r(3933),i=r(8160),a=r(8159),o=r(7692),s=r(8731),l=r(5763),u={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},c=o.UI.gitGraph,h=(0,o.K2)((()=>(0,a.$t)({...c,...(0,o.zj)().gitGraph})),"getConfig"),d=new i.m((()=>{const e=h(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}}));function f(){return(0,a.yT)({length:7})}function p(e,t){const r=Object.create(null);return e.reduce(((e,n)=>{const i=t(n);return r[i]||(r[i]=!0,e.push(n)),e}),[])}(0,o.K2)(f,"getID"),(0,o.K2)(p,"uniqBy");var g=(0,o.K2)((function(e){d.records.direction=e}),"setDirection"),m=(0,o.K2)((function(e){o.Rm.debug("options str",e),e=e?.trim(),e=e||"{}";try{d.records.options=JSON.parse(e)}catch(e){o.Rm.error("error while parsing gitGraph options",e.message)}}),"setOptions"),y=(0,o.K2)((function(){return d.records.options}),"getOptions"),v=(0,o.K2)((function(e){let t=e.msg,r=e.id;const n=e.type;let i=e.tags;o.Rm.info("commit",t,r,n,i),o.Rm.debug("Entering commit:",t,r,n,i);const a=h();r=o.Y2.sanitizeText(r,a),t=o.Y2.sanitizeText(t,a),i=i?.map((e=>o.Y2.sanitizeText(e,a)));const s={id:r||d.records.seq+"-"+f(),message:t,seq:d.records.seq++,type:n??u.NORMAL,tags:i??[],parents:null==d.records.head?[]:[d.records.head.id],branch:d.records.currBranch};d.records.head=s,o.Rm.info("main branch",a.mainBranchName),d.records.commits.set(s.id,s),d.records.branches.set(d.records.currBranch,s.id),o.Rm.debug("in pushCommit "+s.id)}),"commit"),b=(0,o.K2)((function(e){let t=e.name;const r=e.order;if(t=o.Y2.sanitizeText(t,h()),d.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);d.records.branches.set(t,null!=d.records.head?d.records.head.id:null),d.records.branchConfig.set(t,{name:t,order:r}),D(t),o.Rm.debug("in createBranch")}),"branch"),x=(0,o.K2)((e=>{let t=e.branch,r=e.id;const n=e.type,i=e.tags,a=h();t=o.Y2.sanitizeText(t,a),r&&(r=o.Y2.sanitizeText(r,a));const s=d.records.branches.get(d.records.currBranch),l=d.records.branches.get(t),c=s?d.records.commits.get(s):void 0,p=l?d.records.commits.get(l):void 0;if(c&&p&&c.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(d.records.currBranch===t){const e=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},e}if(void 0===c||!c){const e=new Error(`Incorrect usage of "merge". Current branch (${d.records.currBranch})has no commits`);throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},e}if(!d.records.branches.has(t)){const e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},e}if(void 0===p||!p){const e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},e}if(c===p){const e=new Error('Incorrect usage of "merge". Both branches have same head');throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},e}if(r&&d.records.commits.has(r)){const e=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw e.hash={text:`merge ${t} ${r} ${n} ${i?.join(" ")}`,token:`merge ${t} ${r} ${n} ${i?.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${n} ${i?.join(" ")}`]},e}const g=l||"",m={id:r||`${d.records.seq}-${f()}`,message:`merged branch ${t} into ${d.records.currBranch}`,seq:d.records.seq++,parents:null==d.records.head?[]:[d.records.head.id,g],branch:d.records.currBranch,type:u.MERGE,customType:n,customId:!!r,tags:i??[]};d.records.head=m,d.records.commits.set(m.id,m),d.records.branches.set(d.records.currBranch,m.id),o.Rm.debug(d.records.branches),o.Rm.debug("in mergeBranch")}),"merge"),w=(0,o.K2)((function(e){let t=e.id,r=e.targetId,n=e.tags,i=e.parent;o.Rm.debug("Entering cherryPick:",t,r,n);const a=h();if(t=o.Y2.sanitizeText(t,a),r=o.Y2.sanitizeText(r,a),n=n?.map((e=>o.Y2.sanitizeText(e,a))),i=o.Y2.sanitizeText(i,a),!t||!d.records.commits.has(t)){const e=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw e.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},e}const s=d.records.commits.get(t);if(void 0===s||!s)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(i&&(!Array.isArray(s.parents)||!s.parents.includes(i)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");const l=s.branch;if(s.type===u.MERGE&&!i)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!d.records.commits.has(r)){if(l===d.records.currBranch){const e=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw e.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},e}const e=d.records.branches.get(d.records.currBranch);if(void 0===e||!e){const e=new Error(`Incorrect usage of "cherry-pick". Current branch (${d.records.currBranch})has no commits`);throw e.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},e}const a=d.records.commits.get(e);if(void 0===a||!a){const e=new Error(`Incorrect usage of "cherry-pick". Current branch (${d.records.currBranch})has no commits`);throw e.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},e}const c={id:d.records.seq+"-"+f(),message:`cherry-picked ${s?.message} into ${d.records.currBranch}`,seq:d.records.seq++,parents:null==d.records.head?[]:[d.records.head.id,s.id],branch:d.records.currBranch,type:u.CHERRY_PICK,tags:n?n.filter(Boolean):[`cherry-pick:${s.id}${s.type===u.MERGE?`|parent:${i}`:""}`]};d.records.head=c,d.records.commits.set(c.id,c),d.records.branches.set(d.records.currBranch,c.id),o.Rm.debug(d.records.branches),o.Rm.debug("in cherryPick")}}),"cherryPick"),D=(0,o.K2)((function(e){if(e=o.Y2.sanitizeText(e,h()),!d.records.branches.has(e)){const t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}{d.records.currBranch=e;const t=d.records.branches.get(d.records.currBranch);d.records.head=void 0!==t&&t?d.records.commits.get(t)??null:null}}),"checkout");function k(e,t,r){const n=e.indexOf(t);-1===n?e.push(r):e.splice(n,1,r)}function E(e){const t=e.reduce(((e,t)=>e.seq>t.seq?e:t),e[0]);let r="";e.forEach((function(e){r+=e===t?"\t*":"\t|"}));const n=[r,t.id,t.seq];for(const e in d.records.branches)d.records.branches.get(e)===t.id&&n.push(e);if(o.Rm.debug(n.join(" ")),t.parents&&2==t.parents.length&&t.parents[0]&&t.parents[1]){const r=d.records.commits.get(t.parents[0]);k(e,t,r),t.parents[1]&&e.push(d.records.commits.get(t.parents[1]))}else{if(0==t.parents.length)return;if(t.parents[0]){const r=d.records.commits.get(t.parents[0]);k(e,t,r)}}E(e=p(e,(e=>e.id)))}(0,o.K2)(k,"upsert"),(0,o.K2)(E,"prettyPrintCommitHistory");var A=(0,o.K2)((function(){o.Rm.debug(d.records.commits),E([F()[0]])}),"prettyPrint"),C=(0,o.K2)((function(){d.reset(),(0,o.IU)()}),"clear"),_=(0,o.K2)((function(){return[...d.records.branchConfig.values()].map(((e,t)=>null!==e.order&&void 0!==e.order?e:{...e,order:parseFloat(`0.${t}`)})).sort(((e,t)=>(e.order??0)-(t.order??0))).map((({name:e})=>({name:e})))}),"getBranchesAsObjArray"),T=(0,o.K2)((function(){return d.records.branches}),"getBranches"),S=(0,o.K2)((function(){return d.records.commits}),"getCommits"),F=(0,o.K2)((function(){const e=[...d.records.commits.values()];return e.forEach((function(e){o.Rm.debug(e.id)})),e.sort(((e,t)=>e.seq-t.seq)),e}),"getCommitsArray"),O={commitType:u,getConfig:h,setDirection:g,setOptions:m,getOptions:y,commit:v,branch:b,merge:x,cherryPick:w,checkout:D,prettyPrint:A,clear:C,getBranchesAsObjArray:_,getBranches:T,getCommits:S,getCommitsArray:F,getCurrentBranch:(0,o.K2)((function(){return d.records.currBranch}),"getCurrentBranch"),getDirection:(0,o.K2)((function(){return d.records.direction}),"getDirection"),getHead:(0,o.K2)((function(){return d.records.head}),"getHead"),setAccTitle:o.SV,getAccTitle:o.iN,getAccDescription:o.m7,setAccDescription:o.EI,setDiagramTitle:o.ke,getDiagramTitle:o.ab},B=(0,o.K2)(((e,t)=>{(0,n.S)(e,t),e.dir&&t.setDirection(e.dir);for(const r of e.statements)N(r,t)}),"populate"),N=(0,o.K2)(((e,t)=>{const r={Commit:(0,o.K2)((e=>t.commit(L(e))),"Commit"),Branch:(0,o.K2)((e=>t.branch(I(e))),"Branch"),Merge:(0,o.K2)((e=>t.merge(R(e))),"Merge"),Checkout:(0,o.K2)((e=>t.checkout(M(e))),"Checkout"),CherryPicking:(0,o.K2)((e=>t.cherryPick(P(e))),"CherryPicking")}[e.$type];r?r(e):o.Rm.error(`Unknown statement type: ${e.$type}`)}),"parseStatement"),L=(0,o.K2)((e=>({id:e.id,msg:e.message??"",type:void 0!==e.type?u[e.type]:u.NORMAL,tags:e.tags??void 0})),"parseCommit"),I=(0,o.K2)((e=>({name:e.name,order:e.order??0})),"parseBranch"),R=(0,o.K2)((e=>({branch:e.branch,id:e.id??"",type:void 0!==e.type?u[e.type]:void 0,tags:e.tags??void 0})),"parseMerge"),M=(0,o.K2)((e=>e.branch),"parseCheckout"),P=(0,o.K2)((e=>({id:e.id,targetId:"",tags:0===e.tags?.length?void 0:e.tags,parent:e.parent})),"parseCherryPicking"),z={parse:(0,o.K2)((async e=>{const t=await(0,s.qg)("gitGraph",e);o.Rm.debug(t),B(t,O)}),"parse")},$=(0,o.D7)(),j=$?.gitGraph,K=10,q=40,U=new Map,H=new Map,W=new Map,G=[],V=0,Y="LR",X=(0,o.K2)((()=>{U.clear(),H.clear(),W.clear(),V=0,G=[],Y="LR"}),"clear"),Z=(0,o.K2)((e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","text");return("string"==typeof e?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach((e=>{const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.setAttribute("dy","1em"),r.setAttribute("x","0"),r.setAttribute("class","row"),r.textContent=e.trim(),t.appendChild(r)})),t}),"drawText"),Q=(0,o.K2)((e=>{let t,r,n;return"BT"===Y?(r=(0,o.K2)(((e,t)=>e<=t),"comparisonFunc"),n=1/0):(r=(0,o.K2)(((e,t)=>e>=t),"comparisonFunc"),n=0),e.forEach((e=>{const i="TB"===Y||"BT"==Y?H.get(e)?.y:H.get(e)?.x;void 0!==i&&r(i,n)&&(t=e,n=i)})),t}),"findClosestParent"),J=(0,o.K2)((e=>{let t="",r=1/0;return e.forEach((e=>{const n=H.get(e).y;n<=r&&(t=e,r=n)})),t||void 0}),"findClosestParentBT"),ee=(0,o.K2)(((e,t,r)=>{let n=r,i=r;const a=[];e.forEach((e=>{const r=t.get(e);if(!r)throw new Error(`Commit not found for key ${e}`);r.parents.length?(n=re(r),i=Math.max(n,i)):a.push(r),ne(r,n)})),n=i,a.forEach((e=>{ie(e,n,r)})),e.forEach((e=>{const r=t.get(e);if(r?.parents.length){const e=J(r.parents);n=H.get(e).y-q,n<=i&&(i=n);const t=U.get(r.branch).pos,a=n-K;H.set(r.id,{x:t,y:a})}}))}),"setParallelBTPos"),te=(0,o.K2)((e=>{const t=Q(e.parents.filter((e=>null!==e)));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);const r=H.get(t)?.y;if(void 0===r)throw new Error(`Closest parent position not found for commit ${e.id}`);return r}),"findClosestParentPos"),re=(0,o.K2)((e=>te(e)+q),"calculateCommitPosition"),ne=(0,o.K2)(((e,t)=>{const r=U.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);const n=r.pos,i=t+K;return H.set(e.id,{x:n,y:i}),{x:n,y:i}}),"setCommitPosition"),ie=(0,o.K2)(((e,t,r)=>{const n=U.get(e.branch);if(!n)throw new Error(`Branch not found for commit ${e.id}`);const i=t+r,a=n.pos;H.set(e.id,{x:a,y:i})}),"setRootPosition"),ae=(0,o.K2)(((e,t,r,n,i,a)=>{if(a===u.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${i%8} ${n}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${i%8} ${n}-inner`);else if(a===u.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${n}`);else{const o=e.append("circle");if(o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",t.type===u.MERGE?9:10),o.attr("class",`commit ${t.id} commit${i%8}`),a===u.MERGE){const a=e.append("circle");a.attr("cx",r.x),a.attr("cy",r.y),a.attr("r",6),a.attr("class",`commit ${n} ${t.id} commit${i%8}`)}a===u.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${n} ${t.id} commit${i%8}`)}}),"drawCommitBullet"),oe=(0,o.K2)(((e,t,r,n)=>{if(t.type!==u.CHERRY_PICK&&(t.customId&&t.type===u.MERGE||t.type!==u.MERGE)&&j?.showCommitLabel){const i=e.append("g"),a=i.insert("rect").attr("class","commit-label-bkg"),o=i.append("text").attr("x",n).attr("y",r.y+25).attr("class","commit-label").text(t.id),s=o.node()?.getBBox();if(s&&(a.attr("x",r.posWithOffset-s.width/2-2).attr("y",r.y+13.5).attr("width",s.width+4).attr("height",s.height+4),"TB"===Y||"BT"===Y?(a.attr("x",r.x-(s.width+16+5)).attr("y",r.y-12),o.attr("x",r.x-(s.width+16)).attr("y",r.y+s.height-12)):o.attr("x",r.posWithOffset-s.width/2),j.rotateCommitLabel))if("TB"===Y||"BT"===Y)o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),a.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{const e=-7.5-(s.width+10)/25*9.5,t=10+s.width/25*8.5;i.attr("transform","translate("+e+", "+t+") rotate(-45, "+n+", "+r.y+")")}}}),"drawCommitLabel"),se=(0,o.K2)(((e,t,r,n)=>{if(t.tags.length>0){let i=0,a=0,o=0;const s=[];for(const n of t.tags.reverse()){const t=e.insert("polygon"),l=e.append("circle"),u=e.append("text").attr("y",r.y-16-i).attr("class","tag-label").text(n),c=u.node()?.getBBox();if(!c)throw new Error("Tag bbox not found");a=Math.max(a,c.width),o=Math.max(o,c.height),u.attr("x",r.posWithOffset-c.width/2),s.push({tag:u,hole:l,rect:t,yOffset:i}),i+=20}for(const{tag:e,hole:t,rect:i,yOffset:l}of s){const s=o/2,u=r.y-19.2-l;if(i.attr("class","tag-label-bkg").attr("points",`\n      ${n-a/2-2},${u+2}  \n      ${n-a/2-2},${u-2}\n      ${r.posWithOffset-a/2-4},${u-s-2}\n      ${r.posWithOffset+a/2+4},${u-s-2}\n      ${r.posWithOffset+a/2+4},${u+s+2}\n      ${r.posWithOffset-a/2-4},${u+s+2}`),t.attr("cy",u).attr("cx",n-a/2+2).attr("r",1.5).attr("class","tag-hole"),"TB"===Y||"BT"===Y){const o=n+l;i.attr("class","tag-label-bkg").attr("points",`\n        ${r.x},${o+2}\n        ${r.x},${o-2}\n        ${r.x+K},${o-s-2}\n        ${r.x+K+a+4},${o-s-2}\n        ${r.x+K+a+4},${o+s+2}\n        ${r.x+K},${o+s+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),t.attr("cx",r.x+2).attr("cy",o).attr("transform","translate(12,12) rotate(45, "+r.x+","+n+")"),e.attr("x",r.x+5).attr("y",o+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+n+")")}}}}),"drawCommitTags"),le=(0,o.K2)((e=>{switch(e.customType??e.type){case u.NORMAL:return"commit-normal";case u.REVERSE:return"commit-reverse";case u.HIGHLIGHT:return"commit-highlight";case u.MERGE:return"commit-merge";case u.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}}),"getCommitClassType"),ue=(0,o.K2)(((e,t,r,n)=>{const i={x:0,y:0};if(!(e.parents.length>0))return"TB"===t?30:"BT"===t?(n.get(e.id)??i).y-q:0;{const r=Q(e.parents);if(r){const a=n.get(r)??i;return"TB"===t?a.y+q:"BT"===t?(n.get(e.id)??i).y-q:a.x+q}}return 0}),"calculatePosition"),ce=(0,o.K2)(((e,t,r)=>{const n="BT"===Y&&r?t:t+K,i="TB"===Y||"BT"===Y?n:U.get(e.branch)?.pos,a="TB"===Y||"BT"===Y?U.get(e.branch)?.pos:n;if(void 0===a||void 0===i)throw new Error(`Position were undefined for commit ${e.id}`);return{x:a,y:i,posWithOffset:n}}),"getCommitPosition"),he=(0,o.K2)(((e,t,r)=>{if(!j)throw new Error("GitGraph config not found");const n=e.append("g").attr("class","commit-bullets"),i=e.append("g").attr("class","commit-labels");let a="TB"===Y||"BT"===Y?30:0;const s=[...t.keys()],l=j?.parallelCommits??!1,u=(0,o.K2)(((e,r)=>{const n=t.get(e)?.seq,i=t.get(r)?.seq;return void 0!==n&&void 0!==i?n-i:0}),"sortKeys");let c=s.sort(u);"BT"===Y&&(l&&ee(c,t,a),c=c.reverse()),c.forEach((e=>{const o=t.get(e);if(!o)throw new Error(`Commit not found for key ${e}`);l&&(a=ue(o,Y,a,H));const s=ce(o,a,l);if(r){const e=le(o),t=o.customType??o.type,r=U.get(o.branch)?.index??0;ae(n,o,s,e,r,t),oe(i,o,s,a),se(i,o,s,a)}"TB"===Y||"BT"===Y?H.set(o.id,{x:s.x,y:s.posWithOffset}):H.set(o.id,{x:s.posWithOffset,y:s.y}),a="BT"===Y&&l?a+q:a+q+K,a>V&&(V=a)}))}),"drawCommits"),de=(0,o.K2)(((e,t,r,n,i)=>{const a=("TB"===Y||"BT"===Y?r.x<n.x:r.y<n.y)?t.branch:e.branch,s=(0,o.K2)((e=>e.branch===a),"isOnBranchToGetCurve"),l=(0,o.K2)((r=>r.seq>e.seq&&r.seq<t.seq),"isBetweenCommits");return[...i.values()].some((e=>l(e)&&s(e)))}),"shouldRerouteArrow"),fe=(0,o.K2)(((e,t,r=0)=>{const n=e+Math.abs(e-t)/2;if(r>5)return n;if(G.every((e=>Math.abs(e-n)>=10)))return G.push(n),n;const i=Math.abs(e-t);return fe(e,t-i/5,r+1)}),"findLane"),pe=(0,o.K2)(((e,t,r,n)=>{const i=H.get(t.id),a=H.get(r.id);if(void 0===i||void 0===a)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);const o=de(t,r,i,a,n);let s,l="",c="",h=0,d=0,f=U.get(r.branch)?.index;if(r.type===u.MERGE&&t.id!==r.parents[0]&&(f=U.get(t.branch)?.index),o){l="A 10 10, 0, 0, 0,",c="A 10 10, 0, 0, 1,",h=10,d=10;const e=i.y<a.y?fe(i.y,a.y):fe(a.y,i.y),r=i.x<a.x?fe(i.x,a.x):fe(a.x,i.x);"TB"===Y?i.x<a.x?s=`M ${i.x} ${i.y} L ${r-h} ${i.y} ${c} ${r} ${i.y+d} L ${r} ${a.y-h} ${l} ${r+d} ${a.y} L ${a.x} ${a.y}`:(f=U.get(t.branch)?.index,s=`M ${i.x} ${i.y} L ${r+h} ${i.y} ${l} ${r} ${i.y+d} L ${r} ${a.y-h} ${c} ${r-d} ${a.y} L ${a.x} ${a.y}`):"BT"===Y?i.x<a.x?s=`M ${i.x} ${i.y} L ${r-h} ${i.y} ${l} ${r} ${i.y-d} L ${r} ${a.y+h} ${c} ${r+d} ${a.y} L ${a.x} ${a.y}`:(f=U.get(t.branch)?.index,s=`M ${i.x} ${i.y} L ${r+h} ${i.y} ${c} ${r} ${i.y-d} L ${r} ${a.y+h} ${l} ${r-d} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?s=`M ${i.x} ${i.y} L ${i.x} ${e-h} ${l} ${i.x+d} ${e} L ${a.x-h} ${e} ${c} ${a.x} ${e+d} L ${a.x} ${a.y}`:(f=U.get(t.branch)?.index,s=`M ${i.x} ${i.y} L ${i.x} ${e+h} ${c} ${i.x+d} ${e} L ${a.x-h} ${e} ${l} ${a.x} ${e-d} L ${a.x} ${a.y}`)}else l="A 20 20, 0, 0, 0,",c="A 20 20, 0, 0, 1,",h=20,d=20,"TB"===Y?(i.x<a.x&&(s=r.type===u.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${l} ${i.x+d} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${c} ${a.x} ${i.y+d} L ${a.x} ${a.y}`),i.x>a.x&&(l="A 20 20, 0, 0, 0,",c="A 20 20, 0, 0, 1,",h=20,d=20,s=r.type===u.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${c} ${i.x-d} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x+h} ${i.y} ${l} ${a.x} ${i.y+d} L ${a.x} ${a.y}`),i.x===a.x&&(s=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):"BT"===Y?(i.x<a.x&&(s=r.type===u.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${c} ${i.x+d} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`),i.x>a.x&&(l="A 20 20, 0, 0, 0,",c="A 20 20, 0, 0, 1,",h=20,d=20,s=r.type===u.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${l} ${i.x-d} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`),i.x===a.x&&(s=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(s=r.type===u.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${c} ${a.x} ${i.y+d} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${i.x} ${a.y-h} ${l} ${i.x+d} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(s=r.type===u.MERGE&&t.id!==r.parents[0]?`M ${i.x} ${i.y} L ${a.x-h} ${i.y} ${l} ${a.x} ${i.y-d} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${i.x} ${a.y+h} ${c} ${i.x+d} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(s=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));if(void 0===s)throw new Error("Line definition not found");e.append("path").attr("d",s).attr("class","arrow arrow"+f%8)}),"drawArrow"),ge=(0,o.K2)(((e,t)=>{const r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach((e=>{const n=t.get(e);n.parents&&n.parents.length>0&&n.parents.forEach((e=>{pe(r,t.get(e),n,t)}))}))}),"drawArrows"),me=(0,o.K2)(((e,t)=>{const r=e.append("g");t.forEach(((e,t)=>{const n=t%8,i=U.get(e.name)?.pos;if(void 0===i)throw new Error(`Position not found for branch ${e.name}`);const a=r.append("line");a.attr("x1",0),a.attr("y1",i),a.attr("x2",V),a.attr("y2",i),a.attr("class","branch branch"+n),"TB"===Y?(a.attr("y1",30),a.attr("x1",i),a.attr("y2",V),a.attr("x2",i)):"BT"===Y&&(a.attr("y1",V),a.attr("x1",i),a.attr("y2",30),a.attr("x2",i)),G.push(i);const o=e.name,s=Z(o),l=r.insert("rect"),u=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+n);u.node().appendChild(s);const c=s.getBBox();l.attr("class","branchLabelBkg label"+n).attr("rx",4).attr("ry",4).attr("x",-c.width-4-(!0===j?.rotateCommitLabel?30:0)).attr("y",-c.height/2+8).attr("width",c.width+18).attr("height",c.height+4),u.attr("transform","translate("+(-c.width-14-(!0===j?.rotateCommitLabel?30:0))+", "+(i-c.height/2-1)+")"),"TB"===Y?(l.attr("x",i-c.width/2-10).attr("y",0),u.attr("transform","translate("+(i-c.width/2-5)+", 0)")):"BT"===Y?(l.attr("x",i-c.width/2-10).attr("y",V),u.attr("transform","translate("+(i-c.width/2-5)+", "+V+")")):l.attr("transform","translate(-19, "+(i-c.height/2)+")")}))}),"drawBranches"),ye=(0,o.K2)((function(e,t,r,n,i){return U.set(e,{pos:t,index:r}),t+(50+(i?40:0)+("TB"===Y||"BT"===Y?n.width/2:0))}),"setBranchPosition"),ve={parser:z,db:O,renderer:{draw:(0,o.K2)((function(e,t,r,n){if(X(),o.Rm.debug("in gitgraph renderer",e+"\n","id:",t,r),!j)throw new Error("GitGraph config not found");const i=j.rotateCommitLabel??!1,s=n.db;W=s.getCommits();const u=s.getBranchesAsObjArray();Y=s.getDirection();const c=(0,l.Ltv)(`[id="${t}"]`);let h=0;u.forEach(((e,t)=>{const r=Z(e.name),n=c.append("g"),a=n.insert("g").attr("class","branchLabel"),o=a.insert("g").attr("class","label branch-label");o.node()?.appendChild(r);const s=r.getBBox();h=ye(e.name,h,t,s,i),o.remove(),a.remove(),n.remove()})),he(c,W,!1),j.showBranches&&me(c,u),ge(c,W),he(c,W,!0),a._K.insertTitle(c,"gitTitleText",j.titleTopMargin??0,s.getDiagramTitle()),(0,o.mj)(void 0,c,j.diagramPadding,j.useMaxWidth)}),"draw")},styles:(0,o.K2)((e=>`\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0,1,2,3,4,5,6,7].map((t=>`\n        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }\n        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }\n        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }\n        .label${t}  { fill: ${e["git"+t]}; }\n        .arrow${t} { stroke: ${e["git"+t]}; }\n        `)).join("\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${e.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}\n  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}\n  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }\n  .tag-hole { fill: ${e.textColor}; }\n\n  .commit-merge {\n    stroke: ${e.primaryColor};\n    fill: ${e.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${e.primaryColor};\n    fill: ${e.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${e.primaryColor};\n    fill: ${e.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  .gitTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${e.textColor};\n  }\n`),"getStyles")}},7354:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>u});var n=r(6144),i=r(7286),a=r(7692),o=r(8731),s={parse:(0,a.K2)((async e=>{const t=await(0,o.qg)("info",e);a.Rm.debug(t)}),"parse")},l={version:n.r},u={parser:s,db:{getVersion:(0,a.K2)((()=>l.version),"getVersion")},renderer:{draw:(0,a.K2)(((e,t,r)=>{a.Rm.debug("rendering info diagram\n"+e);const n=(0,i.D)(t);(0,a.a$)(n,100,400,!0),n.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size",32).style("text-anchor","middle").text(`v${r}`)}),"draw")}}},6237:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>H});var n=r(3814),i=r(7692),a=r(5763),o=function(){var e=(0,i.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[6,8,10,11,12,14,16,17,18],r=[1,9],n=[1,10],a=[1,11],o=[1,12],s=[1,13],l=[1,14],u={trace:(0,i.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,taskName:18,taskData:19,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",18:"taskName",19:"taskData"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,2]],performAction:(0,i.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:return a[s-1];case 2:case 6:case 7:this.$=[];break;case 3:a[s-1].push(a[s]),this.$=a[s-1];break;case 4:case 5:this.$=a[s];break;case 8:n.setDiagramTitle(a[s].substr(6)),this.$=a[s].substr(6);break;case 9:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 10:case 11:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 12:n.addSection(a[s].substr(8)),this.$=a[s].substr(8);break;case 13:n.addTask(a[s-1],a[s]),this.$="task"}}),"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:n,14:a,16:o,17:s,18:l},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:15,11:r,12:n,14:a,16:o,17:s,18:l},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,16]},{15:[1,17]},e(t,[2,11]),e(t,[2,12]),{19:[1,18]},e(t,[2,4]),e(t,[2,9]),e(t,[2,10]),e(t,[2,13])],defaultActions:{},parseError:(0,i.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,i.K2)((function(e){var t=this,r=[0],n=[],a=[null],o=[],s=this.table,l="",u=0,c=0,h=0,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,i.K2)((function(e){r.length=r.length-2*e,a.length=a.length-e,o.length=o.length-e}),"popStack"),(0,i.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),a.push(f.yytext),o.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=a[a.length-A],T._$={first_line:o[o.length-(A||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(A||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(A||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],a,o].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),a=a.slice(0,-1*A),o=o.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),a.push(T.$),o.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},c=function(){return{EOF:1,parseError:(0,i.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,i.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,i.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,i.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,i.K2)((function(){return this._more=!0,this}),"more"),reject:(0,i.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,i.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,i.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,i.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,i.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,i.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,i.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,i.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,i.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,i.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,i.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,i.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,i.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,i.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,i.K2)((function(e,t,r,n){switch(r){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 18;case 16:return 19;case 17:return":";case 18:return 6;case 19:return"INVALID"}}),"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18,19],inclusive:!0}}}}();function h(){this.yy={}}return u.lexer=c,(0,i.K2)(h,"Parser"),h.prototype=u,u.Parser=h,new h}();o.parser=o;var s=o,l="",u=[],c=[],h=[],d=(0,i.K2)((function(){u.length=0,c.length=0,l="",h.length=0,(0,i.IU)()}),"clear"),f=(0,i.K2)((function(e){l=e,u.push(e)}),"addSection"),p=(0,i.K2)((function(){return u}),"getSections"),g=(0,i.K2)((function(){let e=b(),t=0;for(;!e&&t<100;)e=b(),t++;return c.push(...h),c}),"getTasks"),m=(0,i.K2)((function(){const e=[];return c.forEach((t=>{t.people&&e.push(...t.people)})),[...new Set(e)].sort()}),"updateActors"),y=(0,i.K2)((function(e,t){const r=t.substr(1).split(":");let n=0,i=[];1===r.length?(n=Number(r[0]),i=[]):(n=Number(r[0]),i=r[1].split(","));const a=i.map((e=>e.trim())),o={section:l,type:l,people:a,task:e,score:n};h.push(o)}),"addTask"),v=(0,i.K2)((function(e){const t={section:l,type:l,description:e,task:e,classes:[]};c.push(t)}),"addTaskOrg"),b=(0,i.K2)((function(){const e=(0,i.K2)((function(e){return h[e].processed}),"compileTask");let t=!0;for(const[r,n]of h.entries())e(r),t=t&&n.processed;return t}),"compileTasks"),x=(0,i.K2)((function(){return m()}),"getActors"),w={getConfig:(0,i.K2)((()=>(0,i.D7)().journey),"getConfig"),clear:d,setDiagramTitle:i.ke,getDiagramTitle:i.ab,setAccTitle:i.SV,getAccTitle:i.iN,setAccDescription:i.EI,getAccDescription:i.m7,addSection:f,getSections:p,getTasks:g,addTask:y,addTaskOrg:v,getActors:x},D=(0,i.K2)((e=>`.label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ${e.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${e.textColor}\n  }\n\n  .legend {\n    fill: ${e.textColor};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${e.textColor}\n  }\n\n  .face {\n    ${e.faceColor?`fill: ${e.faceColor}`:"fill: #FFF8DC"};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${e.mainBkg};\n    stroke: ${e.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${e.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${e.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${e.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${e.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${e.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ${e.tertiaryColor};\n    border: 1px solid ${e.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${e.fillType0?`fill: ${e.fillType0}`:""};\n  }\n  .task-type-1, .section-type-1  {\n    ${e.fillType0?`fill: ${e.fillType1}`:""};\n  }\n  .task-type-2, .section-type-2  {\n    ${e.fillType0?`fill: ${e.fillType2}`:""};\n  }\n  .task-type-3, .section-type-3  {\n    ${e.fillType0?`fill: ${e.fillType3}`:""};\n  }\n  .task-type-4, .section-type-4  {\n    ${e.fillType0?`fill: ${e.fillType4}`:""};\n  }\n  .task-type-5, .section-type-5  {\n    ${e.fillType0?`fill: ${e.fillType5}`:""};\n  }\n  .task-type-6, .section-type-6  {\n    ${e.fillType0?`fill: ${e.fillType6}`:""};\n  }\n  .task-type-7, .section-type-7  {\n    ${e.fillType0?`fill: ${e.fillType7}`:""};\n  }\n\n  .actor-0 {\n    ${e.actor0?`fill: ${e.actor0}`:""};\n  }\n  .actor-1 {\n    ${e.actor1?`fill: ${e.actor1}`:""};\n  }\n  .actor-2 {\n    ${e.actor2?`fill: ${e.actor2}`:""};\n  }\n  .actor-3 {\n    ${e.actor3?`fill: ${e.actor3}`:""};\n  }\n  .actor-4 {\n    ${e.actor4?`fill: ${e.actor4}`:""};\n  }\n  .actor-5 {\n    ${e.actor5?`fill: ${e.actor5}`:""};\n  }\n`),"getStyles"),k=(0,i.K2)((function(e,t){return(0,n.tk)(e,t)}),"drawRect"),E=(0,i.K2)((function(e,t){const r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),n=e.append("g");function o(e){const r=(0,a.JLW)().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(15/2.2);e.append("path").attr("class","mouth").attr("d",r).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}function s(e){const r=(0,a.JLW)().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(15/2.2);e.append("path").attr("class","mouth").attr("d",r).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}function l(e){e.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return n.append("circle").attr("cx",t.cx-5).attr("cy",t.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),n.append("circle").attr("cx",t.cx+5).attr("cy",t.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),(0,i.K2)(o,"smile"),(0,i.K2)(s,"sad"),(0,i.K2)(l,"ambivalent"),t.score>3?o(n):t.score<3?s(n):l(n),r}),"drawFace"),A=(0,i.K2)((function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),void 0!==r.class&&r.attr("class",r.class),void 0!==t.title&&r.append("title").text(t.title),r}),"drawCircle"),C=(0,i.K2)((function(e,t){return(0,n.m)(e,t)}),"drawText"),_=(0,i.K2)((function(e,t){function r(e,t,r,n,i){return e+","+t+" "+(e+r)+","+t+" "+(e+r)+","+(t+n-i)+" "+(e+r-1.2*i)+","+(t+n)+" "+e+","+(t+n)}(0,i.K2)(r,"genPoints");const n=e.append("polygon");n.attr("points",r(t.x,t.y,50,20,7)),n.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,C(e,t)}),"drawLabel"),T=(0,i.K2)((function(e,t,r){const i=e.append("g"),a=(0,n.PB)();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width*t.taskCount+r.diagramMarginX*(t.taskCount-1),a.height=r.height,a.class="journey-section section-type-"+t.num,a.rx=3,a.ry=3,k(i,a),B(r)(t.text,i,a.x,a.y,a.width,a.height,{class:"journey-section section-type-"+t.num},r,t.colour)}),"drawSection"),S=-1,F=(0,i.K2)((function(e,t,r){const i=t.x+r.width/2,a=e.append("g");S++,a.append("line").attr("id","task"+S).attr("x1",i).attr("y1",t.y).attr("x2",i).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),E(a,{cx:i,cy:300+30*(5-t.score),score:t.score});const o=(0,n.PB)();o.x=t.x,o.y=t.y,o.fill=t.fill,o.width=r.width,o.height=r.height,o.class="task task-type-"+t.num,o.rx=3,o.ry=3,k(a,o);let s=t.x+14;t.people.forEach((e=>{const r=t.actors[e].color,n={cx:s,cy:t.y,r:7,fill:r,stroke:"#000",title:e,pos:t.actors[e].position};A(a,n),s+=10})),B(r)(t.task,a,o.x,o.y,o.width,o.height,{class:"task"},r,t.colour)}),"drawTask"),O=(0,i.K2)((function(e,t){(0,n.lC)(e,t)}),"drawBackgroundRect"),B=function(){function e(e,t,r,i,a,o,s,l){n(t.append("text").attr("x",r+a/2).attr("y",i+o/2+5).style("font-color",l).style("text-anchor","middle").text(e),s)}function t(e,t,r,i,a,o,s,l,u){const{taskFontSize:c,taskFontFamily:h}=l,d=e.split(/<br\s*\/?>/gi);for(let e=0;e<d.length;e++){const l=e*c-c*(d.length-1)/2,f=t.append("text").attr("x",r+a/2).attr("y",i).attr("fill",u).style("text-anchor","middle").style("font-size",c).style("font-family",h);f.append("tspan").attr("x",r+a/2).attr("dy",l).text(d[e]),f.attr("y",i+o/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(f,s)}}function r(e,r,i,a,o,s,l,u){const c=r.append("switch"),h=c.append("foreignObject").attr("x",i).attr("y",a).attr("width",o).attr("height",s).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),t(e,c,i,a,o,s,l,u),n(h,l)}function n(e,t){for(const r in t)r in t&&e.attr(r,t[r])}return(0,i.K2)(e,"byText"),(0,i.K2)(t,"byTspan"),(0,i.K2)(r,"byFo"),(0,i.K2)(n,"_setTextAttrs"),function(n){return"fo"===n.textPlacement?r:"old"===n.textPlacement?e:t}}(),N={drawRect:k,drawCircle:A,drawSection:T,drawText:C,drawLabel:_,drawTask:F,drawBackgroundRect:O,initGraphics:(0,i.K2)((function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}),"initGraphics")},L=(0,i.K2)((function(e){Object.keys(e).forEach((function(t){M[t]=e[t]}))}),"setConf"),I={};function R(e){const t=(0,i.D7)().journey;let r=60;Object.keys(I).forEach((n=>{const i=I[n].color,a={cx:20,cy:r,r:7,fill:i,stroke:"#000",pos:I[n].position};N.drawCircle(e,a);const o={x:40,y:r+7,fill:"#666",text:n,textMargin:5|t.boxTextMargin};N.drawText(e,o),r+=20}))}(0,i.K2)(R,"drawActorLegend");var M=(0,i.D7)().journey,P=M.leftMargin,z=(0,i.K2)((function(e,t,r,n){const o=(0,i.D7)().journey,s=(0,i.D7)().securityLevel;let l;"sandbox"===s&&(l=(0,a.Ltv)("#i"+t));const u="sandbox"===s?(0,a.Ltv)(l.nodes()[0].contentDocument.body):(0,a.Ltv)("body");$.init();const c=u.select("#"+t);N.initGraphics(c);const h=n.db.getTasks(),d=n.db.getDiagramTitle(),f=n.db.getActors();for(const e in I)delete I[e];let p=0;f.forEach((e=>{I[e]={color:o.actorColours[p%o.actorColours.length],position:p},p++})),R(c),$.insert(0,0,P,50*Object.keys(I).length),q(c,h,0);const g=$.getBounds();d&&c.append("text").text(d).attr("x",P).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const m=g.stopy-g.starty+2*o.diagramMarginY,y=P+g.stopx+2*o.diagramMarginX;(0,i.a$)(c,m,y,o.useMaxWidth),c.append("line").attr("x1",P).attr("y1",4*o.height).attr("x2",y-P-4).attr("y2",4*o.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const v=d?70:0;c.attr("viewBox",`${g.startx} -25 ${y} ${m+v}`),c.attr("preserveAspectRatio","xMinYMin meet"),c.attr("height",m+v+25)}),"draw"),$={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:(0,i.K2)((function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0}),"init"),updateVal:(0,i.K2)((function(e,t,r,n){void 0===e[t]?e[t]=r:e[t]=n(r,e[t])}),"updateVal"),updateBounds:(0,i.K2)((function(e,t,r,n){const a=(0,i.D7)().journey,o=this;let s=0;function l(l){return(0,i.K2)((function(i){s++;const u=o.sequenceItems.length-s+1;o.updateVal(i,"starty",t-u*a.boxMargin,Math.min),o.updateVal(i,"stopy",n+u*a.boxMargin,Math.max),o.updateVal($.data,"startx",e-u*a.boxMargin,Math.min),o.updateVal($.data,"stopx",r+u*a.boxMargin,Math.max),"activation"!==l&&(o.updateVal(i,"startx",e-u*a.boxMargin,Math.min),o.updateVal(i,"stopx",r+u*a.boxMargin,Math.max),o.updateVal($.data,"starty",t-u*a.boxMargin,Math.min),o.updateVal($.data,"stopy",n+u*a.boxMargin,Math.max))}),"updateItemBounds")}(0,i.K2)(l,"updateFn"),this.sequenceItems.forEach(l())}),"updateBounds"),insert:(0,i.K2)((function(e,t,r,n){const i=Math.min(e,r),a=Math.max(e,r),o=Math.min(t,n),s=Math.max(t,n);this.updateVal($.data,"startx",i,Math.min),this.updateVal($.data,"starty",o,Math.min),this.updateVal($.data,"stopx",a,Math.max),this.updateVal($.data,"stopy",s,Math.max),this.updateBounds(i,o,a,s)}),"insert"),bumpVerticalPos:(0,i.K2)((function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=this.verticalPos}),"bumpVerticalPos"),getVerticalPos:(0,i.K2)((function(){return this.verticalPos}),"getVerticalPos"),getBounds:(0,i.K2)((function(){return this.data}),"getBounds")},j=M.sectionFills,K=M.sectionColours,q=(0,i.K2)((function(e,t,r){const n=(0,i.D7)().journey;let a="";const o=r+(2*n.height+n.diagramMarginY);let s=0,l="#CCC",u="black",c=0;for(const[r,i]of t.entries()){if(a!==i.section){l=j[s%j.length],c=s%j.length,u=K[s%K.length];let o=0;const h=i.section;for(let e=r;e<t.length&&t[e].section==h;e++)o+=1;const d={x:r*n.taskMargin+r*n.width+P,y:50,text:i.section,fill:l,num:c,colour:u,taskCount:o};N.drawSection(e,d,n),a=i.section,s++}const h=i.people.reduce(((e,t)=>(I[t]&&(e[t]=I[t]),e)),{});i.x=r*n.taskMargin+r*n.width+P,i.y=o,i.width=n.diagramMarginX,i.height=n.diagramMarginY,i.colour=u,i.fill=l,i.num=c,i.actors=h,N.drawTask(e,i,n),$.insert(i.x,i.y,i.x+i.width+n.taskMargin,450)}}),"drawTasks"),U={setConf:L,draw:z},H={parser:s,db:w,renderer:U,styles:D,init:(0,i.K2)((e=>{U.setConf(e.journey),w.clear()}),"init")}},6355:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>A});var n=r(9874),i=r(1282),a=(r(1099),r(3115),r(8945),r(8159),r(7286)),o=r(7692),s=r(4045),l=r(7242),u=r(3506),c=function(){var e=(0,o.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],l=[1,19],u=[6,7,8],c=[1,26],h=[1,24],d=[1,25],f=[6,7,11],p=[1,31],g=[6,7,11,24],m=[1,6,13,16,17,20,23],y=[1,35],v=[1,36],b=[1,6,7,11,13,16,17,20,23],x=[1,38],w={trace:(0,o.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,KANBAN:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,shapeData:15,ICON:16,CLASS:17,nodeWithId:18,nodeWithoutId:19,NODE_DSTART:20,NODE_DESCR:21,NODE_DEND:22,NODE_ID:23,SHAPE_DATA:24,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"KANBAN",11:"EOF",13:"SPACELIST",16:"ICON",17:"CLASS",20:"NODE_DSTART",21:"NODE_DESCR",22:"NODE_DEND",23:"NODE_ID",24:"SHAPE_DATA"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,3],[12,2],[12,2],[12,2],[12,1],[12,2],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[19,3],[18,1],[18,4],[15,2],[15,1]],performAction:(0,o.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 6:case 7:return n;case 8:n.getLogger().trace("Stop NL ");break;case 9:n.getLogger().trace("Stop EOF ");break;case 11:n.getLogger().trace("Stop NL2 ");break;case 12:n.getLogger().trace("Stop EOF2 ");break;case 15:n.getLogger().info("Node: ",a[s-1].id),n.addNode(a[s-2].length,a[s-1].id,a[s-1].descr,a[s-1].type,a[s]);break;case 16:n.getLogger().info("Node: ",a[s].id),n.addNode(a[s-1].length,a[s].id,a[s].descr,a[s].type);break;case 17:n.getLogger().trace("Icon: ",a[s]),n.decorateNode({icon:a[s]});break;case 18:case 23:n.decorateNode({class:a[s]});break;case 19:n.getLogger().trace("SPACELIST");break;case 20:n.getLogger().trace("Node: ",a[s-1].id),n.addNode(0,a[s-1].id,a[s-1].descr,a[s-1].type,a[s]);break;case 21:n.getLogger().trace("Node: ",a[s].id),n.addNode(0,a[s].id,a[s].descr,a[s].type);break;case 22:n.decorateNode({icon:a[s]});break;case 27:n.getLogger().trace("node found ..",a[s-2]),this.$={id:a[s-1],descr:a[s-1],type:n.getType(a[s-2],a[s])};break;case 28:this.$={id:a[s],descr:a[s],type:0};break;case 29:n.getLogger().trace("node found ..",a[s-3]),this.$={id:a[s-3],descr:a[s-1],type:n.getType(a[s-2],a[s])};break;case 30:this.$=a[s-1]+a[s];break;case 31:this.$=a[s]}}),"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},{6:r,9:22,12:11,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},{6:c,7:h,10:23,11:d},e(f,[2,24],{18:17,19:18,14:27,16:[1,28],17:[1,29],20:s,23:l}),e(f,[2,19]),e(f,[2,21],{15:30,24:p}),e(f,[2,22]),e(f,[2,23]),e(g,[2,25]),e(g,[2,26]),e(g,[2,28],{20:[1,32]}),{21:[1,33]},{6:c,7:h,10:34,11:d},{1:[2,7],6:r,12:21,13:n,14:14,16:i,17:a,18:17,19:18,20:s,23:l},e(m,[2,14],{7:y,11:v}),e(b,[2,8]),e(b,[2,9]),e(b,[2,10]),e(f,[2,16],{15:37,24:p}),e(f,[2,17]),e(f,[2,18]),e(f,[2,20],{24:x}),e(g,[2,31]),{21:[1,39]},{22:[1,40]},e(m,[2,13],{7:y,11:v}),e(b,[2,11]),e(b,[2,12]),e(f,[2,15],{24:x}),e(g,[2,30]),{22:[1,41]},e(g,[2,27]),e(g,[2,29])],defaultActions:{2:[2,1],6:[2,2]},parseError:(0,o.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,o.K2)((function(e){var t=this,r=[0],n=[],i=[null],a=[],s=this.table,l="",u=0,c=0,h=0,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,o.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,a.length=a.length-e}),"popStack"),(0,o.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),a.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},y&&(T._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],i,a].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),a=a.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),a.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},D=function(){return{EOF:1,parseError:(0,o.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,o.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,o.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,o.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,o.K2)((function(){return this._more=!0,this}),"more"),reject:(0,o.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,o.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,o.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,o.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,o.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,o.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,o.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,o.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,o.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,o.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,o.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,o.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,o.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,o.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,o.K2)((function(e,t,r,n){switch(r){case 0:return this.pushState("shapeData"),t.yytext="",24;case 1:return this.pushState("shapeDataStr"),24;case 2:return this.popState(),24;case 3:const r=/\n\s*/g;return t.yytext=t.yytext.replace(r,"<br/>"),24;case 4:return 24;case 5:case 10:case 29:case 32:this.popState();break;case 6:return e.getLogger().trace("Found comment",t.yytext),6;case 7:return 8;case 8:this.begin("CLASS");break;case 9:return this.popState(),17;case 11:e.getLogger().trace("Begin icon"),this.begin("ICON");break;case 12:return e.getLogger().trace("SPACELINE"),6;case 13:return 7;case 14:return 16;case 15:e.getLogger().trace("end icon"),this.popState();break;case 16:return e.getLogger().trace("Exploding node"),this.begin("NODE"),20;case 17:return e.getLogger().trace("Cloud"),this.begin("NODE"),20;case 18:return e.getLogger().trace("Explosion Bang"),this.begin("NODE"),20;case 19:return e.getLogger().trace("Cloud Bang"),this.begin("NODE"),20;case 20:case 21:case 22:case 23:return this.begin("NODE"),20;case 24:return 13;case 25:return 23;case 26:return 11;case 27:this.begin("NSTR2");break;case 28:return"NODE_DESCR";case 30:e.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 31:return e.getLogger().trace("description:",t.yytext),"NODE_DESCR";case 33:return this.popState(),e.getLogger().trace("node end ))"),"NODE_DEND";case 34:return this.popState(),e.getLogger().trace("node end )"),"NODE_DEND";case 35:return this.popState(),e.getLogger().trace("node end ...",t.yytext),"NODE_DEND";case 36:case 39:case 40:return this.popState(),e.getLogger().trace("node end (("),"NODE_DEND";case 37:case 38:return this.popState(),e.getLogger().trace("node end (-"),"NODE_DEND";case 41:case 42:return e.getLogger().trace("Long description:",t.yytext),21}}),"anonymous"),rules:[/^(?:@\{)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^\"]+)/i,/^(?:[^}^"]+)/i,/^(?:\})/i,/^(?:\s*%%.*)/i,/^(?:kanban\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}@]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{shapeDataEndBracket:{rules:[],inclusive:!1},shapeDataStr:{rules:[2,3],inclusive:!1},shapeData:{rules:[1,4,5],inclusive:!1},CLASS:{rules:[9,10],inclusive:!1},ICON:{rules:[14,15],inclusive:!1},NSTR2:{rules:[28,29],inclusive:!1},NSTR:{rules:[31,32],inclusive:!1},NODE:{rules:[27,30,33,34,35,36,37,38,39,40,41,42],inclusive:!1},INITIAL:{rules:[0,6,7,8,11,12,13,16,17,18,19,20,21,22,23,24,25,26],inclusive:!0}}}}();function k(){this.yy={}}return w.lexer=D,(0,o.K2)(k,"Parser"),k.prototype=w,w.Parser=k,new k}();c.parser=c;var h=c,d=[],f=[],p=0,g={},m=(0,o.K2)((()=>{d=[],f=[],p=0,g={}}),"clear"),y=(0,o.K2)((e=>{if(0===d.length)return null;const t=d[0].level;let r=null;for(let e=d.length-1;e>=0;e--)if(d[e].level!==t||r||(r=d[e]),d[e].level<t)throw new Error('Items without section detected, found section ("'+d[e].label+'")');return e===r?.level?null:r}),"getSection"),v=(0,o.K2)((function(){return f}),"getSections"),b=(0,o.K2)((function(){const e=[],t=v(),r=(0,o.D7)();for(const n of t){const t={id:n.id,label:(0,o.jZ)(n.label??"",r),isGroup:!0,ticket:n.ticket,shape:"kanbanSection",level:n.level,look:r.look};e.push(t);const i=d.filter((e=>e.parentId===n.id));for(const t of i){const i={id:t.id,parentId:n.id,label:(0,o.jZ)(t.label??"",r),isGroup:!1,ticket:t?.ticket,priority:t?.priority,assigned:t?.assigned,icon:t?.icon,shape:"kanbanItem",level:t.level,rx:5,ry:5,cssStyles:["text-align: left"]};e.push(i)}}return{nodes:e,edges:[],other:{},config:(0,o.D7)()}}),"getData"),x=(0,o.K2)(((e,t,r,i,a)=>{const s=(0,o.D7)();let l=s.mindmap?.padding??o.UI.mindmap.padding;switch(i){case w.ROUNDED_RECT:case w.RECT:case w.HEXAGON:l*=2}const u={id:(0,o.jZ)(t,s)||"kbn"+p++,level:e,label:(0,o.jZ)(r,s),width:s.mindmap?.maxNodeWidth??o.UI.mindmap.maxNodeWidth,padding:l,isGroup:!1};if(void 0!==a){let e;e=a.includes("\n")?a+"\n":"{\n"+a+"\n}";const t=(0,n.H)(e,{schema:n.r});if(t.shape&&(t.shape!==t.shape.toLowerCase()||t.shape.includes("_")))throw new Error(`No such shape: ${t.shape}. Shape names should be lowercase.`);t?.shape&&"kanbanItem"===t.shape&&(u.shape=t?.shape),t?.label&&(u.label=t?.label),t?.icon&&(u.icon=t?.icon.toString()),t?.assigned&&(u.assigned=t?.assigned.toString()),t?.ticket&&(u.ticket=t?.ticket.toString()),t?.priority&&(u.priority=t?.priority)}const c=y(e);c?u.parentId=c.id||"kbn"+p++:f.push(u),d.push(u)}),"addNode"),w={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},D={clear:m,addNode:x,getSections:v,getData:b,nodeType:w,getType:(0,o.K2)(((e,t)=>{switch(o.Rm.debug("In get type",e,t),e){case"[":return w.RECT;case"(":return")"===t?w.ROUNDED_RECT:w.CLOUD;case"((":return w.CIRCLE;case")":return w.CLOUD;case"))":return w.BANG;case"{{":return w.HEXAGON;default:return w.DEFAULT}}),"getType"),setElementForId:(0,o.K2)(((e,t)=>{g[e]=t}),"setElementForId"),decorateNode:(0,o.K2)((e=>{if(!e)return;const t=(0,o.D7)(),r=d[d.length-1];e.icon&&(r.icon=(0,o.jZ)(e.icon,t)),e.class&&(r.cssClasses=(0,o.jZ)(e.class,t))}),"decorateNode"),type2Str:(0,o.K2)((e=>{switch(e){case w.DEFAULT:return"no-border";case w.RECT:return"rect";case w.ROUNDED_RECT:return"rounded-rect";case w.CIRCLE:return"circle";case w.CLOUD:return"cloud";case w.BANG:return"bang";case w.HEXAGON:return"hexgon";default:return"no-border"}}),"type2Str"),getLogger:(0,o.K2)((()=>o.Rm),"getLogger"),getElementById:(0,o.K2)((e=>g[e]),"getElementById")},k={draw:(0,o.K2)((async(e,t,r,n)=>{o.Rm.debug("Rendering kanban diagram\n"+e);const s=n.db.getData(),l=(0,o.D7)();l.htmlLabels=!1;const u=(0,a.D)(t),c=u.append("g");c.attr("class","sections");const h=u.append("g");h.attr("class","items");const d=s.nodes.filter((e=>e.isGroup));let f=0;const p=[];let g=25;for(const e of d){const t=l?.kanban?.sectionWidth||200;f+=1,e.x=t*f+10*(f-1)/2,e.width=t,e.y=0,e.height=3*t,e.rx=5,e.ry=5,e.cssClasses=e.cssClasses+" section-"+f;const r=await(0,i.U)(c,e);g=Math.max(g,r?.labelBBox?.height),p.push(r)}let m=0;for(const e of d){const t=p[m];m+=1;const r=l?.kanban?.sectionWidth||200,n=3*-r/2+g;let a=n;const o=s.nodes.filter((t=>t.parentId===e.id));for(const t of o){if(t.isGroup)throw new Error("Groups within groups are not allowed in Kanban diagrams");t.x=e.x,t.width=r-15;const n=(await(0,i.on)(h,t,{config:l})).node().getBBox();t.y=a+n.height/2,await(0,i.U_)(t),a=t.y+n.height/2+5}const u=t.cluster.select("rect"),c=Math.max(a-n+30,50)+(g-25);u.attr("height",c)}(0,o.ot)(void 0,u,l.mindmap?.padding??o.UI.kanban.padding,l.mindmap?.useMaxWidth??o.UI.kanban.useMaxWidth)}),"draw")},E=(0,o.K2)((e=>{let t="";for(let t=0;t<e.THEME_COLOR_LIMIT;t++)e["lineColor"+t]=e["lineColor"+t]||e["cScaleInv"+t],(0,s.A)(e["lineColor"+t])?e["lineColor"+t]=(0,l.A)(e["lineColor"+t],20):e["lineColor"+t]=(0,u.A)(e["lineColor"+t],20);const r=(0,o.K2)(((t,r)=>e.darkMode?(0,u.A)(t,r):(0,l.A)(t,r)),"adjuster");for(let n=0;n<e.THEME_COLOR_LIMIT;n++){const i=""+(17-3*n);t+=`\n    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {\n      fill: ${r(e["cScale"+n],10)};\n      stroke: ${r(e["cScale"+n],10)};\n\n    }\n    .section-${n-1} text {\n     fill: ${e["cScaleLabel"+n]};\n    }\n    .node-icon-${n-1} {\n      font-size: 40px;\n      color: ${e["cScaleLabel"+n]};\n    }\n    .section-edge-${n-1}{\n      stroke: ${e["cScale"+n]};\n    }\n    .edge-depth-${n-1}{\n      stroke-width: ${i};\n    }\n    .section-${n-1} line {\n      stroke: ${e["cScaleInv"+n]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${e.background};\n    stroke: ${e.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .kanban-ticket-link {\n    fill: ${e.background};\n    stroke: ${e.nodeBorder};\n    text-decoration: underline;\n  }\n    `}return t}),"genSections"),A={db:D,renderer:k,parser:h,styles:(0,o.K2)((e=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${E(e)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${e.git0};\n  }\n  .section-root text {\n    fill: ${e.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .cluster-label, .label {\n    color: ${e.textColor};\n    fill: ${e.textColor};\n    }\n  .kanban-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`),"getStyles")}},6383:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>j});var n=r(8945),i=r(8159),a=r(7286),o=r(7692),s=r(165),l=r(1220),u=r(5763),c=r(4045),h=r(7242),d=r(3506),f=function(){var e=(0,o.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,4],r=[1,13],n=[1,12],i=[1,15],a=[1,16],s=[1,20],l=[1,19],u=[6,7,8],c=[1,26],h=[1,24],d=[1,25],f=[6,7,11],p=[1,6,13,15,16,19,22],g=[1,33],m=[1,34],y=[1,6,7,11,13,15,16,19,22],v={trace:(0,o.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:(0,o.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 6:case 7:return n;case 8:n.getLogger().trace("Stop NL ");break;case 9:n.getLogger().trace("Stop EOF ");break;case 11:n.getLogger().trace("Stop NL2 ");break;case 12:n.getLogger().trace("Stop EOF2 ");break;case 15:n.getLogger().info("Node: ",a[s].id),n.addNode(a[s-1].length,a[s].id,a[s].descr,a[s].type);break;case 16:n.getLogger().trace("Icon: ",a[s]),n.decorateNode({icon:a[s]});break;case 17:case 21:n.decorateNode({class:a[s]});break;case 18:n.getLogger().trace("SPACELIST");break;case 19:n.getLogger().trace("Node: ",a[s].id),n.addNode(0,a[s].id,a[s].descr,a[s].type);break;case 20:n.decorateNode({icon:a[s]});break;case 25:n.getLogger().trace("node found ..",a[s-2]),this.$={id:a[s-1],descr:a[s-1],type:n.getType(a[s-2],a[s])};break;case 26:this.$={id:a[s],descr:a[s],type:n.nodeType.DEFAULT};break;case 27:n.getLogger().trace("node found ..",a[s-3]),this.$={id:a[s-3],descr:a[s-1],type:n.getType(a[s-2],a[s])}}}),"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:t},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:t},{6:r,7:[1,10],9:9,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},e(u,[2,3]),{1:[2,2]},e(u,[2,4]),e(u,[2,5]),{1:[2,6],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},{6:r,9:22,12:11,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},{6:c,7:h,10:23,11:d},e(f,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:l}),e(f,[2,18]),e(f,[2,19]),e(f,[2,20]),e(f,[2,21]),e(f,[2,23]),e(f,[2,24]),e(f,[2,26],{19:[1,30]}),{20:[1,31]},{6:c,7:h,10:32,11:d},{1:[2,7],6:r,12:21,13:n,14:14,15:i,16:a,17:17,18:18,19:s,22:l},e(p,[2,14],{7:g,11:m}),e(y,[2,8]),e(y,[2,9]),e(y,[2,10]),e(f,[2,15]),e(f,[2,16]),e(f,[2,17]),{20:[1,35]},{21:[1,36]},e(p,[2,13],{7:g,11:m}),e(y,[2,11]),e(y,[2,12]),{21:[1,37]},e(f,[2,25]),e(f,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:(0,o.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,o.K2)((function(e){var t=this,r=[0],n=[],i=[null],a=[],s=this.table,l="",u=0,c=0,h=0,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,o.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,a.length=a.length-e}),"popStack"),(0,o.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),a.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},y&&(T._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],i,a].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),a=a.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),a.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},b=function(){return{EOF:1,parseError:(0,o.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,o.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,o.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,o.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,o.K2)((function(){return this._more=!0,this}),"more"),reject:(0,o.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,o.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,o.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,o.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,o.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,o.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,o.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,o.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,o.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,o.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,o.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,o.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,o.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,o.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,o.K2)((function(e,t,r,n){switch(r){case 0:return e.getLogger().trace("Found comment",t.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:case 23:case 26:this.popState();break;case 5:e.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return e.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:e.getLogger().trace("end icon"),this.popState();break;case 10:return e.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return e.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return e.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return e.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:case 15:case 16:case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 24:e.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return e.getLogger().trace("description:",t.yytext),"NODE_DESCR";case 27:return this.popState(),e.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),e.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),e.getLogger().trace("node end ...",t.yytext),"NODE_DEND";case 30:case 33:case 34:return this.popState(),e.getLogger().trace("node end (("),"NODE_DEND";case 31:case 32:return this.popState(),e.getLogger().trace("node end (-"),"NODE_DEND";case 35:case 36:return e.getLogger().trace("Long description:",t.yytext),20}}),"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}}}();function x(){this.yy={}}return v.lexer=b,(0,o.K2)(x,"Parser"),x.prototype=v,v.Parser=x,new x}();f.parser=f;var p=f,g=[],m=0,y={},v=(0,o.K2)((()=>{g=[],m=0,y={}}),"clear"),b=(0,o.K2)((function(e){for(let t=g.length-1;t>=0;t--)if(g[t].level<e)return g[t];return null}),"getParent"),x=(0,o.K2)((()=>g.length>0?g[0]:null),"getMindmap"),w=(0,o.K2)(((e,t,r,n)=>{o.Rm.info("addNode",e,t,r,n);const i=(0,o.D7)();let a=i.mindmap?.padding??o.UI.mindmap.padding;switch(n){case D.ROUNDED_RECT:case D.RECT:case D.HEXAGON:a*=2}const s={id:m++,nodeId:(0,o.jZ)(t,i),level:e,descr:(0,o.jZ)(r,i),type:n,children:[],width:i.mindmap?.maxNodeWidth??o.UI.mindmap.maxNodeWidth,padding:a},l=b(e);if(l)l.children.push(s),g.push(s);else{if(0!==g.length)throw new Error('There can be only one root. No parent could be found for ("'+s.descr+'")');g.push(s)}}),"addNode"),D={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},k={clear:v,addNode:w,getMindmap:x,nodeType:D,getType:(0,o.K2)(((e,t)=>{switch(o.Rm.debug("In get type",e,t),e){case"[":return D.RECT;case"(":return")"===t?D.ROUNDED_RECT:D.CLOUD;case"((":return D.CIRCLE;case")":return D.CLOUD;case"))":return D.BANG;case"{{":return D.HEXAGON;default:return D.DEFAULT}}),"getType"),setElementForId:(0,o.K2)(((e,t)=>{y[e]=t}),"setElementForId"),decorateNode:(0,o.K2)((e=>{if(!e)return;const t=(0,o.D7)(),r=g[g.length-1];e.icon&&(r.icon=(0,o.jZ)(e.icon,t)),e.class&&(r.class=(0,o.jZ)(e.class,t))}),"decorateNode"),type2Str:(0,o.K2)((e=>{switch(e){case D.DEFAULT:return"no-border";case D.RECT:return"rect";case D.ROUNDED_RECT:return"rounded-rect";case D.CIRCLE:return"circle";case D.CLOUD:return"cloud";case D.BANG:return"bang";case D.HEXAGON:return"hexgon";default:return"no-border"}}),"type2Str"),getLogger:(0,o.K2)((()=>o.Rm),"getLogger"),getElementById:(0,o.K2)((e=>y[e]),"getElementById")},E=(0,o.K2)((function(e,t,r,n){t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 ${r.height-5} v${10-r.height} q0,-5 5,-5 h${r.width-10} q5,0 5,5 v${r.height-5} H0 Z`),t.append("line").attr("class","node-line-"+n).attr("x1",0).attr("y1",r.height).attr("x2",r.width).attr("y2",r.height)}),"defaultBkg"),A=(0,o.K2)((function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("width",r.width)}),"rectBkg"),C=(0,o.K2)((function(e,t,r){const n=r.width,i=r.height,a=.15*n,o=.25*n,s=.35*n,l=.2*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${.25*n},${-1*n*.1}\n      a${s},${s} 1 0,1 ${.4*n},${-1*n*.1}\n      a${o},${o} 1 0,1 ${.35*n},${1*n*.2}\n\n      a${a},${a} 1 0,1 ${.15*n},${1*i*.35}\n      a${l},${l} 1 0,1 ${-1*n*.15},${1*i*.65}\n\n      a${o},${a} 1 0,1 ${-1*n*.25},${.15*n}\n      a${s},${s} 1 0,1 ${-1*n*.5},0\n      a${a},${a} 1 0,1 ${-1*n*.25},${-1*n*.15}\n\n      a${a},${a} 1 0,1 ${-1*n*.1},${-1*i*.35}\n      a${l},${l} 1 0,1 ${.1*n},${-1*i*.65}\n\n    H0 V0 Z`)}),"cloudBkg"),_=(0,o.K2)((function(e,t,r){const n=r.width,i=r.height,a=.15*n;t.append("path").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${.25*n},${-1*i*.1}\n      a${a},${a} 1 0,0 ${.25*n},0\n      a${a},${a} 1 0,0 ${.25*n},0\n      a${a},${a} 1 0,0 ${.25*n},${1*i*.1}\n\n      a${a},${a} 1 0,0 ${.15*n},${1*i*.33}\n      a${.8*a},${.8*a} 1 0,0 0,${1*i*.34}\n      a${a},${a} 1 0,0 ${-1*n*.15},${1*i*.33}\n\n      a${a},${a} 1 0,0 ${-1*n*.25},${.15*i}\n      a${a},${a} 1 0,0 ${-1*n*.25},0\n      a${a},${a} 1 0,0 ${-1*n*.25},0\n      a${a},${a} 1 0,0 ${-1*n*.25},${-1*i*.15}\n\n      a${a},${a} 1 0,0 ${-1*n*.1},${-1*i*.33}\n      a${.8*a},${.8*a} 1 0,0 0,${-1*i*.34}\n      a${a},${a} 1 0,0 ${.1*n},${-1*i*.33}\n\n    H0 V0 Z`)}),"bangBkg"),T=(0,o.K2)((function(e,t,r){t.append("circle").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("r",r.width/2)}),"circleBkg");function S(e,t,r,n,i){return e.insert("polygon",":first-child").attr("points",n.map((function(e){return e.x+","+e.y})).join(" ")).attr("transform","translate("+(i.width-t)/2+", "+r+")")}(0,o.K2)(S,"insertPolygonShape");var F=(0,o.K2)((function(e,t,r){const n=r.height,i=n/4,a=r.width-r.padding+2*i;S(t,a,n,[{x:i,y:0},{x:a-i,y:0},{x:a,y:-n/2},{x:a-i,y:-n},{x:i,y:-n},{x:0,y:-n/2}],r)}),"hexagonBkg"),O=(0,o.K2)((function(e,t,r){t.append("rect").attr("id","node-"+r.id).attr("class","node-bkg node-"+e.type2Str(r.type)).attr("height",r.height).attr("rx",r.padding).attr("ry",r.padding).attr("width",r.width)}),"roundedRectBkg"),B=(0,o.K2)((async function(e,t,r,a,o){const s=o.htmlLabels,l=a%11,u=t.append("g");r.section=l;let c="section-"+l;l<0&&(c+=" section-root"),u.attr("class",(r.class?r.class+" ":"")+"mindmap-node "+c);const h=u.append("g"),d=u.append("g"),f=r.descr.replace(/(<br\/*>)/g,"\n");await(0,n.GZ)(d,f,{useHtmlLabels:s,width:r.width,classes:"mindmap-node-label"},o),s||d.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");const p=d.node().getBBox(),[g]=(0,i.I5)(o.fontSize);if(r.height=p.height+1.1*g*.5+r.padding,r.width=p.width+2*r.padding,r.icon)if(r.type===e.nodeType.CIRCLE)r.height+=50,r.width+=50,u.append("foreignObject").attr("height","50px").attr("width",r.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+l+" "+r.icon),d.attr("transform","translate("+r.width/2+", "+(r.height/2-1.5*r.padding)+")");else{r.width+=50;const e=r.height;r.height=Math.max(e,60);const t=Math.abs(r.height-e);u.append("foreignObject").attr("width","60px").attr("height",r.height).attr("style","text-align: center;margin-top:"+t/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+l+" "+r.icon),d.attr("transform","translate("+(25+r.width/2)+", "+(t/2+r.padding/2)+")")}else if(s){const e=(r.width-p.width)/2,t=(r.height-p.height)/2;d.attr("transform","translate("+e+", "+t+")")}else{const e=r.width/2,t=r.padding/2;d.attr("transform","translate("+e+", "+t+")")}switch(r.type){case e.nodeType.DEFAULT:E(e,h,r,l);break;case e.nodeType.ROUNDED_RECT:O(e,h,r,l);break;case e.nodeType.RECT:A(e,h,r,l);break;case e.nodeType.CIRCLE:h.attr("transform","translate("+r.width/2+", "+ +r.height/2+")"),T(e,h,r,l);break;case e.nodeType.CLOUD:C(e,h,r,l);break;case e.nodeType.BANG:_(e,h,r,l);break;case e.nodeType.HEXAGON:F(e,h,r,l)}return e.setElementForId(r.id,u),r.height}),"drawNode"),N=(0,o.K2)((function(e,t){const r=e.getElementById(t.id),n=t.x||0,i=t.y||0;r.attr("transform","translate("+n+","+i+")")}),"positionNode");async function L(e,t,r,n,i){await B(e,t,r,n,i),r.children&&await Promise.all(r.children.map(((r,a)=>L(e,t,r,n<0?a:n,i))))}function I(e,t){t.edges().map(((t,r)=>{const n=t.data();if(t[0]._private.bodyBounds){const i=t[0]._private.rscratch;o.Rm.trace("Edge: ",r,n),e.insert("path").attr("d",`M ${i.startX},${i.startY} L ${i.midX},${i.midY} L${i.endX},${i.endY} `).attr("class","edge section-edge-"+n.section+" edge-depth-"+n.depth)}}))}function R(e,t,r,n){t.add({group:"nodes",data:{id:e.id.toString(),labelText:e.descr,height:e.height,width:e.width,level:n,nodeId:e.id,padding:e.padding,type:e.type},position:{x:e.x,y:e.y}}),e.children&&e.children.forEach((i=>{R(i,t,r,n+1),t.add({group:"edges",data:{id:`${e.id}_${i.id}`,source:e.id,target:i.id,depth:n,section:i.section}})}))}function M(e,t){return new Promise((r=>{const n=(0,u.Ltv)("body").append("div").attr("id","cy").attr("style","display:none"),i=(0,s.A)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});n.remove(),R(e,i,t,0),i.nodes().forEach((function(e){e.layoutDimensions=()=>{const t=e.data();return{w:t.width,h:t.height}}})),i.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),i.ready((e=>{o.Rm.info("Ready",e),r(i)}))}))}function P(e,t){t.nodes().map(((t,r)=>{const n=t.data();n.x=t.position().x,n.y=t.position().y,N(e,n);const i=e.getElementById(n.nodeId);o.Rm.info("Id:",r,"Position: (",t.position().x,", ",t.position().y,")",n),i.attr("transform",`translate(${t.position().x-n.width/2}, ${t.position().y-n.height/2})`),i.attr("attr",`apa-${r})`)}))}s.A.use(l),(0,o.K2)(L,"drawNodes"),(0,o.K2)(I,"drawEdges"),(0,o.K2)(R,"addNodes"),(0,o.K2)(M,"layoutMindmap"),(0,o.K2)(P,"positionNodes");var z={draw:(0,o.K2)((async(e,t,r,n)=>{o.Rm.debug("Rendering mindmap diagram\n"+e);const i=n.db,s=i.getMindmap();if(!s)return;const l=(0,o.D7)();l.htmlLabels=!1;const u=(0,a.D)(t),c=u.append("g");c.attr("class","mindmap-edges");const h=u.append("g");h.attr("class","mindmap-nodes"),await L(i,h,s,-1,l);const d=await M(s,l);I(c,d),P(i,d),(0,o.ot)(void 0,u,l.mindmap?.padding??o.UI.mindmap.padding,l.mindmap?.useMaxWidth??o.UI.mindmap.useMaxWidth)}),"draw")},$=(0,o.K2)((e=>{let t="";for(let t=0;t<e.THEME_COLOR_LIMIT;t++)e["lineColor"+t]=e["lineColor"+t]||e["cScaleInv"+t],(0,c.A)(e["lineColor"+t])?e["lineColor"+t]=(0,h.A)(e["lineColor"+t],20):e["lineColor"+t]=(0,d.A)(e["lineColor"+t],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);t+=`\n    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} polygon, .section-${r-1} path  {\n      fill: ${e["cScale"+r]};\n    }\n    .section-${r-1} text {\n     fill: ${e["cScaleLabel"+r]};\n    }\n    .node-icon-${r-1} {\n      font-size: 40px;\n      color: ${e["cScaleLabel"+r]};\n    }\n    .section-edge-${r-1}{\n      stroke: ${e["cScale"+r]};\n    }\n    .edge-depth-${r-1}{\n      stroke-width: ${n};\n    }\n    .section-${r-1} line {\n      stroke: ${e["cScaleInv"+r]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return t}),"genSections"),j={db:k,renderer:z,parser:p,styles:(0,o.K2)((e=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${$(e)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${e.git0};\n  }\n  .section-root text {\n    fill: ${e.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .mindmap-node-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`),"getStyles")}},1825:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>A});var n=r(3933),i=r(8159),a=r(7286),o=r(7692),s=r(8731),l=r(5763),u=o.UI.pie,c={sections:new Map,showData:!1,config:u},h=c.sections,d=c.showData,f=structuredClone(u),p=(0,o.K2)((()=>structuredClone(f)),"getConfig"),g=(0,o.K2)((()=>{h=new Map,d=c.showData,(0,o.IU)()}),"clear"),m=(0,o.K2)((({label:e,value:t})=>{h.has(e)||(h.set(e,t),o.Rm.debug(`added new section: ${e}, with value: ${t}`))}),"addSection"),y=(0,o.K2)((()=>h),"getSections"),v=(0,o.K2)((e=>{d=e}),"setShowData"),b=(0,o.K2)((()=>d),"getShowData"),x={getConfig:p,clear:g,setDiagramTitle:o.ke,getDiagramTitle:o.ab,setAccTitle:o.SV,getAccTitle:o.iN,setAccDescription:o.EI,getAccDescription:o.m7,addSection:m,getSections:y,setShowData:v,getShowData:b},w=(0,o.K2)(((e,t)=>{(0,n.S)(e,t),t.setShowData(e.showData),e.sections.map(t.addSection)}),"populateDb"),D={parse:(0,o.K2)((async e=>{const t=await(0,s.qg)("pie",e);o.Rm.debug(t),w(t,x)}),"parse")},k=(0,o.K2)((e=>`\n  .pieCircle{\n    stroke: ${e.pieStrokeColor};\n    stroke-width : ${e.pieStrokeWidth};\n    opacity : ${e.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${e.pieOuterStrokeColor};\n    stroke-width: ${e.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${e.pieTitleTextSize};\n    fill: ${e.pieTitleTextColor};\n    font-family: ${e.fontFamily};\n  }\n  .slice {\n    font-family: ${e.fontFamily};\n    fill: ${e.pieSectionTextColor};\n    font-size:${e.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${e.pieLegendTextColor};\n    font-family: ${e.fontFamily};\n    font-size: ${e.pieLegendTextSize};\n  }\n`),"getStyles"),E=(0,o.K2)((e=>{const t=[...e.entries()].map((e=>({label:e[0],value:e[1]}))).sort(((e,t)=>t.value-e.value));return(0,l.rLf)().value((e=>e.value))(t)}),"createPieArcs"),A={parser:D,db:x,renderer:{draw:(0,o.K2)(((e,t,r,n)=>{o.Rm.debug("rendering pie chart\n"+e);const s=n.db,u=(0,o.D7)(),c=(0,i.$t)(s.getConfig(),u.pie),h=(0,a.D)(t),d=h.append("g");d.attr("transform","translate(225,225)");const{themeVariables:f}=u;let[p]=(0,i.I5)(f.pieOuterStrokeWidth);p??=2;const g=c.textPosition,m=Math.min(450,450)/2-40,y=(0,l.JLW)().innerRadius(0).outerRadius(m),v=(0,l.JLW)().innerRadius(m*g).outerRadius(m*g);d.append("circle").attr("cx",0).attr("cy",0).attr("r",m+p/2).attr("class","pieOuterCircle");const b=s.getSections(),x=E(b),w=[f.pie1,f.pie2,f.pie3,f.pie4,f.pie5,f.pie6,f.pie7,f.pie8,f.pie9,f.pie10,f.pie11,f.pie12],D=(0,l.UMr)(w);d.selectAll("mySlices").data(x).enter().append("path").attr("d",y).attr("fill",(e=>D(e.data.label))).attr("class","pieCircle");let k=0;b.forEach((e=>{k+=e})),d.selectAll("mySlices").data(x).enter().append("text").text((e=>(e.data.value/k*100).toFixed(0)+"%")).attr("transform",(e=>"translate("+v.centroid(e)+")")).style("text-anchor","middle").attr("class","slice"),d.append("text").text(s.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");const A=d.selectAll(".legend").data(D.domain()).enter().append("g").attr("class","legend").attr("transform",((e,t)=>"translate(216,"+(22*t-22*D.domain().length/2)+")"));A.append("rect").attr("width",18).attr("height",18).style("fill",D).style("stroke",D),A.data(x).append("text").attr("x",22).attr("y",14).text((e=>{const{label:t,value:r}=e.data;return s.getShowData()?`${t} [${r}]`:t}));const C=512+Math.max(...A.selectAll("text").nodes().map((e=>e?.getBoundingClientRect().width??0)));h.attr("viewBox",`0 0 ${C} 450`),(0,o.a$)(h,450,C,c.useMaxWidth)}),"draw")},styles:k}},4632:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>F});var n=r(7692),i=r(5763),a=function(){var e=(0,n.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,3],r=[1,4],i=[1,5],a=[1,6],o=[1,7],s=[1,4,5,10,12,13,14,18,25,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],l=[1,4,5,10,12,13,14,18,25,28,35,37,39,41,42,48,50,51,52,53,54,55,56,57,60,61,63,64,65,66,67],u=[55,56,57],c=[2,36],h=[1,37],d=[1,36],f=[1,38],p=[1,35],g=[1,43],m=[1,41],y=[1,14],v=[1,23],b=[1,18],x=[1,19],w=[1,20],D=[1,21],k=[1,22],E=[1,24],A=[1,25],C=[1,26],_=[1,27],T=[1,28],S=[1,29],F=[1,32],O=[1,33],B=[1,34],N=[1,39],L=[1,40],I=[1,42],R=[1,44],M=[1,62],P=[1,61],z=[4,5,8,10,12,13,14,18,44,47,49,55,56,57,63,64,65,66,67],$=[1,65],j=[1,66],K=[1,67],q=[1,68],U=[1,69],H=[1,70],W=[1,71],G=[1,72],V=[1,73],Y=[1,74],X=[1,75],Z=[1,76],Q=[4,5,6,7,8,9,10,11,12,13,14,15,18],J=[1,90],ee=[1,91],te=[1,92],re=[1,99],ne=[1,93],ie=[1,96],ae=[1,94],oe=[1,95],se=[1,97],le=[1,98],ue=[1,102],ce=[10,55,56,57],he=[4,5,6,8,10,11,13,17,18,19,20,55,56,57],de={trace:(0,n.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,idStringToken:3,ALPHA:4,NUM:5,NODE_STRING:6,DOWN:7,MINUS:8,DEFAULT:9,COMMA:10,COLON:11,AMP:12,BRKT:13,MULT:14,UNICODE_TEXT:15,styleComponent:16,UNIT:17,SPACE:18,STYLE:19,PCT:20,idString:21,style:22,stylesOpt:23,classDefStatement:24,CLASSDEF:25,start:26,eol:27,QUADRANT:28,document:29,line:30,statement:31,axisDetails:32,quadrantDetails:33,points:34,title:35,title_value:36,acc_title:37,acc_title_value:38,acc_descr:39,acc_descr_value:40,acc_descr_multiline_value:41,section:42,text:43,point_start:44,point_x:45,point_y:46,class_name:47,"X-AXIS":48,"AXIS-TEXT-DELIMITER":49,"Y-AXIS":50,QUADRANT_1:51,QUADRANT_2:52,QUADRANT_3:53,QUADRANT_4:54,NEWLINE:55,SEMI:56,EOF:57,alphaNumToken:58,textNoTagsToken:59,STR:60,MD_STR:61,alphaNum:62,PUNCTUATION:63,PLUS:64,EQUALS:65,DOT:66,UNDERSCORE:67,$accept:0,$end:1},terminals_:{2:"error",4:"ALPHA",5:"NUM",6:"NODE_STRING",7:"DOWN",8:"MINUS",9:"DEFAULT",10:"COMMA",11:"COLON",12:"AMP",13:"BRKT",14:"MULT",15:"UNICODE_TEXT",17:"UNIT",18:"SPACE",19:"STYLE",20:"PCT",25:"CLASSDEF",28:"QUADRANT",35:"title",36:"title_value",37:"acc_title",38:"acc_title_value",39:"acc_descr",40:"acc_descr_value",41:"acc_descr_multiline_value",42:"section",44:"point_start",45:"point_x",46:"point_y",47:"class_name",48:"X-AXIS",49:"AXIS-TEXT-DELIMITER",50:"Y-AXIS",51:"QUADRANT_1",52:"QUADRANT_2",53:"QUADRANT_3",54:"QUADRANT_4",55:"NEWLINE",56:"SEMI",57:"EOF",60:"STR",61:"MD_STR",63:"PUNCTUATION",64:"PLUS",65:"EQUALS",66:"DOT",67:"UNDERSCORE"},productions_:[0,[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[16,1],[21,1],[21,2],[22,1],[22,2],[23,1],[23,3],[24,5],[26,2],[26,2],[26,2],[29,0],[29,2],[30,2],[31,0],[31,1],[31,2],[31,1],[31,1],[31,1],[31,2],[31,2],[31,2],[31,1],[31,1],[34,4],[34,5],[34,5],[34,6],[32,4],[32,3],[32,2],[32,4],[32,3],[32,2],[33,2],[33,2],[33,2],[33,2],[27,1],[27,1],[27,1],[43,1],[43,2],[43,1],[43,1],[62,1],[62,2],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[59,1]],performAction:(0,n.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 23:case 68:this.$=a[s];break;case 24:case 69:this.$=a[s-1]+""+a[s];break;case 26:this.$=a[s-1]+a[s];break;case 27:this.$=[a[s].trim()];break;case 28:a[s-2].push(a[s].trim()),this.$=a[s-2];break;case 29:this.$=a[s-4],n.addClass(a[s-2],a[s]);break;case 37:this.$=[];break;case 42:this.$=a[s].trim(),n.setDiagramTitle(this.$);break;case 43:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 44:case 45:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 46:n.addSection(a[s].substr(8)),this.$=a[s].substr(8);break;case 47:n.addPoint(a[s-3],"",a[s-1],a[s],[]);break;case 48:n.addPoint(a[s-4],a[s-3],a[s-1],a[s],[]);break;case 49:n.addPoint(a[s-4],"",a[s-2],a[s-1],a[s]);break;case 50:n.addPoint(a[s-5],a[s-4],a[s-2],a[s-1],a[s]);break;case 51:n.setXAxisLeftText(a[s-2]),n.setXAxisRightText(a[s]);break;case 52:a[s-1].text+=" ⟶ ",n.setXAxisLeftText(a[s-1]);break;case 53:n.setXAxisLeftText(a[s]);break;case 54:n.setYAxisBottomText(a[s-2]),n.setYAxisTopText(a[s]);break;case 55:a[s-1].text+=" ⟶ ",n.setYAxisBottomText(a[s-1]);break;case 56:n.setYAxisBottomText(a[s]);break;case 57:n.setQuadrant1Text(a[s]);break;case 58:n.setQuadrant2Text(a[s]);break;case 59:n.setQuadrant3Text(a[s]);break;case 60:n.setQuadrant4Text(a[s]);break;case 64:case 66:this.$={text:a[s],type:"text"};break;case 65:this.$={text:a[s-1].text+""+a[s],type:a[s-1].type};break;case 67:this.$={text:a[s],type:"markdown"}}}),"anonymous"),table:[{18:t,26:1,27:2,28:r,55:i,56:a,57:o},{1:[3]},{18:t,26:8,27:2,28:r,55:i,56:a,57:o},{18:t,26:9,27:2,28:r,55:i,56:a,57:o},e(s,[2,33],{29:10}),e(l,[2,61]),e(l,[2,62]),e(l,[2,63]),{1:[2,30]},{1:[2,31]},e(u,c,{30:11,31:12,24:13,32:15,33:16,34:17,43:30,58:31,1:[2,32],4:h,5:d,10:f,12:p,13:g,14:m,18:y,25:v,35:b,37:x,39:w,41:D,42:k,48:E,50:A,51:C,52:_,53:T,54:S,60:F,61:O,63:B,64:N,65:L,66:I,67:R}),e(s,[2,34]),{27:45,55:i,56:a,57:o},e(u,[2,37]),e(u,c,{24:13,32:15,33:16,34:17,43:30,58:31,31:46,4:h,5:d,10:f,12:p,13:g,14:m,18:y,25:v,35:b,37:x,39:w,41:D,42:k,48:E,50:A,51:C,52:_,53:T,54:S,60:F,61:O,63:B,64:N,65:L,66:I,67:R}),e(u,[2,39]),e(u,[2,40]),e(u,[2,41]),{36:[1,47]},{38:[1,48]},{40:[1,49]},e(u,[2,45]),e(u,[2,46]),{18:[1,50]},{4:h,5:d,10:f,12:p,13:g,14:m,43:51,58:31,60:F,61:O,63:B,64:N,65:L,66:I,67:R},{4:h,5:d,10:f,12:p,13:g,14:m,43:52,58:31,60:F,61:O,63:B,64:N,65:L,66:I,67:R},{4:h,5:d,10:f,12:p,13:g,14:m,43:53,58:31,60:F,61:O,63:B,64:N,65:L,66:I,67:R},{4:h,5:d,10:f,12:p,13:g,14:m,43:54,58:31,60:F,61:O,63:B,64:N,65:L,66:I,67:R},{4:h,5:d,10:f,12:p,13:g,14:m,43:55,58:31,60:F,61:O,63:B,64:N,65:L,66:I,67:R},{4:h,5:d,10:f,12:p,13:g,14:m,43:56,58:31,60:F,61:O,63:B,64:N,65:L,66:I,67:R},{4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,44:[1,57],47:[1,58],58:60,59:59,63:B,64:N,65:L,66:I,67:R},e(z,[2,64]),e(z,[2,66]),e(z,[2,67]),e(z,[2,70]),e(z,[2,71]),e(z,[2,72]),e(z,[2,73]),e(z,[2,74]),e(z,[2,75]),e(z,[2,76]),e(z,[2,77]),e(z,[2,78]),e(z,[2,79]),e(z,[2,80]),e(s,[2,35]),e(u,[2,38]),e(u,[2,42]),e(u,[2,43]),e(u,[2,44]),{3:64,4:$,5:j,6:K,7:q,8:U,9:H,10:W,11:G,12:V,13:Y,14:X,15:Z,21:63},e(u,[2,53],{59:59,58:60,4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,49:[1,77],63:B,64:N,65:L,66:I,67:R}),e(u,[2,56],{59:59,58:60,4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,49:[1,78],63:B,64:N,65:L,66:I,67:R}),e(u,[2,57],{59:59,58:60,4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,63:B,64:N,65:L,66:I,67:R}),e(u,[2,58],{59:59,58:60,4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,63:B,64:N,65:L,66:I,67:R}),e(u,[2,59],{59:59,58:60,4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,63:B,64:N,65:L,66:I,67:R}),e(u,[2,60],{59:59,58:60,4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,63:B,64:N,65:L,66:I,67:R}),{45:[1,79]},{44:[1,80]},e(z,[2,65]),e(z,[2,81]),e(z,[2,82]),e(z,[2,83]),{3:82,4:$,5:j,6:K,7:q,8:U,9:H,10:W,11:G,12:V,13:Y,14:X,15:Z,18:[1,81]},e(Q,[2,23]),e(Q,[2,1]),e(Q,[2,2]),e(Q,[2,3]),e(Q,[2,4]),e(Q,[2,5]),e(Q,[2,6]),e(Q,[2,7]),e(Q,[2,8]),e(Q,[2,9]),e(Q,[2,10]),e(Q,[2,11]),e(Q,[2,12]),e(u,[2,52],{58:31,43:83,4:h,5:d,10:f,12:p,13:g,14:m,60:F,61:O,63:B,64:N,65:L,66:I,67:R}),e(u,[2,55],{58:31,43:84,4:h,5:d,10:f,12:p,13:g,14:m,60:F,61:O,63:B,64:N,65:L,66:I,67:R}),{46:[1,85]},{45:[1,86]},{4:J,5:ee,6:te,8:re,11:ne,13:ie,16:89,17:ae,18:oe,19:se,20:le,22:88,23:87},e(Q,[2,24]),e(u,[2,51],{59:59,58:60,4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,63:B,64:N,65:L,66:I,67:R}),e(u,[2,54],{59:59,58:60,4:h,5:d,8:M,10:f,12:p,13:g,14:m,18:P,63:B,64:N,65:L,66:I,67:R}),e(u,[2,47],{22:88,16:89,23:100,4:J,5:ee,6:te,8:re,11:ne,13:ie,17:ae,18:oe,19:se,20:le}),{46:[1,101]},e(u,[2,29],{10:ue}),e(ce,[2,27],{16:103,4:J,5:ee,6:te,8:re,11:ne,13:ie,17:ae,18:oe,19:se,20:le}),e(he,[2,25]),e(he,[2,13]),e(he,[2,14]),e(he,[2,15]),e(he,[2,16]),e(he,[2,17]),e(he,[2,18]),e(he,[2,19]),e(he,[2,20]),e(he,[2,21]),e(he,[2,22]),e(u,[2,49],{10:ue}),e(u,[2,48],{22:88,16:89,23:104,4:J,5:ee,6:te,8:re,11:ne,13:ie,17:ae,18:oe,19:se,20:le}),{4:J,5:ee,6:te,8:re,11:ne,13:ie,16:89,17:ae,18:oe,19:se,20:le,22:105},e(he,[2,26]),e(u,[2,50],{10:ue}),e(ce,[2,28],{16:103,4:J,5:ee,6:te,8:re,11:ne,13:ie,17:ae,18:oe,19:se,20:le})],defaultActions:{8:[2,30],9:[2,31]},parseError:(0,n.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,n.K2)((function(e){var t=this,r=[0],i=[],a=[null],o=[],s=this.table,l="",u=0,c=0,h=0,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=i.pop()||f.lex()||1)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,n.K2)((function(e){r.length=r.length-2*e,a.length=a.length-e,o.length=o.length-e}),"popStack"),(0,n.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),a.push(f.yytext),o.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=a[a.length-A],T._$={first_line:o[o.length-(A||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(A||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(A||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],a,o].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),a=a.slice(0,-1*A),o=o.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),a.push(T.$),o.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},fe=function(){return{EOF:1,parseError:(0,n.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,n.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,n.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,n.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,n.K2)((function(){return this._more=!0,this}),"more"),reject:(0,n.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,n.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,n.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,n.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,n.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,n.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,n.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,n.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,n.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,n.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,n.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,n.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,n.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,n.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,n.K2)((function(e,t,r,n){switch(r){case 0:case 1:case 3:break;case 2:return 55;case 4:return this.begin("title"),35;case 5:return this.popState(),"title_value";case 6:return this.begin("acc_title"),37;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),39;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 23:case 25:case 31:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 48;case 14:return 50;case 15:return 49;case 16:return 51;case 17:return 52;case 18:return 53;case 19:return 54;case 20:return 25;case 21:this.begin("md_string");break;case 22:return"MD_STR";case 24:this.begin("string");break;case 26:return"STR";case 27:this.begin("class_name");break;case 28:return this.popState(),47;case 29:return this.begin("point_start"),44;case 30:return this.begin("point_x"),45;case 32:this.popState(),this.begin("point_y");break;case 33:return this.popState(),46;case 34:return 28;case 35:return 4;case 36:return 11;case 37:return 64;case 38:return 10;case 39:case 40:return 65;case 41:return 14;case 42:return 13;case 43:return 67;case 44:return 66;case 45:return 12;case 46:return 8;case 47:return 5;case 48:return 18;case 49:return 56;case 50:return 63;case 51:return 57}}),"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?: *x-axis *)/i,/^(?: *y-axis *)/i,/^(?: *--+> *)/i,/^(?: *quadrant-1 *)/i,/^(?: *quadrant-2 *)/i,/^(?: *quadrant-3 *)/i,/^(?: *quadrant-4 *)/i,/^(?:classDef\b)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?::::)/i,/^(?:^\w+)/i,/^(?:\s*:\s*\[\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?:\s*\] *)/i,/^(?:\s*,\s*)/i,/^(?:(1)|(0(.\d+)?))/i,/^(?: *quadrantChart *)/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s)/i,/^(?:;)/i,/^(?:[!"#$%&'*+,-.`?\\_/])/i,/^(?:$)/i],conditions:{class_name:{rules:[28],inclusive:!1},point_y:{rules:[33],inclusive:!1},point_x:{rules:[32],inclusive:!1},point_start:{rules:[30,31],inclusive:!1},acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},title:{rules:[5],inclusive:!1},md_string:{rules:[22,23],inclusive:!1},string:{rules:[25,26],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,6,8,10,13,14,15,16,17,18,19,20,21,24,27,29,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}}}();function pe(){this.yy={}}return de.lexer=fe,(0,n.K2)(pe,"Parser"),pe.prototype=de,de.Parser=pe,new pe}();a.parser=a;var o=a,s=(0,n.P$)(),l=class{constructor(){this.classes=new Map,this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData()}static{(0,n.K2)(this,"QuadrantBuilder")}getDefaultData(){return{titleText:"",quadrant1Text:"",quadrant2Text:"",quadrant3Text:"",quadrant4Text:"",xAxisLeftText:"",xAxisRightText:"",yAxisBottomText:"",yAxisTopText:"",points:[]}}getDefaultConfig(){return{showXAxis:!0,showYAxis:!0,showTitle:!0,chartHeight:n.UI.quadrantChart?.chartWidth||500,chartWidth:n.UI.quadrantChart?.chartHeight||500,titlePadding:n.UI.quadrantChart?.titlePadding||10,titleFontSize:n.UI.quadrantChart?.titleFontSize||20,quadrantPadding:n.UI.quadrantChart?.quadrantPadding||5,xAxisLabelPadding:n.UI.quadrantChart?.xAxisLabelPadding||5,yAxisLabelPadding:n.UI.quadrantChart?.yAxisLabelPadding||5,xAxisLabelFontSize:n.UI.quadrantChart?.xAxisLabelFontSize||16,yAxisLabelFontSize:n.UI.quadrantChart?.yAxisLabelFontSize||16,quadrantLabelFontSize:n.UI.quadrantChart?.quadrantLabelFontSize||16,quadrantTextTopPadding:n.UI.quadrantChart?.quadrantTextTopPadding||5,pointTextPadding:n.UI.quadrantChart?.pointTextPadding||5,pointLabelFontSize:n.UI.quadrantChart?.pointLabelFontSize||12,pointRadius:n.UI.quadrantChart?.pointRadius||5,xAxisPosition:n.UI.quadrantChart?.xAxisPosition||"top",yAxisPosition:n.UI.quadrantChart?.yAxisPosition||"left",quadrantInternalBorderStrokeWidth:n.UI.quadrantChart?.quadrantInternalBorderStrokeWidth||1,quadrantExternalBorderStrokeWidth:n.UI.quadrantChart?.quadrantExternalBorderStrokeWidth||2}}getDefaultThemeConfig(){return{quadrant1Fill:s.quadrant1Fill,quadrant2Fill:s.quadrant2Fill,quadrant3Fill:s.quadrant3Fill,quadrant4Fill:s.quadrant4Fill,quadrant1TextFill:s.quadrant1TextFill,quadrant2TextFill:s.quadrant2TextFill,quadrant3TextFill:s.quadrant3TextFill,quadrant4TextFill:s.quadrant4TextFill,quadrantPointFill:s.quadrantPointFill,quadrantPointTextFill:s.quadrantPointTextFill,quadrantXAxisTextFill:s.quadrantXAxisTextFill,quadrantYAxisTextFill:s.quadrantYAxisTextFill,quadrantTitleFill:s.quadrantTitleFill,quadrantInternalBorderStrokeFill:s.quadrantInternalBorderStrokeFill,quadrantExternalBorderStrokeFill:s.quadrantExternalBorderStrokeFill}}clear(){this.config=this.getDefaultConfig(),this.themeConfig=this.getDefaultThemeConfig(),this.data=this.getDefaultData(),this.classes=new Map,n.Rm.info("clear called")}setData(e){this.data={...this.data,...e}}addPoints(e){this.data.points=[...e,...this.data.points]}addClass(e,t){this.classes.set(e,t)}setConfig(e){n.Rm.trace("setConfig called with: ",e),this.config={...this.config,...e}}setThemeConfig(e){n.Rm.trace("setThemeConfig called with: ",e),this.themeConfig={...this.themeConfig,...e}}calculateSpace(e,t,r,n){const i=2*this.config.xAxisLabelPadding+this.config.xAxisLabelFontSize,a={top:"top"===e&&t?i:0,bottom:"bottom"===e&&t?i:0},o=2*this.config.yAxisLabelPadding+this.config.yAxisLabelFontSize,s={left:"left"===this.config.yAxisPosition&&r?o:0,right:"right"===this.config.yAxisPosition&&r?o:0},l=this.config.titleFontSize+2*this.config.titlePadding,u={top:n?l:0},c=this.config.quadrantPadding+s.left,h=this.config.quadrantPadding+a.top+u.top,d=this.config.chartWidth-2*this.config.quadrantPadding-s.left-s.right,f=this.config.chartHeight-2*this.config.quadrantPadding-a.top-a.bottom-u.top;return{xAxisSpace:a,yAxisSpace:s,titleSpace:u,quadrantSpace:{quadrantLeft:c,quadrantTop:h,quadrantWidth:d,quadrantHalfWidth:d/2,quadrantHeight:f,quadrantHalfHeight:f/2}}}getAxisLabels(e,t,r,n){const{quadrantSpace:i,titleSpace:a}=n,{quadrantHalfHeight:o,quadrantHeight:s,quadrantLeft:l,quadrantHalfWidth:u,quadrantTop:c,quadrantWidth:h}=i,d=Boolean(this.data.xAxisRightText),f=Boolean(this.data.yAxisTopText),p=[];return this.data.xAxisLeftText&&t&&p.push({text:this.data.xAxisLeftText,fill:this.themeConfig.quadrantXAxisTextFill,x:l+(d?u/2:0),y:"top"===e?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+c+s+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:d?"center":"left",horizontalPos:"top",rotation:0}),this.data.xAxisRightText&&t&&p.push({text:this.data.xAxisRightText,fill:this.themeConfig.quadrantXAxisTextFill,x:l+u+(d?u/2:0),y:"top"===e?this.config.xAxisLabelPadding+a.top:this.config.xAxisLabelPadding+c+s+this.config.quadrantPadding,fontSize:this.config.xAxisLabelFontSize,verticalPos:d?"center":"left",horizontalPos:"top",rotation:0}),this.data.yAxisBottomText&&r&&p.push({text:this.data.yAxisBottomText,fill:this.themeConfig.quadrantYAxisTextFill,x:"left"===this.config.yAxisPosition?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+l+h+this.config.quadrantPadding,y:c+s-(f?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:-90}),this.data.yAxisTopText&&r&&p.push({text:this.data.yAxisTopText,fill:this.themeConfig.quadrantYAxisTextFill,x:"left"===this.config.yAxisPosition?this.config.yAxisLabelPadding:this.config.yAxisLabelPadding+l+h+this.config.quadrantPadding,y:c+o-(f?o/2:0),fontSize:this.config.yAxisLabelFontSize,verticalPos:f?"center":"left",horizontalPos:"top",rotation:-90}),p}getQuadrants(e){const{quadrantSpace:t}=e,{quadrantHalfHeight:r,quadrantLeft:n,quadrantHalfWidth:i,quadrantTop:a}=t,o=[{text:{text:this.data.quadrant1Text,fill:this.themeConfig.quadrant1TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+i,y:a,width:i,height:r,fill:this.themeConfig.quadrant1Fill},{text:{text:this.data.quadrant2Text,fill:this.themeConfig.quadrant2TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:a,width:i,height:r,fill:this.themeConfig.quadrant2Fill},{text:{text:this.data.quadrant3Text,fill:this.themeConfig.quadrant3TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n,y:a+r,width:i,height:r,fill:this.themeConfig.quadrant3Fill},{text:{text:this.data.quadrant4Text,fill:this.themeConfig.quadrant4TextFill,x:0,y:0,fontSize:this.config.quadrantLabelFontSize,verticalPos:"center",horizontalPos:"middle",rotation:0},x:n+i,y:a+r,width:i,height:r,fill:this.themeConfig.quadrant4Fill}];for(const e of o)e.text.x=e.x+e.width/2,0===this.data.points.length?(e.text.y=e.y+e.height/2,e.text.horizontalPos="middle"):(e.text.y=e.y+this.config.quadrantTextTopPadding,e.text.horizontalPos="top");return o}getQuadrantPoints(e){const{quadrantSpace:t}=e,{quadrantHeight:r,quadrantLeft:n,quadrantTop:a,quadrantWidth:o}=t,s=(0,i.m4Y)().domain([0,1]).range([n,o+n]),l=(0,i.m4Y)().domain([0,1]).range([r+a,a]);return this.data.points.map((e=>{const t=this.classes.get(e.className);return t&&(e={...t,...e}),{x:s(e.x),y:l(e.y),fill:e.color??this.themeConfig.quadrantPointFill,radius:e.radius??this.config.pointRadius,text:{text:e.text,fill:this.themeConfig.quadrantPointTextFill,x:s(e.x),y:l(e.y)+this.config.pointTextPadding,verticalPos:"center",horizontalPos:"top",fontSize:this.config.pointLabelFontSize,rotation:0},strokeColor:e.strokeColor??this.themeConfig.quadrantPointFill,strokeWidth:e.strokeWidth??"0px"}}))}getBorders(e){const t=this.config.quadrantExternalBorderStrokeWidth/2,{quadrantSpace:r}=e,{quadrantHalfHeight:n,quadrantHeight:i,quadrantLeft:a,quadrantHalfWidth:o,quadrantTop:s,quadrantWidth:l}=r;return[{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-t,y1:s,x2:a+l+t,y2:s},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a+l,y1:s+t,x2:a+l,y2:s+i-t},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a-t,y1:s+i,x2:a+l+t,y2:s+i},{strokeFill:this.themeConfig.quadrantExternalBorderStrokeFill,strokeWidth:this.config.quadrantExternalBorderStrokeWidth,x1:a,y1:s+t,x2:a,y2:s+i-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+o,y1:s+t,x2:a+o,y2:s+i-t},{strokeFill:this.themeConfig.quadrantInternalBorderStrokeFill,strokeWidth:this.config.quadrantInternalBorderStrokeWidth,x1:a+t,y1:s+n,x2:a+l-t,y2:s+n}]}getTitle(e){if(e)return{text:this.data.titleText,fill:this.themeConfig.quadrantTitleFill,fontSize:this.config.titleFontSize,horizontalPos:"top",verticalPos:"center",rotation:0,y:this.config.titlePadding,x:this.config.chartWidth/2}}build(){const e=this.config.showXAxis&&!(!this.data.xAxisLeftText&&!this.data.xAxisRightText),t=this.config.showYAxis&&!(!this.data.yAxisTopText&&!this.data.yAxisBottomText),r=this.config.showTitle&&!!this.data.titleText,n=this.data.points.length>0?"bottom":this.config.xAxisPosition,i=this.calculateSpace(n,e,t,r);return{points:this.getQuadrantPoints(i),quadrants:this.getQuadrants(i),axisLabels:this.getAxisLabels(n,e,t,i),borderLines:this.getBorders(i),title:this.getTitle(r)}}},u=class extends Error{static{(0,n.K2)(this,"InvalidStyleError")}constructor(e,t,r){super(`value for ${e} ${t} is invalid, please use a valid ${r}`),this.name="InvalidStyleError"}};function c(e){return!/^#?([\dA-Fa-f]{6}|[\dA-Fa-f]{3})$/.test(e)}function h(e){return!/^\d+$/.test(e)}function d(e){return!/^\d+px$/.test(e)}(0,n.K2)(c,"validateHexCode"),(0,n.K2)(h,"validateNumber"),(0,n.K2)(d,"validateSizeInPixels");var f=(0,n.D7)();function p(e){return(0,n.jZ)(e.trim(),f)}(0,n.K2)(p,"textSanitizer");var g=new l;function m(e){g.setData({quadrant1Text:p(e.text)})}function y(e){g.setData({quadrant2Text:p(e.text)})}function v(e){g.setData({quadrant3Text:p(e.text)})}function b(e){g.setData({quadrant4Text:p(e.text)})}function x(e){g.setData({xAxisLeftText:p(e.text)})}function w(e){g.setData({xAxisRightText:p(e.text)})}function D(e){g.setData({yAxisTopText:p(e.text)})}function k(e){g.setData({yAxisBottomText:p(e.text)})}function E(e){const t={};for(const r of e){const[e,n]=r.trim().split(/\s*:\s*/);if("radius"===e){if(h(n))throw new u(e,n,"number");t.radius=parseInt(n)}else if("color"===e){if(c(n))throw new u(e,n,"hex code");t.color=n}else if("stroke-color"===e){if(c(n))throw new u(e,n,"hex code");t.strokeColor=n}else{if("stroke-width"!==e)throw new Error(`style named ${e} is not supported.`);if(d(n))throw new u(e,n,"number of pixels (eg. 10px)");t.strokeWidth=n}}return t}function A(e,t,r,n,i){const a=E(i);g.addPoints([{x:r,y:n,text:p(e.text),className:t,...a}])}function C(e,t){g.addClass(e,E(t))}function _(e){g.setConfig({chartWidth:e})}function T(e){g.setConfig({chartHeight:e})}function S(){const e=(0,n.D7)(),{themeVariables:t,quadrantChart:r}=e;return r&&g.setConfig(r),g.setThemeConfig({quadrant1Fill:t.quadrant1Fill,quadrant2Fill:t.quadrant2Fill,quadrant3Fill:t.quadrant3Fill,quadrant4Fill:t.quadrant4Fill,quadrant1TextFill:t.quadrant1TextFill,quadrant2TextFill:t.quadrant2TextFill,quadrant3TextFill:t.quadrant3TextFill,quadrant4TextFill:t.quadrant4TextFill,quadrantPointFill:t.quadrantPointFill,quadrantPointTextFill:t.quadrantPointTextFill,quadrantXAxisTextFill:t.quadrantXAxisTextFill,quadrantYAxisTextFill:t.quadrantYAxisTextFill,quadrantExternalBorderStrokeFill:t.quadrantExternalBorderStrokeFill,quadrantInternalBorderStrokeFill:t.quadrantInternalBorderStrokeFill,quadrantTitleFill:t.quadrantTitleFill}),g.setData({titleText:(0,n.ab)()}),g.build()}(0,n.K2)(m,"setQuadrant1Text"),(0,n.K2)(y,"setQuadrant2Text"),(0,n.K2)(v,"setQuadrant3Text"),(0,n.K2)(b,"setQuadrant4Text"),(0,n.K2)(x,"setXAxisLeftText"),(0,n.K2)(w,"setXAxisRightText"),(0,n.K2)(D,"setYAxisTopText"),(0,n.K2)(k,"setYAxisBottomText"),(0,n.K2)(E,"parseStyles"),(0,n.K2)(A,"addPoint"),(0,n.K2)(C,"addClass"),(0,n.K2)(_,"setWidth"),(0,n.K2)(T,"setHeight"),(0,n.K2)(S,"getQuadrantData");var F={parser:o,db:{setWidth:_,setHeight:T,setQuadrant1Text:m,setQuadrant2Text:y,setQuadrant3Text:v,setQuadrant4Text:b,setXAxisLeftText:x,setXAxisRightText:w,setYAxisTopText:D,setYAxisBottomText:k,parseStyles:E,addPoint:A,addClass:C,getQuadrantData:S,clear:(0,n.K2)((function(){g.clear(),(0,n.IU)()}),"clear"),setAccTitle:n.SV,getAccTitle:n.iN,setDiagramTitle:n.ke,getDiagramTitle:n.ab,getAccDescription:n.m7,setAccDescription:n.EI},renderer:{draw:(0,n.K2)(((e,t,r,a)=>{function o(e){return"top"===e?"hanging":"middle"}function s(e){return"left"===e?"start":"middle"}function l(e){return`translate(${e.x}, ${e.y}) rotate(${e.rotation||0})`}(0,n.K2)(o,"getDominantBaseLine"),(0,n.K2)(s,"getTextAnchor"),(0,n.K2)(l,"getTransformation");const u=(0,n.D7)();n.Rm.debug("Rendering quadrant chart\n"+e);const c=u.securityLevel;let h;"sandbox"===c&&(h=(0,i.Ltv)("#i"+t));const d=("sandbox"===c?(0,i.Ltv)(h.nodes()[0].contentDocument.body):(0,i.Ltv)("body")).select(`[id="${t}"]`),f=d.append("g").attr("class","main"),p=u.quadrantChart?.chartWidth??500,g=u.quadrantChart?.chartHeight??500;(0,n.a$)(d,g,p,u.quadrantChart?.useMaxWidth??!0),d.attr("viewBox","0 0 "+p+" "+g),a.db.setHeight(g),a.db.setWidth(p);const m=a.db.getQuadrantData(),y=f.append("g").attr("class","quadrants"),v=f.append("g").attr("class","border"),b=f.append("g").attr("class","data-points"),x=f.append("g").attr("class","labels"),w=f.append("g").attr("class","title");m.title&&w.append("text").attr("x",0).attr("y",0).attr("fill",m.title.fill).attr("font-size",m.title.fontSize).attr("dominant-baseline",o(m.title.horizontalPos)).attr("text-anchor",s(m.title.verticalPos)).attr("transform",l(m.title)).text(m.title.text),m.borderLines&&v.selectAll("line").data(m.borderLines).enter().append("line").attr("x1",(e=>e.x1)).attr("y1",(e=>e.y1)).attr("x2",(e=>e.x2)).attr("y2",(e=>e.y2)).style("stroke",(e=>e.strokeFill)).style("stroke-width",(e=>e.strokeWidth));const D=y.selectAll("g.quadrant").data(m.quadrants).enter().append("g").attr("class","quadrant");D.append("rect").attr("x",(e=>e.x)).attr("y",(e=>e.y)).attr("width",(e=>e.width)).attr("height",(e=>e.height)).attr("fill",(e=>e.fill)),D.append("text").attr("x",0).attr("y",0).attr("fill",(e=>e.text.fill)).attr("font-size",(e=>e.text.fontSize)).attr("dominant-baseline",(e=>o(e.text.horizontalPos))).attr("text-anchor",(e=>s(e.text.verticalPos))).attr("transform",(e=>l(e.text))).text((e=>e.text.text)),x.selectAll("g.label").data(m.axisLabels).enter().append("g").attr("class","label").append("text").attr("x",0).attr("y",0).text((e=>e.text)).attr("fill",(e=>e.fill)).attr("font-size",(e=>e.fontSize)).attr("dominant-baseline",(e=>o(e.horizontalPos))).attr("text-anchor",(e=>s(e.verticalPos))).attr("transform",(e=>l(e)));const k=b.selectAll("g.data-point").data(m.points).enter().append("g").attr("class","data-point");k.append("circle").attr("cx",(e=>e.x)).attr("cy",(e=>e.y)).attr("r",(e=>e.radius)).attr("fill",(e=>e.fill)).attr("stroke",(e=>e.strokeColor)).attr("stroke-width",(e=>e.strokeWidth)),k.append("text").attr("x",0).attr("y",0).text((e=>e.text.text)).attr("fill",(e=>e.text.fill)).attr("font-size",(e=>e.text.fontSize)).attr("dominant-baseline",(e=>o(e.text.horizontalPos))).attr("text-anchor",(e=>s(e.text.verticalPos))).attr("transform",(e=>l(e.text)))}),"draw")},styles:(0,n.K2)((()=>""),"styles")}},8413:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>q});var n=r(7692),i=r(5763),a=r(4776),o=r(8756),s=function(){var e=(0,n.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,3],r=[1,4],i=[1,5],a=[1,6],o=[5,6,8,9,11,13,31,32,33,34,35,36,44,62,63],s=[1,18],l=[2,7],u=[1,22],c=[1,23],h=[1,24],d=[1,25],f=[1,26],p=[1,27],g=[1,20],m=[1,28],y=[1,29],v=[62,63],b=[5,8,9,11,13,31,32,33,34,35,36,44,51,53,62,63],x=[1,47],w=[1,48],D=[1,49],k=[1,50],E=[1,51],A=[1,52],C=[1,53],_=[53,54],T=[1,64],S=[1,60],F=[1,61],O=[1,62],B=[1,63],N=[1,65],L=[1,69],I=[1,70],R=[1,67],M=[1,68],P=[5,8,9,11,13,31,32,33,34,35,36,44,62,63],z={trace:(0,n.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,acc_title:9,acc_title_value:10,acc_descr:11,acc_descr_value:12,acc_descr_multiline_value:13,requirementDef:14,elementDef:15,relationshipDef:16,requirementType:17,requirementName:18,STRUCT_START:19,requirementBody:20,ID:21,COLONSEP:22,id:23,TEXT:24,text:25,RISK:26,riskLevel:27,VERIFYMTHD:28,verifyType:29,STRUCT_STOP:30,REQUIREMENT:31,FUNCTIONAL_REQUIREMENT:32,INTERFACE_REQUIREMENT:33,PERFORMANCE_REQUIREMENT:34,PHYSICAL_REQUIREMENT:35,DESIGN_CONSTRAINT:36,LOW_RISK:37,MED_RISK:38,HIGH_RISK:39,VERIFY_ANALYSIS:40,VERIFY_DEMONSTRATION:41,VERIFY_INSPECTION:42,VERIFY_TEST:43,ELEMENT:44,elementName:45,elementBody:46,TYPE:47,type:48,DOCREF:49,ref:50,END_ARROW_L:51,relationship:52,LINE:53,END_ARROW_R:54,CONTAINS:55,COPIES:56,DERIVES:57,SATISFIES:58,VERIFIES:59,REFINES:60,TRACES:61,unqString:62,qString:63,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",9:"acc_title",10:"acc_title_value",11:"acc_descr",12:"acc_descr_value",13:"acc_descr_multiline_value",19:"STRUCT_START",21:"ID",22:"COLONSEP",24:"TEXT",26:"RISK",28:"VERIFYMTHD",30:"STRUCT_STOP",31:"REQUIREMENT",32:"FUNCTIONAL_REQUIREMENT",33:"INTERFACE_REQUIREMENT",34:"PERFORMANCE_REQUIREMENT",35:"PHYSICAL_REQUIREMENT",36:"DESIGN_CONSTRAINT",37:"LOW_RISK",38:"MED_RISK",39:"HIGH_RISK",40:"VERIFY_ANALYSIS",41:"VERIFY_DEMONSTRATION",42:"VERIFY_INSPECTION",43:"VERIFY_TEST",44:"ELEMENT",47:"TYPE",49:"DOCREF",51:"END_ARROW_L",53:"LINE",54:"END_ARROW_R",55:"CONTAINS",56:"COPIES",57:"DERIVES",58:"SATISFIES",59:"VERIFIES",60:"REFINES",61:"TRACES",62:"unqString",63:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,2],[4,2],[4,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[14,5],[20,5],[20,5],[20,5],[20,5],[20,2],[20,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[27,1],[27,1],[27,1],[29,1],[29,1],[29,1],[29,1],[15,5],[46,5],[46,5],[46,2],[46,1],[16,5],[16,5],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[52,1],[18,1],[18,1],[23,1],[23,1],[25,1],[25,1],[45,1],[45,1],[48,1],[48,1],[50,1],[50,1]],performAction:(0,n.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 4:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 5:case 6:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 7:this.$=[];break;case 13:n.addRequirement(a[s-3],a[s-4]);break;case 14:n.setNewReqId(a[s-2]);break;case 15:n.setNewReqText(a[s-2]);break;case 16:n.setNewReqRisk(a[s-2]);break;case 17:n.setNewReqVerifyMethod(a[s-2]);break;case 20:this.$=n.RequirementType.REQUIREMENT;break;case 21:this.$=n.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 22:this.$=n.RequirementType.INTERFACE_REQUIREMENT;break;case 23:this.$=n.RequirementType.PERFORMANCE_REQUIREMENT;break;case 24:this.$=n.RequirementType.PHYSICAL_REQUIREMENT;break;case 25:this.$=n.RequirementType.DESIGN_CONSTRAINT;break;case 26:this.$=n.RiskLevel.LOW_RISK;break;case 27:this.$=n.RiskLevel.MED_RISK;break;case 28:this.$=n.RiskLevel.HIGH_RISK;break;case 29:this.$=n.VerifyType.VERIFY_ANALYSIS;break;case 30:this.$=n.VerifyType.VERIFY_DEMONSTRATION;break;case 31:this.$=n.VerifyType.VERIFY_INSPECTION;break;case 32:this.$=n.VerifyType.VERIFY_TEST;break;case 33:n.addElement(a[s-3]);break;case 34:n.setNewElementType(a[s-2]);break;case 35:n.setNewElementDocRef(a[s-2]);break;case 38:n.addRelationship(a[s-2],a[s],a[s-4]);break;case 39:n.addRelationship(a[s-2],a[s-4],a[s]);break;case 40:this.$=n.Relationships.CONTAINS;break;case 41:this.$=n.Relationships.COPIES;break;case 42:this.$=n.Relationships.DERIVES;break;case 43:this.$=n.Relationships.SATISFIES;break;case 44:this.$=n.Relationships.VERIFIES;break;case 45:this.$=n.Relationships.REFINES;break;case 46:this.$=n.Relationships.TRACES}}),"anonymous"),table:[{3:1,4:2,6:t,9:r,11:i,13:a},{1:[3]},{3:8,4:2,5:[1,7],6:t,9:r,11:i,13:a},{5:[1,9]},{10:[1,10]},{12:[1,11]},e(o,[2,6]),{3:12,4:2,6:t,9:r,11:i,13:a},{1:[2,2]},{4:17,5:s,7:13,8:l,9:r,11:i,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:c,33:h,34:d,35:f,36:p,44:g,62:m,63:y},e(o,[2,4]),e(o,[2,5]),{1:[2,1]},{8:[1,30]},{4:17,5:s,7:31,8:l,9:r,11:i,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:c,33:h,34:d,35:f,36:p,44:g,62:m,63:y},{4:17,5:s,7:32,8:l,9:r,11:i,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:c,33:h,34:d,35:f,36:p,44:g,62:m,63:y},{4:17,5:s,7:33,8:l,9:r,11:i,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:c,33:h,34:d,35:f,36:p,44:g,62:m,63:y},{4:17,5:s,7:34,8:l,9:r,11:i,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:c,33:h,34:d,35:f,36:p,44:g,62:m,63:y},{4:17,5:s,7:35,8:l,9:r,11:i,13:a,14:14,15:15,16:16,17:19,23:21,31:u,32:c,33:h,34:d,35:f,36:p,44:g,62:m,63:y},{18:36,62:[1,37],63:[1,38]},{45:39,62:[1,40],63:[1,41]},{51:[1,42],53:[1,43]},e(v,[2,20]),e(v,[2,21]),e(v,[2,22]),e(v,[2,23]),e(v,[2,24]),e(v,[2,25]),e(b,[2,49]),e(b,[2,50]),{1:[2,3]},{8:[2,8]},{8:[2,9]},{8:[2,10]},{8:[2,11]},{8:[2,12]},{19:[1,44]},{19:[2,47]},{19:[2,48]},{19:[1,45]},{19:[2,53]},{19:[2,54]},{52:46,55:x,56:w,57:D,58:k,59:E,60:A,61:C},{52:54,55:x,56:w,57:D,58:k,59:E,60:A,61:C},{5:[1,55]},{5:[1,56]},{53:[1,57]},e(_,[2,40]),e(_,[2,41]),e(_,[2,42]),e(_,[2,43]),e(_,[2,44]),e(_,[2,45]),e(_,[2,46]),{54:[1,58]},{5:T,20:59,21:S,24:F,26:O,28:B,30:N},{5:L,30:I,46:66,47:R,49:M},{23:71,62:m,63:y},{23:72,62:m,63:y},e(P,[2,13]),{22:[1,73]},{22:[1,74]},{22:[1,75]},{22:[1,76]},{5:T,20:77,21:S,24:F,26:O,28:B,30:N},e(P,[2,19]),e(P,[2,33]),{22:[1,78]},{22:[1,79]},{5:L,30:I,46:80,47:R,49:M},e(P,[2,37]),e(P,[2,38]),e(P,[2,39]),{23:81,62:m,63:y},{25:82,62:[1,83],63:[1,84]},{27:85,37:[1,86],38:[1,87],39:[1,88]},{29:89,40:[1,90],41:[1,91],42:[1,92],43:[1,93]},e(P,[2,18]),{48:94,62:[1,95],63:[1,96]},{50:97,62:[1,98],63:[1,99]},e(P,[2,36]),{5:[1,100]},{5:[1,101]},{5:[2,51]},{5:[2,52]},{5:[1,102]},{5:[2,26]},{5:[2,27]},{5:[2,28]},{5:[1,103]},{5:[2,29]},{5:[2,30]},{5:[2,31]},{5:[2,32]},{5:[1,104]},{5:[2,55]},{5:[2,56]},{5:[1,105]},{5:[2,57]},{5:[2,58]},{5:T,20:106,21:S,24:F,26:O,28:B,30:N},{5:T,20:107,21:S,24:F,26:O,28:B,30:N},{5:T,20:108,21:S,24:F,26:O,28:B,30:N},{5:T,20:109,21:S,24:F,26:O,28:B,30:N},{5:L,30:I,46:110,47:R,49:M},{5:L,30:I,46:111,47:R,49:M},e(P,[2,14]),e(P,[2,15]),e(P,[2,16]),e(P,[2,17]),e(P,[2,34]),e(P,[2,35])],defaultActions:{8:[2,2],12:[2,1],30:[2,3],31:[2,8],32:[2,9],33:[2,10],34:[2,11],35:[2,12],37:[2,47],38:[2,48],40:[2,53],41:[2,54],83:[2,51],84:[2,52],86:[2,26],87:[2,27],88:[2,28],90:[2,29],91:[2,30],92:[2,31],93:[2,32],95:[2,55],96:[2,56],98:[2,57],99:[2,58]},parseError:(0,n.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,n.K2)((function(e){var t=this,r=[0],i=[],a=[null],o=[],s=this.table,l="",u=0,c=0,h=0,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=i.pop()||f.lex()||1)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,n.K2)((function(e){r.length=r.length-2*e,a.length=a.length-e,o.length=o.length-e}),"popStack"),(0,n.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),a.push(f.yytext),o.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=a[a.length-A],T._$={first_line:o[o.length-(A||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(A||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(A||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],a,o].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),a=a.slice(0,-1*A),o=o.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),a.push(T.$),o.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},$=function(){return{EOF:1,parseError:(0,n.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,n.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,n.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,n.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,n.K2)((function(){return this._more=!0,this}),"more"),reject:(0,n.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,n.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,n.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,n.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,n.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,n.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,n.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,n.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,n.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,n.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,n.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,n.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,n.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,n.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,n.K2)((function(e,t,r,n){switch(r){case 0:return"title";case 1:return this.begin("acc_title"),9;case 2:return this.popState(),"acc_title_value";case 3:return this.begin("acc_descr"),11;case 4:return this.popState(),"acc_descr_value";case 5:this.begin("acc_descr_multiline");break;case 6:case 48:this.popState();break;case 7:return"acc_descr_multiline_value";case 8:return 5;case 9:case 10:case 11:break;case 12:return 8;case 13:return 6;case 14:return 19;case 15:return 30;case 16:return 22;case 17:return 21;case 18:return 24;case 19:return 26;case 20:return 28;case 21:return 31;case 22:return 32;case 23:return 33;case 24:return 34;case 25:return 35;case 26:return 36;case 27:return 37;case 28:return 38;case 29:return 39;case 30:return 40;case 31:return 41;case 32:return 42;case 33:return 43;case 34:return 44;case 35:return 55;case 36:return 56;case 37:return 57;case 38:return 58;case 39:return 59;case 40:return 60;case 41:return 61;case 42:return 47;case 43:return 49;case 44:return 51;case 45:return 54;case 46:return 53;case 47:this.begin("string");break;case 49:return"qString";case 50:return t.yytext=t.yytext.trim(),62}}),"anonymous"),rules:[/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[6,7],inclusive:!1},acc_descr:{rules:[4],inclusive:!1},acc_title:{rules:[2],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[48,49],inclusive:!1},INITIAL:{rules:[0,1,3,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,50],inclusive:!0}}}}();function j(){this.yy={}}return z.lexer=$,(0,n.K2)(j,"Parser"),j.prototype=z,z.Parser=j,new j}();s.parser=s;var l=s,u=[],c={},h=new Map,d={},f=new Map,p=(0,n.K2)(((e,t)=>(h.has(e)||h.set(e,{name:e,type:t,id:c.id,text:c.text,risk:c.risk,verifyMethod:c.verifyMethod}),c={},h.get(e))),"addRequirement"),g=(0,n.K2)((()=>h),"getRequirements"),m=(0,n.K2)((e=>{void 0!==c&&(c.id=e)}),"setNewReqId"),y=(0,n.K2)((e=>{void 0!==c&&(c.text=e)}),"setNewReqText"),v=(0,n.K2)((e=>{void 0!==c&&(c.risk=e)}),"setNewReqRisk"),b=(0,n.K2)((e=>{void 0!==c&&(c.verifyMethod=e)}),"setNewReqVerifyMethod"),x=(0,n.K2)((e=>(f.has(e)||(f.set(e,{name:e,type:d.type,docRef:d.docRef}),n.Rm.info("Added new requirement: ",e)),d={},f.get(e))),"addElement"),w=(0,n.K2)((()=>f),"getElements"),D=(0,n.K2)((e=>{void 0!==d&&(d.type=e)}),"setNewElementType"),k=(0,n.K2)((e=>{void 0!==d&&(d.docRef=e)}),"setNewElementDocRef"),E=(0,n.K2)(((e,t,r)=>{u.push({type:e,src:t,dst:r})}),"addRelationship"),A=(0,n.K2)((()=>u),"getRelationships"),C=(0,n.K2)((()=>{u=[],c={},h=new Map,d={},f=new Map,(0,n.IU)()}),"clear"),_={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},getConfig:(0,n.K2)((()=>(0,n.D7)().req),"getConfig"),addRequirement:p,getRequirements:g,setNewReqId:m,setNewReqText:y,setNewReqRisk:v,setNewReqVerifyMethod:b,setAccTitle:n.SV,getAccTitle:n.iN,setAccDescription:n.EI,getAccDescription:n.m7,addElement:x,getElements:w,setNewElementType:D,setNewElementDocRef:k,addRelationship:E,getRelationships:A,clear:C},T=(0,n.K2)((e=>`\n\n  marker {\n    fill: ${e.relationColor};\n    stroke: ${e.relationColor};\n  }\n\n  marker.cross {\n    stroke: ${e.lineColor};\n  }\n\n  svg {\n    font-family: ${e.fontFamily};\n    font-size: ${e.fontSize};\n  }\n\n  .reqBox {\n    fill: ${e.requirementBackground};\n    fill-opacity: 1.0;\n    stroke: ${e.requirementBorderColor};\n    stroke-width: ${e.requirementBorderSize};\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ${e.requirementTextColor};\n  }\n  .reqLabelBox {\n    fill: ${e.relationLabelBackground};\n    fill-opacity: 1.0;\n  }\n\n  .req-title-line {\n    stroke: ${e.requirementBorderColor};\n    stroke-width: ${e.requirementBorderSize};\n  }\n  .relationshipLine {\n    stroke: ${e.relationColor};\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ${e.relationLabelColor};\n  }\n\n`),"getStyles"),S={CONTAINS:"contains",ARROW:"arrow"},F={ReqMarkers:S,insertLineEndings:(0,n.K2)(((e,t)=>{let r=e.append("defs").append("marker").attr("id",S.CONTAINS+"_line_ending").attr("refX",0).attr("refY",t.line_height/2).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("g");r.append("circle").attr("cx",t.line_height/2).attr("cy",t.line_height/2).attr("r",t.line_height/2).attr("fill","none"),r.append("line").attr("x1",0).attr("x2",t.line_height).attr("y1",t.line_height/2).attr("y2",t.line_height/2).attr("stroke-width",1),r.append("line").attr("y1",0).attr("y2",t.line_height).attr("x1",t.line_height/2).attr("x2",t.line_height/2).attr("stroke-width",1),e.append("defs").append("marker").attr("id",S.ARROW+"_line_ending").attr("refX",t.line_height).attr("refY",.5*t.line_height).attr("markerWidth",t.line_height).attr("markerHeight",t.line_height).attr("orient","auto").append("path").attr("d",`M0,0\n      L${t.line_height},${t.line_height/2}\n      M${t.line_height},${t.line_height/2}\n      L0,${t.line_height}`).attr("stroke-width",1)}),"insertLineEndings")},O={},B=0,N=(0,n.K2)(((e,t)=>e.insert("rect","#"+t).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",O.rect_min_width+"px").attr("height",O.rect_min_height+"px")),"newRectNode"),L=(0,n.K2)(((e,t,r)=>{let n=O.rect_min_width/2,i=e.append("text").attr("class","req reqLabel reqTitle").attr("id",t).attr("x",n).attr("y",O.rect_padding).attr("dominant-baseline","hanging"),a=0;r.forEach((e=>{0==a?i.append("tspan").attr("text-anchor","middle").attr("x",O.rect_min_width/2).attr("dy",0).text(e):i.append("tspan").attr("text-anchor","middle").attr("x",O.rect_min_width/2).attr("dy",.75*O.line_height).text(e),a++}));let o=1.5*O.rect_padding+a*O.line_height*.75;return e.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",O.rect_min_width).attr("y1",o).attr("y2",o),{titleNode:i,y:o}}),"newTitleNode"),I=(0,n.K2)(((e,t,r,n)=>{let i=e.append("text").attr("class","req reqLabel").attr("id",t).attr("x",O.rect_padding).attr("y",n).attr("dominant-baseline","hanging"),a=0,o=[];return r.forEach((e=>{let t=e.length;for(;t>30&&a<3;){let r=e.substring(0,30);t=(e=e.substring(30,e.length)).length,o[o.length]=r,a++}if(3==a){let e=o[o.length-1];o[o.length-1]=e.substring(0,e.length-4)+"..."}else o[o.length]=e;a=0})),o.forEach((e=>{i.append("tspan").attr("x",O.rect_padding).attr("dy",O.line_height).text(e)})),i}),"newBodyNode"),R=(0,n.K2)(((e,t,r,n)=>{const i=t.node().getTotalLength(),a=t.node().getPointAtLength(.5*i),o="rel"+B;B++;const s=e.append("text").attr("class","req relationshipLabel").attr("id",o).attr("x",a.x).attr("y",a.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(n).node().getBBox();e.insert("rect","#"+o).attr("class","req reqLabelBox").attr("x",a.x-s.width/2).attr("y",a.y-s.height/2).attr("width",s.width).attr("height",s.height).attr("fill","white").attr("fill-opacity","85%")}),"addEdgeLabel"),M=(0,n.K2)((function(e,t,r,a,o){const s=r.edge(K(t.src),K(t.dst)),l=(0,i.n8j)().x((function(e){return e.x})).y((function(e){return e.y})),u=e.insert("path","#"+a).attr("class","er relationshipLine").attr("d",l(s.points)).attr("fill","none");t.type==o.db.Relationships.CONTAINS?u.attr("marker-start","url("+n.Y2.getUrl(O.arrowMarkerAbsolute)+"#"+t.type+"_line_ending)"):(u.attr("stroke-dasharray","10,7"),u.attr("marker-end","url("+n.Y2.getUrl(O.arrowMarkerAbsolute)+"#"+F.ReqMarkers.ARROW+"_line_ending)")),R(e,u,O,`<<${t.type}>>`)}),"drawRelationshipFromLayout"),P=(0,n.K2)(((e,t,r)=>{e.forEach(((e,i)=>{i=K(i),n.Rm.info("Added new requirement: ",i);const a=r.append("g").attr("id",i),o=N(a,"req-"+i);let s=[],l=L(a,i+"_title",[`<<${e.type}>>`,`${e.name}`]);s.push(l.titleNode);let u=I(a,i+"_body",[`Id: ${e.id}`,`Text: ${e.text}`,`Risk: ${e.risk}`,`Verification: ${e.verifyMethod}`],l.y);s.push(u);const c=o.node().getBBox();t.setNode(i,{width:c.width,height:c.height,shape:"rect",id:i})}))}),"drawReqs"),z=(0,n.K2)(((e,t,r)=>{e.forEach(((e,n)=>{const i=K(n),a=r.append("g").attr("id",i),o="element-"+i,s=N(a,o);let l=[],u=L(a,o+"_title",["<<Element>>",`${n}`]);l.push(u.titleNode);let c=I(a,o+"_body",[`Type: ${e.type||"Not Specified"}`,`Doc Ref: ${e.docRef||"None"}`],u.y);l.push(c);const h=s.node().getBBox();t.setNode(i,{width:h.width,height:h.height,shape:"rect",id:i})}))}),"drawElements"),$=(0,n.K2)(((e,t)=>(e.forEach((function(e){let r=K(e.src),n=K(e.dst);t.setEdge(r,n,{relationship:e})})),e)),"addRelationships"),j=(0,n.K2)((function(e,t){t.nodes().forEach((function(r){void 0!==r&&void 0!==t.node(r)&&(e.select("#"+r),e.select("#"+r).attr("transform","translate("+(t.node(r).x-t.node(r).width/2)+","+(t.node(r).y-t.node(r).height/2)+" )"))}))}),"adjustEntities"),K=(0,n.K2)((e=>e.replace(/\s/g,"").replace(/\./g,"_")),"elementString"),q={parser:l,db:_,renderer:{draw:(0,n.K2)(((e,t,r,s)=>{const l=(O=(0,n.D7)().requirement).securityLevel;let u;"sandbox"===l&&(u=(0,i.Ltv)("#i"+t));const c=("sandbox"===l?(0,i.Ltv)(u.nodes()[0].contentDocument.body):(0,i.Ltv)("body")).select(`[id='${t}']`);F.insertLineEndings(c,O);const h=new o.T({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:O.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));let d=s.db.getRequirements(),f=s.db.getElements(),p=s.db.getRelationships();P(d,h,c),z(f,h,c),$(p,h),(0,a.Zp)(h),j(c,h),p.forEach((function(e){M(c,e,h,t,s)}));const g=O.rect_padding,m=c.node().getBBox(),y=m.width+2*g,v=m.height+2*g;(0,n.a$)(c,v,y,O.useMaxWidth),c.attr("viewBox",`${m.x-g} ${m.y-g} ${y} ${v}`)}),"draw")},styles:T}},1893:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>ne});var n=r(7692),i=r(5763);function a(e,t){var r;if(void 0===t)for(var n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{var i=-1;for(var a of e)null!=(a=t(a,++i,e))&&(r>a||void 0===r&&a>=a)&&(r=a)}return r}function o(e){return e.target.depth}function s(e,t){return e.sourceLinks.length?e.depth:t-1}function l(e,t){var r=0;if(void 0===t)for(var n of e)(n=+n)&&(r+=n);else{var i=-1;for(var a of e)(a=+t(a,++i,e))&&(r+=a)}return r}function u(e,t){var r;if(void 0===t)for(var n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{var i=-1;for(var a of e)null!=(a=t(a,++i,e))&&(r<a||void 0===r&&a>=a)&&(r=a)}return r}function c(e){return function(){return e}}function h(e,t){return f(e.source,t.source)||e.index-t.index}function d(e,t){return f(e.target,t.target)||e.index-t.index}function f(e,t){return e.y0-t.y0}function p(e){return e.value}function g(e){return e.index}function m(e){return e.nodes}function y(e){return e.links}function v(e,t){var r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function b(e){var{nodes:t}=e;for(var r of t){var n=r.y0,i=n;for(var a of r.sourceLinks)a.y0=n+a.width/2,n+=a.width;for(var o of r.targetLinks)o.y1=i+o.width/2,i+=o.width}}var x=Math.PI,w=2*x,D=1e-6,k=w-D;function E(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function A(){return new E}E.prototype=A.prototype={constructor:E,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,a){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var a=this._x1,o=this._y1,s=r-e,l=n-t,u=a-e,c=o-t,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>D)if(Math.abs(c*s-l*u)>D&&i){var d=r-a,f=n-o,p=s*s+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((x-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>D&&(this._+="L"+(e+b*u)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>u*f)+","+(this._x1=e+w*s)+","+(this._y1=t+w*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,r,n,i,a){e=+e,t=+t,a=!!a;var o=(r=+r)*Math.cos(n),s=r*Math.sin(n),l=e+o,u=t+s,c=1^a,h=a?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>D||Math.abs(this._y1-u)>D)&&(this._+="L"+l+","+u),r&&(h<0&&(h=h%w+w),h>k?this._+="A"+r+","+r+",0,1,"+c+","+(e-o)+","+(t-s)+"A"+r+","+r+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>D&&(this._+="A"+r+","+r+",0,"+ +(h>=x)+","+c+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};const C=A;var _=Array.prototype.slice;function T(e){return function(){return e}}function S(e){return e[0]}function F(e){return e[1]}function O(e){return e.source}function B(e){return e.target}function N(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function L(e){return[e.source.x1,e.y0]}function I(e){return[e.target.x0,e.y1]}function R(){return function(e){var t=O,r=B,n=S,i=F,a=null;function o(){var o,s=_.call(arguments),l=t.apply(this,s),u=r.apply(this,s);if(a||(a=o=C()),e(a,+n.apply(this,(s[0]=l,s)),+i.apply(this,s),+n.apply(this,(s[0]=u,s)),+i.apply(this,s)),o)return a=null,o+""||null}return o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(e){return arguments.length?(r=e,o):r},o.x=function(e){return arguments.length?(n="function"==typeof e?e:T(+e),o):n},o.y=function(e){return arguments.length?(i="function"==typeof e?e:T(+e),o):i},o.context=function(e){return arguments.length?(a=null==e?null:e,o):a},o}(N).source(L).target(I)}var M=function(){var e=(0,n.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,9],r=[1,10],i=[1,5,10,12],a={trace:(0,n.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,SANKEY:4,NEWLINE:5,csv:6,opt_eof:7,record:8,csv_tail:9,EOF:10,"field[source]":11,COMMA:12,"field[target]":13,"field[value]":14,field:15,escaped:16,non_escaped:17,DQUOTE:18,ESCAPED_TEXT:19,NON_ESCAPED_TEXT:20,$accept:0,$end:1},terminals_:{2:"error",4:"SANKEY",5:"NEWLINE",10:"EOF",11:"field[source]",12:"COMMA",13:"field[target]",14:"field[value]",18:"DQUOTE",19:"ESCAPED_TEXT",20:"NON_ESCAPED_TEXT"},productions_:[0,[3,4],[6,2],[9,2],[9,0],[7,1],[7,0],[8,5],[15,1],[15,1],[16,3],[17,1]],performAction:(0,n.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 7:const e=n.findOrCreateNode(a[s-4].trim().replaceAll('""','"')),t=n.findOrCreateNode(a[s-2].trim().replaceAll('""','"')),r=parseFloat(a[s].trim());n.addLink(e,t,r);break;case 8:case 9:case 11:this.$=a[s];break;case 10:this.$=a[s-1]}}),"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},{5:[1,3]},{6:4,8:5,15:6,16:7,17:8,18:t,20:r},{1:[2,6],7:11,10:[1,12]},e(r,[2,4],{9:13,5:[1,14]}),{12:[1,15]},e(i,[2,8]),e(i,[2,9]),{19:[1,16]},e(i,[2,11]),{1:[2,1]},{1:[2,5]},e(r,[2,2]),{6:17,8:5,15:6,16:7,17:8,18:t,20:r},{15:18,16:7,17:8,18:t,20:r},{18:[1,19]},e(r,[2,3]),{12:[1,20]},e(i,[2,10]),{15:21,16:7,17:8,18:t,20:r},e([1,5,10],[2,7])],defaultActions:{11:[2,1],12:[2,5]},parseError:(0,n.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,n.K2)((function(e){var t=this,r=[0],i=[],a=[null],o=[],s=this.table,l="",u=0,c=0,h=0,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=i.pop()||f.lex()||1)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,n.K2)((function(e){r.length=r.length-2*e,a.length=a.length-e,o.length=o.length-e}),"popStack"),(0,n.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),a.push(f.yytext),o.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=a[a.length-A],T._$={first_line:o[o.length-(A||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(A||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(A||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],a,o].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),a=a.slice(0,-1*A),o=o.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),a.push(T.$),o.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},o=function(){return{EOF:1,parseError:(0,n.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,n.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,n.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,n.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,n.K2)((function(){return this._more=!0,this}),"more"),reject:(0,n.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,n.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,n.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,n.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,n.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,n.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,n.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,n.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,n.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,n.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,n.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,n.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,n.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,n.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,n.K2)((function(e,t,r,n){switch(r){case 0:return this.pushState("csv"),4;case 1:return 10;case 2:return 5;case 3:return 12;case 4:return this.pushState("escaped_text"),18;case 5:return 20;case 6:return this.popState("escaped_text"),18;case 7:return 19}}),"anonymous"),rules:[/^(?:sankey-beta\b)/i,/^(?:$)/i,/^(?:((\u000D\u000A)|(\u000A)))/i,/^(?:(\u002C))/i,/^(?:(\u0022))/i,/^(?:([\u0020-\u0021\u0023-\u002B\u002D-\u007E])*)/i,/^(?:(\u0022)(?!(\u0022)))/i,/^(?:(([\u0020-\u0021\u0023-\u002B\u002D-\u007E])|(\u002C)|(\u000D)|(\u000A)|(\u0022)(\u0022))*)/i],conditions:{csv:{rules:[1,2,3,4,5,6,7],inclusive:!1},escaped_text:{rules:[6,7],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7],inclusive:!0}}}}();function s(){this.yy={}}return a.lexer=o,(0,n.K2)(s,"Parser"),s.prototype=a,a.Parser=s,new s}();M.parser=M;var P=M,z=[],$=[],j=new Map,K=(0,n.K2)((()=>{z=[],$=[],j=new Map,(0,n.IU)()}),"clear"),q=class{constructor(e,t,r=0){this.source=e,this.target=t,this.value=r}static{(0,n.K2)(this,"SankeyLink")}},U=(0,n.K2)(((e,t,r)=>{z.push(new q(e,t,r))}),"addLink"),H=class{constructor(e){this.ID=e}static{(0,n.K2)(this,"SankeyNode")}},W=(0,n.K2)((e=>{e=n.Y2.sanitizeText(e,(0,n.D7)());let t=j.get(e);return void 0===t&&(t=new H(e),j.set(e,t),$.push(t)),t}),"findOrCreateNode"),G=(0,n.K2)((()=>$),"getNodes"),V=(0,n.K2)((()=>z),"getLinks"),Y=(0,n.K2)((()=>({nodes:$.map((e=>({id:e.ID}))),links:z.map((e=>({source:e.source.ID,target:e.target.ID,value:e.value})))})),"getGraph"),X={nodesMap:j,getConfig:(0,n.K2)((()=>(0,n.D7)().sankey),"getConfig"),getNodes:G,getLinks:V,getGraph:Y,addLink:U,findOrCreateNode:W,getAccTitle:n.iN,setAccTitle:n.SV,getAccDescription:n.m7,setAccDescription:n.EI,getDiagramTitle:n.ab,setDiagramTitle:n.ke,clear:K},Z=class e{static{(0,n.K2)(this,"Uid")}static{this.count=0}static next(t){return new e(t+ ++e.count)}constructor(e){this.id=e,this.href=`#${e}`}toString(){return"url("+this.href+")"}},Q={left:function(e){return e.depth},right:function(e,t){return t-1-e.height},center:function(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?a(e.sourceLinks,o)-1:0},justify:s},J=(0,n.K2)((function(e,t,r,o){const{securityLevel:x,sankey:w}=(0,n.D7)(),D=n.ME.sankey;let k;"sandbox"===x&&(k=(0,i.Ltv)("#i"+t));const E="sandbox"===x?(0,i.Ltv)(k.nodes()[0].contentDocument.body):(0,i.Ltv)("body"),A="sandbox"===x?E.select(`[id="${t}"]`):(0,i.Ltv)(`[id="${t}"]`),C=w?.width??D.width,_=w?.height??D.width,T=w?.useMaxWidth??D.useMaxWidth,S=w?.nodeAlignment??D.nodeAlignment,F=w?.prefix??D.prefix,O=w?.suffix??D.suffix,B=w?.showValues??D.showValues,N=o.db.getGraph(),L=Q[S];(function(){var e,t,r,n=0,i=0,o=1,x=1,w=24,D=8,k=g,E=s,A=m,C=y,_=6;function T(){var s={nodes:A.apply(null,arguments),links:C.apply(null,arguments)};return function(e){var{nodes:t,links:n}=e;for(var[i,a]of t.entries())a.index=i,a.sourceLinks=[],a.targetLinks=[];var o=new Map(t.map(((e,r)=>[k(e,r,t),e])));for(var[s,l]of n.entries()){l.index=s;var{source:u,target:c}=l;"object"!=typeof u&&(u=l.source=v(o,u)),"object"!=typeof c&&(c=l.target=v(o,c)),u.sourceLinks.push(l),c.targetLinks.push(l)}if(null!=r)for(var{sourceLinks:h,targetLinks:d}of t)h.sort(r),d.sort(r)}(s),function(e){var{nodes:t}=e;for(var r of t)r.value=void 0===r.fixedValue?Math.max(l(r.sourceLinks,p),l(r.targetLinks,p)):r.fixedValue}(s),function(e){for(var{nodes:t}=e,r=t.length,n=new Set(t),i=new Set,a=0;n.size;){for(var o of n)for(var{target:s}of(o.depth=a,o.sourceLinks))i.add(s);if(++a>r)throw new Error("circular link");n=i,i=new Set}}(s),function(e){for(var{nodes:t}=e,r=t.length,n=new Set(t),i=new Set,a=0;n.size;){for(var o of n)for(var{source:s}of(o.height=a,o.targetLinks))i.add(s);if(++a>r)throw new Error("circular link");n=i,i=new Set}}(s),function(r){var s=function(e){var{nodes:r}=e,i=u(r,(e=>e.depth))+1,a=(o-n-w)/(i-1),s=new Array(i);for(var l of r){var c=Math.max(0,Math.min(i-1,Math.floor(E.call(null,l,i))));l.layer=c,l.x0=n+c*a,l.x1=l.x0+w,s[c]?s[c].push(l):s[c]=[l]}if(t)for(var h of s)h.sort(t);return s}(r);e=Math.min(D,(x-i)/(u(s,(e=>e.length))-1)),function(t){var r=a(t,(t=>(x-i-(t.length-1)*e)/l(t,p)));for(var n of t){var o=i;for(var s of n)for(var u of(s.y0=o,s.y1=o+s.value*r,o=s.y1+e,s.sourceLinks))u.width=u.value*r;o=(x-o+e)/(n.length+1);for(var c=0;c<n.length;++c){var h=n[c];h.y0+=o*(c+1),h.y1+=o*(c+1)}I(n)}}(s);for(var c=0;c<_;++c){var h=Math.pow(.99,c),d=Math.max(1-h,(c+1)/_);F(s,h,d),S(s,h,d)}}(s),b(s),s}function S(e,r,n){for(var i=1,a=e.length;i<a;++i){var o=e[i];for(var s of o){var l=0,u=0;for(var{source:c,value:h}of s.targetLinks){var d=h*(s.layer-c.layer);l+=R(c,s)*d,u+=d}if(u>0){var p=(l/u-s.y0)*r;s.y0+=p,s.y1+=p,L(s)}}void 0===t&&o.sort(f),O(o,n)}}function F(e,r,n){for(var i=e.length-2;i>=0;--i){var a=e[i];for(var o of a){var s=0,l=0;for(var{target:u,value:c}of o.sourceLinks){var h=c*(u.layer-o.layer);s+=M(o,u)*h,l+=h}if(l>0){var d=(s/l-o.y0)*r;o.y0+=d,o.y1+=d,L(o)}}void 0===t&&a.sort(f),O(a,n)}}function O(t,r){var n=t.length>>1,a=t[n];N(t,a.y0-e,n-1,r),B(t,a.y1+e,n+1,r),N(t,x,t.length-1,r),B(t,i,0,r)}function B(t,r,n,i){for(;n<t.length;++n){var a=t[n],o=(r-a.y0)*i;o>1e-6&&(a.y0+=o,a.y1+=o),r=a.y1+e}}function N(t,r,n,i){for(;n>=0;--n){var a=t[n],o=(a.y1-r)*i;o>1e-6&&(a.y0-=o,a.y1-=o),r=a.y0-e}}function L(e){var{sourceLinks:t,targetLinks:n}=e;if(void 0===r){for(var{source:{sourceLinks:i}}of n)i.sort(d);for(var{target:{targetLinks:a}}of t)a.sort(h)}}function I(e){if(void 0===r)for(var{sourceLinks:t,targetLinks:n}of e)t.sort(d),n.sort(h)}function R(t,r){var n=t.y0-(t.sourceLinks.length-1)*e/2;for(var{target:i,width:a}of t.sourceLinks){if(i===r)break;n+=a+e}for(var{source:o,width:s}of r.targetLinks){if(o===t)break;n-=s}return n}function M(t,r){var n=r.y0-(r.targetLinks.length-1)*e/2;for(var{source:i,width:a}of r.targetLinks){if(i===t)break;n+=a+e}for(var{target:o,width:s}of t.sourceLinks){if(o===r)break;n-=s}return n}return T.update=function(e){return b(e),e},T.nodeId=function(e){return arguments.length?(k="function"==typeof e?e:c(e),T):k},T.nodeAlign=function(e){return arguments.length?(E="function"==typeof e?e:c(e),T):E},T.nodeSort=function(e){return arguments.length?(t=e,T):t},T.nodeWidth=function(e){return arguments.length?(w=+e,T):w},T.nodePadding=function(t){return arguments.length?(D=e=+t,T):D},T.nodes=function(e){return arguments.length?(A="function"==typeof e?e:c(e),T):A},T.links=function(e){return arguments.length?(C="function"==typeof e?e:c(e),T):C},T.linkSort=function(e){return arguments.length?(r=e,T):r},T.size=function(e){return arguments.length?(n=i=0,o=+e[0],x=+e[1],T):[o-n,x-i]},T.extent=function(e){return arguments.length?(n=+e[0][0],o=+e[1][0],i=+e[0][1],x=+e[1][1],T):[[n,i],[o,x]]},T.iterations=function(e){return arguments.length?(_=+e,T):_},T})().nodeId((e=>e.id)).nodeWidth(10).nodePadding(10+(B?15:0)).nodeAlign(L).extent([[0,0],[C,_]])(N);const I=(0,i.UMr)(i.zt);A.append("g").attr("class","nodes").selectAll(".node").data(N.nodes).join("g").attr("class","node").attr("id",(e=>(e.uid=Z.next("node-")).id)).attr("transform",(function(e){return"translate("+e.x0+","+e.y0+")"})).attr("x",(e=>e.x0)).attr("y",(e=>e.y0)).append("rect").attr("height",(e=>e.y1-e.y0)).attr("width",(e=>e.x1-e.x0)).attr("fill",(e=>I(e.id)));const M=(0,n.K2)((({id:e,value:t})=>B?`${e}\n${F}${Math.round(100*t)/100}${O}`:e),"getText");A.append("g").attr("class","node-labels").attr("font-family","sans-serif").attr("font-size",14).selectAll("text").data(N.nodes).join("text").attr("x",(e=>e.x0<C/2?e.x1+6:e.x0-6)).attr("y",(e=>(e.y1+e.y0)/2)).attr("dy",(B?"0":"0.35")+"em").attr("text-anchor",(e=>e.x0<C/2?"start":"end")).text(M);const P=A.append("g").attr("class","links").attr("fill","none").attr("stroke-opacity",.5).selectAll(".link").data(N.links).join("g").attr("class","link").style("mix-blend-mode","multiply"),z=w?.linkColor??"gradient";if("gradient"===z){const e=P.append("linearGradient").attr("id",(e=>(e.uid=Z.next("linearGradient-")).id)).attr("gradientUnits","userSpaceOnUse").attr("x1",(e=>e.source.x1)).attr("x2",(e=>e.target.x0));e.append("stop").attr("offset","0%").attr("stop-color",(e=>I(e.source.id))),e.append("stop").attr("offset","100%").attr("stop-color",(e=>I(e.target.id)))}let $;switch(z){case"gradient":$=(0,n.K2)((e=>e.uid),"coloring");break;case"source":$=(0,n.K2)((e=>I(e.source.id)),"coloring");break;case"target":$=(0,n.K2)((e=>I(e.target.id)),"coloring");break;default:$=z}P.append("path").attr("d",R()).attr("stroke",$).attr("stroke-width",(e=>Math.max(1,e.width))),(0,n.ot)(void 0,A,0,T)}),"draw"),ee={draw:J},te=(0,n.K2)((e=>e.replaceAll(/^[^\S\n\r]+|[^\S\n\r]+$/g,"").replaceAll(/([\n\r])+/g,"\n").trim()),"prepareTextForParsing"),re=P.parse.bind(P);P.parse=e=>re(te(e));var ne={parser:P,db:X,renderer:ee}},8540:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>Ve});var n=r(3814),i=r(8160),a=r(8159),o=r(7692),s=r(5763),l=r(5397),u=function(){var e=(0,o.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,2],r=[1,3],n=[1,4],i=[2,4],a=[1,9],s=[1,11],l=[1,13],u=[1,14],c=[1,16],h=[1,17],d=[1,18],f=[1,24],p=[1,25],g=[1,26],m=[1,27],y=[1,28],v=[1,29],b=[1,30],x=[1,31],w=[1,32],D=[1,33],k=[1,34],E=[1,35],A=[1,36],C=[1,37],_=[1,38],T=[1,39],S=[1,41],F=[1,42],O=[1,43],B=[1,44],N=[1,45],L=[1,46],I=[1,4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,48,49,50,52,53,54,59,60,61,62,70],R=[4,5,16,50,52,53],M=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],P=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,49,50,52,53,54,59,60,61,62,70],z=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,48,50,52,53,54,59,60,61,62,70],$=[4,5,13,14,16,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,47,50,52,53,54,59,60,61,62,70],j=[68,69,70],K=[1,122],q={trace:(0,o.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,SD:6,document:7,line:8,statement:9,box_section:10,box_line:11,participant_statement:12,create:13,box:14,restOfLine:15,end:16,signal:17,autonumber:18,NUM:19,off:20,activate:21,actor:22,deactivate:23,note_statement:24,links_statement:25,link_statement:26,properties_statement:27,details_statement:28,title:29,legacy_title:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,loop:36,rect:37,opt:38,alt:39,else_sections:40,par:41,par_sections:42,par_over:43,critical:44,option_sections:45,break:46,option:47,and:48,else:49,participant:50,AS:51,participant_actor:52,destroy:53,note:54,placement:55,text2:56,over:57,actor_pair:58,links:59,link:60,properties:61,details:62,spaceList:63,",":64,left_of:65,right_of:66,signaltype:67,"+":68,"-":69,ACTOR:70,SOLID_OPEN_ARROW:71,DOTTED_OPEN_ARROW:72,SOLID_ARROW:73,BIDIRECTIONAL_SOLID_ARROW:74,DOTTED_ARROW:75,BIDIRECTIONAL_DOTTED_ARROW:76,SOLID_CROSS:77,DOTTED_CROSS:78,SOLID_POINT:79,DOTTED_POINT:80,TXT:81,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",6:"SD",13:"create",14:"box",15:"restOfLine",16:"end",18:"autonumber",19:"NUM",20:"off",21:"activate",23:"deactivate",29:"title",30:"legacy_title",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",36:"loop",37:"rect",38:"opt",39:"alt",41:"par",43:"par_over",44:"critical",46:"break",47:"option",48:"and",49:"else",50:"participant",51:"AS",52:"participant_actor",53:"destroy",54:"note",57:"over",59:"links",60:"link",61:"properties",62:"details",64:",",65:"left_of",66:"right_of",68:"+",69:"-",70:"ACTOR",71:"SOLID_OPEN_ARROW",72:"DOTTED_OPEN_ARROW",73:"SOLID_ARROW",74:"BIDIRECTIONAL_SOLID_ARROW",75:"DOTTED_ARROW",76:"BIDIRECTIONAL_DOTTED_ARROW",77:"SOLID_CROSS",78:"DOTTED_CROSS",79:"SOLID_POINT",80:"DOTTED_POINT",81:"TXT"},productions_:[0,[3,2],[3,2],[3,2],[7,0],[7,2],[8,2],[8,1],[8,1],[10,0],[10,2],[11,2],[11,1],[11,1],[9,1],[9,2],[9,4],[9,2],[9,4],[9,3],[9,3],[9,2],[9,3],[9,3],[9,2],[9,2],[9,2],[9,2],[9,2],[9,1],[9,1],[9,2],[9,2],[9,1],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[9,4],[45,1],[45,4],[42,1],[42,4],[40,1],[40,4],[12,5],[12,3],[12,5],[12,3],[12,3],[24,4],[24,4],[25,3],[26,3],[27,3],[28,3],[63,2],[63,1],[58,3],[58,1],[55,1],[55,1],[17,5],[17,5],[17,4],[22,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[67,1],[56,1]],performAction:(0,o.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 3:return n.apply(a[s]),a[s];case 4:case 9:case 8:case 13:this.$=[];break;case 5:case 10:a[s-1].push(a[s]),this.$=a[s-1];break;case 6:case 7:case 11:case 12:case 62:this.$=a[s];break;case 15:a[s].type="createParticipant",this.$=a[s];break;case 16:a[s-1].unshift({type:"boxStart",boxData:n.parseBoxData(a[s-2])}),a[s-1].push({type:"boxEnd",boxText:a[s-2]}),this.$=a[s-1];break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(a[s-2]),sequenceIndexStep:Number(a[s-1]),sequenceVisible:!0,signalType:n.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceIndex:Number(a[s-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:n.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:n.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:n.LINETYPE.AUTONUMBER};break;case 22:this.$={type:"activeStart",signalType:n.LINETYPE.ACTIVE_START,actor:a[s-1].actor};break;case 23:this.$={type:"activeEnd",signalType:n.LINETYPE.ACTIVE_END,actor:a[s-1].actor};break;case 29:n.setDiagramTitle(a[s].substring(6)),this.$=a[s].substring(6);break;case 30:n.setDiagramTitle(a[s].substring(7)),this.$=a[s].substring(7);break;case 31:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 32:case 33:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 34:a[s-1].unshift({type:"loopStart",loopText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.LOOP_START}),a[s-1].push({type:"loopEnd",loopText:a[s-2],signalType:n.LINETYPE.LOOP_END}),this.$=a[s-1];break;case 35:a[s-1].unshift({type:"rectStart",color:n.parseMessage(a[s-2]),signalType:n.LINETYPE.RECT_START}),a[s-1].push({type:"rectEnd",color:n.parseMessage(a[s-2]),signalType:n.LINETYPE.RECT_END}),this.$=a[s-1];break;case 36:a[s-1].unshift({type:"optStart",optText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.OPT_START}),a[s-1].push({type:"optEnd",optText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.OPT_END}),this.$=a[s-1];break;case 37:a[s-1].unshift({type:"altStart",altText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.ALT_START}),a[s-1].push({type:"altEnd",signalType:n.LINETYPE.ALT_END}),this.$=a[s-1];break;case 38:a[s-1].unshift({type:"parStart",parText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.PAR_START}),a[s-1].push({type:"parEnd",signalType:n.LINETYPE.PAR_END}),this.$=a[s-1];break;case 39:a[s-1].unshift({type:"parStart",parText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.PAR_OVER_START}),a[s-1].push({type:"parEnd",signalType:n.LINETYPE.PAR_END}),this.$=a[s-1];break;case 40:a[s-1].unshift({type:"criticalStart",criticalText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.CRITICAL_START}),a[s-1].push({type:"criticalEnd",signalType:n.LINETYPE.CRITICAL_END}),this.$=a[s-1];break;case 41:a[s-1].unshift({type:"breakStart",breakText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.BREAK_START}),a[s-1].push({type:"breakEnd",optText:n.parseMessage(a[s-2]),signalType:n.LINETYPE.BREAK_END}),this.$=a[s-1];break;case 43:this.$=a[s-3].concat([{type:"option",optionText:n.parseMessage(a[s-1]),signalType:n.LINETYPE.CRITICAL_OPTION},a[s]]);break;case 45:this.$=a[s-3].concat([{type:"and",parText:n.parseMessage(a[s-1]),signalType:n.LINETYPE.PAR_AND},a[s]]);break;case 47:this.$=a[s-3].concat([{type:"else",altText:n.parseMessage(a[s-1]),signalType:n.LINETYPE.ALT_ELSE},a[s]]);break;case 48:a[s-3].draw="participant",a[s-3].type="addParticipant",a[s-3].description=n.parseMessage(a[s-1]),this.$=a[s-3];break;case 49:a[s-1].draw="participant",a[s-1].type="addParticipant",this.$=a[s-1];break;case 50:a[s-3].draw="actor",a[s-3].type="addParticipant",a[s-3].description=n.parseMessage(a[s-1]),this.$=a[s-3];break;case 51:a[s-1].draw="actor",a[s-1].type="addParticipant",this.$=a[s-1];break;case 52:a[s-1].type="destroyParticipant",this.$=a[s-1];break;case 53:this.$=[a[s-1],{type:"addNote",placement:a[s-2],actor:a[s-1].actor,text:a[s]}];break;case 54:a[s-2]=[].concat(a[s-1],a[s-1]).slice(0,2),a[s-2][0]=a[s-2][0].actor,a[s-2][1]=a[s-2][1].actor,this.$=[a[s-1],{type:"addNote",placement:n.PLACEMENT.OVER,actor:a[s-2].slice(0,2),text:a[s]}];break;case 55:this.$=[a[s-1],{type:"addLinks",actor:a[s-1].actor,text:a[s]}];break;case 56:this.$=[a[s-1],{type:"addALink",actor:a[s-1].actor,text:a[s]}];break;case 57:this.$=[a[s-1],{type:"addProperties",actor:a[s-1].actor,text:a[s]}];break;case 58:this.$=[a[s-1],{type:"addDetails",actor:a[s-1].actor,text:a[s]}];break;case 61:this.$=[a[s-2],a[s]];break;case 63:this.$=n.PLACEMENT.LEFTOF;break;case 64:this.$=n.PLACEMENT.RIGHTOF;break;case 65:this.$=[a[s-4],a[s-1],{type:"addMessage",from:a[s-4].actor,to:a[s-1].actor,signalType:a[s-3],msg:a[s],activate:!0},{type:"activeStart",signalType:n.LINETYPE.ACTIVE_START,actor:a[s-1].actor}];break;case 66:this.$=[a[s-4],a[s-1],{type:"addMessage",from:a[s-4].actor,to:a[s-1].actor,signalType:a[s-3],msg:a[s]},{type:"activeEnd",signalType:n.LINETYPE.ACTIVE_END,actor:a[s-4].actor}];break;case 67:this.$=[a[s-3],a[s-1],{type:"addMessage",from:a[s-3].actor,to:a[s-1].actor,signalType:a[s-2],msg:a[s]}];break;case 68:this.$={type:"addParticipant",actor:a[s]};break;case 69:this.$=n.LINETYPE.SOLID_OPEN;break;case 70:this.$=n.LINETYPE.DOTTED_OPEN;break;case 71:this.$=n.LINETYPE.SOLID;break;case 72:this.$=n.LINETYPE.BIDIRECTIONAL_SOLID;break;case 73:this.$=n.LINETYPE.DOTTED;break;case 74:this.$=n.LINETYPE.BIDIRECTIONAL_DOTTED;break;case 75:this.$=n.LINETYPE.SOLID_CROSS;break;case 76:this.$=n.LINETYPE.DOTTED_CROSS;break;case 77:this.$=n.LINETYPE.SOLID_POINT;break;case 78:this.$=n.LINETYPE.DOTTED_POINT;break;case 79:this.$=n.parseMessage(a[s].trim().substring(1))}}),"anonymous"),table:[{3:1,4:t,5:r,6:n},{1:[3]},{3:5,4:t,5:r,6:n},{3:6,4:t,5:r,6:n},e([1,4,5,13,14,18,21,23,29,30,31,33,35,36,37,38,39,41,43,44,46,50,52,53,54,59,60,61,62,70],i,{7:7}),{1:[2,1]},{1:[2,2]},{1:[2,3],4:a,5:s,8:8,9:10,12:12,13:l,14:u,17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},e(I,[2,5]),{9:47,12:12,13:l,14:u,17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},e(I,[2,7]),e(I,[2,8]),e(I,[2,14]),{12:48,50:C,52:_,53:T},{15:[1,49]},{5:[1,50]},{5:[1,53],19:[1,51],20:[1,52]},{22:54,70:L},{22:55,70:L},{5:[1,56]},{5:[1,57]},{5:[1,58]},{5:[1,59]},{5:[1,60]},e(I,[2,29]),e(I,[2,30]),{32:[1,61]},{34:[1,62]},e(I,[2,33]),{15:[1,63]},{15:[1,64]},{15:[1,65]},{15:[1,66]},{15:[1,67]},{15:[1,68]},{15:[1,69]},{15:[1,70]},{22:71,70:L},{22:72,70:L},{22:73,70:L},{67:74,71:[1,75],72:[1,76],73:[1,77],74:[1,78],75:[1,79],76:[1,80],77:[1,81],78:[1,82],79:[1,83],80:[1,84]},{55:85,57:[1,86],65:[1,87],66:[1,88]},{22:89,70:L},{22:90,70:L},{22:91,70:L},{22:92,70:L},e([5,51,64,71,72,73,74,75,76,77,78,79,80,81],[2,68]),e(I,[2,6]),e(I,[2,15]),e(R,[2,9],{10:93}),e(I,[2,17]),{5:[1,95],19:[1,94]},{5:[1,96]},e(I,[2,21]),{5:[1,97]},{5:[1,98]},e(I,[2,24]),e(I,[2,25]),e(I,[2,26]),e(I,[2,27]),e(I,[2,28]),e(I,[2,31]),e(I,[2,32]),e(M,i,{7:99}),e(M,i,{7:100}),e(M,i,{7:101}),e(P,i,{40:102,7:103}),e(z,i,{42:104,7:105}),e(z,i,{7:105,42:106}),e($,i,{45:107,7:108}),e(M,i,{7:109}),{5:[1,111],51:[1,110]},{5:[1,113],51:[1,112]},{5:[1,114]},{22:117,68:[1,115],69:[1,116],70:L},e(j,[2,69]),e(j,[2,70]),e(j,[2,71]),e(j,[2,72]),e(j,[2,73]),e(j,[2,74]),e(j,[2,75]),e(j,[2,76]),e(j,[2,77]),e(j,[2,78]),{22:118,70:L},{22:120,58:119,70:L},{70:[2,63]},{70:[2,64]},{56:121,81:K},{56:123,81:K},{56:124,81:K},{56:125,81:K},{4:[1,128],5:[1,130],11:127,12:129,16:[1,126],50:C,52:_,53:T},{5:[1,131]},e(I,[2,19]),e(I,[2,20]),e(I,[2,22]),e(I,[2,23]),{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,132],17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,133],17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,134],17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},{16:[1,135]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,46],17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,49:[1,136],50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},{16:[1,137]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,44],17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,48:[1,138],50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},{16:[1,139]},{16:[1,140]},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[2,42],17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,47:[1,141],50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},{4:a,5:s,8:8,9:10,12:12,13:l,14:u,16:[1,142],17:15,18:c,21:h,22:40,23:d,24:19,25:20,26:21,27:22,28:23,29:f,30:p,31:g,33:m,35:y,36:v,37:b,38:x,39:w,41:D,43:k,44:E,46:A,50:C,52:_,53:T,54:S,59:F,60:O,61:B,62:N,70:L},{15:[1,143]},e(I,[2,49]),{15:[1,144]},e(I,[2,51]),e(I,[2,52]),{22:145,70:L},{22:146,70:L},{56:147,81:K},{56:148,81:K},{56:149,81:K},{64:[1,150],81:[2,62]},{5:[2,55]},{5:[2,79]},{5:[2,56]},{5:[2,57]},{5:[2,58]},e(I,[2,16]),e(R,[2,10]),{12:151,50:C,52:_,53:T},e(R,[2,12]),e(R,[2,13]),e(I,[2,18]),e(I,[2,34]),e(I,[2,35]),e(I,[2,36]),e(I,[2,37]),{15:[1,152]},e(I,[2,38]),{15:[1,153]},e(I,[2,39]),e(I,[2,40]),{15:[1,154]},e(I,[2,41]),{5:[1,155]},{5:[1,156]},{56:157,81:K},{56:158,81:K},{5:[2,67]},{5:[2,53]},{5:[2,54]},{22:159,70:L},e(R,[2,11]),e(P,i,{7:103,40:160}),e(z,i,{7:105,42:161}),e($,i,{7:108,45:162}),e(I,[2,48]),e(I,[2,50]),{5:[2,65]},{5:[2,66]},{81:[2,61]},{16:[2,47]},{16:[2,45]},{16:[2,43]}],defaultActions:{5:[2,1],6:[2,2],87:[2,63],88:[2,64],121:[2,55],122:[2,79],123:[2,56],124:[2,57],125:[2,58],147:[2,67],148:[2,53],149:[2,54],157:[2,65],158:[2,66],159:[2,61],160:[2,47],161:[2,45],162:[2,43]},parseError:(0,o.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,o.K2)((function(e){var t=this,r=[0],n=[],i=[null],a=[],s=this.table,l="",u=0,c=0,h=0,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,o.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,a.length=a.length-e}),"popStack"),(0,o.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),a.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},y&&(T._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],i,a].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),a=a.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),a.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},U=function(){return{EOF:1,parseError:(0,o.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,o.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,o.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,o.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,o.K2)((function(){return this._more=!0,this}),"more"),reject:(0,o.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,o.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,o.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,o.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,o.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,o.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,o.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,o.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,o.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,o.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,o.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,o.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,o.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,o.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,o.K2)((function(e,t,r,n){switch(r){case 0:case 51:case 66:return 5;case 1:case 2:case 3:case 4:case 5:break;case 6:return 19;case 7:return this.begin("LINE"),14;case 8:return this.begin("ID"),50;case 9:return this.begin("ID"),52;case 10:return 13;case 11:return this.begin("ID"),53;case 12:return t.yytext=t.yytext.trim(),this.begin("ALIAS"),70;case 13:return this.popState(),this.popState(),this.begin("LINE"),51;case 14:return this.popState(),this.popState(),5;case 15:return this.begin("LINE"),36;case 16:return this.begin("LINE"),37;case 17:return this.begin("LINE"),38;case 18:return this.begin("LINE"),39;case 19:return this.begin("LINE"),49;case 20:return this.begin("LINE"),41;case 21:return this.begin("LINE"),43;case 22:return this.begin("LINE"),48;case 23:return this.begin("LINE"),44;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),46;case 26:return this.popState(),15;case 27:return 16;case 28:return 65;case 29:return 66;case 30:return 59;case 31:return 60;case 32:return 61;case 33:return 62;case 34:return 57;case 35:return 54;case 36:return this.begin("ID"),21;case 37:return this.begin("ID"),23;case 38:return 29;case 39:return 30;case 40:return this.begin("acc_title"),31;case 41:return this.popState(),"acc_title_value";case 42:return this.begin("acc_descr"),33;case 43:return this.popState(),"acc_descr_value";case 44:this.begin("acc_descr_multiline");break;case 45:this.popState();break;case 46:return"acc_descr_multiline_value";case 47:return 6;case 48:return 18;case 49:return 20;case 50:return 64;case 52:return t.yytext=t.yytext.trim(),70;case 53:return 73;case 54:return 74;case 55:return 75;case 56:return 76;case 57:return 71;case 58:return 72;case 59:return 77;case 60:return 78;case 61:return 79;case 62:return 80;case 63:return 81;case 64:return 68;case 65:return 69;case 67:return"INVALID"}}),"anonymous"),rules:[/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:box\b)/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:create\b)/i,/^(?:destroy\b)/i,/^(?:[^\<->\->:\n,;]+?([\-]*[^\<->\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:par_over\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\<->\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\<->\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:<<->>)/i,/^(?:-->>)/i,/^(?:<<-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[45,46],inclusive:!1},acc_descr:{rules:[43],inclusive:!1},acc_title:{rules:[41],inclusive:!1},ID:{rules:[2,3,12],inclusive:!1},ALIAS:{rules:[2,3,13,14],inclusive:!1},LINE:{rules:[2,3,26],inclusive:!1},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24,25,27,28,29,30,31,32,33,34,35,36,37,38,39,40,42,44,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}}}();function H(){this.yy={}}return q.lexer=U,(0,o.K2)(H,"Parser"),H.prototype=q,q.Parser=H,new H}();u.parser=u;var c=u,h=new i.m((()=>({prevActor:void 0,actors:new Map,createdActors:new Map,destroyedActors:new Map,boxes:[],messages:[],notes:[],sequenceNumbersEnabled:!1,wrapEnabled:void 0,currentBox:void 0,lastCreated:void 0,lastDestroyed:void 0}))),d=(0,o.K2)((function(e){h.records.boxes.push({name:e.text,wrap:e.wrap??O(),fill:e.color,actorKeys:[]}),h.records.currentBox=h.records.boxes.slice(-1)[0]}),"addBox"),f=(0,o.K2)((function(e,t,r,n){let i=h.records.currentBox;const a=h.records.actors.get(e);if(a){if(h.records.currentBox&&a.box&&h.records.currentBox!==a.box)throw new Error(`A same participant should only be defined in one Box: ${a.name} can't be in '${a.box.name}' and in '${h.records.currentBox.name}' at the same time.`);if(i=a.box?a.box:h.records.currentBox,a.box=i,a&&t===a.name&&null==r)return}if(null==r?.text&&(r={text:t,type:n}),null!=n&&null!=r.text||(r={text:t,type:n}),h.records.actors.set(e,{box:i,name:t,description:r.text,wrap:r.wrap??O(),prevActor:h.records.prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:n??"participant"}),h.records.prevActor){const t=h.records.actors.get(h.records.prevActor);t&&(t.nextActor=e)}h.records.currentBox&&h.records.currentBox.actorKeys.push(e),h.records.prevActor=e}),"addActor"),p=(0,o.K2)((e=>{let t,r=0;if(!e)return 0;for(t=0;t<h.records.messages.length;t++)h.records.messages[t].type===I.ACTIVE_START&&h.records.messages[t].from===e&&r++,h.records.messages[t].type===I.ACTIVE_END&&h.records.messages[t].from===e&&r--;return r}),"activationCount"),g=(0,o.K2)((function(e,t,r,n){h.records.messages.push({from:e,to:t,message:r.text,wrap:r.wrap??O(),answer:n})}),"addMessage"),m=(0,o.K2)((function(e,t,r,n,i=!1){if(n===I.ACTIVE_END&&p(e??"")<1){const t=new Error("Trying to inactivate an inactive participant ("+e+")");throw t.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},t}return h.records.messages.push({from:e,to:t,message:r?.text??"",wrap:r?.wrap??O(),type:n,activate:i}),!0}),"addSignal"),y=(0,o.K2)((function(){return h.records.boxes.length>0}),"hasAtLeastOneBox"),v=(0,o.K2)((function(){return h.records.boxes.some((e=>e.name))}),"hasAtLeastOneBoxWithTitle"),b=(0,o.K2)((function(){return h.records.messages}),"getMessages"),x=(0,o.K2)((function(){return h.records.boxes}),"getBoxes"),w=(0,o.K2)((function(){return h.records.actors}),"getActors"),D=(0,o.K2)((function(){return h.records.createdActors}),"getCreatedActors"),k=(0,o.K2)((function(){return h.records.destroyedActors}),"getDestroyedActors"),E=(0,o.K2)((function(e){return h.records.actors.get(e)}),"getActor"),A=(0,o.K2)((function(){return[...h.records.actors.keys()]}),"getActorKeys"),C=(0,o.K2)((function(){h.records.sequenceNumbersEnabled=!0}),"enableSequenceNumbers"),_=(0,o.K2)((function(){h.records.sequenceNumbersEnabled=!1}),"disableSequenceNumbers"),T=(0,o.K2)((()=>h.records.sequenceNumbersEnabled),"showSequenceNumbers"),S=(0,o.K2)((function(e){h.records.wrapEnabled=e}),"setWrap"),F=(0,o.K2)((e=>{if(void 0===e)return{};e=e.trim();const t=null!==/^:?wrap:/.exec(e)||null===/^:?nowrap:/.exec(e)&&void 0;return{cleanedText:(void 0===t?e:e.replace(/^:?(?:no)?wrap:/,"")).trim(),wrap:t}}),"extractWrap"),O=(0,o.K2)((()=>void 0!==h.records.wrapEnabled?h.records.wrapEnabled:(0,o.D7)().sequence?.wrap??!1),"autoWrap"),B=(0,o.K2)((function(){h.reset(),(0,o.IU)()}),"clear"),N=(0,o.K2)((function(e){const t=e.trim(),{wrap:r,cleanedText:n}=F(t),i={text:n,wrap:r};return o.Rm.debug(`parseMessage: ${JSON.stringify(i)}`),i}),"parseMessage"),L=(0,o.K2)((function(e){const t=/^((?:rgba?|hsla?)\s*\(.*\)|\w*)(.*)$/.exec(e);let r=t?.[1]?t[1].trim():"transparent",n=t?.[2]?t[2].trim():void 0;if(window?.CSS)window.CSS.supports("color",r)||(r="transparent",n=e.trim());else{const t=(new Option).style;t.color=r,t.color!==r&&(r="transparent",n=e.trim())}const{wrap:i,cleanedText:a}=F(n);return{text:a?(0,o.jZ)(a,(0,o.D7)()):void 0,color:r,wrap:i}}),"parseBoxData"),I={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31,PAR_OVER_START:32,BIDIRECTIONAL_SOLID:33,BIDIRECTIONAL_DOTTED:34},R=(0,o.K2)((function(e,t,r){const n={actor:e,placement:t,message:r.text,wrap:r.wrap??O()},i=[].concat(e,e);h.records.notes.push(n),h.records.messages.push({from:i[0],to:i[1],message:r.text,wrap:r.wrap??O(),type:I.NOTE,placement:t})}),"addNote"),M=(0,o.K2)((function(e,t){const r=E(e);try{let e=(0,o.jZ)(t.text,(0,o.D7)());e=e.replace(/&amp;/g,"&"),e=e.replace(/&equals;/g,"="),z(r,JSON.parse(e))}catch(e){o.Rm.error("error while parsing actor link text",e)}}),"addLinks"),P=(0,o.K2)((function(e,t){const r=E(e);try{const e={};let n=(0,o.jZ)(t.text,(0,o.D7)());const i=n.indexOf("@");n=n.replace(/&amp;/g,"&"),n=n.replace(/&equals;/g,"=");const a=n.slice(0,i-1).trim(),s=n.slice(i+1).trim();e[a]=s,z(r,e)}catch(e){o.Rm.error("error while parsing actor link text",e)}}),"addALink");function z(e,t){if(null==e.links)e.links=t;else for(const r in t)e.links[r]=t[r]}(0,o.K2)(z,"insertLinks");var $=(0,o.K2)((function(e,t){const r=E(e);try{const e=(0,o.jZ)(t.text,(0,o.D7)());j(r,JSON.parse(e))}catch(e){o.Rm.error("error while parsing actor properties text",e)}}),"addProperties");function j(e,t){if(null==e.properties)e.properties=t;else for(const r in t)e.properties[r]=t[r]}function K(){h.records.currentBox=void 0}(0,o.K2)(j,"insertProperties"),(0,o.K2)(K,"boxEnd");var q=(0,o.K2)((function(e,t){const r=E(e),n=document.getElementById(t.text);try{const e=n.innerHTML,t=JSON.parse(e);t.properties&&j(r,t.properties),t.links&&z(r,t.links)}catch(e){o.Rm.error("error while parsing actor details text",e)}}),"addDetails"),U=(0,o.K2)((function(e,t){if(void 0!==e?.properties)return e.properties[t]}),"getActorProperty"),H=(0,o.K2)((function(e){if(Array.isArray(e))e.forEach((function(e){H(e)}));else switch(e.type){case"sequenceIndex":h.records.messages.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":f(e.actor,e.actor,e.description,e.draw);break;case"createParticipant":if(h.records.actors.has(e.actor))throw new Error("It is not possible to have actors with the same id, even if one is destroyed before the next is created. Use 'AS' aliases to simulate the behavior");h.records.lastCreated=e.actor,f(e.actor,e.actor,e.description,e.draw),h.records.createdActors.set(e.actor,h.records.messages.length);break;case"destroyParticipant":h.records.lastDestroyed=e.actor,h.records.destroyedActors.set(e.actor,h.records.messages.length);break;case"activeStart":case"activeEnd":m(e.actor,void 0,void 0,e.signalType);break;case"addNote":R(e.actor,e.placement,e.text);break;case"addLinks":M(e.actor,e.text);break;case"addALink":P(e.actor,e.text);break;case"addProperties":$(e.actor,e.text);break;case"addDetails":q(e.actor,e.text);break;case"addMessage":if(h.records.lastCreated){if(e.to!==h.records.lastCreated)throw new Error("The created participant "+h.records.lastCreated.name+" does not have an associated creating message after its declaration. Please check the sequence diagram.");h.records.lastCreated=void 0}else if(h.records.lastDestroyed){if(e.to!==h.records.lastDestroyed&&e.from!==h.records.lastDestroyed)throw new Error("The destroyed participant "+h.records.lastDestroyed.name+" does not have an associated destroying message after its declaration. Please check the sequence diagram.");h.records.lastDestroyed=void 0}m(e.from,e.to,e.msg,e.signalType,e.activate);break;case"boxStart":d(e.boxData);break;case"boxEnd":K();break;case"loopStart":m(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":m(void 0,void 0,void 0,e.signalType);break;case"rectStart":m(void 0,void 0,e.color,e.signalType);break;case"optStart":m(void 0,void 0,e.optText,e.signalType);break;case"altStart":case"else":m(void 0,void 0,e.altText,e.signalType);break;case"setAccTitle":(0,o.SV)(e.text);break;case"parStart":case"and":m(void 0,void 0,e.parText,e.signalType);break;case"criticalStart":m(void 0,void 0,e.criticalText,e.signalType);break;case"option":m(void 0,void 0,e.optionText,e.signalType);break;case"breakStart":m(void 0,void 0,e.breakText,e.signalType)}}),"apply"),W={addActor:f,addMessage:g,addSignal:m,addLinks:M,addDetails:q,addProperties:$,autoWrap:O,setWrap:S,enableSequenceNumbers:C,disableSequenceNumbers:_,showSequenceNumbers:T,getMessages:b,getActors:w,getCreatedActors:D,getDestroyedActors:k,getActor:E,getActorKeys:A,getActorProperty:U,getAccTitle:o.iN,getBoxes:x,getDiagramTitle:o.ab,setDiagramTitle:o.ke,getConfig:(0,o.K2)((()=>(0,o.D7)().sequence),"getConfig"),clear:B,parseMessage:N,parseBoxData:L,LINETYPE:I,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:R,setAccTitle:o.SV,apply:H,setAccDescription:o.EI,getAccDescription:o.m7,hasAtLeastOneBox:y,hasAtLeastOneBoxWithTitle:v},G=(0,o.K2)((e=>`.actor {\n    stroke: ${e.actorBorder};\n    fill: ${e.actorBkg};\n  }\n\n  text.actor > tspan {\n    fill: ${e.actorTextColor};\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ${e.actorLineColor};\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ${e.signalColor};\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ${e.signalColor};\n  }\n\n  #arrowhead path {\n    fill: ${e.signalColor};\n    stroke: ${e.signalColor};\n  }\n\n  .sequenceNumber {\n    fill: ${e.sequenceNumberColor};\n  }\n\n  #sequencenumber {\n    fill: ${e.signalColor};\n  }\n\n  #crosshead path {\n    fill: ${e.signalColor};\n    stroke: ${e.signalColor};\n  }\n\n  .messageText {\n    fill: ${e.signalTextColor};\n    stroke: none;\n  }\n\n  .labelBox {\n    stroke: ${e.labelBoxBorderColor};\n    fill: ${e.labelBoxBkgColor};\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ${e.labelTextColor};\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ${e.loopTextColor};\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ${e.labelBoxBorderColor};\n    fill: ${e.labelBoxBorderColor};\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ${e.noteBorderColor};\n    fill: ${e.noteBkgColor};\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ${e.noteTextColor};\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ${e.activationBkgColor};\n    stroke: ${e.activationBorderColor};\n  }\n\n  .activation1 {\n    fill: ${e.activationBkgColor};\n    stroke: ${e.activationBorderColor};\n  }\n\n  .activation2 {\n    fill: ${e.activationBkgColor};\n    stroke: ${e.activationBorderColor};\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ${e.actorBkg};\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ${e.actorBorder};\n    fill: ${e.actorBkg};\n  }\n  .actor-man circle, line {\n    stroke: ${e.actorBorder};\n    fill: ${e.actorBkg};\n    stroke-width: 2px;\n  }\n`),"getStyles"),V="actor-top",Y="actor-bottom",X="actor-man",Z=(0,o.K2)((function(e,t){return(0,n.tk)(e,t)}),"drawRect"),Q=(0,o.K2)((function(e,t,r,n,i){if(void 0===t.links||null===t.links||0===Object.keys(t.links).length)return{height:0,width:0};const a=t.links,o=t.actorCnt,s=t.rectData;var u="none";i&&(u="block !important");const c=e.append("g");c.attr("id","actor"+o+"_popup"),c.attr("class","actorPopupMenu"),c.attr("display",u);var h="";void 0!==s.class&&(h=" "+s.class);let d=s.width>r?s.width:r;const f=c.append("rect");if(f.attr("class","actorPopupMenuPanel"+h),f.attr("x",s.x),f.attr("y",s.height),f.attr("fill",s.fill),f.attr("stroke",s.stroke),f.attr("width",d),f.attr("height",s.height),f.attr("rx",s.rx),f.attr("ry",s.ry),null!=a){var p=20;for(let e in a){var g=c.append("a"),m=(0,l.J)(a[e]);g.attr("xlink:href",m),g.attr("target","_blank"),ke(n)(e,g,s.x+10,s.height+p,d,20,{class:"actor"},n),p+=30}}return f.attr("height",p),{height:s.height+p,width:d}}),"drawPopup"),J=(0,o.K2)((function(e){return"var pu = document.getElementById('"+e+"'); if (pu != null) { pu.style.display = pu.style.display == 'block' ? 'none' : 'block'; }"}),"popupMenuToggle"),ee=(0,o.K2)((async function(e,t,r=null){let n=e.append("foreignObject");const i=await(0,o.VJ)(t.text,(0,o.zj)()),a=n.append("xhtml:div").attr("style","width: fit-content;").attr("xmlns","http://www.w3.org/1999/xhtml").html(i).node().getBoundingClientRect();if(n.attr("height",Math.round(a.height)).attr("width",Math.round(a.width)),"noteText"===t.class){const r=e.node().firstChild;r.setAttribute("height",a.height+2*t.textMargin);const i=r.getBBox();n.attr("x",Math.round(i.x+i.width/2-a.width/2)).attr("y",Math.round(i.y+i.height/2-a.height/2))}else if(r){let{startx:e,stopx:i,starty:o}=r;if(e>i){const t=e;e=i,i=t}n.attr("x",Math.round(e+Math.abs(e-i)/2-a.width/2)),"loopText"===t.class?n.attr("y",Math.round(o)):n.attr("y",Math.round(o-a.height))}return[n]}),"drawKatex"),te=(0,o.K2)((function(e,t){let r=0,n=0;const i=t.text.split(o.Y2.lineBreakRegex),[s,l]=(0,a.I5)(t.fontSize);let u=[],c=0,h=(0,o.K2)((()=>t.y),"yfunc");if(void 0!==t.valign&&void 0!==t.textMargin&&t.textMargin>0)switch(t.valign){case"top":case"start":h=(0,o.K2)((()=>Math.round(t.y+t.textMargin)),"yfunc");break;case"middle":case"center":h=(0,o.K2)((()=>Math.round(t.y+(r+n+t.textMargin)/2)),"yfunc");break;case"bottom":case"end":h=(0,o.K2)((()=>Math.round(t.y+(r+n+2*t.textMargin)-t.textMargin)),"yfunc")}if(void 0!==t.anchor&&void 0!==t.textMargin&&void 0!==t.width)switch(t.anchor){case"left":case"start":t.x=Math.round(t.x+t.textMargin),t.anchor="start",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"middle":case"center":t.x=Math.round(t.x+t.width/2),t.anchor="middle",t.dominantBaseline="middle",t.alignmentBaseline="middle";break;case"right":case"end":t.x=Math.round(t.x+t.width-t.textMargin),t.anchor="end",t.dominantBaseline="middle",t.alignmentBaseline="middle"}for(let[o,d]of i.entries()){void 0!==t.textMargin&&0===t.textMargin&&void 0!==s&&(c=o*s);const i=e.append("text");i.attr("x",t.x),i.attr("y",h()),void 0!==t.anchor&&i.attr("text-anchor",t.anchor).attr("dominant-baseline",t.dominantBaseline).attr("alignment-baseline",t.alignmentBaseline),void 0!==t.fontFamily&&i.style("font-family",t.fontFamily),void 0!==l&&i.style("font-size",l),void 0!==t.fontWeight&&i.style("font-weight",t.fontWeight),void 0!==t.fill&&i.attr("fill",t.fill),void 0!==t.class&&i.attr("class",t.class),void 0!==t.dy?i.attr("dy",t.dy):0!==c&&i.attr("dy",c);const f=d||a.pe;if(t.tspan){const e=i.append("tspan");e.attr("x",t.x),void 0!==t.fill&&e.attr("fill",t.fill),e.text(f)}else i.text(f);void 0!==t.valign&&void 0!==t.textMargin&&t.textMargin>0&&(n+=(i._groups||i)[0][0].getBBox().height,r=n),u.push(i)}return u}),"drawText"),re=(0,o.K2)((function(e,t){function r(e,t,r,n,i){return e+","+t+" "+(e+r)+","+t+" "+(e+r)+","+(t+n-i)+" "+(e+r-1.2*i)+","+(t+n)+" "+e+","+(t+n)}(0,o.K2)(r,"genPoints");const n=e.append("polygon");return n.attr("points",r(t.x,t.y,t.width,t.height,7)),n.attr("class","labelBox"),t.y=t.y+t.height/2,te(e,t),n}),"drawLabel"),ne=-1,ie=(0,o.K2)(((e,t,r,n)=>{e.select&&r.forEach((r=>{const i=t.get(r),a=e.select("#actor"+i.actorCnt);!n.mirrorActors&&i.stopy?a.attr("y2",i.stopy+i.height/2):n.mirrorActors&&a.attr("y2",i.stopy)}))}),"fixLifeLineHeights"),ae=(0,o.K2)((function(e,t,r,i){const a=i?t.stopy:t.starty,s=t.x+t.width/2,l=a+t.height,u=e.append("g").lower();var c=u;i||(ne++,Object.keys(t.links||{}).length&&!r.forceMenus&&c.attr("onclick",J(`actor${ne}_popup`)).attr("cursor","pointer"),c.append("line").attr("id","actor"+ne).attr("x1",s).attr("y1",l).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),c=u.append("g"),t.actorCnt=ne,null!=t.links&&c.attr("id","root-"+ne));const h=(0,n.PB)();var d="actor";t.properties?.class?d=t.properties.class:h.fill="#eaeaea",d+=i?` ${Y}`:` ${V}`,h.x=t.x,h.y=a,h.width=t.width,h.height=t.height,h.class=d,h.rx=3,h.ry=3,h.name=t.name;const f=Z(c,h);if(t.rectData=h,t.properties?.icon){const e=t.properties.icon.trim();"@"===e.charAt(0)?(0,n.CP)(c,h.x+h.width-20,h.y+10,e.substr(1)):(0,n.aC)(c,h.x+h.width-20,h.y+10,e)}De(r,(0,o.Wi)(t.description))(t.description,c,h.x,h.y,h.width,h.height,{class:"actor actor-box"},r);let p=t.height;if(f.node){const e=f.node().getBBox();t.height=e.height,p=e.height}return p}),"drawActorTypeParticipant"),oe=(0,o.K2)((function(e,t,r,i){const a=i?t.stopy:t.starty,s=t.x+t.width/2,l=a+80,u=e.append("g").lower();i||(ne++,u.append("line").attr("id","actor"+ne).attr("x1",s).attr("y1",l).attr("x2",s).attr("y2",2e3).attr("class","actor-line 200").attr("stroke-width","0.5px").attr("stroke","#999").attr("name",t.name),t.actorCnt=ne);const c=e.append("g");let h=X;h+=i?` ${Y}`:` ${V}`,c.attr("class",h),c.attr("name",t.name);const d=(0,n.PB)();d.x=t.x,d.y=a,d.fill="#eaeaea",d.width=t.width,d.height=t.height,d.class="actor",d.rx=3,d.ry=3,c.append("line").attr("id","actor-man-torso"+ne).attr("x1",s).attr("y1",a+25).attr("x2",s).attr("y2",a+45),c.append("line").attr("id","actor-man-arms"+ne).attr("x1",s-18).attr("y1",a+33).attr("x2",s+18).attr("y2",a+33),c.append("line").attr("x1",s-18).attr("y1",a+60).attr("x2",s).attr("y2",a+45),c.append("line").attr("x1",s).attr("y1",a+45).attr("x2",s+18-2).attr("y2",a+60);const f=c.append("circle");f.attr("cx",t.x+t.width/2),f.attr("cy",a+10),f.attr("r",15),f.attr("width",t.width),f.attr("height",t.height);const p=c.node().getBBox();return t.height=p.height,De(r,(0,o.Wi)(t.description))(t.description,c,d.x,d.y+35,d.width,d.height,{class:`actor ${X}`},r),t.height}),"drawActorTypeActor"),se=(0,o.K2)((async function(e,t,r,n){switch(t.type){case"actor":return await oe(e,t,r,n);case"participant":return await ae(e,t,r,n)}}),"drawActor"),le=(0,o.K2)((function(e,t,r){const n=e.append("g");de(n,t),t.name&&De(r)(t.name,n,t.x,t.y+(t.textMaxHeight||0)/2,t.width,0,{class:"text"},r),n.lower()}),"drawBox"),ue=(0,o.K2)((function(e){return e.append("g")}),"anchorElement"),ce=(0,o.K2)((function(e,t,r,i,a){const o=(0,n.PB)(),s=t.anchored;o.x=t.startx,o.y=t.starty,o.class="activation"+a%3,o.width=t.stopx-t.startx,o.height=r-t.starty,Z(s,o)}),"drawActivation"),he=(0,o.K2)((async function(e,t,r,i){const{boxMargin:a,boxTextMargin:s,labelBoxHeight:l,labelBoxWidth:u,messageFontFamily:c,messageFontSize:h,messageFontWeight:d}=i,f=e.append("g"),p=(0,o.K2)((function(e,t,r,n){return f.append("line").attr("x1",e).attr("y1",t).attr("x2",r).attr("y2",n).attr("class","loopLine")}),"drawLoopLine");p(t.startx,t.starty,t.stopx,t.starty),p(t.stopx,t.starty,t.stopx,t.stopy),p(t.startx,t.stopy,t.stopx,t.stopy),p(t.startx,t.starty,t.startx,t.stopy),void 0!==t.sections&&t.sections.forEach((function(e){p(t.startx,e.y,t.stopx,e.y).style("stroke-dasharray","3, 3")}));let g=(0,n.HT)();g.text=r,g.x=t.startx,g.y=t.starty,g.fontFamily=c,g.fontSize=h,g.fontWeight=d,g.anchor="middle",g.valign="middle",g.tspan=!1,g.width=u||50,g.height=l||20,g.textMargin=s,g.class="labelText",re(f,g),g=xe(),g.text=t.title,g.x=t.startx+u/2+(t.stopx-t.startx)/2,g.y=t.starty+a+s,g.anchor="middle",g.valign="middle",g.textMargin=s,g.class="loopText",g.fontFamily=c,g.fontSize=h,g.fontWeight=d,g.wrap=!0;let m=(0,o.Wi)(g.text)?await ee(f,g,t):te(f,g);if(void 0!==t.sectionTitles)for(const[e,r]of Object.entries(t.sectionTitles))if(r.message){g.text=r.message,g.x=t.startx+(t.stopx-t.startx)/2,g.y=t.sections[e].y+a+s,g.class="loopText",g.anchor="middle",g.valign="middle",g.tspan=!1,g.fontFamily=c,g.fontSize=h,g.fontWeight=d,g.wrap=t.wrap,(0,o.Wi)(g.text)?(t.starty=t.sections[e].y,await ee(f,g,t)):te(f,g);let n=Math.round(m.map((e=>(e._groups||e)[0][0].getBBox().height)).reduce(((e,t)=>e+t)));t.sections[e].height+=n-(a+s)}return t.height=Math.round(t.stopy-t.starty),f}),"drawLoop"),de=(0,o.K2)((function(e,t){(0,n.lC)(e,t)}),"drawBackgroundRect"),fe=(0,o.K2)((function(e){e.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")}),"insertDatabaseIcon"),pe=(0,o.K2)((function(e){e.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")}),"insertComputerIcon"),ge=(0,o.K2)((function(e){e.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")}),"insertClockIcon"),me=(0,o.K2)((function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",7.9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto-start-reverse").append("path").attr("d","M -1 0 L 10 5 L 0 10 z")}),"insertArrowHead"),ye=(0,o.K2)((function(e){e.append("defs").append("marker").attr("id","filled-head").attr("refX",15.5).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}),"insertArrowFilledHead"),ve=(0,o.K2)((function(e){e.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)}),"insertSequenceNumber"),be=(0,o.K2)((function(e){e.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",4.5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")}),"insertArrowCrossHead"),xe=(0,o.K2)((function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}}),"getTextObj"),we=(0,o.K2)((function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}}),"getNoteRect"),De=function(){function e(e,t,r,n,a,o,s){i(t.append("text").attr("x",r+a/2).attr("y",n+o/2+5).style("text-anchor","middle").text(e),s)}function t(e,t,r,n,s,l,u,c){const{actorFontSize:h,actorFontFamily:d,actorFontWeight:f}=c,[p,g]=(0,a.I5)(h),m=e.split(o.Y2.lineBreakRegex);for(let e=0;e<m.length;e++){const a=e*p-p*(m.length-1)/2,o=t.append("text").attr("x",r+s/2).attr("y",n).style("text-anchor","middle").style("font-size",g).style("font-weight",f).style("font-family",d);o.append("tspan").attr("x",r+s/2).attr("dy",a).text(m[e]),o.attr("y",n+l/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(o,u)}}function r(e,r,n,a,o,s,l,u){const c=r.append("switch"),h=c.append("foreignObject").attr("x",n).attr("y",a).attr("width",o).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),t(e,c,n,a,o,s,l,u),i(h,l)}async function n(e,r,n,a,s,l,u,c){const h=await(0,o.Dl)(e,(0,o.zj)()),d=r.append("switch"),f=d.append("foreignObject").attr("x",n+s/2-h.width/2).attr("y",a+l/2-h.height/2).attr("width",h.width).attr("height",h.height).append("xhtml:div").style("height","100%").style("width","100%");f.append("div").style("text-align","center").style("vertical-align","middle").html(await(0,o.VJ)(e,(0,o.zj)())),t(e,d,n,a,s,l,u,c),i(f,u)}function i(e,t){for(const r in t)t.hasOwnProperty(r)&&e.attr(r,t[r])}return(0,o.K2)(e,"byText"),(0,o.K2)(t,"byTspan"),(0,o.K2)(r,"byFo"),(0,o.K2)(n,"byKatex"),(0,o.K2)(i,"_setTextAttrs"),function(i,a=!1){return a?n:"fo"===i.textPlacement?r:"old"===i.textPlacement?e:t}}(),ke=function(){function e(e,t,r,i,a,o,s){n(t.append("text").attr("x",r).attr("y",i).style("text-anchor","start").text(e),s)}function t(e,t,r,i,a,s,l,u){const{actorFontSize:c,actorFontFamily:h,actorFontWeight:d}=u,f=e.split(o.Y2.lineBreakRegex);for(let e=0;e<f.length;e++){const a=e*c-c*(f.length-1)/2,o=t.append("text").attr("x",r).attr("y",i).style("text-anchor","start").style("font-size",c).style("font-weight",d).style("font-family",h);o.append("tspan").attr("x",r).attr("dy",a).text(f[e]),o.attr("y",i+s/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),n(o,l)}}function r(e,r,i,a,o,s,l,u){const c=r.append("switch"),h=c.append("foreignObject").attr("x",i).attr("y",a).attr("width",o).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),t(e,c,i,a,0,s,l,u),n(h,l)}function n(e,t){for(const r in t)t.hasOwnProperty(r)&&e.attr(r,t[r])}return(0,o.K2)(e,"byText"),(0,o.K2)(t,"byTspan"),(0,o.K2)(r,"byFo"),(0,o.K2)(n,"_setTextAttrs"),function(n){return"fo"===n.textPlacement?r:"old"===n.textPlacement?e:t}}(),Ee={drawRect:Z,drawText:te,drawLabel:re,drawActor:se,drawBox:le,drawPopup:Q,anchorElement:ue,drawActivation:ce,drawLoop:he,drawBackgroundRect:de,insertArrowHead:me,insertArrowFilledHead:ye,insertSequenceNumber:ve,insertArrowCrossHead:be,insertDatabaseIcon:fe,insertComputerIcon:pe,insertClockIcon:ge,getTextObj:xe,getNoteRect:we,fixLifeLineHeights:ie,sanitizeUrl:l.J},Ae={},Ce={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:(0,o.K2)((function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map((e=>e.height||0)))+(0===this.loops.length?0:this.loops.map((e=>e.height||0)).reduce(((e,t)=>e+t)))+(0===this.messages.length?0:this.messages.map((e=>e.height||0)).reduce(((e,t)=>e+t)))+(0===this.notes.length?0:this.notes.map((e=>e.height||0)).reduce(((e,t)=>e+t)))}),"getHeight"),clear:(0,o.K2)((function(){this.actors=[],this.boxes=[],this.loops=[],this.messages=[],this.notes=[]}),"clear"),addBox:(0,o.K2)((function(e){this.boxes.push(e)}),"addBox"),addActor:(0,o.K2)((function(e){this.actors.push(e)}),"addActor"),addLoop:(0,o.K2)((function(e){this.loops.push(e)}),"addLoop"),addMessage:(0,o.K2)((function(e){this.messages.push(e)}),"addMessage"),addNote:(0,o.K2)((function(e){this.notes.push(e)}),"addNote"),lastActor:(0,o.K2)((function(){return this.actors[this.actors.length-1]}),"lastActor"),lastLoop:(0,o.K2)((function(){return this.loops[this.loops.length-1]}),"lastLoop"),lastMessage:(0,o.K2)((function(){return this.messages[this.messages.length-1]}),"lastMessage"),lastNote:(0,o.K2)((function(){return this.notes[this.notes.length-1]}),"lastNote"),actors:[],boxes:[],loops:[],messages:[],notes:[]},init:(0,o.K2)((function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,Re((0,o.D7)())}),"init"),updateVal:(0,o.K2)((function(e,t,r,n){void 0===e[t]?e[t]=r:e[t]=n(r,e[t])}),"updateVal"),updateBounds:(0,o.K2)((function(e,t,r,n){const i=this;let a=0;function s(s){return(0,o.K2)((function(o){a++;const l=i.sequenceItems.length-a+1;i.updateVal(o,"starty",t-l*Ae.boxMargin,Math.min),i.updateVal(o,"stopy",n+l*Ae.boxMargin,Math.max),i.updateVal(Ce.data,"startx",e-l*Ae.boxMargin,Math.min),i.updateVal(Ce.data,"stopx",r+l*Ae.boxMargin,Math.max),"activation"!==s&&(i.updateVal(o,"startx",e-l*Ae.boxMargin,Math.min),i.updateVal(o,"stopx",r+l*Ae.boxMargin,Math.max),i.updateVal(Ce.data,"starty",t-l*Ae.boxMargin,Math.min),i.updateVal(Ce.data,"stopy",n+l*Ae.boxMargin,Math.max))}),"updateItemBounds")}(0,o.K2)(s,"updateFn"),this.sequenceItems.forEach(s()),this.activations.forEach(s("activation"))}),"updateBounds"),insert:(0,o.K2)((function(e,t,r,n){const i=o.Y2.getMin(e,r),a=o.Y2.getMax(e,r),s=o.Y2.getMin(t,n),l=o.Y2.getMax(t,n);this.updateVal(Ce.data,"startx",i,Math.min),this.updateVal(Ce.data,"starty",s,Math.min),this.updateVal(Ce.data,"stopx",a,Math.max),this.updateVal(Ce.data,"stopy",l,Math.max),this.updateBounds(i,s,a,l)}),"insert"),newActivation:(0,o.K2)((function(e,t,r){const n=r.get(e.from),i=Me(e.from).length||0,a=n.x+n.width/2+(i-1)*Ae.activationWidth/2;this.activations.push({startx:a,starty:this.verticalPos+2,stopx:a+Ae.activationWidth,stopy:void 0,actor:e.from,anchored:Ee.anchorElement(t)})}),"newActivation"),endActivation:(0,o.K2)((function(e){const t=this.activations.map((function(e){return e.actor})).lastIndexOf(e.from);return this.activations.splice(t,1)[0]}),"endActivation"),createLoop:(0,o.K2)((function(e={message:void 0,wrap:!1,width:void 0},t){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:e.message,wrap:e.wrap,width:e.width,height:0,fill:t}}),"createLoop"),newLoop:(0,o.K2)((function(e={message:void 0,wrap:!1,width:void 0},t){this.sequenceItems.push(this.createLoop(e,t))}),"newLoop"),endLoop:(0,o.K2)((function(){return this.sequenceItems.pop()}),"endLoop"),isLoopOverlap:(0,o.K2)((function(){return!!this.sequenceItems.length&&this.sequenceItems[this.sequenceItems.length-1].overlap}),"isLoopOverlap"),addSectionToLoop:(0,o.K2)((function(e){const t=this.sequenceItems.pop();t.sections=t.sections||[],t.sectionTitles=t.sectionTitles||[],t.sections.push({y:Ce.getVerticalPos(),height:0}),t.sectionTitles.push(e),this.sequenceItems.push(t)}),"addSectionToLoop"),saveVerticalPos:(0,o.K2)((function(){this.isLoopOverlap()&&(this.savedVerticalPos=this.verticalPos)}),"saveVerticalPos"),resetVerticalPos:(0,o.K2)((function(){this.isLoopOverlap()&&(this.verticalPos=this.savedVerticalPos)}),"resetVerticalPos"),bumpVerticalPos:(0,o.K2)((function(e){this.verticalPos=this.verticalPos+e,this.data.stopy=o.Y2.getMax(this.data.stopy,this.verticalPos)}),"bumpVerticalPos"),getVerticalPos:(0,o.K2)((function(){return this.verticalPos}),"getVerticalPos"),getBounds:(0,o.K2)((function(){return{bounds:this.data,models:this.models}}),"getBounds")},_e=(0,o.K2)((async function(e,t){Ce.bumpVerticalPos(Ae.boxMargin),t.height=Ae.boxMargin,t.starty=Ce.getVerticalPos();const r=(0,n.PB)();r.x=t.startx,r.y=t.starty,r.width=t.width||Ae.width,r.class="note";const i=e.append("g"),a=Ee.drawRect(i,r),s=(0,n.HT)();s.x=t.startx,s.y=t.starty,s.width=r.width,s.dy="1em",s.text=t.message,s.class="noteText",s.fontFamily=Ae.noteFontFamily,s.fontSize=Ae.noteFontSize,s.fontWeight=Ae.noteFontWeight,s.anchor=Ae.noteAlign,s.textMargin=Ae.noteMargin,s.valign="center";const l=(0,o.Wi)(s.text)?await ee(i,s):te(i,s),u=Math.round(l.map((e=>(e._groups||e)[0][0].getBBox().height)).reduce(((e,t)=>e+t)));a.attr("height",u+2*Ae.noteMargin),t.height+=u+2*Ae.noteMargin,Ce.bumpVerticalPos(u+2*Ae.noteMargin),t.stopy=t.starty+u+2*Ae.noteMargin,t.stopx=t.startx+r.width,Ce.insert(t.startx,t.starty,t.stopx,t.stopy),Ce.models.addNote(t)}),"drawNote"),Te=(0,o.K2)((e=>({fontFamily:e.messageFontFamily,fontSize:e.messageFontSize,fontWeight:e.messageFontWeight})),"messageFont"),Se=(0,o.K2)((e=>({fontFamily:e.noteFontFamily,fontSize:e.noteFontSize,fontWeight:e.noteFontWeight})),"noteFont"),Fe=(0,o.K2)((e=>({fontFamily:e.actorFontFamily,fontSize:e.actorFontSize,fontWeight:e.actorFontWeight})),"actorFont");async function Oe(e,t){Ce.bumpVerticalPos(10);const{startx:r,stopx:n,message:i}=t,s=o.Y2.splitBreaks(i).length,l=(0,o.Wi)(i),u=l?await(0,o.Dl)(i,(0,o.D7)()):a._K.calculateTextDimensions(i,Te(Ae));if(!l){const e=u.height/s;t.height+=e,Ce.bumpVerticalPos(e)}let c,h=u.height-10;const d=u.width;if(r===n){c=Ce.getVerticalPos()+h,Ae.rightAngles||(h+=Ae.boxMargin,c=Ce.getVerticalPos()+h),h+=30;const e=o.Y2.getMax(d/2,Ae.width/2);Ce.insert(r-e,Ce.getVerticalPos()-10+h,n+e,Ce.getVerticalPos()+30+h)}else h+=Ae.boxMargin,c=Ce.getVerticalPos()+h,Ce.insert(r,c-10,n,c);return Ce.bumpVerticalPos(h),t.height+=h,t.stopy=t.starty+t.height,Ce.insert(t.fromBounds,t.starty,t.toBounds,t.stopy),c}(0,o.K2)(Oe,"boundMessage");var Be=(0,o.K2)((async function(e,t,r,i){const{startx:s,stopx:l,starty:u,message:c,type:h,sequenceIndex:d,sequenceVisible:f}=t,p=a._K.calculateTextDimensions(c,Te(Ae)),g=(0,n.HT)();g.x=s,g.y=u+10,g.width=l-s,g.class="messageText",g.dy="1em",g.text=c,g.fontFamily=Ae.messageFontFamily,g.fontSize=Ae.messageFontSize,g.fontWeight=Ae.messageFontWeight,g.anchor=Ae.messageAlign,g.valign="center",g.textMargin=Ae.wrapPadding,g.tspan=!1,(0,o.Wi)(g.text)?await ee(e,g,{startx:s,stopx:l,starty:r}):te(e,g);const m=p.width;let y;s===l?y=Ae.rightAngles?e.append("path").attr("d",`M  ${s},${r} H ${s+o.Y2.getMax(Ae.width/2,m/2)} V ${r+25} H ${s}`):e.append("path").attr("d","M "+s+","+r+" C "+(s+60)+","+(r-10)+" "+(s+60)+","+(r+30)+" "+s+","+(r+20)):(y=e.append("line"),y.attr("x1",s),y.attr("y1",r),y.attr("x2",l),y.attr("y2",r)),h===i.db.LINETYPE.DOTTED||h===i.db.LINETYPE.DOTTED_CROSS||h===i.db.LINETYPE.DOTTED_POINT||h===i.db.LINETYPE.DOTTED_OPEN||h===i.db.LINETYPE.BIDIRECTIONAL_DOTTED?(y.style("stroke-dasharray","3, 3"),y.attr("class","messageLine1")):y.attr("class","messageLine0");let v="";Ae.arrowMarkerAbsolute&&(v=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,v=v.replace(/\(/g,"\\("),v=v.replace(/\)/g,"\\)")),y.attr("stroke-width",2),y.attr("stroke","none"),y.style("fill","none"),h!==i.db.LINETYPE.SOLID&&h!==i.db.LINETYPE.DOTTED||y.attr("marker-end","url("+v+"#arrowhead)"),h!==i.db.LINETYPE.BIDIRECTIONAL_SOLID&&h!==i.db.LINETYPE.BIDIRECTIONAL_DOTTED||(y.attr("marker-start","url("+v+"#arrowhead)"),y.attr("marker-end","url("+v+"#arrowhead)")),h!==i.db.LINETYPE.SOLID_POINT&&h!==i.db.LINETYPE.DOTTED_POINT||y.attr("marker-end","url("+v+"#filled-head)"),h!==i.db.LINETYPE.SOLID_CROSS&&h!==i.db.LINETYPE.DOTTED_CROSS||y.attr("marker-end","url("+v+"#crosshead)"),(f||Ae.showSequenceNumbers)&&(y.attr("marker-start","url("+v+"#sequencenumber)"),e.append("text").attr("x",s).attr("y",r+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(d))}),"drawMessage"),Ne=(0,o.K2)((function(e,t,r,n,i,a,s){let l,u=0,c=0,h=0;for(const e of n){const n=t.get(e),a=n.box;l&&l!=a&&(s||Ce.models.addBox(l),c+=Ae.boxMargin+l.margin),a&&a!=l&&(s||(a.x=u+c,a.y=i),c+=a.margin),n.width=n.width||Ae.width,n.height=o.Y2.getMax(n.height||Ae.height,Ae.height),n.margin=n.margin||Ae.actorMargin,h=o.Y2.getMax(h,n.height),r.get(n.name)&&(c+=n.width/2),n.x=u+c,n.starty=Ce.getVerticalPos(),Ce.insert(n.x,i,n.x+n.width,n.height),u+=n.width+c,n.box&&(n.box.width=u+a.margin-n.box.x),c=n.margin,l=n.box,Ce.models.addActor(n)}l&&!s&&Ce.models.addBox(l),Ce.bumpVerticalPos(h)}),"addActorRenderingData"),Le=(0,o.K2)((async function(e,t,r,n){if(n){let n=0;Ce.bumpVerticalPos(2*Ae.boxMargin);for(const i of r){const r=t.get(i);r.stopy||(r.stopy=Ce.getVerticalPos());const a=await Ee.drawActor(e,r,Ae,!0);n=o.Y2.getMax(n,a)}Ce.bumpVerticalPos(n+Ae.boxMargin)}else for(const n of r){const r=t.get(n);await Ee.drawActor(e,r,Ae,!1)}}),"drawActors"),Ie=(0,o.K2)((function(e,t,r,n){let i=0,a=0;for(const o of r){const r=t.get(o),s=qe(r),l=Ee.drawPopup(e,r,s,Ae,Ae.forceMenus,n);l.height>i&&(i=l.height),l.width+r.x>a&&(a=l.width+r.x)}return{maxHeight:i,maxWidth:a}}),"drawActorsPopup"),Re=(0,o.K2)((function(e){(0,o.hH)(Ae,e),e.fontFamily&&(Ae.actorFontFamily=Ae.noteFontFamily=Ae.messageFontFamily=e.fontFamily),e.fontSize&&(Ae.actorFontSize=Ae.noteFontSize=Ae.messageFontSize=e.fontSize),e.fontWeight&&(Ae.actorFontWeight=Ae.noteFontWeight=Ae.messageFontWeight=e.fontWeight)}),"setConf"),Me=(0,o.K2)((function(e){return Ce.activations.filter((function(t){return t.actor===e}))}),"actorActivations"),Pe=(0,o.K2)((function(e,t){const r=t.get(e),n=Me(e);return[n.reduce((function(e,t){return o.Y2.getMin(e,t.startx)}),r.x+r.width/2-1),n.reduce((function(e,t){return o.Y2.getMax(e,t.stopx)}),r.x+r.width/2+1)]}),"activationBounds");function ze(e,t,r,n,i){Ce.bumpVerticalPos(r);let s=n;if(t.id&&t.message&&e[t.id]){const r=e[t.id].width,i=Te(Ae);t.message=a._K.wrapLabel(`[${t.message}]`,r-2*Ae.wrapPadding,i),t.width=r,t.wrap=!0;const l=a._K.calculateTextDimensions(t.message,i),u=o.Y2.getMax(l.height,Ae.labelBoxHeight);s=n+u,o.Rm.debug(`${u} - ${t.message}`)}i(t),Ce.bumpVerticalPos(s)}function $e(e,t,r,n,i,a,s){function l(r,n){r.x<i.get(e.from).x?(Ce.insert(t.stopx-n,t.starty,t.startx,t.stopy+r.height/2+Ae.noteMargin),t.stopx=t.stopx+n):(Ce.insert(t.startx,t.starty,t.stopx+n,t.stopy+r.height/2+Ae.noteMargin),t.stopx=t.stopx-n)}function u(r,n){r.x<i.get(e.to).x?(Ce.insert(t.startx-n,t.starty,t.stopx,t.stopy+r.height/2+Ae.noteMargin),t.startx=t.startx+n):(Ce.insert(t.stopx,t.starty,t.startx+n,t.stopy+r.height/2+Ae.noteMargin),t.startx=t.startx-n)}if((0,o.K2)(l,"receiverAdjustment"),(0,o.K2)(u,"senderAdjustment"),a.get(e.to)==n){const t=i.get(e.to);l(t,"actor"==t.type?21:t.width/2+3),t.starty=r-t.height/2,Ce.bumpVerticalPos(t.height/2)}else if(s.get(e.from)==n){const t=i.get(e.from);Ae.mirrorActors&&u(t,"actor"==t.type?18:t.width/2),t.stopy=r-t.height/2,Ce.bumpVerticalPos(t.height/2)}else if(s.get(e.to)==n){const t=i.get(e.to);Ae.mirrorActors&&l(t,"actor"==t.type?21:t.width/2+3),t.stopy=r-t.height/2,Ce.bumpVerticalPos(t.height/2)}}(0,o.K2)(ze,"adjustLoopHeightForWrap"),(0,o.K2)($e,"adjustCreatedDestroyedData");var je=(0,o.K2)((async function(e,t,r,n){const{securityLevel:i,sequence:a}=(0,o.D7)();let l;Ae=a,"sandbox"===i&&(l=(0,s.Ltv)("#i"+t));const u="sandbox"===i?(0,s.Ltv)(l.nodes()[0].contentDocument.body):(0,s.Ltv)("body"),c="sandbox"===i?l.nodes()[0].contentDocument:document;Ce.init(),o.Rm.debug(n.db);const h="sandbox"===i?u.select(`[id="${t}"]`):(0,s.Ltv)(`[id="${t}"]`),d=n.db.getActors(),f=n.db.getCreatedActors(),p=n.db.getDestroyedActors(),g=n.db.getBoxes();let m=n.db.getActorKeys();const y=n.db.getMessages(),v=n.db.getDiagramTitle(),b=n.db.hasAtLeastOneBox(),x=n.db.hasAtLeastOneBoxWithTitle(),w=await Ke(d,y,n);if(Ae.height=await Ue(d,w,g),Ee.insertComputerIcon(h),Ee.insertDatabaseIcon(h),Ee.insertClockIcon(h),b&&(Ce.bumpVerticalPos(Ae.boxMargin),x&&Ce.bumpVerticalPos(g[0].textMaxHeight)),!0===Ae.hideUnusedParticipants){const e=new Set;y.forEach((t=>{e.add(t.from),e.add(t.to)})),m=m.filter((t=>e.has(t)))}Ne(h,d,f,m,0,y,!1);const D=await Ge(y,d,w,n);function k(e,t){const r=Ce.endActivation(e);r.starty+18>t&&(r.starty=t-6,t+=12),Ee.drawActivation(h,r,t,Ae,Me(e.from).length),Ce.insert(r.startx,t-10,r.stopx,t)}Ee.insertArrowHead(h),Ee.insertArrowCrossHead(h),Ee.insertArrowFilledHead(h),Ee.insertSequenceNumber(h),(0,o.K2)(k,"activeEnd");let E=1,A=1;const C=[],_=[];let T=0;for(const e of y){let t,r,i;switch(e.type){case n.db.LINETYPE.NOTE:Ce.resetVerticalPos(),r=e.noteModel,await _e(h,r);break;case n.db.LINETYPE.ACTIVE_START:Ce.newActivation(e,h,d);break;case n.db.LINETYPE.ACTIVE_END:k(e,Ce.getVerticalPos());break;case n.db.LINETYPE.LOOP_START:ze(D,e,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,(e=>Ce.newLoop(e)));break;case n.db.LINETYPE.LOOP_END:t=Ce.endLoop(),await Ee.drawLoop(h,t,"loop",Ae),Ce.bumpVerticalPos(t.stopy-Ce.getVerticalPos()),Ce.models.addLoop(t);break;case n.db.LINETYPE.RECT_START:ze(D,e,Ae.boxMargin,Ae.boxMargin,(e=>Ce.newLoop(void 0,e.message)));break;case n.db.LINETYPE.RECT_END:t=Ce.endLoop(),_.push(t),Ce.models.addLoop(t),Ce.bumpVerticalPos(t.stopy-Ce.getVerticalPos());break;case n.db.LINETYPE.OPT_START:ze(D,e,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,(e=>Ce.newLoop(e)));break;case n.db.LINETYPE.OPT_END:t=Ce.endLoop(),await Ee.drawLoop(h,t,"opt",Ae),Ce.bumpVerticalPos(t.stopy-Ce.getVerticalPos()),Ce.models.addLoop(t);break;case n.db.LINETYPE.ALT_START:ze(D,e,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,(e=>Ce.newLoop(e)));break;case n.db.LINETYPE.ALT_ELSE:ze(D,e,Ae.boxMargin+Ae.boxTextMargin,Ae.boxMargin,(e=>Ce.addSectionToLoop(e)));break;case n.db.LINETYPE.ALT_END:t=Ce.endLoop(),await Ee.drawLoop(h,t,"alt",Ae),Ce.bumpVerticalPos(t.stopy-Ce.getVerticalPos()),Ce.models.addLoop(t);break;case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:ze(D,e,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,(e=>Ce.newLoop(e))),Ce.saveVerticalPos();break;case n.db.LINETYPE.PAR_AND:ze(D,e,Ae.boxMargin+Ae.boxTextMargin,Ae.boxMargin,(e=>Ce.addSectionToLoop(e)));break;case n.db.LINETYPE.PAR_END:t=Ce.endLoop(),await Ee.drawLoop(h,t,"par",Ae),Ce.bumpVerticalPos(t.stopy-Ce.getVerticalPos()),Ce.models.addLoop(t);break;case n.db.LINETYPE.AUTONUMBER:E=e.message.start||E,A=e.message.step||A,e.message.visible?n.db.enableSequenceNumbers():n.db.disableSequenceNumbers();break;case n.db.LINETYPE.CRITICAL_START:ze(D,e,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,(e=>Ce.newLoop(e)));break;case n.db.LINETYPE.CRITICAL_OPTION:ze(D,e,Ae.boxMargin+Ae.boxTextMargin,Ae.boxMargin,(e=>Ce.addSectionToLoop(e)));break;case n.db.LINETYPE.CRITICAL_END:t=Ce.endLoop(),await Ee.drawLoop(h,t,"critical",Ae),Ce.bumpVerticalPos(t.stopy-Ce.getVerticalPos()),Ce.models.addLoop(t);break;case n.db.LINETYPE.BREAK_START:ze(D,e,Ae.boxMargin,Ae.boxMargin+Ae.boxTextMargin,(e=>Ce.newLoop(e)));break;case n.db.LINETYPE.BREAK_END:t=Ce.endLoop(),await Ee.drawLoop(h,t,"break",Ae),Ce.bumpVerticalPos(t.stopy-Ce.getVerticalPos()),Ce.models.addLoop(t);break;default:try{i=e.msgModel,i.starty=Ce.getVerticalPos(),i.sequenceIndex=E,i.sequenceVisible=n.db.showSequenceNumbers();const t=await Oe(0,i);$e(e,i,t,T,d,f,p),C.push({messageModel:i,lineStartY:t}),Ce.models.addMessage(i)}catch(e){o.Rm.error("error while drawing message",e)}}[n.db.LINETYPE.SOLID_OPEN,n.db.LINETYPE.DOTTED_OPEN,n.db.LINETYPE.SOLID,n.db.LINETYPE.DOTTED,n.db.LINETYPE.SOLID_CROSS,n.db.LINETYPE.DOTTED_CROSS,n.db.LINETYPE.SOLID_POINT,n.db.LINETYPE.DOTTED_POINT,n.db.LINETYPE.BIDIRECTIONAL_SOLID,n.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(E+=A),T++}o.Rm.debug("createdActors",f),o.Rm.debug("destroyedActors",p),await Le(h,d,m,!1);for(const e of C)await Be(h,e.messageModel,e.lineStartY,n);Ae.mirrorActors&&await Le(h,d,m,!0),_.forEach((e=>Ee.drawBackgroundRect(h,e))),ie(h,d,m,Ae);for(const e of Ce.models.boxes)e.height=Ce.getVerticalPos()-e.y,Ce.insert(e.x,e.y,e.x+e.width,e.height),e.startx=e.x,e.starty=e.y,e.stopx=e.startx+e.width,e.stopy=e.starty+e.height,e.stroke="rgb(0,0,0, 0.5)",Ee.drawBox(h,e,Ae);b&&Ce.bumpVerticalPos(Ae.boxMargin);const S=Ie(h,d,m,c),{bounds:F}=Ce.getBounds();void 0===F.startx&&(F.startx=0),void 0===F.starty&&(F.starty=0),void 0===F.stopx&&(F.stopx=0),void 0===F.stopy&&(F.stopy=0);let O=F.stopy-F.starty;O<S.maxHeight&&(O=S.maxHeight);let B=O+2*Ae.diagramMarginY;Ae.mirrorActors&&(B=B-Ae.boxMargin+Ae.bottomMarginAdj);let N=F.stopx-F.startx;N<S.maxWidth&&(N=S.maxWidth);const L=N+2*Ae.diagramMarginX;v&&h.append("text").text(v).attr("x",(F.stopx-F.startx)/2-2*Ae.diagramMarginX).attr("y",-25),(0,o.a$)(h,B,L,Ae.useMaxWidth);const I=v?40:0;h.attr("viewBox",F.startx-Ae.diagramMarginX+" -"+(Ae.diagramMarginY+I)+" "+L+" "+(B+I)),o.Rm.debug("models:",Ce.models)}),"draw");async function Ke(e,t,r){const n={};for(const i of t)if(e.get(i.to)&&e.get(i.from)){const t=e.get(i.to);if(i.placement===r.db.PLACEMENT.LEFTOF&&!t.prevActor)continue;if(i.placement===r.db.PLACEMENT.RIGHTOF&&!t.nextActor)continue;const s=void 0!==i.placement,l=!s,u=s?Se(Ae):Te(Ae),c=i.wrap?a._K.wrapLabel(i.message,Ae.width-2*Ae.wrapPadding,u):i.message,h=((0,o.Wi)(c)?await(0,o.Dl)(i.message,(0,o.D7)()):a._K.calculateTextDimensions(c,u)).width+2*Ae.wrapPadding;l&&i.from===t.nextActor?n[i.to]=o.Y2.getMax(n[i.to]||0,h):l&&i.from===t.prevActor?n[i.from]=o.Y2.getMax(n[i.from]||0,h):l&&i.from===i.to?(n[i.from]=o.Y2.getMax(n[i.from]||0,h/2),n[i.to]=o.Y2.getMax(n[i.to]||0,h/2)):i.placement===r.db.PLACEMENT.RIGHTOF?n[i.from]=o.Y2.getMax(n[i.from]||0,h):i.placement===r.db.PLACEMENT.LEFTOF?n[t.prevActor]=o.Y2.getMax(n[t.prevActor]||0,h):i.placement===r.db.PLACEMENT.OVER&&(t.prevActor&&(n[t.prevActor]=o.Y2.getMax(n[t.prevActor]||0,h/2)),t.nextActor&&(n[i.from]=o.Y2.getMax(n[i.from]||0,h/2)))}return o.Rm.debug("maxMessageWidthPerActor:",n),n}(0,o.K2)(Ke,"getMaxMessageWidthPerActor");var qe=(0,o.K2)((function(e){let t=0;const r=Fe(Ae);for(const n in e.links){const e=a._K.calculateTextDimensions(n,r).width+2*Ae.wrapPadding+2*Ae.boxMargin;t<e&&(t=e)}return t}),"getRequiredPopupWidth");async function Ue(e,t,r){let n=0;for(const t of e.keys()){const r=e.get(t);r.wrap&&(r.description=a._K.wrapLabel(r.description,Ae.width-2*Ae.wrapPadding,Fe(Ae)));const i=(0,o.Wi)(r.description)?await(0,o.Dl)(r.description,(0,o.D7)()):a._K.calculateTextDimensions(r.description,Fe(Ae));r.width=r.wrap?Ae.width:o.Y2.getMax(Ae.width,i.width+2*Ae.wrapPadding),r.height=r.wrap?o.Y2.getMax(i.height,Ae.height):Ae.height,n=o.Y2.getMax(n,r.height)}for(const r in t){const n=e.get(r);if(!n)continue;const i=e.get(n.nextActor);if(!i){const e=t[r]+Ae.actorMargin-n.width/2;n.margin=o.Y2.getMax(e,Ae.actorMargin);continue}const a=t[r]+Ae.actorMargin-n.width/2-i.width/2;n.margin=o.Y2.getMax(a,Ae.actorMargin)}let i=0;return r.forEach((t=>{const r=Te(Ae);let n=t.actorKeys.reduce(((t,r)=>t+(e.get(r).width+(e.get(r).margin||0))),0);n-=2*Ae.boxTextMargin,t.wrap&&(t.name=a._K.wrapLabel(t.name,n-2*Ae.wrapPadding,r));const s=a._K.calculateTextDimensions(t.name,r);i=o.Y2.getMax(s.height,i);const l=o.Y2.getMax(n,s.width+2*Ae.wrapPadding);if(t.margin=Ae.boxTextMargin,n<l){const e=(l-n)/2;t.margin+=e}})),r.forEach((e=>e.textMaxHeight=i)),o.Y2.getMax(n,Ae.height)}(0,o.K2)(Ue,"calculateActorMargins");var He=(0,o.K2)((async function(e,t,r){const n=t.get(e.from),i=t.get(e.to),s=n.x,l=i.x,u=e.wrap&&e.message;let c=(0,o.Wi)(e.message)?await(0,o.Dl)(e.message,(0,o.D7)()):a._K.calculateTextDimensions(u?a._K.wrapLabel(e.message,Ae.width,Se(Ae)):e.message,Se(Ae));const h={width:u?Ae.width:o.Y2.getMax(Ae.width,c.width+2*Ae.noteMargin),height:0,startx:n.x,stopx:0,starty:0,stopy:0,message:e.message};return e.placement===r.db.PLACEMENT.RIGHTOF?(h.width=u?o.Y2.getMax(Ae.width,c.width):o.Y2.getMax(n.width/2+i.width/2,c.width+2*Ae.noteMargin),h.startx=s+(n.width+Ae.actorMargin)/2):e.placement===r.db.PLACEMENT.LEFTOF?(h.width=u?o.Y2.getMax(Ae.width,c.width+2*Ae.noteMargin):o.Y2.getMax(n.width/2+i.width/2,c.width+2*Ae.noteMargin),h.startx=s-h.width+(n.width-Ae.actorMargin)/2):e.to===e.from?(c=a._K.calculateTextDimensions(u?a._K.wrapLabel(e.message,o.Y2.getMax(Ae.width,n.width),Se(Ae)):e.message,Se(Ae)),h.width=u?o.Y2.getMax(Ae.width,n.width):o.Y2.getMax(n.width,Ae.width,c.width+2*Ae.noteMargin),h.startx=s+(n.width-h.width)/2):(h.width=Math.abs(s+n.width/2-(l+i.width/2))+Ae.actorMargin,h.startx=s<l?s+n.width/2-Ae.actorMargin/2:l+i.width/2-Ae.actorMargin/2),u&&(h.message=a._K.wrapLabel(e.message,h.width-2*Ae.wrapPadding,Se(Ae))),o.Rm.debug(`NM:[${h.startx},${h.stopx},${h.starty},${h.stopy}:${h.width},${h.height}=${e.message}]`),h}),"buildNoteModel"),We=(0,o.K2)((function(e,t,r){if(![r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN,r.db.LINETYPE.SOLID,r.db.LINETYPE.DOTTED,r.db.LINETYPE.SOLID_CROSS,r.db.LINETYPE.DOTTED_CROSS,r.db.LINETYPE.SOLID_POINT,r.db.LINETYPE.DOTTED_POINT,r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type))return{};const[n,i]=Pe(e.from,t),[s,l]=Pe(e.to,t),u=n<=s;let c=u?i:n,h=u?s:l;const d=Math.abs(s-l)>2,f=(0,o.K2)((e=>u?-e:e),"adjustValue");e.from===e.to?h=c:(e.activate&&!d&&(h+=f(Ae.activationWidth/2-1)),[r.db.LINETYPE.SOLID_OPEN,r.db.LINETYPE.DOTTED_OPEN].includes(e.type)||(h+=f(3)),[r.db.LINETYPE.BIDIRECTIONAL_SOLID,r.db.LINETYPE.BIDIRECTIONAL_DOTTED].includes(e.type)&&(c-=f(3)));const p=[n,i,s,l],g=Math.abs(c-h);e.wrap&&e.message&&(e.message=a._K.wrapLabel(e.message,o.Y2.getMax(g+2*Ae.wrapPadding,Ae.width),Te(Ae)));const m=a._K.calculateTextDimensions(e.message,Te(Ae));return{width:o.Y2.getMax(e.wrap?0:m.width+2*Ae.wrapPadding,g+2*Ae.wrapPadding,Ae.width),height:0,startx:c,stopx:h,starty:0,stopy:0,message:e.message,type:e.type,wrap:e.wrap,fromBounds:Math.min.apply(null,p),toBounds:Math.max.apply(null,p)}}),"buildMessageModel"),Ge=(0,o.K2)((async function(e,t,r,n){const i={},s=[];let l,u,c;for(const r of e){switch(r.id=a._K.random({length:10}),r.type){case n.db.LINETYPE.LOOP_START:case n.db.LINETYPE.ALT_START:case n.db.LINETYPE.OPT_START:case n.db.LINETYPE.PAR_START:case n.db.LINETYPE.PAR_OVER_START:case n.db.LINETYPE.CRITICAL_START:case n.db.LINETYPE.BREAK_START:s.push({id:r.id,msg:r.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case n.db.LINETYPE.ALT_ELSE:case n.db.LINETYPE.PAR_AND:case n.db.LINETYPE.CRITICAL_OPTION:r.message&&(l=s.pop(),i[l.id]=l,i[r.id]=l,s.push(l));break;case n.db.LINETYPE.LOOP_END:case n.db.LINETYPE.ALT_END:case n.db.LINETYPE.OPT_END:case n.db.LINETYPE.PAR_END:case n.db.LINETYPE.CRITICAL_END:case n.db.LINETYPE.BREAK_END:l=s.pop(),i[l.id]=l;break;case n.db.LINETYPE.ACTIVE_START:{const e=t.get(r.from?r.from:r.to.actor),n=Me(r.from?r.from:r.to.actor).length,i=e.x+e.width/2+(n-1)*Ae.activationWidth/2,a={startx:i,stopx:i+Ae.activationWidth,actor:r.from,enabled:!0};Ce.activations.push(a)}break;case n.db.LINETYPE.ACTIVE_END:{const e=Ce.activations.map((e=>e.actor)).lastIndexOf(r.from);Ce.activations.splice(e,1).splice(0,1)}}void 0!==r.placement?(u=await He(r,t,n),r.noteModel=u,s.forEach((e=>{l=e,l.from=o.Y2.getMin(l.from,u.startx),l.to=o.Y2.getMax(l.to,u.startx+u.width),l.width=o.Y2.getMax(l.width,Math.abs(l.from-l.to))-Ae.labelBoxWidth}))):(c=We(r,t,n),r.msgModel=c,c.startx&&c.stopx&&s.length>0&&s.forEach((e=>{if(l=e,c.startx===c.stopx){const e=t.get(r.from),n=t.get(r.to);l.from=o.Y2.getMin(e.x-c.width/2,e.x-e.width/2,l.from),l.to=o.Y2.getMax(n.x+c.width/2,n.x+e.width/2,l.to),l.width=o.Y2.getMax(l.width,Math.abs(l.to-l.from))-Ae.labelBoxWidth}else l.from=o.Y2.getMin(c.startx,l.from),l.to=o.Y2.getMax(c.stopx,l.to),l.width=o.Y2.getMax(l.width,c.width)-Ae.labelBoxWidth})))}return Ce.activations=[],o.Rm.debug("Loop type widths:",i),i}),"calculateLoopBounds"),Ve={parser:c,db:W,renderer:{bounds:Ce,drawActors:Le,drawActorsPopup:Ie,setConf:Re,draw:je},styles:G,init:(0,o.K2)((({wrap:e})=>{W.setWrap(e)}),"init")}},9732:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>I});var n,i=r(758),a=(r(6474),r(7308),r(7938),r(1282),r(1099),r(7588),r(3115),r(8945),r(8159)),o=r(7692),s=r(5763),l=r(4776),u=r(8756),c={},h=(0,o.K2)(((e,t)=>{c[e]=t}),"set"),d=(0,o.K2)((e=>c[e]),"get"),f=(0,o.K2)((()=>Object.keys(c)),"keys"),p=(0,o.K2)((()=>f().length),"size"),g={get:d,set:h,keys:f,size:p},m=(0,o.K2)((e=>e.append("circle").attr("class","start-state").attr("r",(0,o.D7)().state.sizeUnit).attr("cx",(0,o.D7)().state.padding+(0,o.D7)().state.sizeUnit).attr("cy",(0,o.D7)().state.padding+(0,o.D7)().state.sizeUnit)),"drawStartState"),y=(0,o.K2)((e=>e.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",(0,o.D7)().state.textHeight).attr("class","divider").attr("x2",2*(0,o.D7)().state.textHeight).attr("y1",0).attr("y2",0)),"drawDivider"),v=(0,o.K2)(((e,t)=>{const r=e.append("text").attr("x",2*(0,o.D7)().state.padding).attr("y",(0,o.D7)().state.textHeight+2*(0,o.D7)().state.padding).attr("font-size",(0,o.D7)().state.fontSize).attr("class","state-title").text(t.id),n=r.node().getBBox();return e.insert("rect",":first-child").attr("x",(0,o.D7)().state.padding).attr("y",(0,o.D7)().state.padding).attr("width",n.width+2*(0,o.D7)().state.padding).attr("height",n.height+2*(0,o.D7)().state.padding).attr("rx",(0,o.D7)().state.radius),r}),"drawSimpleState"),b=(0,o.K2)(((e,t)=>{const r=(0,o.K2)((function(e,t,r){const n=e.append("tspan").attr("x",2*(0,o.D7)().state.padding).text(t);r||n.attr("dy",(0,o.D7)().state.textHeight)}),"addTspan"),n=e.append("text").attr("x",2*(0,o.D7)().state.padding).attr("y",(0,o.D7)().state.textHeight+1.3*(0,o.D7)().state.padding).attr("font-size",(0,o.D7)().state.fontSize).attr("class","state-title").text(t.descriptions[0]).node().getBBox(),i=n.height,a=e.append("text").attr("x",(0,o.D7)().state.padding).attr("y",i+.4*(0,o.D7)().state.padding+(0,o.D7)().state.dividerMargin+(0,o.D7)().state.textHeight).attr("class","state-description");let s=!0,l=!0;t.descriptions.forEach((function(e){s||(r(a,e,l),l=!1),s=!1}));const u=e.append("line").attr("x1",(0,o.D7)().state.padding).attr("y1",(0,o.D7)().state.padding+i+(0,o.D7)().state.dividerMargin/2).attr("y2",(0,o.D7)().state.padding+i+(0,o.D7)().state.dividerMargin/2).attr("class","descr-divider"),c=a.node().getBBox(),h=Math.max(c.width,n.width);return u.attr("x2",h+3*(0,o.D7)().state.padding),e.insert("rect",":first-child").attr("x",(0,o.D7)().state.padding).attr("y",(0,o.D7)().state.padding).attr("width",h+2*(0,o.D7)().state.padding).attr("height",c.height+i+2*(0,o.D7)().state.padding).attr("rx",(0,o.D7)().state.radius),e}),"drawDescrState"),x=(0,o.K2)(((e,t,r)=>{const n=(0,o.D7)().state.padding,i=2*(0,o.D7)().state.padding,a=e.node().getBBox(),s=a.width,l=a.x,u=e.append("text").attr("x",0).attr("y",(0,o.D7)().state.titleShift).attr("font-size",(0,o.D7)().state.fontSize).attr("class","state-title").text(t.id),c=u.node().getBBox().width+i;let h,d=Math.max(c,s);d===s&&(d+=i);const f=e.node().getBBox();t.doc,h=l-n,c>s&&(h=(s-d)/2+n),Math.abs(l-f.x)<n&&c>s&&(h=l-(c-s)/2);const p=1-(0,o.D7)().state.textHeight;return e.insert("rect",":first-child").attr("x",h).attr("y",p).attr("class",r?"alt-composit":"composit").attr("width",d).attr("height",f.height+(0,o.D7)().state.textHeight+(0,o.D7)().state.titleShift+1).attr("rx","0"),u.attr("x",h+n),c<=s&&u.attr("x",l+(d-i)/2-c/2+n),e.insert("rect",":first-child").attr("x",h).attr("y",(0,o.D7)().state.titleShift-(0,o.D7)().state.textHeight-(0,o.D7)().state.padding).attr("width",d).attr("height",3*(0,o.D7)().state.textHeight).attr("rx",(0,o.D7)().state.radius),e.insert("rect",":first-child").attr("x",h).attr("y",(0,o.D7)().state.titleShift-(0,o.D7)().state.textHeight-(0,o.D7)().state.padding).attr("width",d).attr("height",f.height+3+2*(0,o.D7)().state.textHeight).attr("rx",(0,o.D7)().state.radius),e}),"addTitleAndBox"),w=(0,o.K2)((e=>(e.append("circle").attr("class","end-state-outer").attr("r",(0,o.D7)().state.sizeUnit+(0,o.D7)().state.miniPadding).attr("cx",(0,o.D7)().state.padding+(0,o.D7)().state.sizeUnit+(0,o.D7)().state.miniPadding).attr("cy",(0,o.D7)().state.padding+(0,o.D7)().state.sizeUnit+(0,o.D7)().state.miniPadding),e.append("circle").attr("class","end-state-inner").attr("r",(0,o.D7)().state.sizeUnit).attr("cx",(0,o.D7)().state.padding+(0,o.D7)().state.sizeUnit+2).attr("cy",(0,o.D7)().state.padding+(0,o.D7)().state.sizeUnit+2))),"drawEndState"),D=(0,o.K2)(((e,t)=>{let r=(0,o.D7)().state.forkWidth,n=(0,o.D7)().state.forkHeight;if(t.parentId){let e=r;r=n,n=e}return e.append("rect").style("stroke","black").style("fill","black").attr("width",r).attr("height",n).attr("x",(0,o.D7)().state.padding).attr("y",(0,o.D7)().state.padding)}),"drawForkJoinState"),k=(0,o.K2)(((e,t,r,n)=>{let i=0;const a=n.append("text");a.style("text-anchor","start"),a.attr("class","noteText");let s=e.replace(/\r\n/g,"<br/>");s=s.replace(/\n/g,"<br/>");const l=s.split(o.Y2.lineBreakRegex);let u=1.25*(0,o.D7)().state.noteMargin;for(const e of l){const n=e.trim();if(n.length>0){const e=a.append("tspan");e.text(n),0===u&&(u+=e.node().getBBox().height),i+=u,e.attr("x",t+(0,o.D7)().state.noteMargin),e.attr("y",r+i+1.25*(0,o.D7)().state.noteMargin)}}return{textWidth:a.node().getBBox().width,textHeight:i}}),"_drawLongText"),E=(0,o.K2)(((e,t)=>{t.attr("class","state-note");const r=t.append("rect").attr("x",0).attr("y",(0,o.D7)().state.padding),n=t.append("g"),{textWidth:i,textHeight:a}=k(e,0,0,n);return r.attr("height",a+2*(0,o.D7)().state.noteMargin),r.attr("width",i+2*(0,o.D7)().state.noteMargin),r}),"drawNote"),A=(0,o.K2)((function(e,t){const r=t.id,n={id:r,label:t.id,width:0,height:0},i=e.append("g").attr("id",r).attr("class","stateGroup");"start"===t.type&&m(i),"end"===t.type&&w(i),"fork"!==t.type&&"join"!==t.type||D(i,t),"note"===t.type&&E(t.note.text,i),"divider"===t.type&&y(i),"default"===t.type&&0===t.descriptions.length&&v(i,t),"default"===t.type&&t.descriptions.length>0&&b(i,t);const a=i.node().getBBox();return n.width=a.width+2*(0,o.D7)().state.padding,n.height=a.height+2*(0,o.D7)().state.padding,g.set(r,n),n}),"drawState"),C=0,_=(0,o.K2)((function(e,t,r){const n=(0,o.K2)((function(e){switch(e){case i.iP.relationType.AGGREGATION:return"aggregation";case i.iP.relationType.EXTENSION:return"extension";case i.iP.relationType.COMPOSITION:return"composition";case i.iP.relationType.DEPENDENCY:return"dependency"}}),"getRelationType");t.points=t.points.filter((e=>!Number.isNaN(e.y)));const l=t.points,u=(0,s.n8j)().x((function(e){return e.x})).y((function(e){return e.y})).curve(s.qrM),c=e.append("path").attr("d",u(l)).attr("id","edge"+C).attr("class","transition");let h="";if((0,o.D7)().state.arrowMarkerAbsolute&&(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,h=h.replace(/\(/g,"\\("),h=h.replace(/\)/g,"\\)")),c.attr("marker-end","url("+h+"#"+n(i.iP.relationType.DEPENDENCY)+"End)"),void 0!==r.title){const n=e.append("g").attr("class","stateLabel"),{x:i,y:s}=a._K.calcLabelPosition(t.points),l=o.Y2.getRows(r.title);let u=0;const c=[];let h=0,d=0;for(let e=0;e<=l.length;e++){const t=n.append("text").attr("text-anchor","middle").text(l[e]).attr("x",i).attr("y",s+u),r=t.node().getBBox();if(h=Math.max(h,r.width),d=Math.min(d,r.x),o.Rm.info(r.x,i,s+u),0===u){const e=t.node().getBBox();u=e.height,o.Rm.info("Title height",u,s)}c.push(t)}let f=u*l.length;if(l.length>1){const e=(l.length-1)*u*.5;c.forEach(((t,r)=>t.attr("y",s+r*u-e))),f=u*l.length}const p=n.node().getBBox();n.insert("rect",":first-child").attr("class","box").attr("x",i-h/2-(0,o.D7)().state.padding/2).attr("y",s-f/2-(0,o.D7)().state.padding/2-3.5).attr("width",h+(0,o.D7)().state.padding).attr("height",f+(0,o.D7)().state.padding),o.Rm.info(p)}C++}),"drawEdge"),T={},S=(0,o.K2)((function(){}),"setConf"),F=(0,o.K2)((function(e){e.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}),"insertMarkers"),O=(0,o.K2)((function(e,t,r,i){n=(0,o.D7)().state;const a=(0,o.D7)().securityLevel;let l;"sandbox"===a&&(l=(0,s.Ltv)("#i"+t));const u="sandbox"===a?(0,s.Ltv)(l.nodes()[0].contentDocument.body):(0,s.Ltv)("body"),c="sandbox"===a?l.nodes()[0].contentDocument:document;o.Rm.debug("Rendering diagram "+e);const h=u.select(`[id='${t}']`);F(h);const d=i.db.getRootDoc();N(d,h,void 0,!1,u,c,i);const f=n.padding,p=h.node().getBBox(),g=p.width+2*f,m=p.height+2*f,y=1.75*g;(0,o.a$)(h,m,y,n.useMaxWidth),h.attr("viewBox",`${p.x-n.padding}  ${p.y-n.padding} `+g+" "+m)}),"draw"),B=(0,o.K2)((e=>e?e.length*n.fontSizeFactor:1),"getLabelWidth"),N=(0,o.K2)(((e,t,r,i,a,s,c)=>{const h=new u.T({compound:!0,multigraph:!0});let d,f=!0;for(d=0;d<e.length;d++)if("relation"===e[d].stmt){f=!1;break}r?h.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:f?1:n.edgeLengthFactor,nodeSep:f?1:50,isMultiGraph:!0}):h.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:f?1:n.edgeLengthFactor,nodeSep:f?1:50,ranker:"tight-tree",isMultiGraph:!0}),h.setDefaultEdgeLabel((function(){return{}})),c.db.extract(e);const p=c.db.getStates(),g=c.db.getRelations(),m=Object.keys(p);for(const e of m){const o=p[e];let l;if(r&&(o.parentId=r),o.doc){let e=t.append("g").attr("id",o.id).attr("class","stateGroup");l=N(o.doc,e,o.id,!i,a,s,c);{e=x(e,o,i);let t=e.node().getBBox();l.width=t.width,l.height=t.height+n.padding/2,T[o.id]={y:n.compositTitleSize}}}else l=A(t,o,h);if(o.note){const e={descriptions:[],id:o.id+"-note",note:o.note,type:"note"},r=A(t,e,h);"left of"===o.note.position?(h.setNode(l.id+"-note",r),h.setNode(l.id,l)):(h.setNode(l.id,l),h.setNode(l.id+"-note",r)),h.setParent(l.id,l.id+"-group"),h.setParent(l.id+"-note",l.id+"-group")}else h.setNode(l.id,l)}o.Rm.debug("Count=",h.nodeCount(),h);let y=0;g.forEach((function(e){y++,o.Rm.debug("Setting edge",e),h.setEdge(e.id1,e.id2,{relation:e,width:B(e.title),height:n.labelHeight*o.Y2.getRows(e.title).length,labelpos:"c"},"id"+y)})),(0,l.Zp)(h),o.Rm.debug("Graph after layout",h.nodes());const v=t.node();h.nodes().forEach((function(e){void 0!==e&&void 0!==h.node(e)?(o.Rm.warn("Node "+e+": "+JSON.stringify(h.node(e))),a.select("#"+v.id+" #"+e).attr("transform","translate("+(h.node(e).x-h.node(e).width/2)+","+(h.node(e).y+(T[e]?T[e].y:0)-h.node(e).height/2)+" )"),a.select("#"+v.id+" #"+e).attr("data-x-shift",h.node(e).x-h.node(e).width/2),s.querySelectorAll("#"+v.id+" #"+e+" .divider").forEach((e=>{const t=e.parentElement;let r=0,n=0;t&&(t.parentElement&&(r=t.parentElement.getBBox().width),n=parseInt(t.getAttribute("data-x-shift"),10),Number.isNaN(n)&&(n=0)),e.setAttribute("x1",0-n+8),e.setAttribute("x2",r-n-8)}))):o.Rm.debug("No Node "+e+": "+JSON.stringify(h.node(e)))}));let b=v.getBBox();h.edges().forEach((function(e){void 0!==e&&void 0!==h.edge(e)&&(o.Rm.debug("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(h.edge(e))),_(t,h.edge(e),h.edge(e).relation))})),b=v.getBBox();const w={id:r||"root",label:r||"root",width:0,height:0};return w.width=b.width+2*n.padding,w.height=b.height+2*n.padding,o.Rm.debug("Doc rendered",w,h),w}),"renderDoc"),L={setConf:S,draw:O},I={parser:i.Zk,db:i.iP,renderer:L,styles:i.tM,init:(0,o.K2)((e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,i.iP.clear()}),"init")}},5110:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>a});var n=r(758),i=(r(6474),r(7308),r(7938),r(1282),r(1099),r(7588),r(3115),r(8945),r(8159),r(7692)),a={parser:n.Zk,db:n.iP,renderer:n.q7,styles:n.tM,init:(0,i.K2)((e=>{e.state||(e.state={}),e.state.arrowMarkerAbsolute=e.arrowMarkerAbsolute,n.iP.clear()}),"init")}},7691:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>Y});var n=r(7692),i=r(5763),a=r(4045),o=r(7242),s=r(3506),l=function(){var e=(0,n.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[6,8,10,11,12,14,16,17,20,21],r=[1,9],i=[1,10],a=[1,11],o=[1,12],s=[1,13],l=[1,16],u=[1,17],c={trace:(0,n.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,timeline:4,document:5,EOF:6,line:7,SPACE:8,statement:9,NEWLINE:10,title:11,acc_title:12,acc_title_value:13,acc_descr:14,acc_descr_value:15,acc_descr_multiline_value:16,section:17,period_statement:18,event_statement:19,period:20,event:21,$accept:0,$end:1},terminals_:{2:"error",4:"timeline",6:"EOF",8:"SPACE",10:"NEWLINE",11:"title",12:"acc_title",13:"acc_title_value",14:"acc_descr",15:"acc_descr_value",16:"acc_descr_multiline_value",17:"section",20:"period",21:"event"},productions_:[0,[3,3],[5,0],[5,2],[7,2],[7,1],[7,1],[7,1],[9,1],[9,2],[9,2],[9,1],[9,1],[9,1],[9,1],[18,1],[19,1]],performAction:(0,n.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:return a[s-1];case 2:case 6:case 7:this.$=[];break;case 3:a[s-1].push(a[s]),this.$=a[s-1];break;case 4:case 5:this.$=a[s];break;case 8:n.getCommonDb().setDiagramTitle(a[s].substr(6)),this.$=a[s].substr(6);break;case 9:this.$=a[s].trim(),n.getCommonDb().setAccTitle(this.$);break;case 10:case 11:this.$=a[s].trim(),n.getCommonDb().setAccDescription(this.$);break;case 12:n.addSection(a[s].substr(8)),this.$=a[s].substr(8);break;case 15:n.addTask(a[s],0,""),this.$=a[s];break;case 16:n.addEvent(a[s].substr(2)),this.$=a[s]}}),"anonymous"),table:[{3:1,4:[1,2]},{1:[3]},e(t,[2,2],{5:3}),{6:[1,4],7:5,8:[1,6],9:7,10:[1,8],11:r,12:i,14:a,16:o,17:s,18:14,19:15,20:l,21:u},e(t,[2,7],{1:[2,1]}),e(t,[2,3]),{9:18,11:r,12:i,14:a,16:o,17:s,18:14,19:15,20:l,21:u},e(t,[2,5]),e(t,[2,6]),e(t,[2,8]),{13:[1,19]},{15:[1,20]},e(t,[2,11]),e(t,[2,12]),e(t,[2,13]),e(t,[2,14]),e(t,[2,15]),e(t,[2,16]),e(t,[2,4]),e(t,[2,9]),e(t,[2,10])],defaultActions:{},parseError:(0,n.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,n.K2)((function(e){var t=this,r=[0],i=[],a=[null],o=[],s=this.table,l="",u=0,c=0,h=0,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;o.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=i.pop()||f.lex()||1)&&(e instanceof Array&&(e=(i=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,n.K2)((function(e){r.length=r.length-2*e,a.length=a.length-e,o.length=o.length-e}),"popStack"),(0,n.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),a.push(f.yytext),o.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=a[a.length-A],T._$={first_line:o[o.length-(A||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(A||1)].first_column,last_column:o[o.length-1].last_column},y&&(T._$.range=[o[o.length-(A||1)].range[0],o[o.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],a,o].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),a=a.slice(0,-1*A),o=o.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),a.push(T.$),o.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},h=function(){return{EOF:1,parseError:(0,n.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,n.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,n.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,n.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,n.K2)((function(){return this._more=!0,this}),"more"),reject:(0,n.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,n.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,n.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,n.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,n.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,n.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,n.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,n.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,n.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,n.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,n.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,n.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,n.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,n.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,n.K2)((function(e,t,r,n){switch(r){case 0:case 1:case 3:case 4:break;case 2:return 10;case 5:return 4;case 6:return 11;case 7:return this.begin("acc_title"),12;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),14;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 17;case 15:return 21;case 16:return 20;case 17:return 6;case 18:return"INVALID"}}),"anonymous"),rules:[/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:timeline\b)/i,/^(?:title\s[^\n]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^:\n]+)/i,/^(?::\s[^:\n]+)/i,/^(?:[^#:\n]+)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,6,7,9,11,14,15,16,17,18],inclusive:!0}}}}();function d(){this.yy={}}return c.lexer=h,(0,n.K2)(d,"Parser"),d.prototype=c,c.Parser=d,new d}();l.parser=l;var u=l,c={};(0,n.VA)(c,{addEvent:()=>D,addSection:()=>v,addTask:()=>w,addTaskOrg:()=>k,clear:()=>y,default:()=>A,getCommonDb:()=>m,getSections:()=>b,getTasks:()=>x});var h="",d=0,f=[],p=[],g=[],m=(0,n.K2)((()=>n.Wt),"getCommonDb"),y=(0,n.K2)((function(){f.length=0,p.length=0,h="",g.length=0,(0,n.IU)()}),"clear"),v=(0,n.K2)((function(e){h=e,f.push(e)}),"addSection"),b=(0,n.K2)((function(){return f}),"getSections"),x=(0,n.K2)((function(){let e=E(),t=0;for(;!e&&t<100;)e=E(),t++;return p.push(...g),p}),"getTasks"),w=(0,n.K2)((function(e,t,r){const n={id:d++,section:h,type:h,task:e,score:t||0,events:r?[r]:[]};g.push(n)}),"addTask"),D=(0,n.K2)((function(e){g.find((e=>e.id===d-1)).events.push(e)}),"addEvent"),k=(0,n.K2)((function(e){const t={section:h,type:h,description:e,task:e,classes:[]};p.push(t)}),"addTaskOrg"),E=(0,n.K2)((function(){const e=(0,n.K2)((function(e){return g[e].processed}),"compileTask");let t=!0;for(const[r,n]of g.entries())e(r),t=t&&n.processed;return t}),"compileTasks"),A={clear:y,getCommonDb:m,addSection:v,getSections:b,getTasks:x,addTask:w,addTaskOrg:k,addEvent:D},C=(0,n.K2)((function(e,t){const r=e.append("rect");return r.attr("x",t.x),r.attr("y",t.y),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("width",t.width),r.attr("height",t.height),r.attr("rx",t.rx),r.attr("ry",t.ry),void 0!==t.class&&r.attr("class",t.class),r}),"drawRect"),_=(0,n.K2)((function(e,t){const r=e.append("circle").attr("cx",t.cx).attr("cy",t.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),a=e.append("g");function o(e){const r=(0,i.JLW)().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(15/2.2);e.append("path").attr("class","mouth").attr("d",r).attr("transform","translate("+t.cx+","+(t.cy+2)+")")}function s(e){const r=(0,i.JLW)().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(15/2.2);e.append("path").attr("class","mouth").attr("d",r).attr("transform","translate("+t.cx+","+(t.cy+7)+")")}function l(e){e.append("line").attr("class","mouth").attr("stroke",2).attr("x1",t.cx-5).attr("y1",t.cy+7).attr("x2",t.cx+5).attr("y2",t.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return a.append("circle").attr("cx",t.cx-5).attr("cy",t.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),a.append("circle").attr("cx",t.cx+5).attr("cy",t.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),(0,n.K2)(o,"smile"),(0,n.K2)(s,"sad"),(0,n.K2)(l,"ambivalent"),t.score>3?o(a):t.score<3?s(a):l(a),r}),"drawFace"),T=(0,n.K2)((function(e,t){const r=e.append("circle");return r.attr("cx",t.cx),r.attr("cy",t.cy),r.attr("class","actor-"+t.pos),r.attr("fill",t.fill),r.attr("stroke",t.stroke),r.attr("r",t.r),void 0!==r.class&&r.attr("class",r.class),void 0!==t.title&&r.append("title").text(t.title),r}),"drawCircle"),S=(0,n.K2)((function(e,t){const r=t.text.replace(/<br\s*\/?>/gi," "),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.attr("class","legend"),n.style("text-anchor",t.anchor),void 0!==t.class&&n.attr("class",t.class);const i=n.append("tspan");return i.attr("x",t.x+2*t.textMargin),i.text(r),n}),"drawText"),F=(0,n.K2)((function(e,t){function r(e,t,r,n,i){return e+","+t+" "+(e+r)+","+t+" "+(e+r)+","+(t+n-i)+" "+(e+r-1.2*i)+","+(t+n)+" "+e+","+(t+n)}(0,n.K2)(r,"genPoints");const i=e.append("polygon");i.attr("points",r(t.x,t.y,50,20,7)),i.attr("class","labelBox"),t.y=t.y+t.labelMargin,t.x=t.x+.5*t.labelMargin,S(e,t)}),"drawLabel"),O=(0,n.K2)((function(e,t,r){const n=e.append("g"),i=R();i.x=t.x,i.y=t.y,i.fill=t.fill,i.width=r.width,i.height=r.height,i.class="journey-section section-type-"+t.num,i.rx=3,i.ry=3,C(n,i),M(r)(t.text,n,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+t.num},r,t.colour)}),"drawSection"),B=-1,N=(0,n.K2)((function(e,t,r){const n=t.x+r.width/2,i=e.append("g");B++,i.append("line").attr("id","task"+B).attr("x1",n).attr("y1",t.y).attr("x2",n).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),_(i,{cx:n,cy:300+30*(5-t.score),score:t.score});const a=R();a.x=t.x,a.y=t.y,a.fill=t.fill,a.width=r.width,a.height=r.height,a.class="task task-type-"+t.num,a.rx=3,a.ry=3,C(i,a),M(r)(t.task,i,a.x,a.y,a.width,a.height,{class:"task"},r,t.colour)}),"drawTask"),L=(0,n.K2)((function(e,t){C(e,{x:t.startx,y:t.starty,width:t.stopx-t.startx,height:t.stopy-t.starty,fill:t.fill,class:"rect"}).lower()}),"drawBackgroundRect"),I=(0,n.K2)((function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}}),"getTextObj"),R=(0,n.K2)((function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}}),"getNoteRect"),M=function(){function e(e,t,r,n,a,o,s,l){i(t.append("text").attr("x",r+a/2).attr("y",n+o/2+5).style("font-color",l).style("text-anchor","middle").text(e),s)}function t(e,t,r,n,a,o,s,l,u){const{taskFontSize:c,taskFontFamily:h}=l,d=e.split(/<br\s*\/?>/gi);for(let e=0;e<d.length;e++){const l=e*c-c*(d.length-1)/2,f=t.append("text").attr("x",r+a/2).attr("y",n).attr("fill",u).style("text-anchor","middle").style("font-size",c).style("font-family",h);f.append("tspan").attr("x",r+a/2).attr("dy",l).text(d[e]),f.attr("y",n+o/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),i(f,s)}}function r(e,r,n,a,o,s,l,u){const c=r.append("switch"),h=c.append("foreignObject").attr("x",n).attr("y",a).attr("width",o).attr("height",s).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(e),t(e,c,n,a,o,s,l,u),i(h,l)}function i(e,t){for(const r in t)r in t&&e.attr(r,t[r])}return(0,n.K2)(e,"byText"),(0,n.K2)(t,"byTspan"),(0,n.K2)(r,"byFo"),(0,n.K2)(i,"_setTextAttrs"),function(n){return"fo"===n.textPlacement?r:"old"===n.textPlacement?e:t}}(),P=(0,n.K2)((function(e){e.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")}),"initGraphics");function z(e,t){e.each((function(){var e,r=(0,i.Ltv)(this),n=r.text().split(/(\s+|<br>)/).reverse(),a=[],o=r.attr("y"),s=parseFloat(r.attr("dy")),l=r.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",s+"em");for(let i=0;i<n.length;i++)e=n[n.length-1-i],a.push(e),l.text(a.join(" ").trim()),(l.node().getComputedTextLength()>t||"<br>"===e)&&(a.pop(),l.text(a.join(" ").trim()),a="<br>"===e?[""]:[e],l=r.append("tspan").attr("x",0).attr("y",o).attr("dy","1.1em").text(e))}))}(0,n.K2)(z,"wrap");var $=(0,n.K2)((function(e,t,r,n){const i=r%12-1,a=e.append("g");t.section=i,a.attr("class",(t.class?t.class+" ":"")+"timeline-node section-"+i);const o=a.append("g"),s=a.append("g"),l=s.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(z,t.width).node().getBBox(),u=n.fontSize?.replace?n.fontSize.replace("px",""):n.fontSize;return t.height=l.height+1.1*u*.5+t.padding,t.height=Math.max(t.height,t.maxHeight),t.width=t.width+2*t.padding,s.attr("transform","translate("+t.width/2+", "+t.padding/2+")"),K(o,t,i,n),t}),"drawNode"),j=(0,n.K2)((function(e,t,r){const n=e.append("g"),i=n.append("text").text(t.descr).attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle").call(z,t.width).node().getBBox(),a=r.fontSize?.replace?r.fontSize.replace("px",""):r.fontSize;return n.remove(),i.height+1.1*a*.5+t.padding}),"getVirtualNodeHeight"),K=(0,n.K2)((function(e,t,r){e.append("path").attr("id","node-"+t.id).attr("class","node-bkg node-"+t.type).attr("d",`M0 ${t.height-5} v${10-t.height} q0,-5 5,-5 h${t.width-10} q5,0 5,5 v${t.height-5} H0 Z`),e.append("line").attr("class","node-line-"+r).attr("x1",0).attr("y1",t.height).attr("x2",t.width).attr("y2",t.height)}),"defaultBkg"),q={drawRect:C,drawCircle:T,drawSection:O,drawText:S,drawLabel:F,drawTask:N,drawBackgroundRect:L,getTextObj:I,getNoteRect:R,initGraphics:P,drawNode:$,getVirtualNodeHeight:j},U=(0,n.K2)((function(e,t,r,a){const o=(0,n.D7)(),s=o.leftMargin??50;n.Rm.debug("timeline",a.db);const l=o.securityLevel;let u;"sandbox"===l&&(u=(0,i.Ltv)("#i"+t));const c=("sandbox"===l?(0,i.Ltv)(u.nodes()[0].contentDocument.body):(0,i.Ltv)("body")).select("#"+t);c.append("g");const h=a.db.getTasks(),d=a.db.getCommonDb().getDiagramTitle();n.Rm.debug("task",h),q.initGraphics(c);const f=a.db.getSections();n.Rm.debug("sections",f);let p=0,g=0,m=0,y=0,v=50+s,b=50;y=50;let x=0,w=!0;f.forEach((function(e){const t={number:x,descr:e,section:x,width:150,padding:20,maxHeight:p},r=q.getVirtualNodeHeight(c,t,o);n.Rm.debug("sectionHeight before draw",r),p=Math.max(p,r+20)}));let D=0,k=0;n.Rm.debug("tasks.length",h.length);for(const[e,t]of h.entries()){const r={number:e,descr:t,section:t.section,width:150,padding:20,maxHeight:g},i=q.getVirtualNodeHeight(c,r,o);n.Rm.debug("taskHeight before draw",i),g=Math.max(g,i+20),D=Math.max(D,t.events.length);let a=0;for(const e of t.events){const r={descr:e,section:t.section,number:t.section,width:150,padding:20,maxHeight:50};a+=q.getVirtualNodeHeight(c,r,o)}k=Math.max(k,a)}n.Rm.debug("maxSectionHeight before draw",p),n.Rm.debug("maxTaskHeight before draw",g),f&&f.length>0?f.forEach((e=>{const t=h.filter((t=>t.section===e)),r={number:x,descr:e,section:x,width:200*Math.max(t.length,1)-50,padding:20,maxHeight:p};n.Rm.debug("sectionNode",r);const i=c.append("g"),a=q.drawNode(i,r,x,o);n.Rm.debug("sectionNode output",a),i.attr("transform",`translate(${v}, 50)`),b+=p+50,t.length>0&&H(c,t,x,v,b,g,o,D,k,p,!1),v+=200*Math.max(t.length,1),b=50,x++})):(w=!1,H(c,h,x,v,b,g,o,D,k,p,!0));const E=c.node().getBBox();n.Rm.debug("bounds",E),d&&c.append("text").text(d).attr("x",E.width/2-s).attr("font-size","4ex").attr("font-weight","bold").attr("y",20),m=w?p+g+150:g+100,c.append("g").attr("class","lineWrapper").append("line").attr("x1",s).attr("y1",m).attr("x2",E.width+3*s).attr("y2",m).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)"),(0,n.ot)(void 0,c,o.timeline?.padding??50,o.timeline?.useMaxWidth??!1)}),"draw"),H=(0,n.K2)((function(e,t,r,i,a,o,s,l,u,c,h){for(const l of t){const t={descr:l.task,section:r,number:r,width:150,padding:20,maxHeight:o};n.Rm.debug("taskNode",t);const d=e.append("g").attr("class","taskWrapper"),f=q.drawNode(d,t,r,s).height;if(n.Rm.debug("taskHeight after draw",f),d.attr("transform",`translate(${i}, ${a})`),o=Math.max(o,f),l.events){const t=e.append("g").attr("class","lineWrapper");let n=o;a+=100,n+=W(e,l.events,r,i,a,s),a-=100,t.append("line").attr("x1",i+95).attr("y1",a+o).attr("x2",i+95).attr("y2",a+o+(h?o:c)+u+120).attr("stroke-width",2).attr("stroke","black").attr("marker-end","url(#arrowhead)").attr("stroke-dasharray","5,5")}i+=200,h&&!s.timeline?.disableMulticolor&&r++}a-=10}),"drawTasks"),W=(0,n.K2)((function(e,t,r,i,a,o){let s=0;const l=a;a+=100;for(const l of t){const t={descr:l,section:r,number:r,width:150,padding:20,maxHeight:50};n.Rm.debug("eventNode",t);const u=e.append("g").attr("class","eventWrapper"),c=q.drawNode(u,t,r,o).height;s+=c,u.attr("transform",`translate(${i}, ${a})`),a=a+10+c}return a=l,s}),"drawEvents"),G={setConf:(0,n.K2)((()=>{}),"setConf"),draw:U},V=(0,n.K2)((e=>{let t="";for(let t=0;t<e.THEME_COLOR_LIMIT;t++)e["lineColor"+t]=e["lineColor"+t]||e["cScaleInv"+t],(0,a.A)(e["lineColor"+t])?e["lineColor"+t]=(0,o.A)(e["lineColor"+t],20):e["lineColor"+t]=(0,s.A)(e["lineColor"+t],20);for(let r=0;r<e.THEME_COLOR_LIMIT;r++){const n=""+(17-3*r);t+=`\n    .section-${r-1} rect, .section-${r-1} path, .section-${r-1} circle, .section-${r-1} path  {\n      fill: ${e["cScale"+r]};\n    }\n    .section-${r-1} text {\n     fill: ${e["cScaleLabel"+r]};\n    }\n    .node-icon-${r-1} {\n      font-size: 40px;\n      color: ${e["cScaleLabel"+r]};\n    }\n    .section-edge-${r-1}{\n      stroke: ${e["cScale"+r]};\n    }\n    .edge-depth-${r-1}{\n      stroke-width: ${n};\n    }\n    .section-${r-1} line {\n      stroke: ${e["cScaleInv"+r]} ;\n      stroke-width: 3;\n    }\n\n    .lineWrapper line{\n      stroke: ${e["cScaleLabel"+r]} ;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `}return t}),"genSections"),Y={db:c,renderer:G,parser:u,styles:(0,n.K2)((e=>`\n  .edge {\n    stroke-width: 3;\n  }\n  ${V(e)}\n  .section-root rect, .section-root path, .section-root circle  {\n    fill: ${e.git0};\n  }\n  .section-root text {\n    fill: ${e.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .eventWrapper  {\n   filter: brightness(120%);\n  }\n`),"getStyles")}},545:(e,t,r)=>{"use strict";r.d(t,{diagram:()=>J});var n=r(8945),i=r(8159),a=r(7286),o=r(7692),s=r(5763),l=function(){var e=(0,o.K2)((function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r}),"o"),t=[1,10,12,14,16,18,19,21,23],r=[2,6],n=[1,3],i=[1,5],a=[1,6],s=[1,7],l=[1,5,10,12,14,16,18,19,21,23,34,35,36],u=[1,25],c=[1,26],h=[1,28],d=[1,29],f=[1,30],p=[1,31],g=[1,32],m=[1,33],y=[1,34],v=[1,35],b=[1,36],x=[1,37],w=[1,43],D=[1,42],k=[1,47],E=[1,50],A=[1,10,12,14,16,18,19,21,23,34,35,36],C=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36],_=[1,10,12,14,16,18,19,21,23,24,26,27,28,34,35,36,41,42,43,44,45,46,47,48,49,50],T=[1,64],S={trace:(0,o.K2)((function(){}),"trace"),yy:{},symbols_:{error:2,start:3,eol:4,XYCHART:5,chartConfig:6,document:7,CHART_ORIENTATION:8,statement:9,title:10,text:11,X_AXIS:12,parseXAxis:13,Y_AXIS:14,parseYAxis:15,LINE:16,plotData:17,BAR:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,SQUARE_BRACES_START:24,commaSeparatedNumbers:25,SQUARE_BRACES_END:26,NUMBER_WITH_DECIMAL:27,COMMA:28,xAxisData:29,bandData:30,ARROW_DELIMITER:31,commaSeparatedTexts:32,yAxisData:33,NEWLINE:34,SEMI:35,EOF:36,alphaNum:37,STR:38,MD_STR:39,alphaNumToken:40,AMP:41,NUM:42,ALPHA:43,PLUS:44,EQUALS:45,MULT:46,DOT:47,BRKT:48,MINUS:49,UNDERSCORE:50,$accept:0,$end:1},terminals_:{2:"error",5:"XYCHART",8:"CHART_ORIENTATION",10:"title",12:"X_AXIS",14:"Y_AXIS",16:"LINE",18:"BAR",19:"acc_title",20:"acc_title_value",21:"acc_descr",22:"acc_descr_value",23:"acc_descr_multiline_value",24:"SQUARE_BRACES_START",26:"SQUARE_BRACES_END",27:"NUMBER_WITH_DECIMAL",28:"COMMA",31:"ARROW_DELIMITER",34:"NEWLINE",35:"SEMI",36:"EOF",38:"STR",39:"MD_STR",41:"AMP",42:"NUM",43:"ALPHA",44:"PLUS",45:"EQUALS",46:"MULT",47:"DOT",48:"BRKT",49:"MINUS",50:"UNDERSCORE"},productions_:[0,[3,2],[3,3],[3,2],[3,1],[6,1],[7,0],[7,2],[9,2],[9,2],[9,2],[9,2],[9,2],[9,3],[9,2],[9,3],[9,2],[9,2],[9,1],[17,3],[25,3],[25,1],[13,1],[13,2],[13,1],[29,1],[29,3],[30,3],[32,3],[32,1],[15,1],[15,2],[15,1],[33,3],[4,1],[4,1],[4,1],[11,1],[11,1],[11,1],[37,1],[37,2],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1],[40,1]],performAction:(0,o.K2)((function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 5:n.setOrientation(a[s]);break;case 9:n.setDiagramTitle(a[s].text.trim());break;case 12:n.setLineData({text:"",type:"text"},a[s]);break;case 13:n.setLineData(a[s-1],a[s]);break;case 14:n.setBarData({text:"",type:"text"},a[s]);break;case 15:n.setBarData(a[s-1],a[s]);break;case 16:this.$=a[s].trim(),n.setAccTitle(this.$);break;case 17:case 18:this.$=a[s].trim(),n.setAccDescription(this.$);break;case 19:case 27:this.$=a[s-1];break;case 20:this.$=[Number(a[s-2]),...a[s]];break;case 21:this.$=[Number(a[s])];break;case 22:n.setXAxisTitle(a[s]);break;case 23:n.setXAxisTitle(a[s-1]);break;case 24:n.setXAxisTitle({type:"text",text:""});break;case 25:n.setXAxisBand(a[s]);break;case 26:n.setXAxisRangeData(Number(a[s-2]),Number(a[s]));break;case 28:this.$=[a[s-2],...a[s]];break;case 29:this.$=[a[s]];break;case 30:n.setYAxisTitle(a[s]);break;case 31:n.setYAxisTitle(a[s-1]);break;case 32:n.setYAxisTitle({type:"text",text:""});break;case 33:n.setYAxisRangeData(Number(a[s-2]),Number(a[s]));break;case 37:case 38:this.$={text:a[s],type:"text"};break;case 39:this.$={text:a[s],type:"markdown"};break;case 40:this.$=a[s];break;case 41:this.$=a[s-1]+""+a[s]}}),"anonymous"),table:[e(t,r,{3:1,4:2,7:4,5:n,34:i,35:a,36:s}),{1:[3]},e(t,r,{4:2,7:4,3:8,5:n,34:i,35:a,36:s}),e(t,r,{4:2,7:4,6:9,3:10,5:n,8:[1,11],34:i,35:a,36:s}),{1:[2,4],9:12,10:[1,13],12:[1,14],14:[1,15],16:[1,16],18:[1,17],19:[1,18],21:[1,19],23:[1,20]},e(l,[2,34]),e(l,[2,35]),e(l,[2,36]),{1:[2,1]},e(t,r,{4:2,7:4,3:21,5:n,34:i,35:a,36:s}),{1:[2,3]},e(l,[2,5]),e(t,[2,7],{4:22,34:i,35:a,36:s}),{11:23,37:24,38:u,39:c,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{11:39,13:38,24:w,27:D,29:40,30:41,37:24,38:u,39:c,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{11:45,15:44,27:k,33:46,37:24,38:u,39:c,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{11:49,17:48,24:E,37:24,38:u,39:c,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{11:52,17:51,24:E,37:24,38:u,39:c,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},{20:[1,53]},{22:[1,54]},e(A,[2,18]),{1:[2,2]},e(A,[2,8]),e(A,[2,9]),e(C,[2,37],{40:55,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x}),e(C,[2,38]),e(C,[2,39]),e(_,[2,40]),e(_,[2,42]),e(_,[2,43]),e(_,[2,44]),e(_,[2,45]),e(_,[2,46]),e(_,[2,47]),e(_,[2,48]),e(_,[2,49]),e(_,[2,50]),e(_,[2,51]),e(A,[2,10]),e(A,[2,22],{30:41,29:56,24:w,27:D}),e(A,[2,24]),e(A,[2,25]),{31:[1,57]},{11:59,32:58,37:24,38:u,39:c,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},e(A,[2,11]),e(A,[2,30],{33:60,27:k}),e(A,[2,32]),{31:[1,61]},e(A,[2,12]),{17:62,24:E},{25:63,27:T},e(A,[2,14]),{17:65,24:E},e(A,[2,16]),e(A,[2,17]),e(_,[2,41]),e(A,[2,23]),{27:[1,66]},{26:[1,67]},{26:[2,29],28:[1,68]},e(A,[2,31]),{27:[1,69]},e(A,[2,13]),{26:[1,70]},{26:[2,21],28:[1,71]},e(A,[2,15]),e(A,[2,26]),e(A,[2,27]),{11:59,32:72,37:24,38:u,39:c,40:27,41:h,42:d,43:f,44:p,45:g,46:m,47:y,48:v,49:b,50:x},e(A,[2,33]),e(A,[2,19]),{25:73,27:T},{26:[2,28]},{26:[2,20]}],defaultActions:{8:[2,1],10:[2,3],21:[2,2],72:[2,28],73:[2,20]},parseError:(0,o.K2)((function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)}),"parseError"),parse:(0,o.K2)((function(e){var t=this,r=[0],n=[],i=[null],a=[],s=this.table,l="",u=0,c=0,h=0,d=a.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(p.yy[g]=this.yy[g]);f.setInput(e,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc;a.push(m);var y=f.options&&f.options.ranges;function v(){var e;return"number"!=typeof(e=n.pop()||f.lex()||1)&&(e instanceof Array&&(e=(n=e).pop()),e=t.symbols_[e]||e),e}"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,o.K2)((function(e){r.length=r.length-2*e,i.length=i.length-e,a.length=a.length-e}),"popStack"),(0,o.K2)(v,"lex");for(var b,x,w,D,k,E,A,C,_,T={};;){if(w=r[r.length-1],this.defaultActions[w]?D=this.defaultActions[w]:(null==b&&(b=v()),D=s[w]&&s[w][b]),void 0===D||!D.length||!D[0]){var S;for(E in _=[],s[w])this.terminals_[E]&&E>2&&_.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(u+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(u+1)+": Unexpected "+(1==b?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:_})}if(D[0]instanceof Array&&D.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(D[0]){case 1:r.push(b),i.push(f.yytext),a.push(f.yylloc),r.push(D[1]),b=null,x?(b=x,x=null):(c=f.yyleng,l=f.yytext,u=f.yylineno,m=f.yylloc,h>0&&h--);break;case 2:if(A=this.productions_[D[1]][1],T.$=i[i.length-A],T._$={first_line:a[a.length-(A||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(A||1)].first_column,last_column:a[a.length-1].last_column},y&&(T._$.range=[a[a.length-(A||1)].range[0],a[a.length-1].range[1]]),void 0!==(k=this.performAction.apply(T,[l,c,u,p.yy,D[1],i,a].concat(d))))return k;A&&(r=r.slice(0,-1*A*2),i=i.slice(0,-1*A),a=a.slice(0,-1*A)),r.push(this.productions_[D[1]][0]),i.push(T.$),a.push(T._$),C=s[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}),"parse")},F=function(){return{EOF:1,parseError:(0,o.K2)((function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)}),"parseError"),setInput:(0,o.K2)((function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this}),"setInput"),input:(0,o.K2)((function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e}),"input"),unput:(0,o.K2)((function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this}),"unput"),more:(0,o.K2)((function(){return this._more=!0,this}),"more"),reject:(0,o.K2)((function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"reject"),less:(0,o.K2)((function(e){this.unput(this.match.slice(e))}),"less"),pastInput:(0,o.K2)((function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")}),"pastInput"),upcomingInput:(0,o.K2)((function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")}),"upcomingInput"),showPosition:(0,o.K2)((function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"}),"showPosition"),test_match:(0,o.K2)((function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1}),"test_match"),next:(0,o.K2)((function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}),"next"),lex:(0,o.K2)((function(){return this.next()||this.lex()}),"lex"),begin:(0,o.K2)((function(e){this.conditionStack.push(e)}),"begin"),popState:(0,o.K2)((function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]}),"popState"),_currentRules:(0,o.K2)((function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules}),"_currentRules"),topState:(0,o.K2)((function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"}),"topState"),pushState:(0,o.K2)((function(e){this.begin(e)}),"pushState"),stateStackSize:(0,o.K2)((function(){return this.conditionStack.length}),"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,o.K2)((function(e,t,r,n){switch(r){case 0:case 1:case 5:case 43:break;case 2:case 3:return this.popState(),34;case 4:return 34;case 6:return 10;case 7:return this.pushState("acc_title"),19;case 8:return this.popState(),"acc_title_value";case 9:return this.pushState("acc_descr"),21;case 10:return this.popState(),"acc_descr_value";case 11:this.pushState("acc_descr_multiline");break;case 12:case 25:case 27:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:return 5;case 15:return 8;case 16:return this.pushState("axis_data"),"X_AXIS";case 17:return this.pushState("axis_data"),"Y_AXIS";case 18:return this.pushState("axis_band_data"),24;case 19:return 31;case 20:return this.pushState("data"),16;case 21:return this.pushState("data"),18;case 22:return this.pushState("data_inner"),24;case 23:return 27;case 24:return this.popState(),26;case 26:this.pushState("string");break;case 28:return"STR";case 29:return 24;case 30:return 26;case 31:return 43;case 32:return"COLON";case 33:return 44;case 34:return 28;case 35:return 45;case 36:return 46;case 37:return 48;case 38:return 50;case 39:return 47;case 40:return 41;case 41:return 49;case 42:return 42;case 44:return 35;case 45:return 36}}),"anonymous"),rules:[/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:(\r?\n))/i,/^(?:(\r?\n))/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:title\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:\{)/i,/^(?:[^\}]*)/i,/^(?:xychart-beta\b)/i,/^(?:(?:vertical|horizontal))/i,/^(?:x-axis\b)/i,/^(?:y-axis\b)/i,/^(?:\[)/i,/^(?:-->)/i,/^(?:line\b)/i,/^(?:bar\b)/i,/^(?:\[)/i,/^(?:[+-]?(?:\d+(?:\.\d+)?|\.\d+))/i,/^(?:\])/i,/^(?:(?:`\)                                    \{ this\.pushState\(md_string\); \}\n<md_string>\(\?:\(\?!`"\)\.\)\+                  \{ return MD_STR; \}\n<md_string>\(\?:`))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:[A-Za-z]+)/i,/^(?::)/i,/^(?:\+)/i,/^(?:,)/i,/^(?:=)/i,/^(?:\*)/i,/^(?:#)/i,/^(?:[\_])/i,/^(?:\.)/i,/^(?:&)/i,/^(?:-)/i,/^(?:[0-9]+)/i,/^(?:\s+)/i,/^(?:;)/i,/^(?:$)/i],conditions:{data_inner:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,23,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},data:{rules:[0,1,3,4,5,6,7,9,11,14,15,16,17,20,21,22,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_band_data:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,24,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},axis_data:{rules:[0,1,2,4,5,6,7,9,11,14,15,16,17,18,19,20,21,23,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},title:{rules:[],inclusive:!1},md_string:{rules:[],inclusive:!1},string:{rules:[27,28],inclusive:!1},INITIAL:{rules:[0,1,4,5,6,7,9,11,14,15,16,17,20,21,25,26,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45],inclusive:!0}}}}();function O(){this.yy={}}return S.lexer=F,(0,o.K2)(O,"Parser"),O.prototype=S,S.Parser=O,new O}();l.parser=l;var u=l;function c(e){return"bar"===e.type}function h(e){return"band"===e.type}function d(e){return"linear"===e.type}(0,o.K2)(c,"isBarPlot"),(0,o.K2)(h,"isBandAxisData"),(0,o.K2)(d,"isLinearAxisData");var f=class{constructor(e){this.parentGroup=e}static{(0,o.K2)(this,"TextDimensionCalculatorWithFont")}getMaxDimension(e,t){if(!this.parentGroup)return{width:e.reduce(((e,t)=>Math.max(t.length,e)),0)*t,height:t};const r={width:0,height:0},i=this.parentGroup.append("g").attr("visibility","hidden").attr("font-size",t);for(const a of e){const e=(0,n.W6)(i,1,a),o=e?e.width:a.length*t,s=e?e.height:t;r.width=Math.max(r.width,o),r.height=Math.max(r.height,s)}return i.remove(),r}},p=class{constructor(e,t,r,n){this.axisConfig=e,this.title=t,this.textDimensionCalculator=r,this.axisThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left",this.showTitle=!1,this.showLabel=!1,this.showTick=!1,this.showAxisLine=!1,this.outerPadding=0,this.titleTextHeight=0,this.labelTextHeight=0,this.range=[0,10],this.boundingRect={x:0,y:0,width:0,height:0},this.axisPosition="left"}static{(0,o.K2)(this,"BaseAxis")}setRange(e){this.range=e,"left"===this.axisPosition||"right"===this.axisPosition?this.boundingRect.height=e[1]-e[0]:this.boundingRect.width=e[1]-e[0],this.recalculateScale()}getRange(){return[this.range[0]+this.outerPadding,this.range[1]-this.outerPadding]}setAxisPosition(e){this.axisPosition=e,this.setRange(this.range)}getTickDistance(){const e=this.getRange();return Math.abs(e[0]-e[1])/this.getTickValues().length}getAxisOuterPadding(){return this.outerPadding}getLabelDimension(){return this.textDimensionCalculator.getMaxDimension(this.getTickValues().map((e=>e.toString())),this.axisConfig.labelFontSize)}recalculateOuterPaddingToDrawBar(){.7*this.getTickDistance()>2*this.outerPadding&&(this.outerPadding=Math.floor(.7*this.getTickDistance()/2)),this.recalculateScale()}calculateSpaceIfDrawnHorizontally(e){let t=e.height;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const r=this.getLabelDimension(),n=.2*e.width;this.outerPadding=Math.min(r.width/2,n);const i=r.height+2*this.axisConfig.labelPadding;this.labelTextHeight=r.height,i<=t&&(t-=i,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const e=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),r=e.height+2*this.axisConfig.titlePadding;this.titleTextHeight=e.height,r<=t&&(t-=r,this.showTitle=!0)}this.boundingRect.width=e.width,this.boundingRect.height=e.height-t}calculateSpaceIfDrawnVertical(e){let t=e.width;if(this.axisConfig.showAxisLine&&t>this.axisConfig.axisLineWidth&&(t-=this.axisConfig.axisLineWidth,this.showAxisLine=!0),this.axisConfig.showLabel){const r=this.getLabelDimension(),n=.2*e.height;this.outerPadding=Math.min(r.height/2,n);const i=r.width+2*this.axisConfig.labelPadding;i<=t&&(t-=i,this.showLabel=!0)}if(this.axisConfig.showTick&&t>=this.axisConfig.tickLength&&(this.showTick=!0,t-=this.axisConfig.tickLength),this.axisConfig.showTitle&&this.title){const e=this.textDimensionCalculator.getMaxDimension([this.title],this.axisConfig.titleFontSize),r=e.height+2*this.axisConfig.titlePadding;this.titleTextHeight=e.height,r<=t&&(t-=r,this.showTitle=!0)}this.boundingRect.width=e.width-t,this.boundingRect.height=e.height}calculateSpace(e){return"left"===this.axisPosition||"right"===this.axisPosition?this.calculateSpaceIfDrawnVertical(e):this.calculateSpaceIfDrawnHorizontally(e),this.recalculateScale(),{width:this.boundingRect.width,height:this.boundingRect.height}}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}getDrawableElementsForLeftAxis(){const e=[];if(this.showAxisLine){const t=this.boundingRect.x+this.boundingRect.width-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["left-axis","axisl-line"],data:[{path:`M ${t},${this.boundingRect.y} L ${t},${this.boundingRect.y+this.boundingRect.height} `,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["left-axis","label"],data:this.getTickValues().map((e=>({text:e.toString(),x:this.boundingRect.x+this.boundingRect.width-(this.showLabel?this.axisConfig.labelPadding:0)-(this.showTick?this.axisConfig.tickLength:0)-(this.showAxisLine?this.axisConfig.axisLineWidth:0),y:this.getScaleValue(e),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"middle",horizontalPos:"right"})))}),this.showTick){const t=this.boundingRect.x+this.boundingRect.width-(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["left-axis","ticks"],data:this.getTickValues().map((e=>({path:`M ${t},${this.getScaleValue(e)} L ${t-this.axisConfig.tickLength},${this.getScaleValue(e)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth})))})}return this.showTitle&&e.push({type:"text",groupTexts:["left-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.axisConfig.titlePadding,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:270,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForBottomAxis(){const e=[];if(this.showAxisLine){const t=this.boundingRect.y+this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["bottom-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["bottom-axis","label"],data:this.getTickValues().map((e=>({text:e.toString(),x:this.getScaleValue(e),y:this.boundingRect.y+this.axisConfig.labelPadding+(this.showTick?this.axisConfig.tickLength:0)+(this.showAxisLine?this.axisConfig.axisLineWidth:0),fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"})))}),this.showTick){const t=this.boundingRect.y+(this.showAxisLine?this.axisConfig.axisLineWidth:0);e.push({type:"path",groupTexts:["bottom-axis","ticks"],data:this.getTickValues().map((e=>({path:`M ${this.getScaleValue(e)},${t} L ${this.getScaleValue(e)},${t+this.axisConfig.tickLength}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth})))})}return this.showTitle&&e.push({type:"text",groupTexts:["bottom-axis","title"],data:[{text:this.title,x:this.range[0]+(this.range[1]-this.range[0])/2,y:this.boundingRect.y+this.boundingRect.height-this.axisConfig.titlePadding-this.titleTextHeight,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElementsForTopAxis(){const e=[];if(this.showAxisLine){const t=this.boundingRect.y+this.boundingRect.height-this.axisConfig.axisLineWidth/2;e.push({type:"path",groupTexts:["top-axis","axis-line"],data:[{path:`M ${this.boundingRect.x},${t} L ${this.boundingRect.x+this.boundingRect.width},${t}`,strokeFill:this.axisThemeConfig.axisLineColor,strokeWidth:this.axisConfig.axisLineWidth}]})}if(this.showLabel&&e.push({type:"text",groupTexts:["top-axis","label"],data:this.getTickValues().map((e=>({text:e.toString(),x:this.getScaleValue(e),y:this.boundingRect.y+(this.showTitle?this.titleTextHeight+2*this.axisConfig.titlePadding:0)+this.axisConfig.labelPadding,fill:this.axisThemeConfig.labelColor,fontSize:this.axisConfig.labelFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"})))}),this.showTick){const t=this.boundingRect.y;e.push({type:"path",groupTexts:["top-axis","ticks"],data:this.getTickValues().map((e=>({path:`M ${this.getScaleValue(e)},${t+this.boundingRect.height-(this.showAxisLine?this.axisConfig.axisLineWidth:0)} L ${this.getScaleValue(e)},${t+this.boundingRect.height-this.axisConfig.tickLength-(this.showAxisLine?this.axisConfig.axisLineWidth:0)}`,strokeFill:this.axisThemeConfig.tickColor,strokeWidth:this.axisConfig.tickWidth})))})}return this.showTitle&&e.push({type:"text",groupTexts:["top-axis","title"],data:[{text:this.title,x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.axisConfig.titlePadding,fill:this.axisThemeConfig.titleColor,fontSize:this.axisConfig.titleFontSize,rotation:0,verticalPos:"top",horizontalPos:"center"}]}),e}getDrawableElements(){if("left"===this.axisPosition)return this.getDrawableElementsForLeftAxis();if("right"===this.axisPosition)throw Error("Drawing of right axis is not implemented");return"bottom"===this.axisPosition?this.getDrawableElementsForBottomAxis():"top"===this.axisPosition?this.getDrawableElementsForTopAxis():[]}},g=class extends p{static{(0,o.K2)(this,"BandAxis")}constructor(e,t,r,n,i){super(e,n,i,t),this.categories=r,this.scale=(0,s.WH)().domain(this.categories).range(this.getRange())}setRange(e){super.setRange(e)}recalculateScale(){this.scale=(0,s.WH)().domain(this.categories).range(this.getRange()).paddingInner(1).paddingOuter(0).align(.5),o.Rm.trace("BandAxis axis final categories, range: ",this.categories,this.getRange())}getTickValues(){return this.categories}getScaleValue(e){return this.scale(e)??this.getRange()[0]}},m=class extends p{static{(0,o.K2)(this,"LinearAxis")}constructor(e,t,r,n,i){super(e,n,i,t),this.domain=r,this.scale=(0,s.m4Y)().domain(this.domain).range(this.getRange())}getTickValues(){return this.scale.ticks()}recalculateScale(){const e=[...this.domain];"left"===this.axisPosition&&e.reverse(),this.scale=(0,s.m4Y)().domain(e).range(this.getRange())}getScaleValue(e){return this.scale(e)}};function y(e,t,r,n){const i=new f(n);return h(e)?new g(t,r,e.categories,e.title,i):new m(t,r,[e.min,e.max],e.title,i)}(0,o.K2)(y,"getAxis");var v=class{constructor(e,t,r,n){this.textDimensionCalculator=e,this.chartConfig=t,this.chartData=r,this.chartThemeConfig=n,this.boundingRect={x:0,y:0,width:0,height:0},this.showChartTitle=!1}static{(0,o.K2)(this,"ChartTitle")}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){const t=this.textDimensionCalculator.getMaxDimension([this.chartData.title],this.chartConfig.titleFontSize),r=Math.max(t.width,e.width),n=t.height+2*this.chartConfig.titlePadding;return t.width<=r&&t.height<=n&&this.chartConfig.showTitle&&this.chartData.title&&(this.boundingRect.width=r,this.boundingRect.height=n,this.showChartTitle=!0),{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){const e=[];return this.showChartTitle&&e.push({groupTexts:["chart-title"],type:"text",data:[{fontSize:this.chartConfig.titleFontSize,text:this.chartData.title,verticalPos:"middle",horizontalPos:"center",x:this.boundingRect.x+this.boundingRect.width/2,y:this.boundingRect.y+this.boundingRect.height/2,fill:this.chartThemeConfig.titleColor,rotation:0}]}),e}};function b(e,t,r,n){const i=new f(n);return new v(i,e,t,r)}(0,o.K2)(b,"getChartTitleComponent");var x=class{constructor(e,t,r,n,i){this.plotData=e,this.xAxis=t,this.yAxis=r,this.orientation=n,this.plotIndex=i}static{(0,o.K2)(this,"LinePlot")}getDrawableElement(){const e=this.plotData.data.map((e=>[this.xAxis.getScaleValue(e[0]),this.yAxis.getScaleValue(e[1])]));let t;return t="horizontal"===this.orientation?(0,s.n8j)().y((e=>e[0])).x((e=>e[1]))(e):(0,s.n8j)().x((e=>e[0])).y((e=>e[1]))(e),t?[{groupTexts:["plot",`line-plot-${this.plotIndex}`],type:"path",data:[{path:t,strokeFill:this.plotData.strokeFill,strokeWidth:this.plotData.strokeWidth}]}]:[]}},w=class{constructor(e,t,r,n,i,a){this.barData=e,this.boundingRect=t,this.xAxis=r,this.yAxis=n,this.orientation=i,this.plotIndex=a}static{(0,o.K2)(this,"BarPlot")}getDrawableElement(){const e=this.barData.data.map((e=>[this.xAxis.getScaleValue(e[0]),this.yAxis.getScaleValue(e[1])])),t=.95*Math.min(2*this.xAxis.getAxisOuterPadding(),this.xAxis.getTickDistance()),r=t/2;return"horizontal"===this.orientation?[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map((e=>({x:this.boundingRect.x,y:e[0]-r,height:t,width:e[1]-this.boundingRect.x,fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill})))}]:[{groupTexts:["plot",`bar-plot-${this.plotIndex}`],type:"rect",data:e.map((e=>({x:e[0]-r,y:e[1],width:t,height:this.boundingRect.y+this.boundingRect.height-e[1],fill:this.barData.fill,strokeWidth:0,strokeFill:this.barData.fill})))}]}},D=class{constructor(e,t,r){this.chartConfig=e,this.chartData=t,this.chartThemeConfig=r,this.boundingRect={x:0,y:0,width:0,height:0}}static{(0,o.K2)(this,"BasePlot")}setAxes(e,t){this.xAxis=e,this.yAxis=t}setBoundingBoxXY(e){this.boundingRect.x=e.x,this.boundingRect.y=e.y}calculateSpace(e){return this.boundingRect.width=e.width,this.boundingRect.height=e.height,{width:this.boundingRect.width,height:this.boundingRect.height}}getDrawableElements(){if(!this.xAxis||!this.yAxis)throw Error("Axes must be passed to render Plots");const e=[];for(const[t,r]of this.chartData.plots.entries())switch(r.type){case"line":{const n=new x(r,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...n.getDrawableElement())}break;case"bar":{const n=new w(r,this.boundingRect,this.xAxis,this.yAxis,this.chartConfig.chartOrientation,t);e.push(...n.getDrawableElement())}}return e}};function k(e,t,r){return new D(e,t,r)}(0,o.K2)(k,"getPlotComponent");var E,A=class{constructor(e,t,r,n){this.chartConfig=e,this.chartData=t,this.componentStore={title:b(e,t,r,n),plot:k(e,t,r),xAxis:y(t.xAxis,e.xAxis,{titleColor:r.xAxisTitleColor,labelColor:r.xAxisLabelColor,tickColor:r.xAxisTickColor,axisLineColor:r.xAxisLineColor},n),yAxis:y(t.yAxis,e.yAxis,{titleColor:r.yAxisTitleColor,labelColor:r.yAxisLabelColor,tickColor:r.yAxisTickColor,axisLineColor:r.yAxisLineColor},n)}}static{(0,o.K2)(this,"Orchestrator")}calculateVerticalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,n=0,i=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),a=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),o=this.componentStore.plot.calculateSpace({width:i,height:a});e-=o.width,t-=o.height,o=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),n=o.height,t-=o.height,this.componentStore.xAxis.setAxisPosition("bottom"),o=this.componentStore.xAxis.calculateSpace({width:e,height:t}),t-=o.height,this.componentStore.yAxis.setAxisPosition("left"),o=this.componentStore.yAxis.calculateSpace({width:e,height:t}),r=o.width,e-=o.width,e>0&&(i+=e,e=0),t>0&&(a+=t,t=0),this.componentStore.plot.calculateSpace({width:i,height:a}),this.componentStore.plot.setBoundingBoxXY({x:r,y:n}),this.componentStore.xAxis.setRange([r,r+i]),this.componentStore.xAxis.setBoundingBoxXY({x:r,y:n+a}),this.componentStore.yAxis.setRange([n,n+a]),this.componentStore.yAxis.setBoundingBoxXY({x:0,y:n}),this.chartData.plots.some((e=>c(e)))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateHorizontalSpace(){let e=this.chartConfig.width,t=this.chartConfig.height,r=0,n=0,i=0,a=Math.floor(e*this.chartConfig.plotReservedSpacePercent/100),o=Math.floor(t*this.chartConfig.plotReservedSpacePercent/100),s=this.componentStore.plot.calculateSpace({width:a,height:o});e-=s.width,t-=s.height,s=this.componentStore.title.calculateSpace({width:this.chartConfig.width,height:t}),r=s.height,t-=s.height,this.componentStore.xAxis.setAxisPosition("left"),s=this.componentStore.xAxis.calculateSpace({width:e,height:t}),e-=s.width,n=s.width,this.componentStore.yAxis.setAxisPosition("top"),s=this.componentStore.yAxis.calculateSpace({width:e,height:t}),t-=s.height,i=r+s.height,e>0&&(a+=e,e=0),t>0&&(o+=t,t=0),this.componentStore.plot.calculateSpace({width:a,height:o}),this.componentStore.plot.setBoundingBoxXY({x:n,y:i}),this.componentStore.yAxis.setRange([n,n+a]),this.componentStore.yAxis.setBoundingBoxXY({x:n,y:r}),this.componentStore.xAxis.setRange([i,i+o]),this.componentStore.xAxis.setBoundingBoxXY({x:0,y:i}),this.chartData.plots.some((e=>c(e)))&&this.componentStore.xAxis.recalculateOuterPaddingToDrawBar()}calculateSpace(){"horizontal"===this.chartConfig.chartOrientation?this.calculateHorizontalSpace():this.calculateVerticalSpace()}getDrawableElement(){this.calculateSpace();const e=[];this.componentStore.plot.setAxes(this.componentStore.xAxis,this.componentStore.yAxis);for(const t of Object.values(this.componentStore))e.push(...t.getDrawableElements());return e}},C=class{static{(0,o.K2)(this,"XYChartBuilder")}static build(e,t,r,n){return new A(e,t,r,n).getDrawableElement()}},_=0,T=I(),S=L(),F={yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]},O=S.plotColorPalette.split(",").map((e=>e.trim())),B=!1,N=!1;function L(){const e=(0,o.P$)(),t=(0,o.zj)();return(0,i.$t)(e.xyChart,t.themeVariables.xyChart)}function I(){const e=(0,o.zj)();return(0,i.$t)(o.UI.xyChart,e.xyChart)}function R(){return{yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]}}function M(e){const t=(0,o.zj)();return(0,o.jZ)(e.trim(),t)}function P(e){E=e}function z(e){T.chartOrientation="horizontal"===e?"horizontal":"vertical"}function $(e){F.xAxis.title=M(e.text)}function j(e,t){F.xAxis={type:"linear",title:F.xAxis.title,min:e,max:t},B=!0}function K(e){F.xAxis={type:"band",title:F.xAxis.title,categories:e.map((e=>M(e.text)))},B=!0}function q(e){F.yAxis.title=M(e.text)}function U(e,t){F.yAxis={type:"linear",title:F.yAxis.title,min:e,max:t},N=!0}function H(e){const t=Math.min(...e),r=Math.max(...e),n=d(F.yAxis)?F.yAxis.min:1/0,i=d(F.yAxis)?F.yAxis.max:-1/0;F.yAxis={type:"linear",title:F.yAxis.title,min:Math.min(n,t),max:Math.max(i,r)}}function W(e){let t=[];if(0===e.length)return t;if(!B){const t=d(F.xAxis)?F.xAxis.min:1/0,r=d(F.xAxis)?F.xAxis.max:-1/0;j(Math.min(t,1),Math.max(r,e.length))}if(N||H(e),h(F.xAxis)&&(t=F.xAxis.categories.map(((t,r)=>[t,e[r]]))),d(F.xAxis)){const r=F.xAxis.min,n=F.xAxis.max,i=(n-r)/(e.length-1),a=[];for(let e=r;e<=n;e+=i)a.push(`${e}`);t=a.map(((t,r)=>[t,e[r]]))}return t}function G(e){return O[0===e?0:e%O.length]}function V(e,t){const r=W(t);F.plots.push({type:"line",strokeFill:G(_),strokeWidth:2,data:r}),_++}function Y(e,t){const r=W(t);F.plots.push({type:"bar",fill:G(_),data:r}),_++}function X(){if(0===F.plots.length)throw Error("No Plot to render, please provide a plot with some data");return F.title=(0,o.ab)(),C.build(T,F,S,E)}function Z(){return S}function Q(){return T}(0,o.K2)(L,"getChartDefaultThemeConfig"),(0,o.K2)(I,"getChartDefaultConfig"),(0,o.K2)(R,"getChartDefaultData"),(0,o.K2)(M,"textSanitizer"),(0,o.K2)(P,"setTmpSVGG"),(0,o.K2)(z,"setOrientation"),(0,o.K2)($,"setXAxisTitle"),(0,o.K2)(j,"setXAxisRangeData"),(0,o.K2)(K,"setXAxisBand"),(0,o.K2)(q,"setYAxisTitle"),(0,o.K2)(U,"setYAxisRangeData"),(0,o.K2)(H,"setYAxisRangeFromPlotData"),(0,o.K2)(W,"transformDataWithoutCategory"),(0,o.K2)(G,"getPlotColorFromPalette"),(0,o.K2)(V,"setLineData"),(0,o.K2)(Y,"setBarData"),(0,o.K2)(X,"getDrawableElem"),(0,o.K2)(Z,"getChartThemeConfig"),(0,o.K2)(Q,"getChartConfig");var J={parser:u,db:{getDrawableElem:X,clear:(0,o.K2)((function(){(0,o.IU)(),_=0,T=I(),F={yAxis:{type:"linear",title:"",min:1/0,max:-1/0},xAxis:{type:"band",title:"",categories:[]},title:"",plots:[]},S=L(),O=S.plotColorPalette.split(",").map((e=>e.trim())),B=!1,N=!1}),"clear"),setAccTitle:o.SV,getAccTitle:o.iN,setDiagramTitle:o.ke,getDiagramTitle:o.ab,getAccDescription:o.m7,setAccDescription:o.EI,setOrientation:z,setXAxisTitle:$,setXAxisRangeData:j,setXAxisBand:K,setYAxisTitle:q,setYAxisRangeData:U,setLineData:V,setBarData:Y,setTmpSVGG:P,getChartThemeConfig:Z,getChartConfig:Q},renderer:{draw:(0,o.K2)(((e,t,r,n)=>{const i=n.db,s=i.getChartThemeConfig(),l=i.getChartConfig();function u(e){return"top"===e?"text-before-edge":"middle"}function c(e){return"left"===e?"start":"right"===e?"end":"middle"}function h(e){return`translate(${e.x}, ${e.y}) rotate(${e.rotation||0})`}(0,o.K2)(u,"getDominantBaseLine"),(0,o.K2)(c,"getTextAnchor"),(0,o.K2)(h,"getTextTransformation"),o.Rm.debug("Rendering xychart chart\n"+e);const d=(0,a.D)(t),f=d.append("g").attr("class","main"),p=f.append("rect").attr("width",l.width).attr("height",l.height).attr("class","background");(0,o.a$)(d,l.height,l.width,!0),d.attr("viewBox",`0 0 ${l.width} ${l.height}`),p.attr("fill",s.backgroundColor),i.setTmpSVGG(d.append("g").attr("class","mermaid-tmp-group"));const g=i.getDrawableElem(),m={};function y(e){let t=f,r="";for(const[n]of e.entries()){let i=f;n>0&&m[r]&&(i=m[r]),r+=e[n],t=m[r],t||(t=m[r]=i.append("g").attr("class",e[n]))}return t}(0,o.K2)(y,"getGroup");for(const e of g){if(0===e.data.length)continue;const t=y(e.groupTexts);switch(e.type){case"rect":t.selectAll("rect").data(e.data).enter().append("rect").attr("x",(e=>e.x)).attr("y",(e=>e.y)).attr("width",(e=>e.width)).attr("height",(e=>e.height)).attr("fill",(e=>e.fill)).attr("stroke",(e=>e.strokeFill)).attr("stroke-width",(e=>e.strokeWidth));break;case"text":t.selectAll("text").data(e.data).enter().append("text").attr("x",0).attr("y",0).attr("fill",(e=>e.fill)).attr("font-size",(e=>e.fontSize)).attr("dominant-baseline",(e=>u(e.verticalPos))).attr("text-anchor",(e=>c(e.horizontalPos))).attr("transform",(e=>h(e))).text((e=>e.text));break;case"path":t.selectAll("path").data(e.data).enter().append("path").attr("d",(e=>e.path)).attr("fill",(e=>e.fill?e.fill:"none")).attr("stroke",(e=>e.strokeFill)).attr("stroke-width",(e=>e.strokeWidth))}}}),"draw")}}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return r[e].call(a.exports,a,a.exports,i),a.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var a=Object.create(null);i.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,i.d(a,o),a},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";i.r(a),i.d(a,{DocPreview:()=>Am});var e=i(8909),t=i.t(e,2),r=()=>{var e={};return function(t,r){void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}};function n(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}function o(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e[n]=r,e}),{})}function s(e){return"number"==typeof e}function l(e,t){return-1!==e.indexOf(t)}function u(e,t,r,n){return t+(i=r,0===parseFloat(i)?i:"-"===i[0]?i.slice(1):"-"+i)+n;var i}function c(e){return e.replace(/ +/g," ").split(" ").map((function(e){return e.trim()})).filter(Boolean).reduce((function(e,t){var r=e.list,n=e.state,i=(t.match(/\(/g)||[]).length,a=(t.match(/\)/g)||[]).length;return n.parensDepth>0?r[r.length-1]=r[r.length-1]+" "+t:r.push(t),n.parensDepth+=i-a,{list:r,state:n}}),{list:[],state:{parensDepth:0}}).list}function h(e){var t=c(e);if(t.length<=3||t.length>4)return e;var r=t[0],n=t[1],i=t[2];return[r,t[3],i,n].join(" ")}var d={padding:function(e){var t=e.value;return s(t)?t:h(t)},textShadow:function(e){return function(e){for(var t=[],r=0,n=0,i=!1;n<e.length;)i||","!==e[n]?"("===e[n]?(i=!0,n++):")"===e[n]?(i=!1,n++):n++:(t.push(e.substring(r,n).trim()),r=++n);return r!=n&&t.push(e.substring(r,n+1)),t}(e.value).map((function(e){return e.replace(/(^|\s)(-*)([.|\d]+)/,(function(e,t,r,n){return"0"===n?e:t+(""===r?"-":"")+n}))})).join(",")},borderColor:function(e){return h(e.value)},borderRadius:function(e){var t=e.value;if(s(t))return t;if(l(t,"/")){var r=t.split("/"),n=r[0],i=r[1];return d.borderRadius({value:n.trim()})+" / "+d.borderRadius({value:i.trim()})}var a=c(t);switch(a.length){case 2:return a.reverse().join(" ");case 4:var o=a[0],u=a[1],h=a[2];return[u,o,a[3],h].join(" ");default:return t}},background:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,i=e.bgImgDirectionRegex,a=e.bgPosDirectionRegex;if(s(t))return t;var o=t.replace(/(url\(.*?\))|(rgba?\(.*?\))|(hsl\(.*?\))|(#[a-fA-F0-9]+)|((^| )(\D)+( |$))/g,"").trim();return t=t.replace(o,d.backgroundPosition({value:o,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:a})),d.backgroundImage({value:t,valuesToConvert:r,bgImgDirectionRegex:i})},backgroundImage:function(e){var t=e.value,r=e.valuesToConvert,n=e.bgImgDirectionRegex;return l(t,"url(")||l(t,"linear-gradient(")?t.replace(n,(function(e,t,n){return e.replace(n,r[n])})):t},backgroundPosition:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,i=e.bgPosDirectionRegex;return t.replace(n?/^((-|\d|\.)+%)/:null,(function(e,t){return function(e){var t=e.indexOf(".");if(-1===t)e=100-parseFloat(e)+"%";else{var r=e.length-t-2;e=(e=100-parseFloat(e)).toFixed(r)+"%"}return e}(t)})).replace(i,(function(e){return r[e]}))},backgroundPositionX:function(e){var t=e.value,r=e.valuesToConvert,n=e.isRtl,i=e.bgPosDirectionRegex;return s(t)?t:d.backgroundPosition({value:t,valuesToConvert:r,isRtl:n,bgPosDirectionRegex:i})},transition:function(e){var t=e.value,r=e.propertiesToConvert;return t.split(/,\s*/g).map((function(e){var t=e.split(" ");return t[0]=r[t[0]]||t[0],t.join(" ")})).join(", ")},transitionProperty:function(e){var t=e.value,r=e.propertiesToConvert;return t.split(/,\s*/g).map((function(e){return r[e]||e})).join(", ")},transform:function(e){var t=e.value,r="[^\\u0020-\\u007e]",n="(?:(?:(?:\\[0-9a-f]{1,6})(?:\\r\\n|\\s)?)|\\\\[^\\r\\n\\f0-9a-f])",i="((?:-?(?:[0-9]*\\.[0-9]+|[0-9]+)(?:\\s*(?:em|ex|px|cm|mm|in|pt|pc|deg|rad|grad|ms|s|hz|khz|%)|-?(?:[_a-z]|"+r+"|"+n+")(?:[_a-z0-9-]|"+r+"|"+n+")*)?)|(?:inherit|auto))",a=new RegExp("(translateX\\s*\\(\\s*)"+i+"(\\s*\\))","gi"),o=new RegExp("(translate\\s*\\(\\s*)"+i+"((?:\\s*,\\s*"+i+"){0,1}\\s*\\))","gi"),s=new RegExp("(translate3d\\s*\\(\\s*)"+i+"((?:\\s*,\\s*"+i+"){0,2}\\s*\\))","gi"),l=new RegExp("(rotate[ZY]?\\s*\\(\\s*)"+i+"(\\s*\\))","gi");return t.replace(a,u).replace(o,u).replace(s,u).replace(l,u)}};d.objectPosition=d.backgroundPosition,d.margin=d.padding,d.borderWidth=d.padding,d.boxShadow=d.textShadow,d.webkitBoxShadow=d.boxShadow,d.mozBoxShadow=d.boxShadow,d.WebkitBoxShadow=d.boxShadow,d.MozBoxShadow=d.boxShadow,d.borderStyle=d.borderColor,d.webkitTransform=d.transform,d.mozTransform=d.transform,d.WebkitTransform=d.transform,d.MozTransform=d.transform,d.transformOrigin=d.backgroundPosition,d.webkitTransformOrigin=d.transformOrigin,d.mozTransformOrigin=d.transformOrigin,d.WebkitTransformOrigin=d.transformOrigin,d.MozTransformOrigin=d.transformOrigin,d.webkitTransition=d.transition,d.mozTransition=d.transition,d.WebkitTransition=d.transition,d.MozTransition=d.transition,d.webkitTransitionProperty=d.transitionProperty,d.mozTransitionProperty=d.transitionProperty,d.WebkitTransitionProperty=d.transitionProperty,d.MozTransitionProperty=d.transitionProperty,d["text-shadow"]=d.textShadow,d["border-color"]=d.borderColor,d["border-radius"]=d.borderRadius,d["background-image"]=d.backgroundImage,d["background-position"]=d.backgroundPosition,d["background-position-x"]=d.backgroundPositionX,d["object-position"]=d.objectPosition,d["border-width"]=d.padding,d["box-shadow"]=d.textShadow,d["-webkit-box-shadow"]=d.textShadow,d["-moz-box-shadow"]=d.textShadow,d["border-style"]=d.borderColor,d["-webkit-transform"]=d.transform,d["-moz-transform"]=d.transform,d["transform-origin"]=d.transformOrigin,d["-webkit-transform-origin"]=d.transformOrigin,d["-moz-transform-origin"]=d.transformOrigin,d["-webkit-transition"]=d.transition,d["-moz-transition"]=d.transition,d["transition-property"]=d.transitionProperty,d["-webkit-transition-property"]=d.transitionProperty,d["-moz-transition-property"]=d.transitionProperty;var f=o([["paddingLeft","paddingRight"],["marginLeft","marginRight"],["left","right"],["borderLeft","borderRight"],["borderLeftColor","borderRightColor"],["borderLeftStyle","borderRightStyle"],["borderLeftWidth","borderRightWidth"],["borderTopLeftRadius","borderTopRightRadius"],["borderBottomLeftRadius","borderBottomRightRadius"],["padding-left","padding-right"],["margin-left","margin-right"],["border-left","border-right"],["border-left-color","border-right-color"],["border-left-style","border-right-style"],["border-left-width","border-right-width"],["border-top-left-radius","border-top-right-radius"],["border-bottom-left-radius","border-bottom-right-radius"]]),p=["content"],g=o([["ltr","rtl"],["left","right"],["w-resize","e-resize"],["sw-resize","se-resize"],["nw-resize","ne-resize"]]),m=new RegExp("(^|\\W|_)((ltr)|(rtl)|(left)|(right))(\\W|_|$)","g"),y=new RegExp("(left)|(right)");function v(e){return Object.keys(e).reduce((function(t,r){var n=e[r];if("string"==typeof n&&(n=n.trim()),l(p,r))return t[r]=n,t;var i=b(r,n),a=i.key,o=i.value;return t[a]=o,t}),Array.isArray(e)?[]:{})}function b(e,t){var r,n=/\/\*\s?@noflip\s?\*\//.test(t),i=n?e:f[r=e]||r,a=n?t:function(e,t){if(!function(e){return!("boolean"==typeof e||function(e){return null==e}(e))}(t))return t;if((r=t)&&"object"==typeof r)return v(t);var r,n,i=s(t),a=function(e){return"function"==typeof e}(t),o=i||a?t:t.replace(/ !important.*?$/,""),l=!i&&o.length!==t.length,u=d[e];return n=u?u({value:o,valuesToConvert:g,propertiesToConvert:f,isRtl:!0,bgImgDirectionRegex:m,bgPosDirectionRegex:y}):g[o]||o,l?n+" !important":n}(i,t);return{key:i,value:a}}var x="undefined"==typeof window?i.g:window,w="@griffel/";function D(e,t){return x[Symbol.for(w+e)]||(x[Symbol.for(w+e)]=t),x[Symbol.for(w+e)]}var k=D("DEFINITION_LOOKUP_TABLE",{}),E="data-make-styles-bucket",A={all:1,borderColor:1,borderStyle:1,borderWidth:1,borderBlock:1,borderBlockEnd:1,borderBlockStart:1,borderInline:1,borderInlineEnd:1,borderInlineStart:1},C="DO_NOT_USE_DIRECTLY: @griffel/reset-value",_=/[A-Z]/g,T=/^ms-/,S={};function F(e){return"-"+e.toLowerCase()}function O(e){if(Object.prototype.hasOwnProperty.call(S,e))return S[e];if("--"===e.substr(0,2))return e;var t=e.replace(_,F);return S[e]=T.test(t)?"-"+t:t}function B(e){return"&"===e.charAt(0)?e.slice(1):e}var N="-moz-",L="-webkit-",I="comm",R="rule",M="decl",P="@layer",z=Math.abs,$=String.fromCharCode,j=Object.assign;function K(e){return e.trim()}function q(e,t){return(e=t.exec(e))?e[0]:e}function U(e,t,r){return e.replace(t,r)}function H(e,t,r){return e.indexOf(t,r)}function W(e,t){return 0|e.charCodeAt(t)}function G(e,t,r){return e.slice(t,r)}function V(e){return e.length}function Y(e){return e.length}function X(e,t){return t.push(e),e}function Z(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function Q(e,t,r,n){switch(e.type){case P:if(e.children.length)break;case"@import":case M:return e.return=e.return||e.value;case I:return"";case"@keyframes":return e.return=e.value+"{"+Z(e.children,n)+"}";case R:if(!V(e.value=e.props.join(",")))return""}return V(r=Z(e.children,n))?e.return=e.value+"{"+r+"}":""}var J=1,ee=1,te=0,re=0,ne=0,ie="";function ae(e,t,r,n,i,a,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:J,column:ee,length:o,return:"",siblings:s}}function oe(e,t){return j(ae("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function se(){return ne=re<te?W(ie,re++):0,ee++,10===ne&&(ee=1,J++),ne}function le(){return W(ie,re)}function ue(){return re}function ce(e,t){return G(ie,e,t)}function he(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function de(e){return J=ee=1,te=V(ie=e),re=0,[]}function fe(e){return ie="",e}function pe(e){return K(ce(re-1,ye(91===e?e+2:40===e?e+1:e)))}function ge(e){for(;(ne=le())&&ne<33;)se();return he(e)>2||he(ne)>3?"":" "}function me(e,t){for(;--t&&se()&&!(ne<48||ne>102||ne>57&&ne<65||ne>70&&ne<97););return ce(e,ue()+(t<6&&32==le()&&32==se()))}function ye(e){for(;se();)switch(ne){case e:return re;case 34:case 39:34!==e&&39!==e&&ye(ne);break;case 40:41===e&&ye(e);break;case 92:se()}return re}function ve(e,t){for(;se()&&e+ne!==57&&(e+ne!==84||47!==le()););return"/*"+ce(t,re-1)+"*"+$(47===e?e:se())}function be(e){for(;!he(le());)se();return ce(e,re)}function xe(e){return fe(we("",null,null,null,[""],e=de(e),0,[0],e))}function we(e,t,r,n,i,a,o,s,l){for(var u=0,c=0,h=o,d=0,f=0,p=0,g=1,m=1,y=1,v=0,b="",x=i,w=a,D=n,k=b;m;)switch(p=v,v=se()){case 40:if(108!=p&&58==W(k,h-1)){-1!=H(k+=U(pe(v),"&","&\f"),"&\f",z(u?s[u-1]:0))&&(y=-1);break}case 34:case 39:case 91:k+=pe(v);break;case 9:case 10:case 13:case 32:k+=ge(p);break;case 92:k+=me(ue()-1,7);continue;case 47:switch(le()){case 42:case 47:X(ke(ve(se(),ue()),t,r,l),l),5!=he(p||1)&&5!=he(le()||1)||!V(k)||" "===G(k,-1,void 0)||(k+=" ");break;default:k+="/"}break;case 123*g:s[u++]=V(k)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+c:-1==y&&(k=U(k,/\f/g,"")),f>0&&(V(k)-h||0===g&&47===p)&&X(f>32?Ee(k+";",n,r,h-1,l):Ee(U(k," ","")+";",n,r,h-2,l),l);break;case 59:k+=";";default:if(X(D=De(k,t,r,u,c,i,s,b,x=[],w=[],h,a),a),123===v)if(0===c)we(k,t,D,D,x,a,h,s,w);else switch(99===d&&110===W(k,3)?100:d){case 100:case 108:case 109:case 115:we(e,D,D,n&&X(De(e,D,D,0,0,i,s,b,i,x=[],h,w),w),i,w,h,s,n?x:w);break;default:we(k,D,D,D,[""],w,0,s,w)}}u=c=f=0,g=y=1,b=k="",h=o;break;case 58:h=1+V(k),f=p;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==(ne=re>0?W(ie,--re):0,ee--,10===ne&&(ee=1,J--),ne))continue;switch(k+=$(v),v*g){case 38:y=c>0?1:(k+="\f",-1);break;case 44:s[u++]=(V(k)-1)*y,y=1;break;case 64:45===le()&&(k+=pe(se())),d=le(),c=h=V(b=k+=be(ue())),v++;break;case 45:45===p&&2==V(k)&&(g=0)}}return a}function De(e,t,r,n,i,a,o,s,l,u,c,h){for(var d=i-1,f=0===i?a:[""],p=Y(f),g=0,m=0,y=0;g<n;++g)for(var v=0,b=G(e,d+1,d=z(m=o[g])),x=e;v<p;++v)(x=K(m>0?f[v]+" "+b:U(b,/&\f/g,f[v])))&&(l[y++]=x);return ae(e,t,r,0===i?R:s,l,u,c,h)}function ke(e,t,r,n){return ae(e,t,r,I,$(ne),G(e,2,-2),0,n)}function Ee(e,t,r,n,i){return ae(e,t,r,M,G(e,0,n),G(e,n+1,-1),n,i)}function Ae(e){var t=Y(e);return function(r,n,i,a){for(var o="",s=0;s<t;s++)o+=e[s](r,n,i,a)||"";return o}}function Ce(e){return function(t){t.root||(t=t.return)&&e(t)}}var _e=e=>{if(e.type===R){if("string"==typeof e.props)return;e.props=e.props.map((e=>-1===e.indexOf(":global(")?e:function(e){return fe(function(e){for(;se();)switch(he(ne)){case 0:X(be(re-1),e);break;case 2:X(pe(ne),e);break;default:X($(ne),e)}return e}(de(e)))}(e).reduce(((e,t,r,n)=>{if(""===t)return e;if(":"===t&&"global"===n[r+1]){var i=n[r+2].slice(1,-1)+" ";return e.unshift(i),n[r+1]="",n[r+2]="",e}return e.push(t),e}),[]).join("")))}};function Te(e,t,r){switch(function(e,t){return 45^W(e,0)?(((t<<2^W(e,0))<<2^W(e,1))<<2^W(e,2))<<2^W(e,3):0}(e,t)){case 5103:return L+"print-"+e+e;case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:return L+e+e;case 4215:if(102===W(e,9))return L+e+e;if(116===W(e,t+1))return L+e+e;break;case 4789:return N+e+e;case 5349:case 4246:case 6968:return L+e+N+e+e;case 6187:if(!q(e,/grab/))return U(U(U(e,/(zoom-|grab)/,L+"$1"),/(image-set)/,L+"$1"),e,"")+e;case 5495:case 3959:return U(e,/(image-set\([^]*)/,L+"$1$`$1");case 4095:case 3583:case 4068:case 2532:return U(e,/(.+)-inline(.+)/,L+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(V(e)-1-t>6)switch(W(e,t+1)){case 102:if(108===W(e,t+3))return U(e,/(.+:)(.+)-([^]+)/,"$1"+L+"$2-$3$1"+N+(108==W(e,t+3)?"$3":"$2-$3"))+e;case 115:return~H(e,"stretch")?Te(U(e,"stretch","fill-available"),t)+e:e}}return e}function Se(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case M:return void(e.return=Te(e.value,e.length));case R:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(q(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Z([oe(e,{props:[U(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return Z([oe(e,{props:[U(t,/:(plac\w+)/,":"+L+"input-$1")]}),oe(e,{props:[U(t,/:(plac\w+)/,":-moz-$1")]})],n)}return""}))}}var Fe=e=>{(function(e){switch(e.type){case"@container":case"@media":case"@supports":case P:return!0}return!1})(e)&&Array.isArray(e.children)&&e.children.sort(((e,t)=>e.props[0]>t.props[0]?1:-1))};var Oe=/,( *[^ &])/g;function Be(e,t,r){var n=t;return r.length>0&&(n=r.reduceRight(((e,t)=>{return"".concat((r=t,"&"+B(r.replace(Oe,",&$1")))," { ").concat(e," }");var r}),t)),"".concat(e,"{").concat(n,"}")}function Ne(e,t){var r,{className:n,selectors:i,property:a,rtlClassName:o,rtlProperty:s,rtlValue:l,value:u}=e,{container:c,layer:h,media:d,supports:f}=t,p=Be(".".concat(n),Array.isArray(u)?"".concat(u.map((e=>"".concat(O(a),": ").concat(e))).join(";"),";"):"".concat(O(a),": ").concat(u,";"),i);return s&&o&&(p+=Be(".".concat(o),Array.isArray(l)?"".concat(l.map((e=>"".concat(O(s),": ").concat(e))).join(";"),";"):"".concat(O(s),": ").concat(l,";"),i)),d&&(p="@media ".concat(d," { ").concat(p," }")),h&&(p="@layer ".concat(h," { ").concat(p," }")),f&&(p="@supports ".concat(f," { ").concat(p," }")),c&&(p="@container ".concat(c," { ").concat(p," }")),r=[],Z(xe(p),Ae([_e,Fe,Se,Q,Ce((e=>r.push(e)))])),r}function Le(e){var t="";for(var r in e){var n=e[r];if("string"!=typeof n&&"number"!=typeof n){if(Array.isArray(n))for(var i of n)t+=O(r)+":"+i+";"}else t+=O(r)+":"+n+";"}return t}function Ie(e){var t="";for(var r in e)t+="".concat(r,"{").concat(Le(e[r]),"}");return t}function Re(e,t){var r="@keyframes ".concat(e," {").concat(t,"}"),n=[];return Z(xe(r),Ae([Q,Se,Ce((e=>n.push(e)))])),n}var Me={animation:[-1,["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimeline","animationTimingFunction"]],animationRange:[-1,["animationRangeEnd","animationRangeStart"]],background:[-2,["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPosition","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"]],backgroundPosition:[-1,["backgroundPositionX","backgroundPositionY"]],border:[-2,["borderBottom","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeft","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRight","borderRightColor","borderRightStyle","borderRightWidth","borderTop","borderTopColor","borderTopStyle","borderTopWidth"]],borderBottom:[-1,["borderBottomColor","borderBottomStyle","borderBottomWidth"]],borderImage:[-1,["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"]],borderLeft:[-1,["borderLeftColor","borderLeftStyle","borderLeftWidth"]],borderRadius:[-1,["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"]],borderRight:[-1,["borderRightColor","borderRightStyle","borderRightWidth"]],borderTop:[-1,["borderTopColor","borderTopStyle","borderTopWidth"]],caret:[-1,["caretColor","caretShape"]],columnRule:[-1,["columnRuleColor","columnRuleStyle","columnRuleWidth"]],columns:[-1,["columnCount","columnWidth"]],containIntrinsicSize:[-1,["containIntrinsicHeight","containIntrinsicWidth"]],container:[-1,["containerName","containerType"]],flex:[-1,["flexBasis","flexGrow","flexShrink"]],flexFlow:[-1,["flexDirection","flexWrap"]],font:[-1,["fontFamily","fontSize","fontStretch","fontStyle","fontVariant","fontWeight","lineHeight"]],gap:[-1,["columnGap","rowGap"]],grid:[-1,["columnGap","gridAutoColumns","gridAutoFlow","gridAutoRows","gridColumnGap","gridRowGap","gridTemplateAreas","gridTemplateColumns","gridTemplateRows","rowGap"]],gridArea:[-1,["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"]],gridColumn:[-1,["gridColumnEnd","gridColumnStart"]],gridRow:[-1,["gridRowEnd","gridRowStart"]],gridTemplate:[-1,["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"]],inset:[-1,["bottom","left","right","top"]],insetBlock:[-1,["insetBlockEnd","insetBlockStart"]],insetInline:[-1,["insetInlineEnd","insetInlineStart"]],listStyle:[-1,["listStyleImage","listStylePosition","listStyleType"]],margin:[-1,["marginBottom","marginLeft","marginRight","marginTop"]],marginBlock:[-1,["marginBlockEnd","marginBlockStart"]],marginInline:[-1,["marginInlineEnd","marginInlineStart"]],mask:[-1,["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPosition","maskRepeat","maskSize"]],maskBorder:[-1,["maskBorderMode","maskBorderOutset","maskBorderRepeat","maskBorderSlice","maskBorderSource","maskBorderWidth"]],offset:[-1,["offsetAnchor","offsetDistance","offsetPath","offsetPosition","offsetRotate"]],outline:[-1,["outlineColor","outlineStyle","outlineWidth"]],overflow:[-1,["overflowX","overflowY"]],overscrollBehavior:[-1,["overscrollBehaviorX","overscrollBehaviorY"]],padding:[-1,["paddingBottom","paddingLeft","paddingRight","paddingTop"]],paddingBlock:[-1,["paddingBlockEnd","paddingBlockStart"]],paddingInline:[-1,["paddingInlineEnd","paddingInlineStart"]],placeContent:[-1,["alignContent","justifyContent"]],placeItems:[-1,["alignItems","justifyItems"]],placeSelf:[-1,["alignSelf","justifySelf"]],scrollMargin:[-1,["scrollMarginBottom","scrollMarginLeft","scrollMarginRight","scrollMarginTop"]],scrollMarginBlock:[-1,["scrollMarginBlockEnd","scrollMarginBlockStart"]],scrollMarginInline:[-1,["scrollMarginInlineEnd","scrollMarginInlineStart"]],scrollPadding:[-1,["scrollPaddingBottom","scrollPaddingLeft","scrollPaddingRight","scrollPaddingTop"]],scrollPaddingBlock:[-1,["scrollPaddingBlockEnd","scrollPaddingBlockStart"]],scrollPaddingInline:[-1,["scrollPaddingInlineEnd","scrollPaddingInlineStart"]],scrollTimeline:[-1,["scrollTimelineAxis","scrollTimelineName"]],textDecoration:[-1,["textDecorationColor","textDecorationLine","textDecorationStyle","textDecorationThickness"]],textEmphasis:[-1,["textEmphasisColor","textEmphasisStyle"]],transition:[-1,["transitionBehavior","transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"]],viewTimeline:[-1,["viewTimelineAxis","viewTimelineName"]]};function Pe(e,t){return 0===e.length?t:"".concat(e," and ").concat(t)}var ze=/^(:|\[|>|&)/,$e={"us-w":"w","us-v":"i",nk:"l",si:"v",cu:"f",ve:"h",ti:"a"};function je(e,t){if(t.media)return"m";if(t.layer||t.supports)return"t";if(t.container)return"c";if(e.length>0){var r=e[0].trim();if(58===r.charCodeAt(0))return $e[r.slice(4,8)]||$e[r.slice(3,5)]||"d"}return"d"}function Ke(e,t){return e?t+e:e}function qe(e){return Ke(e.container,"c")+Ke(e.media,"m")+Ke(e.layer,"l")+Ke(e.supports,"s")}function Ue(e,t,r){var i=n(e+qe(r)+t),a=i.charCodeAt(0);return a>=48&&a<=57?String.fromCharCode(a+17)+i.slice(1):i}function He(e,t){var{property:r,selector:i,salt:a,value:o}=e;return"f"+n(a+i+qe(t)+r+o.trim())}function We(e){return e.replace(/>\s+/g,">")}function Ge(e){return Me[e]}function Ve(e){var t;return null!==(t=null==e?void 0:e[0])&&void 0!==t?t:0}function Ye(e,t,r,n){e[t]=n?[r,n]:r}function Xe(e,t){return t.length>0?[e,Object.fromEntries(t)]:e}function Ze(e,t,r,n,i,a){var o,s=[];0!==a&&s.push(["p",a]),"m"===t&&i&&s.push(["m",i]),null!==(o=e[t])&&void 0!==o||(e[t]=[]),r&&e[t].push(Xe(r,s)),n&&e[t].push(Xe(n,s))}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{container:"",layer:"",media:"",supports:""},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6?arguments[6]:void 0,l=function(l){if(A.hasOwnProperty(l))return e[l],0;var u,c=e[l];if(null==c)return 0;if(function(e){return e===C}(c)){var h=Ue(We(r.join("")),l,i);return Ye(a,h,0,void 0),0}if("string"==typeof c||"number"==typeof c){var d=We(r.join("")),f=Ge(l);if(f){var p=f[1],g=Object.fromEntries(p.map((e=>[e,C])));Qe(g,t,r,i,a,o)}var m=Ue(d,l,i),y=He({value:c.toString(),salt:t,selector:d,property:l},i),x=s&&{key:l,value:s}||b(l,c),w=x.key!==l||x.value!==c,D=w?He({value:x.value.toString(),property:x.key,salt:t,selector:d},i):void 0,k=w?{rtlClassName:D,rtlProperty:x.key,rtlValue:x.value}:void 0,E=je(r,i),[_,T]=Ne(Object.assign({className:y,selectors:r,property:l,value:c},k),i);Ye(a,m,y,D),Ze(o,E,_,T,i.media,Ve(f))}else if("animationName"===l){var S=Array.isArray(c)?c:[c],F=[],O=[];for(var N of S){var L=Ie(N),I=Ie(v(N)),R="f"+n(L),M=void 0,P=Re(R,L),z=[];L===I?M=R:z=Re(M="f"+n(I),I);for(var $=0;$<P.length;$++)Ze(o,"k",P[$],z[$],i.media,0);F.push(R),O.push(M)}Qe({animationName:F.join(", ")},t,r,i,a,o,O.join(", "))}else if(Array.isArray(c)){if(0===c.length)return 0;var j=We(r.join("")),K=Ge(l);if(K){var q=K[1],U=Object.fromEntries(q.map((e=>[e,C])));Qe(U,t,r,i,a,o)}var H=Ue(j,l,i),W=He({value:c.map((e=>(null!=e?e:"").toString())).join(";"),salt:t,selector:j,property:l},i),G=c.map((e=>b(l,e)));if(G.some((e=>e.key!==G[0].key)))return 0;var V=G[0].key!==l||G.some(((e,t)=>e.value!==c[t])),Y=V?He({value:G.map((e=>{var t;return(null!==(t=null==e?void 0:e.value)&&void 0!==t?t:"").toString()})).join(";"),salt:t,property:G[0].key,selector:j},i):void 0,X=V?{rtlClassName:Y,rtlProperty:G[0].key,rtlValue:G.map((e=>e.value))}:void 0,Z=je(r,i),[Q,J]=Ne(Object.assign({className:W,selectors:r,property:l,value:c},X),i);Ye(a,H,W,Y),Ze(o,Z,Q,J,i.media,Ve(K))}else if(null!=(u=c)&&"object"==typeof u&&!1===Array.isArray(u))if(function(e){return ze.test(e)}(l))Qe(c,t,r.concat(B(l)),i,a,o);else if(function(e){return"@media"===e.substr(0,6)}(l)){var ee=Pe(i.media,l.slice(6).trim());Qe(c,t,r,Object.assign({},i,{media:ee}),a,o)}else if(function(e){return"@layer"===e.substr(0,6)}(l)){var te=(i.layer?"".concat(i.layer,"."):"")+l.slice(6).trim();Qe(c,t,r,Object.assign({},i,{layer:te}),a,o)}else if(function(e){return"@supports"===e.substr(0,9)}(l)){var re=Pe(i.supports,l.slice(9).trim());Qe(c,t,r,Object.assign({},i,{supports:re}),a,o)}else if(function(e){return"@container"===e.substring(0,10)}(l)){var ne=l.slice(10).trim();Qe(c,t,r,Object.assign({},i,{container:ne}),a,o)}};for(var u in e)l(u);return[a,o]}function Je(e,t){return"___"+function(e){var t=e.length;if(7===t)return e;for(var r=t;r<7;r++)e+="0";return e}(n(e+t))}function et(e,t){var r="",n="";for(var i in e){var a=e[i];if(0!==a){var o=Array.isArray(a),s="rtl"===t?(o?a[1]:a)+" ":(o?a[0]:a)+" ";r+=s,n+=s}else n+=i+" "}return[r.slice(0,-1),n.slice(0,-1)]}function tt(e,t){var r={};for(var n in e){var[i,a]=et(e[n],t);if(""!==a){var o=Je(a,t),s=o+(""===i?"":" "+i);k[o]=[e[n],t],r[n]=s}else r[n]=""}return r}function rt(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:r)(),n=null,i=null,a=null,o=null;return function(r){var{dir:s,renderer:l}=r;null===n&&([n,i]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={},n={},i=function(){var i=e[a],[o,s]=Qe(i,t);r[a]=o,Object.keys(s).forEach((e=>{n[e]=(n[e]||[]).concat(s[e])}))};for(var a in e)i();return[r,n]}(e,l.classNameHashSalt));var u="ltr"===s;return u?null===a&&(a=tt(n,s)):null===o&&(o=tt(n,s)),t(l,i),u?a:o}}var nt=t.useInsertionEffect?t.useInsertionEffect:void 0,it=()=>{var e={};return function(t,r){nt&&"undefined"!=typeof window&&window.document&&window.document.createElement?nt((()=>{t.insertCSSRules(r)}),[t,r]):void 0===e[t.id]&&(t.insertCSSRules(r),e[t.id]=!0)}};var at=["r","d","l","v","w","f","i","h","a","s","k","t","m","c"].reduce(((e,t,r)=>(e[t]=r,e)),{});function ot(e,t,r,n){var i,a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s="m"===e,l=null!==(i=o.m)&&void 0!==i?i:"0",u=null!==(a=o.p)&&void 0!==a?a:0,c=function(e,t,r){return("m"===e?e+t:e)+r}(e,l,u);if(!n.stylesheets[c]){var h=t&&t.createElement("style"),d=function(e,t,r,n){var i=[];if(n[E]=t,n["data-priority"]=String(r),e)for(var a in n)e.setAttribute(a,n[a]);return{elementAttributes:n,insertRule:function(t){return(null==e?void 0:e.sheet)?e.sheet.insertRule(t,e.sheet.cssRules.length):i.push(t)},element:e,bucketName:t,cssRules:()=>(null==e?void 0:e.sheet)?Array.from(e.sheet.cssRules).map((e=>e.cssText)):i}}(h,e,u,Object.assign({},n.styleElementAttributes,s&&{media:l}));n.stylesheets[c]=d,t&&h&&t.head.insertBefore(h,function(e,t,r,n){var i,a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=at[r],l=null!==(i=o.m)&&void 0!==i?i:"",u=null!==(a=o.p)&&void 0!==a?a:0,c=e=>s-at[e.getAttribute(E)],h=e.head.querySelectorAll("[".concat(E,"]"));if("m"===r){var d=e.head.querySelectorAll("[".concat(E,'="').concat(r,'"]'));d.length&&(h=d,c=e=>n.compareMediaQueries(l,e.media))}for(var f,p=h.length,g=p-1;g>=0;){var m=h.item(g);if((function(e,t,r){var n,i;return t+(null!==(n=r.m)&&void 0!==n?n:"")===e.getAttribute(E)+(null!==(i=e.media)&&void 0!==i?i:"")}(f=m,r,o)?u-Number(f.getAttribute("data-priority")):c(f))>0)return m.nextSibling;g--}return p>0?h.item(0):t?t.nextSibling:null}(t,r,e,n,o))}return n.stylesheets[c]}function st(e,t){try{e.insertRule(t)}catch(e){}}":(".concat(["-moz-placeholder","-moz-focus-inner","-moz-focusring","-ms-input-placeholder","-moz-read-write","-moz-read-only"].join("|"),")");var lt=0,ut=(e,t)=>e<t?-1:e>t?1:0;function ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof document?void 0:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{classNameHashSalt:r,unstable_filterCSSRule:n,insertionPoint:i,styleElementAttributes:a,compareMediaQueries:o=ut}=t,s={classNameHashSalt:r,insertionCache:{},stylesheets:{},styleElementAttributes:Object.freeze(a),compareMediaQueries:o,id:"d".concat(lt++),insertCSSRules(t){for(var r in t)for(var a=t[r],o=0,l=a.length;o<l;o++){var[u,c]=(d=a[o],Array.isArray(d)?d:[d]),h=ot(r,e,i||null,s,c);s.insertionCache[u]||(s.insertionCache[u]=r,n?n(u)&&st(h,u):st(h,u))}var d}};return s}var ht=e.createContext(ct());function dt(){return e.useContext(ht)}var ft=e.createContext("ltr");function pt(){return e.useContext(ft)}function gt(e){var t=rt(e,it);return function(){var e=pt(),r=dt();return t({dir:e,renderer:r})}}var mt="var(--colorBrandForeground1)",yt="var(--colorNeutralStroke1)";function vt(){return"undefined"!=typeof window&&!(!window.document||!window.document.createElement)}var bt={current:0},xt=e.createContext(void 0);function wt(){var t;return null!==(t=e.useContext(xt))&&void 0!==t?t:bt}var Dt=e.createContext(void 0);function kt(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fui-",n=arguments.length>1?arguments[1]:void 0,i=wt(),a=e.useContext(Dt)||"",o=t.useId;if(o){var s=o(),l=e.useMemo((()=>s.replace(/:/g,"")),[s]);return n||"".concat(a).concat(r).concat(l)}return e.useMemo((()=>n||"".concat(a).concat(r).concat(++i.current)),[a,r,n,i])}Dt.Provider;var Et=Symbol.for("fui.slotRenderFunction"),At=Symbol.for("fui.slotElementType");function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){Tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tt(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function St(t,r){var{defaultProps:n,elementType:i}=r,a=function(t){return"string"==typeof t||"number"==typeof t||Array.isArray(t)||e.isValidElement(t)?{children:t}:t}(t),o=_t(_t(_t({},n),a),{},{[At]:i});return a&&"function"==typeof a.children&&(o[Et]=a.children,o.children=null==n?void 0:n.children),o}function Ft(e,t){if(null!==e&&(void 0!==e||t.renderByDefault))return St(e,t)}var Ot=function(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var i of r){var a=Array.isArray(i)?i:Object.keys(i);for(var o of a)e[o]=1}return e},Bt=Ot(["onAuxClick","onAnimationEnd","onAnimationStart","onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onInput","onSubmit","onLoad","onError","onKeyDown","onKeyDownCapture","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onClickCapture","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseUpCapture","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onScroll","onWheel","onPointerCancel","onPointerDown","onPointerEnter","onPointerLeave","onPointerMove","onPointerOut","onPointerOver","onPointerUp","onGotPointerCapture","onLostPointerCapture"]),Nt=Ot(["accessKey","children","className","contentEditable","dir","draggable","hidden","htmlFor","id","lang","ref","role","style","tabIndex","title","translate","spellCheck","name"]),Lt=Ot(["itemID","itemProp","itemRef","itemScope","itemType"]),It=Ot(Nt,Bt,Lt),Rt=Ot(It,["form"]),Mt=Ot(It,["height","loop","muted","preload","src","width"]),Pt=Ot(Mt,["poster"]),zt=Ot(It,["start"]),$t=Ot(It,["value"]),jt=Ot(It,["download","href","hrefLang","media","rel","target","type"]),Kt=Ot(It,["dateTime"]),qt=Ot(It,["autoFocus","disabled","form","formAction","formEncType","formMethod","formNoValidate","formTarget","type","value"]),Ut={label:Rt,audio:Mt,video:Pt,ol:zt,li:$t,a:jt,button:qt,input:Ot(qt,["accept","alt","autoCapitalize","autoComplete","checked","dirname","form","height","inputMode","list","max","maxLength","min","multiple","pattern","placeholder","readOnly","required","src","step","size","type","value","width"]),textarea:Ot(qt,["autoCapitalize","cols","dirname","form","maxLength","placeholder","readOnly","required","rows","wrap"]),select:Ot(qt,["form","multiple","required"]),option:Ot(It,["selected","value"]),table:Ot(It,["cellPadding","cellSpacing"]),tr:It,th:Ot(It,["colSpan","rowSpan","scope"]),td:Ot(It,["colSpan","headers","rowSpan","scope"]),colGroup:Ot(It,["span"]),col:Ot(It,["span"]),fieldset:Ot(It,["disabled","form"]),form:Ot(It,["acceptCharset","action","encType","encType","method","noValidate","target"]),iframe:Ot(It,["allow","allowFullScreen","allowPaymentRequest","allowTransparency","csp","height","importance","referrerPolicy","sandbox","src","srcDoc","width"]),img:Ot(It,["alt","crossOrigin","height","src","srcSet","useMap","width"]),time:Kt,dialog:Ot(It,["open","onCancel","onClose"])};function Ht(e,t,r){var n=e&&Ut[e]||It;return n.as=1,function(e,t,r){var n=Array.isArray(t),i={},a=Object.keys(e);for(var o of a)!(!n&&t[o]||n&&t.indexOf(o)>=0||0===o.indexOf("data-")||0===o.indexOf("aria-"))||r&&-1!==(null==r?void 0:r.indexOf(o))||(i[o]=e[o]);return i}(t,n,r)}var Wt=e=>{var{primarySlotTagName:t,props:r,excludedPropNames:n}=e;return{root:{style:r.style,className:r.className},primary:Ht(t,r,[...n||[],"style","className"])}},Gt=(e,t,r)=>{var n;return Ht(null!==(n=t.as)&&void 0!==n?n:e,t,r)},Vt=e.createContext(void 0),Yt={targetDocument:"object"==typeof document?document:void 0,dir:"ltr"};function Xt(){var t;return null!==(t=e.useContext(Vt))&&void 0!==t?t:Yt}Vt.Provider;var Zt=e=>-1,Qt=e=>{};function Jt(){var t,r,n,i,a,{targetDocument:o}=Xt(),s=null==o?void 0:o.defaultView,l=s?s.setTimeout:Zt,u=s?s.clearTimeout:Qt;return t=l,r=u,n=e.useRef(void 0),i=e.useCallback(((e,i)=>(void 0!==n.current&&r(n.current),n.current=t(e,i),n.current)),[r,t]),a=e.useCallback((()=>{void 0!==n.current&&(r(n.current),n.current=void 0)}),[r]),e.useEffect((()=>a),[a]),[i,a]}function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){rr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rr(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nr(e){return Boolean(null==e?void 0:e.hasOwnProperty(At))}function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function or(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sr=i(4176);function lr(e,t){return function(r,n,i,a,o){return nr(n)?t(function(e,t){return ar(ar({},t),{},{[At]:e})}(r,n),null,i,a,o):nr(r)?t(r,n,i,a,o):e(r,n,i,a,o)}}function ur(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function cr(e){var{as:t,[At]:r,[Et]:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["as",At,Et].map(ur)),a="string"==typeof r&&null!=t?t:r;return"string"!=typeof a&&t&&(i.as=t),{elementType:a,props:i,renderFunction:n}}var hr=i(8809),dr=i.t(hr,2);function fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(r),!0).forEach((function(t){gr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gr(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){vr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vr(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var br=lr(dr.jsx,((t,r,n)=>{var{elementType:i,renderFunction:a,props:o}=cr(t),s=pr(pr({},o),r);return a?dr.jsx(e.Fragment,{children:a(i,s)},n):dr.jsx(i,s,n)})),xr=lr(dr.jsxs,((t,r,n)=>{var{elementType:i,renderFunction:a,props:o}=cr(t),s=yr(yr({},o),r);return a?dr.jsx(e.Fragment,{children:a(i,yr(yr({},s),{},{children:dr.jsxs(e.Fragment,{children:s.children},void 0)}))},n):dr.jsxs(i,s,n)}));function wr(e,t){var n=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:r)(),i=null,a=null;return function(r){var{dir:o,renderer:s}=r,l="ltr"===o;return l?null===i&&(i=tt(e,o)):null===a&&(a=tt(e,o)),n(s,t),l?i:a}}(e,t,it);return function(){var e=pt(),t=dt();return n({dir:e,renderer:t})}}var Dr={};function kr(){for(var e=arguments,t=null,r="",n="",i=new Array(arguments.length),a=function(){var t=e[o];if("string"==typeof t&&""!==t){var a=t.indexOf("___");if(-1===a)r+=t+" ";else{var s=t.substr(a,10);a>0&&(r+=t.slice(0,a)),n+=s,i[o]=s}}},o=0;o<arguments.length;o++)a();if(""===n)return r.slice(0,-1);var s=Dr[n];if(void 0!==s)return r+s;for(var l=[],u=0;u<arguments.length;u++){var c=i[u];if(c){var h=k[c];h&&(l.push(h[0]),t=h[1])}}var d=Object.assign.apply(Object,[{}].concat(l)),[f,p]=et(d,t),g=Je(p,t),m=g+" "+f;return Dr[n]=m,k[g]=[d,t],r+m}var Er=wr({root:{Bahqtrf:"fk6fouc",sj55zd:"f19n0e5"},disabled:{sj55zd:"f1s2aq7o",Bbusuzp:"f1dcs8yz"},required:{sj55zd:"f1whyuy6",uwmqm3:["fruq291","f7x41pl"]},small:{Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm"},medium:{Be2twd7:"fkhj508",Bg96gwp:"f1i3iumi"},large:{Be2twd7:"fod5ikn",Bg96gwp:"faaz57k",Bhrd7zp:"fl43uef"},semibold:{Bhrd7zp:"fl43uef"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1whyuy6{color:var(--colorPaletteRedForeground3);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fkhj508{font-size:var(--fontSizeBase300);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),Ar=e.createContext(void 0),Cr=()=>{},_r=(Ar.Provider,t=>{var r,n;return null!==(n=null===(r=e.useContext(Ar))||void 0===r?void 0:r[t])&&void 0!==n?n:Cr}),Tr=e.forwardRef(((e,t)=>{var r=((e,t)=>{var{disabled:r=!1,required:n=!1,weight:i="regular",size:a="medium"}=e;return{disabled:r,required:Ft(!0===n?"*":n||void 0,{defaultProps:{"aria-hidden":"true"},elementType:"span"}),weight:i,size:a,components:{root:"label",required:"span"},root:St(Gt("label",tr({ref:t},e)),{elementType:"label"})}})(e,t);return(e=>{var t=Er();e.root.className=kr("fui-Label",t.root,e.disabled&&t.disabled,t[e.size],"semibold"===e.weight&&t.semibold,e.root.className),e.required&&(e.required.className=kr("fui-Label__required",t.required,e.disabled&&t.disabled,e.required.className))})(r),_r("useLabelStyles_unstable")(r),(e=>xr(e.root,{children:[e.root.children,e.required&&br(e.required,{})]}))(r)}));Tr.displayName="Label";var Sr=e.createContext(void 0),Fr={},Or=(Sr.Provider,["role"]);function Br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nr(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lr(e,t,n){var i=function(e,t,n){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:r)();return function(r){var{dir:a,renderer:o}=r,s="ltr"===a?e:t||e;return i(o,Array.isArray(n)?{r:n}:n),s}}(e,t,n,it);return function(){var e=pt(),t=dt();return i({dir:e,renderer:t})}}var Ir=Lr("r82apo5",null,[".r82apo5{display:flex;align-items:center;justify-content:center;line-height:0;gap:8px;overflow:hidden;}"]),Rr=wr({vertical:{Beiy3e4:"f1vx9l62"}},{d:[".f1vx9l62{flex-direction:column;}"]}),Mr=Lr("rvgcg50","r15nd2jo",{r:[".rvgcg50{position:relative;flex-shrink:0;-webkit-mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);background-color:var(--colorBrandStroke2Contrast);color:var(--colorBrandStroke1);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:rb7n1on;}","@keyframes rb7n1on{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}",".r15nd2jo{position:relative;flex-shrink:0;-webkit-mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);mask-image:radial-gradient(closest-side, transparent calc(100% - var(--fui-Spinner--strokeWidth) - 1px), white calc(100% - var(--fui-Spinner--strokeWidth)) calc(100% - 1px), transparent 100%);background-color:var(--colorBrandStroke2Contrast);color:var(--colorBrandStroke1);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:r1gx3jof;}","@keyframes r1gx3jof{0%{transform:rotate(0deg);}100%{transform:rotate(-360deg);}}"],s:["@media screen and (forced-colors: active){.rvgcg50{background-color:HighlightText;color:Highlight;forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.rvgcg50{animation-duration:1.8s;}}","@media screen and (forced-colors: active){.r15nd2jo{background-color:HighlightText;color:Highlight;forced-color-adjust:none;}}","@media screen and (prefers-reduced-motion: reduce){.r15nd2jo{animation-duration:1.8s;}}"]}),Pr=Lr("rxov3xa","r1o544mv",{r:[".rxov3xa{position:absolute;display:block;width:100%;height:100%;-webkit-mask-image:conic-gradient(transparent 105deg, white 105deg);mask-image:conic-gradient(transparent 105deg, white 105deg);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:var(--curveEasyEase);animation-name:r15mim6k;}",'.rxov3xa::before,.rxov3xa::after{content:"";position:absolute;display:block;width:100%;height:100%;animation:inherit;background-image:conic-gradient(currentcolor 135deg, transparent 135deg);}',"@keyframes r15mim6k{0%{transform:rotate(-135deg);}50%{transform:rotate(0deg);}100%{transform:rotate(225deg);}}",".rxov3xa::before{animation-name:r18vhmn8;}","@keyframes r18vhmn8{0%{transform:rotate(0deg);}50%{transform:rotate(105deg);}100%{transform:rotate(0deg);}}",".rxov3xa::after{animation-name:rkgrvoi;}","@keyframes rkgrvoi{0%{transform:rotate(0deg);}50%{transform:rotate(225deg);}100%{transform:rotate(0deg);}}",".r1o544mv{position:absolute;display:block;width:100%;height:100%;-webkit-mask-image:conic-gradient(transparent 105deg, white 105deg);mask-image:conic-gradient(transparent 105deg, white 105deg);animation-duration:1.5s;animation-iteration-count:infinite;animation-timing-function:var(--curveEasyEase);animation-name:r109gmi5;}",'.r1o544mv::before,.r1o544mv::after{content:"";position:absolute;display:block;width:100%;height:100%;animation:inherit;background-image:conic-gradient(currentcolor 135deg, transparent 135deg);}',"@keyframes r109gmi5{0%{transform:rotate(135deg);}50%{transform:rotate(0deg);}100%{transform:rotate(-225deg);}}",".r1o544mv::before{animation-name:r17whflh;}","@keyframes r17whflh{0%{transform:rotate(0deg);}50%{transform:rotate(-105deg);}100%{transform:rotate(0deg);}}",".r1o544mv::after{animation-name:re4odhl;}","@keyframes re4odhl{0%{transform:rotate(0deg);}50%{transform:rotate(-225deg);}100%{transform:rotate(0deg);}}"],s:["@media screen and (prefers-reduced-motion: reduce){.rxov3xa{animation-iteration-count:0;background-image:conic-gradient(transparent 120deg, currentcolor 360deg);}.rxov3xa::before,.rxov3xa::after{content:none;}}","@media screen and (prefers-reduced-motion: reduce){.r1o544mv{animation-iteration-count:0;background-image:conic-gradient(transparent 120deg, currentcolor 360deg);}.r1o544mv::before,.r1o544mv::after{content:none;}}"]}),zr=wr({inverted:{De3pzq:"fr407j0",sj55zd:"f1f7voed"},rtlTail:{btxmck:"f179dep3",gb5jj2:"fbz9ihp",Br2kee7:"f1wkkxo7"},"extra-tiny":{Bqenvij:"fd461yt",a9b677:"fjw5fx7",qmp6fs:"f1v3ph3m"},tiny:{Bqenvij:"fjamq6b",a9b677:"f64fuq3",qmp6fs:"f1v3ph3m"},"extra-small":{Bqenvij:"frvgh55",a9b677:"fq4mcun",qmp6fs:"f1v3ph3m"},small:{Bqenvij:"fxldao9",a9b677:"f1w9dchk",qmp6fs:"f1v3ph3m"},medium:{Bqenvij:"f1d2rq10",a9b677:"f1szoe96",qmp6fs:"fb52u90"},large:{Bqenvij:"f8ljn23",a9b677:"fpdz1er",qmp6fs:"fb52u90"},"extra-large":{Bqenvij:"fbhnoac",a9b677:"feqmc2u",qmp6fs:"fb52u90"},huge:{Bqenvij:"f1ft4266",a9b677:"fksc0bp",qmp6fs:"fa3u9ii"}},{d:[".fr407j0{background-color:var(--colorNeutralStrokeAlpha2);}",".f1f7voed{color:var(--colorNeutralStrokeOnBrand2);}",".f179dep3{-webkit-mask-image:conic-gradient(white 255deg, transparent 255deg);mask-image:conic-gradient(white 255deg, transparent 255deg);}",".fbz9ihp::before,.fbz9ihp::after{background-image:conic-gradient(transparent 225deg, currentcolor 225deg);}",".fd461yt{height:16px;}",".fjw5fx7{width:16px;}",".f1v3ph3m{--fui-Spinner--strokeWidth:var(--strokeWidthThick);}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".fxldao9{height:28px;}",".f1w9dchk{width:28px;}",".f1d2rq10{height:32px;}",".f1szoe96{width:32px;}",".fb52u90{--fui-Spinner--strokeWidth:var(--strokeWidthThicker);}",".f8ljn23{height:36px;}",".fpdz1er{width:36px;}",".fbhnoac{height:40px;}",".feqmc2u{width:40px;}",".f1ft4266{height:44px;}",".fksc0bp{width:44px;}",".fa3u9ii{--fui-Spinner--strokeWidth:var(--strokeWidthThickest);}"],m:[["@media screen and (prefers-reduced-motion: reduce){.f1wkkxo7{background-image:conic-gradient(currentcolor 0deg, transparent 240deg);}}",{m:"screen and (prefers-reduced-motion: reduce)"}]]}),$r=wr({inverted:{sj55zd:"fonrgv7"},"extra-tiny":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},tiny:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},"extra-small":{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},small:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},large:{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},"extra-large":{Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},huge:{Bahqtrf:"fk6fouc",Be2twd7:"f1pp30po",Bhrd7zp:"fl43uef",Bg96gwp:"f106mvju"}},{d:[".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".f1pp30po{font-size:var(--fontSizeBase500);}",".f106mvju{line-height:var(--lineHeightBase500);}"]}),jr=e.forwardRef(((t,r)=>{var n=((t,r)=>{var n,{size:i}=null!==(n=e.useContext(Sr))&&void 0!==n?n:Fr,{appearance:a="primary",labelPosition:o="after",size:s=(null!=i?i:"medium"),delay:l=0}=t,u=kt("spinner"),{role:c="progressbar"}=t,h=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,Or),d=St(Gt("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(r),!0).forEach((function(t){Nr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ref:r,role:c},h),["size"]),{elementType:"div"}),[f,p]=e.useState(!1),[g,m]=Jt();e.useEffect((()=>{if(!(l<=0))return g((()=>{p(!0)}),l),()=>{m()}}),[g,m,l]);var y=Ft(t.label,{defaultProps:{id:u},renderByDefault:!1,elementType:Tr}),v=Ft(t.spinner,{renderByDefault:!0,elementType:"span"});return y&&d&&!d["aria-labelledby"]&&(d["aria-labelledby"]=y.id),{appearance:a,delay:l,labelPosition:o,size:s,shouldRenderSpinner:!l||f,components:{root:"div",spinner:"span",spinnerTail:"span",label:Tr},root:d,spinner:v,spinnerTail:St(t.spinnerTail,{elementType:"span"}),label:y}})(t,r);return(e=>{var{labelPosition:t,size:r,appearance:n}=e,{dir:i}=Xt(),a=Ir(),o=Rr(),s=Mr(),l=zr(),u=Pr(),c=$r();e.root.className=kr("fui-Spinner",a,("above"===t||"below"===t)&&o.vertical,e.root.className),e.spinner&&(e.spinner.className=kr("fui-Spinner__spinner",s,l[r],"inverted"===n&&l.inverted,e.spinner.className)),e.spinnerTail&&(e.spinnerTail.className=kr("fui-Spinner__spinnerTail",u,"rtl"===i&&l.rtlTail,e.spinnerTail.className)),e.label&&(e.label.className=kr("fui-Spinner__label",c[r],"inverted"===n&&c.inverted,e.label.className))})(n),_r("useSpinnerStyles_unstable")(n),(e=>{var{labelPosition:t,shouldRenderSpinner:r}=e;return xr(e.root,{children:[e.label&&r&&("above"===t||"before"===t)&&br(e.label,{}),e.spinner&&r&&br(e.spinner,{children:e.spinnerTail&&br(e.spinnerTail,{})}),e.label&&r&&("below"===t||"after"===t)&&br(e.label,{})]})})(n)}));function Kr(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=e.useCallback((e=>{for(var t of(i.current=e,r))"function"==typeof t?t(e):t&&(t.current=e)}),[...r]);return i}jr.displayName="Spinner";var qr=e.createContext(void 0),Ur=qr.Provider,Hr=e.createContext(void 0),Wr={},Gr=(Hr.Provider,["title","primaryFill"]);function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach((function(t){Xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xr(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zr=wr({root:{mc9l5x:"f1w7gpdv",Bg96gwp:"fez10in",ycbfsm:"fg4l7m0"},rtl:{Bz10aip:"f13rod7r"}},{d:[".f1w7gpdv{display:inline;}",".fez10in{line-height:0;}",".f13rod7r{-webkit-transform:scaleX(-1);-moz-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1);}"],t:["@media (forced-colors: active){.fg4l7m0{forced-color-adjust:auto;}}"]});function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(r),!0).forEach((function(t){en(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function en(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tn=(t,r,n,i)=>{var a="1em"===r?"20":r,o=e.forwardRef(((t,o)=>{var s=Jr(Jr({},((t,r)=>{var{title:n,primaryFill:i="currentColor"}=t,a=Yr(Yr({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,Gr)),{},{title:void 0,fill:i}),o=Zr(),s=e.useContext(Hr)?e.useContext(Hr):Wr;return a.className=kr(o.root,(null==r?void 0:r.flipInRtl)&&"rtl"===(null==s?void 0:s.textDirection)&&o.rtl,a.className),n&&(a["aria-label"]=n),a["aria-label"]||a["aria-labelledby"]?a.role="img":a["aria-hidden"]=!0,a})(t,{flipInRtl:null==i?void 0:i.flipInRtl})),{},{ref:o,width:r,height:r,viewBox:"0 0 ".concat(a," ").concat(a),xmlns:"http://www.w3.org/2000/svg"});return e.createElement("svg",s,...n.map((t=>e.createElement("path",{d:t,fill:s.fill}))))}));return o.displayName=t,o},rn=tn("InfoFilled","1em",["M18 10a8 8 0 1 0-16 0 8 8 0 0 0 16 0ZM9.5 8.91a.5.5 0 0 1 1 0V13.6a.5.5 0 0 1-1 0V8.9Zm-.25-2.16a.75.75 0 1 1 1.5 0 .75.75 0 0 1-1.5 0Z"]),nn=tn("WarningFilled","1em",["M8.68 2.79a1.5 1.5 0 0 1 2.64 0l6.5 12A1.5 1.5 0 0 1 16.5 17h-13a1.5 1.5 0 0 1-1.32-2.21l6.5-12ZM10.5 7.5a.5.5 0 0 0-1 0v4a.5.5 0 0 0 1 0v-4Zm.25 6.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"]),an=tn("CheckmarkCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm3.36 5.65a.5.5 0 0 0-.64-.06l-.07.06L9 11.3 7.35 9.65l-.07-.06a.5.5 0 0 0-.7.7l.07.07 2 2 .07.06c.17.11.4.11.56 0l.07-.06 4-4 .07-.08a.5.5 0 0 0-.06-.63Z"]),on=tn("CircleFilled","1em",["M10 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16Z"]),sn=tn("DismissRegular","1em",["m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),ln=tn("DismissCircleFilled","1em",["M10 2a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM7.8 7.11a.5.5 0 0 0-.63.06l-.06.07a.5.5 0 0 0 .06.64L9.3 10l-2.12 2.12-.06.07a.5.5 0 0 0 .06.64l.07.06c.2.13.47.11.64-.06L10 10.7l2.12 2.12.07.06c.2.13.46.11.64-.06l.06-.07a.5.5 0 0 0-.06-.64L10.7 10l2.12-2.12.06-.07a.5.5 0 0 0-.06-.64l-.07-.06a.5.5 0 0 0-.64.06L10 9.3 7.88 7.17l-.07-.06Z"]);function un(t){switch(t){case"info":return e.createElement(rn,null);case"warning":return e.createElement(nn,null);case"error":return e.createElement(ln,null);case"success":return e.createElement(an,null);default:return null}}var cn=vt()?e.useLayoutEffect:e.useEffect,hn=e=>{var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.defaultView;return!n||t.top>=0&&t.left>=0&&t.bottom<=(n.innerHeight||r.documentElement.clientHeight)&&t.right<=(n.innerWidth||r.documentElement.clientWidth)},dn=e.createContext(void 0),fn={className:"",nodeRef:e.createRef()};function pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(r),!0).forEach((function(t){mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mn(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}dn.Provider;var yn=(t,r)=>{var n,{layout:i="auto",intent:a="info",politeness:o,shape:s="rounded"}=t,l=(null!=o?o:"info"===a)?"polite":"assertive",u="auto"===i,{ref:c,reflowing:h}=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{targetDocument:r}=Xt(),n=e.useRef(-1),i=e.useRef(null),[a,o]=e.useState(!1);cn((()=>{i.current&&o((e=>{return!(e||!i.current||(t=i.current,!(t.scrollWidth>t.offsetWidth)&&hn(t)))||e;var t}))}),[a]);var s=e.useCallback((()=>{if(i.current){var e=i.current.getBoundingClientRect().width,t=i.current.scrollWidth,r=n.current<e;o(!r||e<t)}}),[]),l=e.useCallback((e=>{e[0].intersectionRatio<1&&o(!0)}),[]);return{ref:e.useMemo((()=>{var e=null,n=null;return a=>{if(!t||!a||!(null==r?void 0:r.defaultView))return null==e||e.disconnect(),void(null==n||n.disconnect());i.current=a;var o=r.defaultView;e=new o.ResizeObserver(s),(n=new o.IntersectionObserver(l,{threshold:1})).observe(a),e.observe(a,{box:"border-box"})}}),[s,l,t,r]),reflowing:a}}(u),d=u?h?"multiline":"singleline":i,{className:f,nodeRef:p}=null!==(n=e.useContext(dn))&&void 0!==n?n:fn,g=e.useRef(null),m=e.useRef(null),{announce:y}=function(){var t;return null!==(t=e.useContext(qr))&&void 0!==t?t:{announce:()=>{}}}(),v=kt();return e.useEffect((()=>{var e,t,r=[null===(e=m.current)||void 0===e?void 0:e.textContent,null===(t=g.current)||void 0===t?void 0:t.textContent].filter(Boolean).join(",");y(r,{polite:"polite"===l,alert:"assertive"===l})}),[m,g,y,l]),{components:{root:"div",icon:"div",bottomReflowSpacer:"div"},root:St(Gt("div",gn({ref:Kr(r,c,p),role:"group","aria-labelledby":v},t)),{elementType:"div"}),icon:Ft(t.icon,{renderByDefault:!0,elementType:"div",defaultProps:{children:un(a)}}),bottomReflowSpacer:Ft(t.bottomReflowSpacer,{renderByDefault:"multiline"===d,elementType:"div"}),layout:d,intent:a,transitionClassName:f,actionsRef:g,bodyRef:m,titleId:v,shape:s}},vn=e.createContext(void 0),bn={titleId:"",layout:"singleline",actionsRef:e.createRef(),bodyRef:e.createRef()},xn=vn.Provider,wn=()=>{var t;return null!==(t=e.useContext(vn))&&void 0!==t?t:bn},Dn=Lr("r2oyxsj","r1wuyrhw",['.r2oyxsj{white-space:nowrap;display:grid;grid-template-columns:auto 1fr auto auto;grid-template-rows:1fr;grid-template-areas:"icon body secondaryActions actions";padding-left:var(--spacingHorizontalM);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);border-radius:var(--borderRadiusMedium);align-items:center;min-height:36px;box-sizing:border-box;background-color:var(--colorNeutralBackground3);}','.r1wuyrhw{white-space:nowrap;display:grid;grid-template-columns:auto 1fr auto auto;grid-template-rows:1fr;grid-template-areas:"icon body secondaryActions actions";padding-right:var(--spacingHorizontalM);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);border-radius:var(--borderRadiusMedium);align-items:center;min-height:36px;box-sizing:border-box;background-color:var(--colorNeutralBackground3);}']),kn=Lr("r1df1z33","rivnfjc",[".r1df1z33{grid-area:icon;font-size:var(--fontSizeBase500);margin-right:var(--spacingHorizontalS);color:var(--colorNeutralForeground3);display:flex;align-items:center;}",".rivnfjc{grid-area:icon;font-size:var(--fontSizeBase500);margin-left:var(--spacingHorizontalS);color:var(--colorNeutralForeground3);display:flex;align-items:center;}"]),En=Lr("r1vx593n",null,[".r1vx593n{margin-bottom:var(--spacingVerticalS);grid-area:secondaryActions;}"]),An=wr({rootMultiline:{Huce71:"f6juhto",Bt984gj:"f1s2louj",z8tnut:"f1ngh7ph",Budl1dq:"f17g0uqy",zoa1oz:"f1w7oly7"},secondaryActionsMultiline:{Brf1p80:"f1e8xxv9",B6of3ja:"f1gaxbfw",jrapky:"fqcjy3b",t21cq0:["fibjyge","f9yszdx"]},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"}},{d:[".f6juhto{white-space:normal;}",".f1s2louj{align-items:start;}",".f1ngh7ph{padding-top:var(--spacingVerticalMNudge);}",".f17g0uqy{grid-template-columns:auto 1fr auto;}",'.f1w7oly7{grid-template-areas:"icon body actions" "secondaryActions secondaryActions secondaryActions";}',".f1e8xxv9{justify-content:end;}",".f1gaxbfw{margin-top:var(--spacingVerticalMNudge);}",".fqcjy3b{margin-bottom:var(--spacingVerticalS);}",".fibjyge{margin-right:0px;}",".f9yszdx{margin-left:0px;}",[".fokr779{border-radius:0;}",{p:-1}]]}),Cn=wr({info:{},error:{sj55zd:"f1ca9wz"},warning:{sj55zd:"f14a4cve"},success:{sj55zd:"f36rra6"}},{d:[".f1ca9wz{color:var(--colorStatusDangerForeground1);}",".f14a4cve{color:var(--colorStatusWarningForeground3);}",".f36rra6{color:var(--colorStatusSuccessForeground1);}"]}),_n=wr({info:{},error:{De3pzq:"f1eon7jj",g2u3we:"f1f8dvr7",h3c5rm:["f1g1ijmo","f1nxacbt"],B9xav0g:"fo25q1j",zhjwy3:["f1nxacbt","f1g1ijmo"]},warning:{De3pzq:"f13ftzij",g2u3we:"frd1ypx",h3c5rm:["f1gyjrma","f18qd5xz"],B9xav0g:"fqyqtrt",zhjwy3:["f18qd5xz","f1gyjrma"]},success:{De3pzq:"f64thcm",g2u3we:"f1b4u7v",h3c5rm:["f1nyd2b1","f70v3om"],B9xav0g:"fk173vo",zhjwy3:["f70v3om","f1nyd2b1"]}},{d:[".f1eon7jj{background-color:var(--colorStatusDangerBackground1);}",".f1f8dvr7{border-top-color:var(--colorStatusDangerBorder1);}",".f1g1ijmo{border-right-color:var(--colorStatusDangerBorder1);}",".f1nxacbt{border-left-color:var(--colorStatusDangerBorder1);}",".fo25q1j{border-bottom-color:var(--colorStatusDangerBorder1);}",".f13ftzij{background-color:var(--colorStatusWarningBackground1);}",".frd1ypx{border-top-color:var(--colorStatusWarningBorder1);}",".f1gyjrma{border-right-color:var(--colorStatusWarningBorder1);}",".f18qd5xz{border-left-color:var(--colorStatusWarningBorder1);}",".fqyqtrt{border-bottom-color:var(--colorStatusWarningBorder1);}",".f64thcm{background-color:var(--colorStatusSuccessBackground1);}",".f1b4u7v{border-top-color:var(--colorStatusSuccessBorder1);}",".f1nyd2b1{border-right-color:var(--colorStatusSuccessBorder1);}",".f70v3om{border-left-color:var(--colorStatusSuccessBorder1);}",".fk173vo{border-bottom-color:var(--colorStatusSuccessBorder1);}"]}),Tn=e.forwardRef(((t,r)=>{var n=yn(t,r);return(e=>{var t=Dn(),r=kn(),n=Cn(),i=_n(),a=En(),o=An();e.root.className=kr("fui-MessageBar",t,"multiline"===e.layout&&o.rootMultiline,"square"===e.shape&&o.square,i[e.intent],e.transitionClassName,e.root.className),e.icon&&(e.icon.className=kr("fui-MessageBar__icon",r,n[e.intent],e.icon.className)),e.bottomReflowSpacer&&(e.bottomReflowSpacer.className=kr("fui-MessageBar__bottomReflowSpacer",a))})(n),_r("useMessageBarStyles_unstable")(n),((e,t)=>br(xn,{value:t.messageBar,children:xr(e.root,{children:[e.icon&&br(e.icon,{}),e.root.children,e.bottomReflowSpacer&&br(e.bottomReflowSpacer,{})]})}))(n,function(t){var{layout:r,actionsRef:n,bodyRef:i,titleId:a}=t;return{messageBar:e.useMemo((()=>({layout:r,actionsRef:n,bodyRef:i,titleId:a})),[r,n,i,a])}}(n))}));function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach((function(t){On(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function On(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Tn.displayName="MessageBar";var Bn=e.createContext(void 0).Provider,Nn=Lr("rtatq2b","re2rary",[".rtatq2b{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);grid-area:body;padding-right:var(--spacingHorizontalM);}",".re2rary{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);grid-area:body;padding-left:var(--spacingHorizontalM);}"]),Ln=e.forwardRef(((t,r)=>{var n=((e,t)=>{var{bodyRef:r}=wn();return{components:{root:"div"},root:St(Gt("div",Fn({ref:Kr(t,r)},e)),{elementType:"div"})}})(t,r),i={link:e.useMemo((()=>({inline:!0})),[])};return(e=>{var t=Nn();e.root.className=kr("fui-MessageBarBody",t,e.root.className)})(n),_r("useMessageBarBodyStyles_unstable")(n),((e,t)=>br(Bn,{value:t.link,children:br(e.root,{})}))(n,i)}));function In(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?In(Object(r),!0).forEach((function(t){Mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mn(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ln.displayName="MessageBarBody";var Pn=Lr("r168xkm9",null,[".r168xkm9{font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);}",'.r168xkm9::after{content:" ";}']),zn=e.forwardRef(((e,t)=>{var r=((e,t)=>{var{titleId:r}=wn();return{components:{root:"span"},root:St(Gt("span",Rn({ref:t,id:r},e)),{elementType:"span"})}})(e,t);return(e=>{var t=Pn();e.root.className=kr("fui-MessageBarTitle",t,e.root.className)})(r),_r("useMessageBarTitleStyles_unstable")(r),(e=>br(e.root,{}))(r)}));function $n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(r),!0).forEach((function(t){Kn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kn(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}zn.displayName="MessageBarTitle";var qn=e.createContext(void 0),Un={},Hn=qn.Provider,Wn=Lr("r1t4x98y","r15utzv5",[".r1t4x98y{grid-area:secondaryActions;display:flex;column-gap:var(--spacingHorizontalM);padding-right:var(--spacingHorizontalM);}",".r15utzv5{grid-area:secondaryActions;display:flex;column-gap:var(--spacingHorizontalM);padding-left:var(--spacingHorizontalM);}"]),Gn=Lr("rgzw8nq","r13ur29z",[".rgzw8nq{grid-area:actions;padding-right:var(--spacingHorizontalM);}",".r13ur29z{grid-area:actions;padding-left:var(--spacingHorizontalM);}"]),Vn=wr({root:{Brf1p80:"f1e8xxv9",B6of3ja:"f1gaxbfw",jrapky:"fqcjy3b",t21cq0:["fibjyge","f9yszdx"],z189sj:["f1p3vkop","f8cewkv"]},noActions:{mc9l5x:"fjseox"}},{d:[".f1e8xxv9{justify-content:end;}",".f1gaxbfw{margin-top:var(--spacingVerticalMNudge);}",".fqcjy3b{margin-bottom:var(--spacingVerticalS);}",".fibjyge{margin-right:0px;}",".f9yszdx{margin-left:0px;}",".f1p3vkop{padding-right:var(--spacingVerticalM);}",".f8cewkv{padding-left:var(--spacingVerticalM);}",".fjseox{display:none;}"]}),Yn=e.forwardRef(((t,r)=>{var n=((e,t)=>{var{layout:r="singleline",actionsRef:n}=wn();return{components:{root:"div",containerAction:"div"},containerAction:Ft(e.containerAction,{renderByDefault:!1,elementType:"div"}),root:St(Gt("div",jn({ref:Kr(t,n)},e)),{elementType:"div"}),layout:r,hasActions:!!e.children}})(t,r);return(e=>{var t=Wn(),r=Gn(),n=Vn();e.root.className=kr("fui-MessageBarActions",t,"multiline"===e.layout&&n.root,!e.hasActions&&n.noActions,e.root.className),e.containerAction&&(e.containerAction.className=kr("fui-MessageBarActions__containerAction",r,e.containerAction.className))})(n),_r("useMessageBarActionsStyles_unstable")(n),((e,t)=>"multiline"===e.layout?xr(Hn,{value:t.button,children:[e.containerAction&&br(e.containerAction,{}),br(e.root,{})]}):xr(Hn,{value:t.button,children:[br(e.root,{}),e.containerAction&&br(e.containerAction,{})]}))(n,{button:e.useMemo((()=>({size:"small"})),[])})}));Yn.displayName="MessageBarActions";var Xn=e=>{var{iconOnly:t,iconPosition:r}=e;return xr(e.root,{children:["after"!==r&&e.icon&&br(e.icon,{}),!t&&e.root.children,"after"===r&&e.icon&&br(e.icon,{})]})},Zn="Enter",Qn=" ",Jn=t=>{var r=e.useRef((()=>{throw new Error("Cannot call an event handler while rendering")}));return cn((()=>{r.current=t}),[t]),e.useCallback((function(){return(0,r.current)(...arguments)}),[r])},ei=["disabled","disabledFocusable","aria-disabled","onClick","onKeyDown","onKeyUp"];function ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(r),!0).forEach((function(t){ni(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ti(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ni(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ii(e,t){var r=null!=t?t:{},{disabled:n,disabledFocusable:i=!1,"aria-disabled":a,onClick:o,onKeyDown:s,onKeyUp:l}=r,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(r,ei),c="string"==typeof a?"true"===a:a,h=n||i||c,d=Jn((e=>{h?(e.preventDefault(),e.stopPropagation()):null==o||o(e)})),f=Jn((e=>{if(null==s||s(e),!e.isDefaultPrevented()){var t=e.key;if(h&&(t===Zn||t===Qn))return e.preventDefault(),void e.stopPropagation();t!==Qn?t===Zn&&(e.preventDefault(),e.currentTarget.click()):e.preventDefault()}})),p=Jn((e=>{if(null==l||l(e),!e.isDefaultPrevented()){var t=e.key;if(h&&(t===Zn||t===Qn))return e.preventDefault(),void e.stopPropagation();t===Qn&&(e.preventDefault(),e.currentTarget.click())}}));if("button"===e||void 0===e)return ri(ri({},u),{},{disabled:n&&!i,"aria-disabled":!!i||c,onClick:i?void 0:d,onKeyUp:i?void 0:l,onKeyDown:i?void 0:s});var g=!!u.href,m=g?void 0:"button";!m&&h&&(m="link");var y=ri(ri({role:m,tabIndex:i||!g&&!n?0:void 0},u),{},{onClick:d,onKeyUp:p,onKeyDown:f,"aria-disabled":h});return"a"===e&&h&&(y.href=void 0),y}var ai=(t,r)=>{var n,{size:i}=null!==(n=e.useContext(qn))&&void 0!==n?n:Un,{appearance:a="secondary",as:o="button",disabled:s=!1,disabledFocusable:l=!1,icon:u,iconPosition:c="before",shape:h="rounded",size:d=(null!=i?i:"medium")}=t,f=Ft(u,{elementType:"span"});return{appearance:a,disabled:s,disabledFocusable:l,iconPosition:c,shape:h,size:d,iconOnly:Boolean((null==f?void 0:f.children)&&!t.children),components:{root:"button",icon:"span"},root:St(Gt(o,ii(t.as,t)),{elementType:"button",defaultProps:{ref:r,type:"button"===o?"button":void 0}}),icon:f}},oi=("calc(".concat("var(--strokeWidthThin)"," + 0.25px)"),Lr("r1alrhcs",null,{r:[".r1alrhcs{align-items:center;box-sizing:border-box;display:inline-flex;justify-content:center;text-decoration-line:none;vertical-align:middle;margin:0;overflow:hidden;background-color:var(--colorNeutralBackground1);color:var(--colorNeutralForeground1);border:var(--strokeWidthThin) solid var(--colorNeutralStroke1);font-family:var(--fontFamilyBase);outline-style:none;padding:5px var(--spacingHorizontalM);min-width:96px;border-radius:var(--borderRadiusMedium);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightSemibold);line-height:var(--lineHeightBase300);transition-duration:var(--durationFaster);transition-property:background,border,color;transition-timing-function:var(--curveEasyEase);}",".r1alrhcs:hover{background-color:var(--colorNeutralBackground1Hover);border-color:var(--colorNeutralStroke1Hover);color:var(--colorNeutralForeground1Hover);cursor:pointer;}",".r1alrhcs:hover:active{background-color:var(--colorNeutralBackground1Pressed);border-color:var(--colorNeutralStroke1Pressed);color:var(--colorNeutralForeground1Pressed);outline-style:none;}",".r1alrhcs[data-fui-focus-visible]{border-color:var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);border-width:1px;outline:var(--strokeWidthThick) solid var(--colorTransparentStroke);box-shadow:0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;z-index:1;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1alrhcs{transition-duration:0.01ms;}}","@media (forced-colors: active){.r1alrhcs:focus{border-color:ButtonText;}.r1alrhcs:hover{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}.r1alrhcs:hover:active{background-color:HighlightText;border-color:Highlight;color:Highlight;forced-color-adjust:none;}}","@supports (-moz-appearance:button){.r1alrhcs[data-fui-focus-visible]{box-shadow:0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]})),si=Lr("rywnvv2",null,[".rywnvv2{align-items:center;display:inline-flex;justify-content:center;font-size:20px;height:20px;width:20px;--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}"]),li=wr({outline:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",iro3zm:"fwiml72"},primary:{De3pzq:"ffp7eso",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"f1phragk",Jwef8y:"f15wkkf3",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f1rq72xc",iro3zm:"fnp9lpt",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1d6v5y2",Bsw6fvg:"f1rirnrt",Bjwas2f:"f1uu00uk",Bn1d65q:["fkvaka8","f9a0qzu"],Bxeuatn:"f1ux7til",n51gp8:["f9a0qzu","fkvaka8"],Bbusuzp:"f1lkg8j3",ycbfsm:"fkc42ay",Bqrx1nm:"fq7113v",pgvf35:"ff1wgvm",Bh7lczh:["fiob0tu","f1x4h75k"],dpv3f4:"f1j6scgf",Bpnjhaq:["f1x4h75k","fiob0tu"],ze5xyy:"f4xjyn1",g2kj27:"fbgcvur",Bf756sw:"f1ks1yx8",Bow2dr7:["f1o6qegi","fmxjhhp"],Bvhedfk:"fcnxywj",Gye4lf:["fmxjhhp","f1o6qegi"],pc6evw:"f9ddjv3"},secondary:{},subtle:{De3pzq:"fhovq9v",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"f1t94bn6",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"fnwyq0v",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",Bbdnnc7:"fy5bs14",iro3zm:"fsv2rcd",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1omzyqd",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",x3br3k:"fj8yq94",ze5xyy:"f4xjyn1",Bx3q9su:"f1et0tmh",pc6evw:"f9ddjv3",xd2cci:"f1wi8ngl"},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],sj55zd:"fkfq4zb",Jwef8y:"fjxutwb",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],Bi91k9c:"f139oj5f",Bk3fhr4:"ft1hn21",Bmfj8id:"fuxngvv",iro3zm:"fwiml72",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"],B2d53fq:"f1fg1p5m",em6i61:"f1dfjoow",vm6p8p:"f1j98vj9",Bqrx1nm:"f1tme0vf",ze5xyy:"f4xjyn1",g2kj27:"f18onu3q",pc6evw:"f9ddjv3"},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"},rounded:{},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},small:{Bf4jedk:"fh7ncta",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fneth5b",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},smallWithIcon:{Byoj8tv:"f1brlhvm",z8tnut:"f1sl3k7w"},medium:{},large:{Bf4jedk:"f14es27b",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f4db1ww",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Be2twd7:"fod5ikn",Bhrd7zp:"fl43uef",Bg96gwp:"faaz57k"},largeWithIcon:{Byoj8tv:"fy7v416",z8tnut:"f1a1bwwz"}},{d:[".f1c21dwh{background-color:var(--colorTransparentBackground);}",".ffp7eso{background-color:var(--colorBrandBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}",".f1phragk{color:var(--colorNeutralForegroundOnBrand);}",".fhovq9v{background-color:var(--colorSubtleBackground);}",".fkfq4zb{color:var(--colorNeutralForeground2);}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".fh7ncta{min-width:64px;}",[".fneth5b{padding:3px var(--spacingHorizontalS);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1brlhvm{padding-bottom:1px;}",".f1sl3k7w{padding-top:1px;}",".f14es27b{min-width:96px;}",[".f4db1ww{padding:8px var(--spacingHorizontalL);}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],".fod5ikn{font-size:var(--fontSizeBase400);}",".fl43uef{font-weight:var(--fontWeightSemibold);}",".faaz57k{line-height:var(--lineHeightBase400);}",".fy7v416{padding-bottom:7px;}",".f1a1bwwz{padding-top:7px;}"],h:[".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}",".fwiml72:hover:active{background-color:var(--colorTransparentBackgroundPressed);}",".f15wkkf3:hover{background-color:var(--colorBrandBackgroundHover);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1rq72xc:hover{color:var(--colorNeutralForegroundOnBrand);}",".fnp9lpt:hover:active{background-color:var(--colorBrandBackgroundPressed);}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}",".f1d6v5y2:hover:active{color:var(--colorNeutralForegroundOnBrand);}",".f1t94bn6:hover{background-color:var(--colorSubtleBackgroundHover);}",".fnwyq0v:hover{color:var(--colorNeutralForeground2Hover);}",".ft1hn21:hover .fui-Icon-filled{display:inline;}",".fuxngvv:hover .fui-Icon-regular{display:none;}",".fy5bs14:hover .fui-Button__icon{color:var(--colorNeutralForeground2BrandHover);}",".fsv2rcd:hover:active{background-color:var(--colorSubtleBackgroundPressed);}",".f1omzyqd:hover:active{color:var(--colorNeutralForeground2Pressed);}",".f1dfjoow:hover:active .fui-Icon-filled{display:inline;}",".f1j98vj9:hover:active .fui-Icon-regular{display:none;}",".fj8yq94:hover:active .fui-Button__icon{color:var(--colorNeutralForeground2BrandPressed);}",".f139oj5f:hover{color:var(--colorNeutralForeground2BrandHover);}",".f1fg1p5m:hover:active{color:var(--colorNeutralForeground2BrandPressed);}"],m:[["@media (forced-colors: active){.f1rirnrt{background-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1uu00uk{border-top-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9a0qzu{border-left-color:HighlightText;}.fkvaka8{border-right-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ux7til{border-bottom-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lkg8j3{color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fkc42ay{forced-color-adjust:none;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fq7113v:hover{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.ff1wgvm:hover{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1x4h75k:hover{border-left-color:Highlight;}.fiob0tu:hover{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1j6scgf:hover{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f4xjyn1:hover{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fbgcvur:hover:active{background-color:HighlightText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1ks1yx8:hover:active{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1o6qegi:hover:active{border-right-color:Highlight;}.fmxjhhp:hover:active{border-left-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcnxywj:hover:active{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f9ddjv3:hover:active{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1et0tmh:hover .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1wi8ngl:hover:active .fui-Button__icon{color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1tme0vf:hover{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18onu3q:hover:active{background-color:var(--colorTransparentBackground);}}",{m:"(forced-colors: active)"}]]}),ui=wr({base:{De3pzq:"f1bg9a2p",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],sj55zd:"f1s2aq7o",Bceei9c:"fdrzuqr",Bfinmwp:"f15x8b5r",Jwef8y:"f1falr9n",Bgoe8wy:"f12mpcsy",Bwzppfd:["f1gwvigk","f18rmfxp"],oetu4i:"f1jnshp0",gg5e9n:["f18rmfxp","f1gwvigk"],Bi91k9c:"fvgxktp",eoavqd:"fphbwmw",Bk3fhr4:"f19vpps7",Bmfj8id:"fv5swzo",Bbdnnc7:"f1al02dq",iro3zm:"f1t6o4dc",b661bw:"f10ztigi",Bk6r4ia:["f1ft5sdu","f1gzf82w"],B9zn80p:"f12zbtn2",Bpld233:["f1gzf82w","f1ft5sdu"],B2d53fq:"fcvwxyo",c3iz72:"f8w4c43",em6i61:"f1ol4fw6",vm6p8p:"f1q1lw4e",x3br3k:"f1dwjv2g"},highContrast:{Bsw6fvg:"f4lkoma",Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bbusuzp:"f1dcs8yz",G867l3:"fjwq6ea",gdbnj:["f1lr3nhc","f1mbxvi6"],mxns5l:"fn5gmvv",o3nasb:["f1mbxvi6","f1lr3nhc"],Bqrx1nm:"f1vmkb5g",pgvf35:"f53ppgq",Bh7lczh:["f1663y11","f80fkiy"],dpv3f4:"f18v5270",Bpnjhaq:["f80fkiy","f1663y11"],ze5xyy:"f1kc2mi9",g2kj27:"f1y0svfh",Bf756sw:"fihuait",Bow2dr7:["fnxhupq","fyd6l6x"],Bvhedfk:"fx507ft",Gye4lf:["fyd6l6x","fnxhupq"],pc6evw:"fb3rf2x"},outline:{De3pzq:"f1c21dwh",Jwef8y:"f9ql6rf",iro3zm:"f3h1zc4"},primary:{g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},secondary:{},subtle:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]},transparent:{De3pzq:"f1c21dwh",g2u3we:"f1p3nwhy",h3c5rm:["f11589ue","f1pdflbu"],B9xav0g:"f1q5o8ev",zhjwy3:["f1pdflbu","f11589ue"],Jwef8y:"f9ql6rf",Bgoe8wy:"f1s2uweq",Bwzppfd:["fr80ssc","fecsdlb"],oetu4i:"f1ukrpxl",gg5e9n:["fecsdlb","fr80ssc"],iro3zm:"f3h1zc4",b661bw:"f1h0usnq",Bk6r4ia:["fs4ktlq","fx2bmrt"],B9zn80p:"f16h9ulv",Bpld233:["fx2bmrt","fs4ktlq"]}},{d:[".f1bg9a2p{background-color:var(--colorNeutralBackgroundDisabled);}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".fdrzuqr{cursor:not-allowed;}",".f15x8b5r .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1p3nwhy{border-top-color:transparent;}",".f11589ue{border-right-color:transparent;}",".f1pdflbu{border-left-color:transparent;}",".f1q5o8ev{border-bottom-color:transparent;}"],h:[".f1falr9n:hover{background-color:var(--colorNeutralBackgroundDisabled);}",".f12mpcsy:hover{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1gwvigk:hover{border-right-color:var(--colorNeutralStrokeDisabled);}",".f18rmfxp:hover{border-left-color:var(--colorNeutralStrokeDisabled);}",".f1jnshp0:hover{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fvgxktp:hover{color:var(--colorNeutralForegroundDisabled);}",".fphbwmw:hover{cursor:not-allowed;}",".f19vpps7:hover .fui-Icon-filled{display:none;}",".fv5swzo:hover .fui-Icon-regular{display:inline;}",".f1al02dq:hover .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f1t6o4dc:hover:active{background-color:var(--colorNeutralBackgroundDisabled);}",".f10ztigi:hover:active{border-top-color:var(--colorNeutralStrokeDisabled);}",".f1ft5sdu:hover:active{border-right-color:var(--colorNeutralStrokeDisabled);}",".f1gzf82w:hover:active{border-left-color:var(--colorNeutralStrokeDisabled);}",".f12zbtn2:hover:active{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fcvwxyo:hover:active{color:var(--colorNeutralForegroundDisabled);}",".f8w4c43:hover:active{cursor:not-allowed;}",".f1ol4fw6:hover:active .fui-Icon-filled{display:none;}",".f1q1lw4e:hover:active .fui-Icon-regular{display:inline;}",".f1dwjv2g:hover:active .fui-Button__icon{color:var(--colorNeutralForegroundDisabled);}",".f9ql6rf:hover{background-color:var(--colorTransparentBackground);}",".f3h1zc4:hover:active{background-color:var(--colorTransparentBackground);}",".f1s2uweq:hover{border-top-color:transparent;}",".fr80ssc:hover{border-right-color:transparent;}",".fecsdlb:hover{border-left-color:transparent;}",".f1ukrpxl:hover{border-bottom-color:transparent;}",".f1h0usnq:hover:active{border-top-color:transparent;}",".fs4ktlq:hover:active{border-right-color:transparent;}",".fx2bmrt:hover:active{border-left-color:transparent;}",".f16h9ulv:hover:active{border-bottom-color:transparent;}"],m:[["@media (forced-colors: active){.f4lkoma{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fjwq6ea:focus{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1lr3nhc:focus{border-right-color:GrayText;}.f1mbxvi6:focus{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fn5gmvv:focus{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1vmkb5g:hover{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f53ppgq:hover{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1663y11:hover{border-right-color:GrayText;}.f80fkiy:hover{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f18v5270:hover{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1kc2mi9:hover{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1y0svfh:hover:active{background-color:ButtonFace;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fihuait:hover:active{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fnxhupq:hover:active{border-right-color:GrayText;}.fyd6l6x:hover:active{border-left-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fx507ft:hover:active{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fb3rf2x:hover:active{color:GrayText;}}",{m:"(forced-colors: active)"}]]}),ci=wr({circular:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1062rbf"},rounded:{},square:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fj0ryk1"},primary:{B8q5s1w:"f17t0x8g",Bci5o5g:["f194v5ow","fk7jm04"],n8qw10:"f1qgg65p",Bdrgwmp:["fk7jm04","f194v5ow"],j6ew2k:["fhgccpy","fjo7pq6"],he4mth:"f32wu9k",Byr4aka:"fu5nqqq",lks7q5:["f13prjl2","f1nl83rv"],Bnan3qt:"f1czftr5",k1dn9:["f1nl83rv","f13prjl2"],Boium3a:["f12k37oa","fdnykm2"],tm8e47:"fr96u23"},small:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"fazmxh"},medium:{},large:{Bw81rd7:0,kdpuga:0,dm238s:0,B6xbmo0:0,B3whbx2:"f1b6alqh"}},{d:[[".f1062rbf[data-fui-focus-visible]{border-radius:var(--borderRadiusCircular);}",{p:-1}],[".fj0ryk1[data-fui-focus-visible]{border-radius:var(--borderRadiusNone);}",{p:-1}],".f17t0x8g[data-fui-focus-visible]{border-top-color:var(--colorStrokeFocus2);}",".f194v5ow[data-fui-focus-visible]{border-right-color:var(--colorStrokeFocus2);}",".fk7jm04[data-fui-focus-visible]{border-left-color:var(--colorStrokeFocus2);}",".f1qgg65p[data-fui-focus-visible]{border-bottom-color:var(--colorStrokeFocus2);}",".fhgccpy[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".fjo7pq6[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}",".f32wu9k[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 var(--strokeWidthThin) var(--colorStrokeFocus2) inset;}",".fu5nqqq[data-fui-focus-visible]:hover{border-top-color:var(--colorStrokeFocus2);}",".f13prjl2[data-fui-focus-visible]:hover{border-right-color:var(--colorStrokeFocus2);}",".f1nl83rv[data-fui-focus-visible]:hover{border-left-color:var(--colorStrokeFocus2);}",".f1czftr5[data-fui-focus-visible]:hover{border-bottom-color:var(--colorStrokeFocus2);}",[".fazmxh[data-fui-focus-visible]{border-radius:var(--borderRadiusSmall);}",{p:-1}],[".f1b6alqh[data-fui-focus-visible]{border-radius:var(--borderRadiusLarge);}",{p:-1}]],t:["@supports (-moz-appearance:button){.f12k37oa[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}.fdnykm2[data-fui-focus-visible]{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset,0 0 0 var(--strokeWidthThick) var(--colorNeutralForegroundOnBrand) inset;}}","@supports (-moz-appearance:button){.fr96u23[data-fui-focus-visible]:hover{box-shadow:var(--shadow2),0 0 0 calc(var(--strokeWidthThin) + 0.25px) var(--colorStrokeFocus2) inset;}}"]}),hi=wr({small:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fu97m5z",Bf4jedk:"f17fgpbq",B2u0y6b:"f1jt17bm"},medium:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f18ktai2",Bf4jedk:"fwbmr0d",B2u0y6b:"f44c6la"},large:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1hbd1aw",Bf4jedk:"f12clzc2",B2u0y6b:"fjy1crr"}},{d:[[".fu97m5z{padding:1px;}",{p:-1}],".f17fgpbq{min-width:24px;}",".f1jt17bm{max-width:24px;}",[".f18ktai2{padding:5px;}",{p:-1}],".fwbmr0d{min-width:32px;}",".f44c6la{max-width:32px;}",[".f1hbd1aw{padding:7px;}",{p:-1}],".f12clzc2{min-width:40px;}",".fjy1crr{max-width:40px;}"]}),di=wr({small:{Be2twd7:"fe5j1ua",Bqenvij:"fjamq6b",a9b677:"f64fuq3",Bqrlyyl:"fbaiahx"},medium:{},large:{Be2twd7:"f1rt2boy",Bqenvij:"frvgh55",a9b677:"fq4mcun",Bqrlyyl:"f1exjqw5"},before:{t21cq0:["f1nizpg2","f1a695kz"]},after:{Frg6f3:["f1a695kz","f1nizpg2"]}},{d:[".fe5j1ua{font-size:20px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",".fbaiahx{--fui-Button__icon--spacing:var(--spacingHorizontalXS);}",".f1rt2boy{font-size:24px;}",".frvgh55{height:24px;}",".fq4mcun{width:24px;}",".f1exjqw5{--fui-Button__icon--spacing:var(--spacingHorizontalSNudge);}",".f1nizpg2{margin-right:var(--fui-Button__icon--spacing);}",".f1a695kz{margin-left:var(--fui-Button__icon--spacing);}"]}),fi=e=>{var t=oi(),r=si(),n=li(),i=ui(),a=ci(),o=hi(),s=di(),{appearance:l,disabled:u,disabledFocusable:c,icon:h,iconOnly:d,iconPosition:f,shape:p,size:g}=e;return e.root.className=kr("fui-Button",t,l&&n[l],n[g],h&&"small"===g&&n.smallWithIcon,h&&"large"===g&&n.largeWithIcon,n[p],(u||c)&&i.base,(u||c)&&i.highContrast,l&&(u||c)&&i[l],"primary"===l&&a.primary,a[g],a[p],d&&o[g],e.root.className),e.icon&&(e.icon.className=kr("fui-Button__icon",r,!!e.root.children&&s[f],s[g],e.icon.className)),e},pi=e.forwardRef(((e,t)=>{var r=ai(e,t);return fi(r),_r("useButtonStyles_unstable")(r),Xn(r)}));pi.displayName="Button";var gi={above:{position:"above",align:"center"},"above-start":{position:"above",align:"start"},"above-end":{position:"above",align:"end"},below:{position:"below",align:"center"},"below-start":{position:"below",align:"start"},"below-end":{position:"below",align:"end"},before:{position:"before",align:"center"},"before-top":{position:"before",align:"top"},"before-bottom":{position:"before",align:"bottom"},after:{position:"after",align:"center"},"after-top":{position:"after",align:"top"},"after-bottom":{position:"after",align:"bottom"}};function mi(e){return null==e?{}:"string"==typeof e?gi[e]:e}function yi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(r),!0).forEach((function(t){bi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bi(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xi=(e,t)=>{return"number"==typeof e?{mainAxis:e+t}:vi(vi({},e),{},{mainAxis:(null!==(r=e.mainAxis)&&void 0!==r?r:0)+t});var r};const wi=["top","right","bottom","left"],Di=Math.min,ki=Math.max,Ei=Math.round,Ai=(Math.floor,e=>({x:e,y:e})),Ci={left:"right",right:"left",bottom:"top",top:"bottom"},_i={start:"end",end:"start"};function Ti(e,t,r){return ki(e,Di(t,r))}function Si(e,t){return"function"==typeof e?e(t):e}function Fi(e){return e.split("-")[0]}function Oi(e){return e.split("-")[1]}function Bi(e){return"x"===e?"y":"x"}function Ni(e){return"y"===e?"height":"width"}function Li(e){return["top","bottom"].includes(Fi(e))?"y":"x"}function Ii(e){return Bi(Li(e))}function Ri(e){return e.replace(/start|end/g,(e=>_i[e]))}function Mi(e){return e.replace(/left|right|bottom|top/g,(e=>Ci[e]))}function Pi(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function zi(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function $i(e,t,r){let{reference:n,floating:i}=e;const a=Li(t),o=Ii(t),s=Ni(o),l=Fi(t),u="y"===a,c=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,d=n[s]/2-i[s]/2;let f;switch(l){case"top":f={x:c,y:n.y-i.height};break;case"bottom":f={x:c,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-i.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Oi(t)){case"start":f[o]-=d*(r&&u?-1:1);break;case"end":f[o]+=d*(r&&u?-1:1)}return f}async function ji(e,t){var r;void 0===t&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=Si(t,e),p=Pi(f),g=s[d?"floating"===h?"reference":"floating":h],m=zi(await a.getClippingRect({element:null==(r=await(null==a.isElement?void 0:a.isElement(g)))||r?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),y="floating"===h?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(null==a.getOffsetParent?void 0:a.getOffsetParent(s.floating)),b=await(null==a.isElement?void 0:a.isElement(v))&&await(null==a.getScale?void 0:a.getScale(v))||{x:1,y:1},x=zi(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:l}):y);return{top:(m.top-x.top+p.top)/b.y,bottom:(x.bottom-m.bottom+p.bottom)/b.y,left:(m.left-x.left+p.left)/b.x,right:(x.right-m.right+p.right)/b.x}}function Ki(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qi(e){return wi.some((t=>e[t]>=0))}function Ui(){return"undefined"!=typeof window}function Hi(e){return Vi(e)?(e.nodeName||"").toLowerCase():"#document"}function Wi(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Gi(e){var t;return null==(t=(Vi(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Vi(e){return!!Ui()&&(e instanceof Node||e instanceof Wi(e).Node)}function Yi(e){return!!Ui()&&(e instanceof Element||e instanceof Wi(e).Element)}function Xi(e){return!!Ui()&&(e instanceof HTMLElement||e instanceof Wi(e).HTMLElement)}function Zi(e){return!(!Ui()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Wi(e).ShadowRoot)}function Qi(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=ia(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function Ji(e){return["table","td","th"].includes(Hi(e))}function ea(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function ta(e){const t=ra(),r=Yi(e)?ia(e):e;return"none"!==r.transform||"none"!==r.perspective||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||["transform","perspective","filter"].some((e=>(r.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(r.contain||"").includes(e)))}function ra(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function na(e){return["html","body","#document"].includes(Hi(e))}function ia(e){return Wi(e).getComputedStyle(e)}function aa(e){return Yi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oa(e){if("html"===Hi(e))return e;const t=e.assignedSlot||e.parentNode||Zi(e)&&e.host||Gi(e);return Zi(t)?t.host:t}function sa(e){const t=oa(e);return na(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xi(t)&&Qi(t)?t:sa(t)}function la(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const i=sa(e),a=i===(null==(n=e.ownerDocument)?void 0:n.body),o=Wi(i);if(a){const e=ua(o);return t.concat(o,o.visualViewport||[],Qi(i)?i:[],e&&r?la(e):[])}return t.concat(i,la(i,[],r))}function ua(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ca(e){const t=ia(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Xi(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=Ei(r)!==a||Ei(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function ha(e){return Yi(e)?e:e.contextElement}function da(e){const t=ha(e);if(!Xi(t))return Ai(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=ca(t);let o=(a?Ei(r.width):r.width)/n,s=(a?Ei(r.height):r.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}const fa=Ai(0);function pa(e){const t=Wi(e);return ra()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:fa}function ga(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const i=e.getBoundingClientRect(),a=ha(e);let o=Ai(1);t&&(n?Yi(n)&&(o=da(n)):o=da(e));const s=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==Wi(e))&&t}(a,r,n)?pa(a):Ai(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,c=i.width/o.x,h=i.height/o.y;if(a){const e=Wi(a),t=n&&Yi(n)?Wi(n):n;let r=e,i=ua(r);for(;i&&n&&t!==r;){const e=da(i),t=i.getBoundingClientRect(),n=ia(i),a=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,h*=e.y,l+=a,u+=o,r=Wi(i),i=ua(r)}}return zi({width:c,height:h,x:l,y:u})}function ma(e,t){const r=aa(e).scrollLeft;return t?t.left+r:ga(Gi(e)).left+r}function ya(e,t,r){void 0===r&&(r=!1);const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-(r?0:ma(e,n)),y:n.top+t.scrollTop}}function va(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=Wi(e),n=Gi(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const e=ra();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}(e,r);else if("document"===t)n=function(e){const t=Gi(e),r=aa(e),n=e.ownerDocument.body,i=ki(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ki(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ma(e);const s=-r.scrollTop;return"rtl"===ia(n).direction&&(o+=ki(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}(Gi(e));else if(Yi(t))n=function(e,t){const r=ga(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Xi(e)?da(e):Ai(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:n*a.y}}(t,r);else{const r=pa(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return zi(n)}function ba(e,t){const r=oa(e);return!(r===t||!Yi(r)||na(r))&&("fixed"===ia(r).position||ba(r,t))}function xa(e,t,r){const n=Xi(t),i=Gi(t),a="fixed"===r,o=ga(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Ai(0);if(n||!n&&!a)if(("body"!==Hi(t)||Qi(i))&&(s=aa(t)),n){const e=ga(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=ma(i));const u=!i||n||a?Ai(0):ya(i,s);return{x:o.left+s.scrollLeft-l.x-u.x,y:o.top+s.scrollTop-l.y-u.y,width:o.width,height:o.height}}function wa(e){return"static"===ia(e).position}function Da(e,t){if(!Xi(e)||"fixed"===ia(e).position)return null;if(t)return t(e);let r=e.offsetParent;return Gi(e)===r&&(r=r.ownerDocument.body),r}function ka(e,t){const r=Wi(e);if(ea(e))return r;if(!Xi(e)){let t=oa(e);for(;t&&!na(t);){if(Yi(t)&&!wa(t))return t;t=oa(t)}return r}let n=Da(e,t);for(;n&&Ji(n)&&wa(n);)n=Da(n,t);return n&&na(n)&&wa(n)&&!ta(n)?r:n||function(e){let t=oa(e);for(;Xi(t)&&!na(t);){if(ta(t))return t;if(ea(t))return null;t=oa(t)}return null}(e)||r}const Ea={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a="fixed"===i,o=Gi(n),s=!!t&&ea(t.floating);if(n===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},u=Ai(1);const c=Ai(0),h=Xi(n);if((h||!h&&!a)&&(("body"!==Hi(n)||Qi(o))&&(l=aa(n)),Xi(n))){const e=ga(n);u=da(n),c.x=e.x+n.clientLeft,c.y=e.y+n.clientTop}const d=!o||h||a?Ai(0):ya(o,l,!0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:r.y*u.y-l.scrollTop*u.y+c.y+d.y}},getDocumentElement:Gi,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[..."clippingAncestors"===r?ea(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=la(e,[],!1).filter((e=>Yi(e)&&"body"!==Hi(e))),i=null;const a="fixed"===ia(e).position;let o=a?oa(e):e;for(;Yi(o)&&!na(o);){const t=ia(o),r=ta(o);r||"fixed"!==t.position||(i=null),(a?!r&&!i:!r&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Qi(o)&&!r&&ba(e,o))?n=n.filter((e=>e!==o)):i=t,o=oa(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],o=a[0],s=a.reduce(((e,r)=>{const n=va(t,r,i);return e.top=ki(n.top,e.top),e.right=Di(n.right,e.right),e.bottom=Di(n.bottom,e.bottom),e.left=ki(n.left,e.left),e}),va(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:ka,getElementRects:async function(e){const t=this.getOffsetParent||ka,r=this.getDimensions,n=await r(e.floating);return{reference:xa(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=ca(e);return{width:t,height:r}},getScale:da,isElement:Yi,isRTL:function(e){return"rtl"===ia(e).direction}},Aa=ji,Ca=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Si(e,t);switch(n){case"referenceHidden":{const e=Ki(await ji(t,{...i,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:qi(e)}}}case"escaped":{const e=Ki(await ji(t,{...i,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:qi(e)}}}default:return{}}}}},_a=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Si(e,t)||{};if(null==u)return{};const h=Pi(c),d={x:r,y:n},f=Ii(i),p=Ni(f),g=await o.getDimensions(u),m="y"===f,y=m?"top":"left",v=m?"bottom":"right",b=m?"clientHeight":"clientWidth",x=a.reference[p]+a.reference[f]-d[f]-a.floating[p],w=d[f]-a.reference[f],D=await(null==o.getOffsetParent?void 0:o.getOffsetParent(u));let k=D?D[b]:0;k&&await(null==o.isElement?void 0:o.isElement(D))||(k=s.floating[b]||a.floating[p]);const E=x/2-w/2,A=k/2-g[p]/2-1,C=Di(h[y],A),_=Di(h[v],A),T=C,S=k-g[p]-_,F=k/2-g[p]/2+E,O=Ti(T,F,S),B=!l.arrow&&null!=Oi(i)&&F!==O&&a.reference[p]/2-(F<T?C:_)-g[p]/2<0,N=B?F<T?F-T:F-S:0;return{[f]:d[f]+N,data:{[f]:O,centerOffset:F-O-N,...B&&{alignmentOffset:N}},reset:B}}}),Ta=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Si(e,t),c={x:r,y:n},h=Li(i),d=Bi(h);let f=c[d],p=c[h];const g=Si(s,t),m="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const e="y"===d?"height":"width",t=a.reference[d]-a.floating[e]+m.mainAxis,r=a.reference[d]+a.reference[e]-m.mainAxis;f<t?f=t:f>r&&(f=r)}if(u){var y,v;const e="y"===d?"width":"height",t=["top","left"].includes(Fi(i)),r=a.reference[h]-a.floating[e]+(t&&(null==(y=o.offset)?void 0:y[h])||0)+(t?0:m.crossAxis),n=a.reference[h]+a.reference[e]+(t?0:(null==(v=o.offset)?void 0:v[h])||0)-(t?m.crossAxis:0);p<r?p=r:p>n&&(p=n)}return{[d]:f,[h]:p}}}};function Sa(t,r,n){var i=e.useRef(!0),[a]=e.useState((()=>({value:t,callback:r,facade:{get current(){return a.value},set current(e){var t=a.value;if(t!==e){if(a.value=e,n&&i.current)return;a.callback(e,t)}}}})));return cn((()=>{i.current=!1}),[]),a.callback=r,a.facade}var Fa=e=>{var t=e&&(e=>"HTML"===e.nodeName?e:e.parentNode||e.host)(e);if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var{overflow:r,overflowX:n,overflowY:i}=(e=>{var t;return 1!==e.nodeType?{}:(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView).getComputedStyle(e,null)})(t);return/(auto|scroll|overlay)/.test(r+i+n)?t:Fa(t)},Oa=(e,t,r)=>{var n,i,a,o,s=(o="top"===(i=e)||"bottom"===i,(a="above"===(n=t)||"below"===n)&&o||!a&&!o?"center":e),l=t&&(e=>({above:"top",below:"bottom",before:e?"right":"left",after:e?"left":"right"}))(r)[t],u=s&&{start:"start",end:"end",top:"start",bottom:"end",center:void 0}[s];return l&&u?"".concat(l,"-").concat(u):l};function Ba(e,t){if("window"===t)return null==e?void 0:e.ownerDocument.documentElement;if("clippingParents"===t)return"clippingAncestors";if("scrollParent"===t){var r=Fa(e);return"BODY"===r.nodeName&&(r=null==e?void 0:e.ownerDocument.documentElement),r}return t}var Na=["start","end"];function La(e,t){if("number"==typeof e)return e;var{start:r,end:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Na),a=t?"end":"start",o=t?"start":"end";return e[a]&&(i.left=e[a]),e[o]&&(i.right=e[o]),i}function Ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(r),!0).forEach((function(t){Ma(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ia(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ma(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pa=e=>({name:"resetMaxSize",fn(t){var r,{middlewareData:n,elements:i}=t;if(null===(r=n.resetMaxSize)||void 0===r?void 0:r.maxSizeAlreadyReset)return{};var{applyMaxWidth:a,applyMaxHeight:o}=e;return a&&(i.floating.style.removeProperty("box-sizing"),i.floating.style.removeProperty("max-width"),i.floating.style.removeProperty("width")),o&&(i.floating.style.removeProperty("box-sizing"),i.floating.style.removeProperty("max-height"),i.floating.style.removeProperty("height")),{data:{maxSizeAlreadyReset:!0},reset:{rects:!0}}}});function za(e,t){var{container:r,overflowBoundary:n,overflowBoundaryPadding:i,isRtl:a}=t;return function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...u}=Si(e,t),c=await ji(t,u),h=Fi(i),d=Oi(i),f="y"===Li(i),{width:p,height:g}=a.floating;let m,y;"top"===h||"bottom"===h?(m=h,y=d===(await(null==o.isRTL?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(y=h,m="end"===d?"top":"bottom");const v=g-c.top-c.bottom,b=p-c.left-c.right,x=Di(g-c[m],v),w=Di(p-c[y],b),D=!t.middlewareData.shift;let k=x,E=w;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(E=b),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(k=v),D&&!d){const e=ki(c.left,0),t=ki(c.right,0),r=ki(c.top,0),n=ki(c.bottom,0);f?E=p-2*(0!==e||0!==t?e+t:ki(c.left,c.right)):k=g-2*(0!==r||0!==n?r+n:ki(c.top,c.bottom))}await l({...t,availableWidth:E,availableHeight:k});const A=await o.getDimensions(s.floating);return p!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}}(Ra(Ra(Ra({},i&&{padding:La(i,a)}),n&&{altBoundary:!0,boundary:Ba(r,n)}),{},{apply(t){var{availableHeight:r,availableWidth:n,elements:i,rects:a}=t,o=(e,t,r)=>{if(e&&(i.floating.style.setProperty("box-sizing","border-box"),i.floating.style.setProperty("max-".concat(t),"".concat(r,"px")),a.floating[t]>r)){i.floating.style.setProperty(t,"".concat(r,"px"));var n="width"===t?"x":"y";i.floating.style.getPropertyValue("overflow-".concat(n))||i.floating.style.setProperty("overflow-".concat(n),"auto")}},{applyMaxWidth:s,applyMaxHeight:l}=e;o(s,"width",n),o(l,"height",r)}}))}function $a(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}var ja="--fui-match-target-size";function Ka(e){var t=e.split("-");return{side:t[0],alignment:t[1]}}function qa(e){var t,r,n=(t=e)?"number"==typeof t||"object"==typeof t?t:e=>{var{rects:{floating:r,reference:n},placement:i}=e,{position:a,alignment:o}=(e=>{var{side:t,alignment:r}=Ka(e),n={top:"above",bottom:"below",right:"after",left:"before"}[t],i=r&&(e=>"above"===e||"below"===e?{start:"start",end:"end"}:{start:"top",end:"bottom"})(n)[r];return{position:n,alignment:i}})(i);return t({positionedRect:r,targetRect:n,position:a,alignment:o})}:t;return void 0===(r=n)&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:o,middlewareData:s}=e,l=await async function(e,t){const{placement:r,platform:n,elements:i}=e,a=await(null==n.isRTL?void 0:n.isRTL(i.floating)),o=Fi(r),s=Oi(r),l="y"===Li(r),u=["left","top"].includes(o)?-1:1,c=a&&l?-1:1,h=Si(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:p}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&"number"==typeof p&&(f="end"===s?-1*p:p),l?{x:f*c,y:d*u}:{x:d*u,y:f*c}}(e,r);return o===(null==(t=s.offset)?void 0:t.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}}function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){Wa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wa(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ga(e){var{hasScrollableElement:t,flipBoundary:r,container:n,fallbackPositions:i=[],isRtl:a}=e,o=i.reduce(((e,t)=>{var{position:r,align:n}=mi(t),i=Oa(n,r,a);return i&&e.push(i),e}),[]);return function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Si(e,t);if(null!=(r=a.arrow)&&r.alignmentOffset)return{};const y=Fi(i),v=Li(s),b=Fi(s)===s,x=await(null==l.isRTL?void 0:l.isRTL(u.floating)),w=d||(b||!g?[Mi(s)]:function(e){const t=Mi(e);return[Ri(e),t,Ri(t)]}(s)),D="none"!==p;!d&&D&&w.push(...function(e,t,r,n){const i=Oi(e);let a=function(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:o;default:return[]}}(Fi(e),"start"===r,n);return i&&(a=a.map((e=>e+"-"+i)),t&&(a=a.concat(a.map(Ri)))),a}(s,g,p,x));const k=[s,...w],E=await ji(t,m),A=[];let C=(null==(n=a.flip)?void 0:n.overflows)||[];if(c&&A.push(E[y]),h){const e=function(e,t,r){void 0===r&&(r=!1);const n=Oi(e),i=Ii(e),a=Ni(i);let o="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Mi(o)),[o,Mi(o)]}(i,o,x);A.push(E[e[0]],E[e[1]])}if(C=[...C,{placement:i,overflows:A}],!A.every((e=>e<=0))){var _,T;const e=((null==(_=a.flip)?void 0:_.index)||0)+1,t=k[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let r=null==(T=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!r)switch(f){case"bestFit":{var S;const e=null==(S=C.filter((e=>{if(D){const t=Li(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:S[0];e&&(r=e);break}case"initialPlacement":r=s}if(i!==r)return{reset:{placement:r}}}return{}}}}(Ha(Ha(Ha({},t&&{boundary:"clippingAncestors"}),r&&{altBoundary:!0,boundary:Ba(n,r)}),{},{fallbackStrategy:"bestFit"},o.length&&{fallbackPlacements:o}))}function Va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(r),!0).forEach((function(t){Xa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xa(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Za(e){var{hasScrollableElement:t,shiftToCoverTarget:r,disableTether:n,overflowBoundary:i,container:a,overflowBoundaryPadding:o,isRtl:s}=e;return function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=Si(e,t),u={x:r,y:n},c=await ji(t,l),h=Li(Fi(i)),d=Bi(h);let f=u[d],p=u[h];if(a){const e="y"===d?"bottom":"right";f=Ti(f+c["y"===d?"top":"left"],f,f-c[e])}if(o){const e="y"===h?"bottom":"right";p=Ti(p+c["y"===h?"top":"left"],p,p-c[e])}const g=s.fn({...t,[d]:f,[h]:p});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[d]:a,[h]:o}}}}}}(Ya(Ya(Ya(Ya(Ya({},t&&{boundary:"clippingAncestors"}),r&&{crossAxis:!0,limiter:Ta({crossAxis:!0,mainAxis:!1})}),n&&{crossAxis:"all"===n,limiter:Ta({crossAxis:"all"!==n,mainAxis:!1})}),o&&{padding:La(o,s)}),i&&{altBoundary:!0,boundary:Ba(a,i)}))}function Qa(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Ja(){return{name:"intersectionObserver",fn:(e=function*(e){var t=e.rects.floating,r=yield Aa(e,{altBoundary:!0}),n=r.top<t.height&&r.top>0,i=r.bottom<t.height&&r.bottom>0;return{data:{intersecting:n||i}}},t=function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Qa(a,n,i,o,s,"next",e)}function s(e){Qa(a,n,i,o,s,"throw",e)}o(void 0)}))},function(e){return t.apply(this,arguments)})};var e,t}function eo(e,t){var r,n,i=e;return Boolean((null==i||null===(r=i.ownerDocument)||void 0===r?void 0:r.defaultView)&&i instanceof i.ownerDocument.defaultView[null!==(n=null==t?void 0:t.constructorName)&&void 0!==n?n:"HTMLElement"])}var to="data-popper-is-intersecting",ro="data-popper-escaped",no="data-popper-reference-hidden",io="fui-positioningend";function ao(e){for(var t=[],r=e;r;){var n=Fa(r);if(e.ownerDocument.body===n){t.push(n);break}if("BODY"===n.nodeName&&n!==e.ownerDocument.body)break;t.push(n),r=n}return t}function oo(e){var t=!1,{container:r,target:n,arrow:i,strategy:a,middleware:o,placement:s,useTransform:l=!0,disableUpdateOnResize:u=!1}=e,c=r.ownerDocument.defaultView;if(!n||!r||!c)return{updatePosition:()=>{},dispose:()=>{}};var h=u?null:function(e){return new e.ResizeObserver((e=>{e.every((e=>e.contentRect.width>0&&e.contentRect.height>0))&&y()}))}(c),d=!0,f=new Set;Object.assign(r.style,{position:"fixed",left:0,top:0,margin:0});var p,g,m=()=>{t||(d&&(ao(r).forEach((e=>f.add(e))),eo(n)&&ao(n).forEach((e=>f.add(e))),f.forEach((e=>{e.addEventListener("scroll",y,{passive:!0})})),null==h||h.observe(r),eo(n)&&(null==h||h.observe(n)),d=!1),Object.assign(r.style,{position:a}),((e,t,r)=>{const n=new Map,i={platform:Ea,...r},a={...i.platform,_c:n};return(async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(null==o.isRTL?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:h}=$i(u,n,l),d=n,f={},p=0;for(let r=0;r<s.length;r++){const{name:a,fn:g}=s[r],{x:m,y,data:v,reset:b}=await g({x:c,y:h,initialPlacement:n,placement:d,strategy:i,middlewareData:f,rects:u,platform:o,elements:{reference:e,floating:t}});c=null!=m?m:c,h=null!=y?y:h,f={...f,[a]:{...f[a],...v}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(u=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:c,y:h}=$i(u,d,l))),r=-1)}return{x:c,y:h,placement:d,strategy:i,middlewareData:f}})(e,t,{...i,platform:a})})(n,r,{placement:s,middleware:o,strategy:a}).then((e=>{var{x:n,y:o,middlewareData:s,placement:u}=e;t||(function(e){var{arrow:t,middlewareData:r}=e;if(r.arrow&&t){var{x:n,y:i}=r.arrow;Object.assign(t.style,{left:null!=n?"".concat(n,"px"):"",top:null!=i?"".concat(i,"px"):""})}}({arrow:i,middlewareData:s}),function(e){var t,r,n,{container:i,placement:a,middlewareData:o,strategy:s,lowPPI:l,coordinates:u,useTransform:c=!0}=e;if(i){i.setAttribute("data-popper-placement",a),i.removeAttribute(to),o.intersectionObserver.intersecting&&i.setAttribute(to,""),i.removeAttribute(ro),(null===(t=o.hide)||void 0===t?void 0:t.escaped)&&i.setAttribute(ro,""),i.removeAttribute(no),(null===(r=o.hide)||void 0===r?void 0:r.referenceHidden)&&i.setAttribute(no,"");var h=(null===(n=i.ownerDocument.defaultView)||void 0===n?void 0:n.devicePixelRatio)||1,d=Math.round(u.x*h)/h,f=Math.round(u.y*h)/h;Object.assign(i.style,{position:s}),c?Object.assign(i.style,{transform:l?"translate(".concat(d,"px, ").concat(f,"px)"):"translate3d(".concat(d,"px, ").concat(f,"px, 0)")}):Object.assign(i.style,{left:"".concat(d,"px"),top:"".concat(f,"px")})}}({container:r,middlewareData:s,placement:u,coordinates:{x:n,y:o},lowPPI:((null==c?void 0:c.devicePixelRatio)||1)<=1,strategy:a,useTransform:l}),r.dispatchEvent(new CustomEvent(io)))})).catch((e=>{})))},y=(p=()=>m(),()=>(g||(g=new Promise((e=>{Promise.resolve().then((()=>{g=void 0,e(p())}))}))),g));return c&&(c.addEventListener("scroll",y,{passive:!0}),c.addEventListener("resize",y)),y(),{updatePosition:y,dispose:()=>{t=!0,c&&(c.removeEventListener("scroll",y),c.removeEventListener("resize",y)),f.forEach((e=>{e.removeEventListener("scroll",y)})),f.clear(),null==h||h.disconnect()}}}function so(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lo(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uo=e.createContext(void 0),co={};uo.Provider;var ho="undefined"!=typeof WeakRef,fo=class{constructor(e){ho&&"object"==typeof e?this._weakRef=new WeakRef(e):this._instance=e}deref(){var e,t,r;return this._weakRef?(r=null==(e=this._weakRef)?void 0:e.deref())||delete this._weakRef:(null==(t=null==(r=this._instance)?void 0:r.isDisposed)?void 0:t.call(r))&&delete this._instance,r}},po="keyborg:focusin",go="keyborg:focusout",mo=!1;function yo(e){var t=e.focus;t.__keyborgNativeFocus?t.__keyborgNativeFocus.call(e):e.focus()}var vo=0,bo=class{constructor(e,t){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=e=>{if(!this._isMouseOrTouchUsedTimer&&!this.isNavigatingWithKeyboard){var t=e.detail;t.relatedTarget&&(t.isFocusedProgrammatically||void 0===t.isFocusedProgrammatically||(this.isNavigatingWithKeyboard=!0))}},this._onMouseDown=e=>{0===e.buttons||0===e.clientX&&0===e.clientY&&0===e.screenX&&0===e.screenY||this._onMouseOrTouch()},this._onMouseOrTouch=()=>{var e=this._win;e&&(this._isMouseOrTouchUsedTimer&&e.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=e.setTimeout((()=>{delete this._isMouseOrTouchUsedTimer}),1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=e=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(e)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(e)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++vo,this._win=e;var r=e.document;if(t){var n=t.triggerKeys,i=t.dismissKeys;(null==n?void 0:n.length)&&(this._triggerKeys=new Set(n)),(null==i?void 0:i.length)&&(this._dismissKeys=new Set(i))}r.addEventListener(po,this._onFocusIn,!0),r.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener("touchstart",this._onMouseOrTouch,!0),r.addEventListener("touchend",this._onMouseOrTouch,!0),r.addEventListener("touchcancel",this._onMouseOrTouch,!0),function(e){var t=e;mo||(mo=function(e){var t=e.HTMLElement,r=t.prototype.focus,n=!1;return t.prototype.focus=function(){n=!0},e.document.createElement("button").focus(),t.prototype.focus=r,n}(t));var r=t.HTMLElement.prototype.focus;if(!r.__keyborgNativeFocus){t.HTMLElement.prototype.focus=u;var n=new Set,i=e=>{var t=e.target;if(t){var r=new CustomEvent(go,{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:e}});t.dispatchEvent(r)}},a=e=>{var t=e.target;if(t){for(var r=e.composedPath()[0],s=new Set;r;)r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(s.add(r),r=r.host):r=r.parentNode;for(var l of n){var u=l.deref();u&&s.has(u)||(n.delete(l),u&&(u.removeEventListener("focusin",a,!0),u.removeEventListener("focusout",i,!0)))}o(t,e.relatedTarget||void 0)}},o=(e,t,r)=>{var o,l=e.shadowRoot;if(l){for(var u of n)if(u.deref()===l)return;return l.addEventListener("focusin",a,!0),l.addEventListener("focusout",i,!0),void n.add(new fo(l))}var c={relatedTarget:t,originalEvent:r},h=new CustomEvent(po,{cancelable:!0,bubbles:!0,composed:!0,detail:c});h.details=c,(mo||s.lastFocusedProgrammatically)&&(c.isFocusedProgrammatically=e===(null==(o=s.lastFocusedProgrammatically)?void 0:o.deref()),s.lastFocusedProgrammatically=void 0),e.dispatchEvent(h)},s=t.__keyborgData={focusInHandler:a,focusOutHandler:i,shadowTargets:n};t.document.addEventListener("focusin",t.__keyborgData.focusInHandler,!0),t.document.addEventListener("focusout",t.__keyborgData.focusOutHandler,!0);for(var l=t.document.activeElement;l&&l.shadowRoot;)o(l),l=l.shadowRoot.activeElement;u.__keyborgNativeFocus=r}function u(){var e=t.__keyborgData;return e&&(e.lastFocusedProgrammatically=new fo(this)),r.apply(this,arguments)}}(e)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(e){this._isNavigatingWithKeyboard_DO_NOT_USE!==e&&(this._isNavigatingWithKeyboard_DO_NOT_USE=e,this.update())}dispose(){var e=this._win;if(e){this._isMouseOrTouchUsedTimer&&(e.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=void 0),this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),function(e){var t=e,r=t.HTMLElement.prototype,n=r.focus.__keyborgNativeFocus,i=t.__keyborgData;if(i){for(var a of(t.document.removeEventListener("focusin",i.focusInHandler,!0),t.document.removeEventListener("focusout",i.focusOutHandler,!0),i.shadowTargets)){var o=a.deref();o&&(o.removeEventListener("focusin",i.focusInHandler,!0),o.removeEventListener("focusout",i.focusOutHandler,!0))}i.shadowTargets.clear(),delete t.__keyborgData}n&&(r.focus=n)}(e);var t=e.document;t.removeEventListener(po,this._onFocusIn,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("touchstart",this._onMouseOrTouch,!0),t.removeEventListener("touchend",this._onMouseOrTouch,!0),t.removeEventListener("touchcancel",this._onMouseOrTouch,!0),delete this._win}}isDisposed(){return!!this._win}update(){var e,t,r=null==(t=null==(e=this._win)?void 0:e.__keyborg)?void 0:t.refs;if(r)for(var n of Object.keys(r))xo.update(r[n],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(e){var t;if("Tab"===e.key)return!0;var r=null==(t=this._win)?void 0:t.document.activeElement,n=!this._triggerKeys||this._triggerKeys.has(e.keyCode),i=r&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||r.isContentEditable);return n&&!i}_shouldDismissKeyboardNavigation(e){var t;return null==(t=this._dismissKeys)?void 0:t.has(e.keyCode)}_scheduleDismiss(){var e=this._win;if(e){this._dismissTimer&&(e.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);var t=e.document.activeElement;this._dismissTimer=e.setTimeout((()=>{this._dismissTimer=void 0;var r=e.document.activeElement;t&&r&&t===r&&(this.isNavigatingWithKeyboard=!1)}),500)}}},xo=class e{constructor(e,t){this._cb=[],this._id="k"+ ++vo,this._win=e;var r=e.__keyborg;r?(this._core=r.core,r.refs[this._id]=this):(this._core=new bo(e,t),e.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(t,r){return new e(t,r)}static dispose(e){e.dispose()}static update(e,t){e._cb.forEach((e=>e(t)))}dispose(){var e,t=null==(e=this._win)?void 0:e.__keyborg;(null==t?void 0:t.refs[this._id])&&(delete t.refs[this._id],0===Object.keys(t.refs).length&&(t.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var e;return!!(null==(e=this._core)?void 0:e.isNavigatingWithKeyboard)}subscribe(e){this._cb.push(e)}unsubscribe(e){var t=this._cb.indexOf(e);t>=0&&this._cb.splice(t,1)}setVal(e){this._core&&(this._core.isNavigatingWithKeyboard=e)}};function wo(e,t){return xo.create(e,t)}function Do(e){xo.dispose(e)}var ko=t=>{var[r,n]=e.useState((()=>void 0===t.defaultState?t.initialState:"function"==typeof t.defaultState?t.defaultState():t.defaultState)),i=e.useRef(t.state);e.useEffect((()=>{i.current=t.state}),[t.state]);var a=e.useCallback((e=>{(function(e){return"function"==typeof e})(e)&&e(i.current)}),[]);return Eo(t.state)?[t.state,a]:[r,n]},Eo=t=>{var[r]=e.useState((()=>void 0!==t));return r};function Ao(e,t){return function(){null==e||e(...arguments),null==t||t(...arguments)}}function Co(e){return Boolean(e.type.isFluentTriggerComponent)}function _o(t){return e.isValidElement(t)?Co(t)?_o(t.props.children):t:null}function To(e,t){return"function"==typeof e?e(t):e?So(e,t):e||null}function So(t,r){if(!e.isValidElement(t)||t.type===e.Fragment)throw new Error("A trigger element must be a single element for this component. Please ensure that you're not using React Fragments.");if(Co(t)){var n=So(t.props.children,r);return e.cloneElement(t,void 0,n)}return e.cloneElement(t,r)}function Fo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(r),!0).forEach((function(t){Bo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bo(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var No=t=>{var r,n,i,a,o,s,l,u=null!==(l=e.useContext(uo))&&void 0!==l?l:co,c=function(){var t=wt()!==bt,[r,n]=e.useState(t);return vt()&&t&&e.useLayoutEffect((()=>{n(!1)}),[]),r}(),{targetDocument:h}=Xt(),[d,f]=Jt(),{appearance:p="normal",children:g,content:m,withArrow:y=!1,positioning:v="above",onVisibleChange:b,relationship:x,showDelay:w=250,hideDelay:D=250,mountNode:k}=t,[E,A]=ko({state:t.visible,initialState:!1}),C=e.useCallback(((e,t)=>{f(),A((r=>(t.visible!==r&&(null==b||b(e,t)),t.visible)))}),[f,A,b]),_={withArrow:y,positioning:v,showDelay:w,hideDelay:D,relationship:x,visible:E,shouldRenderTooltip:E,appearance:p,mountNode:k,components:{content:"div"},content:St(m,{defaultProps:{role:"tooltip"},elementType:"div"})};_.content.id=kt("tooltip-",_.content.id);var T,S=Oo({enabled:_.visible,arrowPadding:8,position:"above",align:"center",offset:4},mi(_.positioning));_.withArrow&&(S.offset=(T=S.offset,"number"==typeof T||"object"==typeof T&&null!==T?xi(T,6):"function"==typeof T?e=>{var t=T(e);return xi(t,6)}:{mainAxis:6}));var{targetRef:F,containerRef:O,arrowRef:B}=function(t){var r=e.useRef(null),n=e.useRef(null),i=e.useRef(null),a=e.useRef(null),o=e.useRef(null),{enabled:s=!0}=t,l=function(t){var{align:r,arrowPadding:n,autoSize:i,coverTarget:a,flipBoundary:o,offset:s,overflowBoundary:l,pinned:u,position:c,unstable_disableTether:h,positionFixed:d,strategy:f,overflowBoundaryPadding:p,fallbackPositions:g,useTransform:m,matchTargetSize:y,disableUpdateOnResize:v=!1,shiftToCoverTarget:b}=t,{dir:x,targetDocument:w}=Xt(),D="rtl"===x,k=(null!=f?f:d)?"fixed":"absolute",E=(e=>{switch(e){case"always":case!0:return{applyMaxWidth:!0,applyMaxHeight:!0};case"width-always":case"width":return{applyMaxWidth:!0,applyMaxHeight:!1};case"height-always":case"height":return{applyMaxWidth:!1,applyMaxHeight:!0};default:return!1}})(i);return e.useCallback(((e,t)=>{var i,d,f,x,w=!!(d=Fa(e))&&d!==(null===(i=d.ownerDocument)||void 0===i?void 0:i.body),A=[E&&Pa(E),y&&{name:"matchTargetSize",fn:(f=function*(e){var{rects:{reference:t,floating:r},elements:{floating:n},middlewareData:{matchTargetSize:{matchTargetSizeAttempt:i=!1}={}}}=e;if(t.width===r.width||i)return{};var{width:a}=t;return n.style.setProperty(ja,"".concat(a,"px")),n.style.width||(n.style.width="var(".concat(ja,")")),{data:{matchTargetSizeAttempt:!0},reset:{rects:!0}}},x=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=f.apply(e,t);function a(e){$a(i,r,n,a,o,"next",e)}function o(e){$a(i,r,n,a,o,"throw",e)}a(void 0)}))},function(e){return x.apply(this,arguments)})},s&&qa(s),a&&{name:"coverTarget",fn:e=>{var{placement:t,rects:r,x:n,y:i}=e,a={x:n,y:i};switch(Ka(t).side){case"bottom":a.y-=r.reference.height;break;case"top":a.y+=r.reference.height;break;case"left":a.x+=r.reference.width;break;case"right":a.x-=r.reference.width}return a}},!u&&Ga({container:e,flipBoundary:o,hasScrollableElement:w,isRtl:D,fallbackPositions:g}),Za({container:e,hasScrollableElement:w,overflowBoundary:l,disableTether:h,overflowBoundaryPadding:p,isRtl:D,shiftToCoverTarget:b}),E&&za(E,{container:e,overflowBoundary:l,overflowBoundaryPadding:p,isRtl:D}),Ja(),t&&_a({element:t,padding:n}),Ca({strategy:"referenceHidden"}),Ca({strategy:"escaped"}),!1].filter(Boolean);return{placement:Oa(r,c,D),middleware:A,strategy:k,useTransform:m,disableUpdateOnResize:v}}),[r,n,E,a,h,o,D,s,l,u,c,k,p,g,m,y,w,v])}(t),u=e.useCallback((()=>{var e;r.current&&r.current.dispose(),r.current=null;var t=null!==(e=i.current)&&void 0!==e?e:n.current;s&&vt()&&t&&a.current&&(r.current=oo(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?so(Object(r),!0).forEach((function(t){lo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):so(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({container:a.current,target:t,arrow:o.current},l(a.current,o.current))))}),[s,l]),c=Jn((e=>{i.current=e,u()}));e.useImperativeHandle(t.positioningRef,(()=>({updatePosition:()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.updatePosition()},setTarget:e=>{t.target,c(e)}})),[t.target,c]),cn((()=>{var e;c(null!==(e=t.target)&&void 0!==e?e:null)}),[t.target,c]),cn((()=>{u()}),[u]);var h=Sa(null,(e=>{n.current!==e&&(n.current=e,u())})),d=Jn((()=>{var e;return null===(e=t.onPositioningEnd)||void 0===e?void 0:e.call(t)}));return{targetRef:h,containerRef:Sa(null,(e=>{var t;a.current!==e&&(null===(t=a.current)||void 0===t||t.removeEventListener(io,d),null==e||e.addEventListener(io,d),a.current=e,u())})),arrowRef:Sa(null,(e=>{o.current!==e&&(o.current=e,u())}))}}(S);_.content.ref=Kr(_.content.ref,O),_.arrowRef=B,cn((()=>{if(E){var e,t={hide:e=>C(void 0,{visible:!1,documentKeyboardEvent:e})};null===(e=u.visibleTooltip)||void 0===e||e.hide(),u.visibleTooltip=t;var r=e=>{"Escape"!==e.key||e.defaultPrevented||(t.hide(e),e.preventDefault())};return null==h||h.addEventListener("keydown",r,{capture:!0}),()=>{u.visibleTooltip===t&&(u.visibleTooltip=void 0),null==h||h.removeEventListener("keydown",r,{capture:!0})}}}),[u,h,E,C]);var N,L=e.useRef(!1),I=e.useCallback((e=>{if("focus"===e.type&&L.current)L.current=!1;else{var t=u.visibleTooltip?0:_.showDelay;d((()=>{C(e,{visible:!0})}),t),e.persist()}}),[d,C,_.showDelay,u]),R=(N=function(){var{targetDocument:t}=Xt(),r=e.useRef(null);return e.useEffect((()=>{if(t){var e=wo(t.defaultView);return r.current=e,()=>{Do(e),r.current=null}}}),[t]),r}(),e.useCallback((()=>{var e,t;return null!==(t=null===(e=N.current)||void 0===e?void 0:e.isNavigatingWithKeyboard())&&void 0!==t&&t}),[N]))(),[M]=e.useState((()=>{var e=e=>{var t;(null===(t=e.detail)||void 0===t?void 0:t.isFocusedProgrammatically)&&!R&&(L.current=!0)},t=null;return r=>{null==t||t.removeEventListener(po,e),null==r||r.addEventListener(po,e),t=r}})),P=e.useCallback((e=>{var t=_.hideDelay;"blur"===e.type&&(t=0,L.current=(null==h?void 0:h.activeElement)===e.target),d((()=>{C(e,{visible:!1})}),t),e.persist()}),[d,C,_.hideDelay,h]);_.content.onPointerEnter=Ao(_.content.onPointerEnter,f),_.content.onPointerLeave=Ao(_.content.onPointerLeave,P),_.content.onFocus=Ao(_.content.onFocus,f),_.content.onBlur=Ao(_.content.onBlur,P);var z=_o(g),$={},j="menu"===(null==z||null===(r=z.props)||void 0===r?void 0:r["aria-haspopup"])&&(null==z||null===(n=z.props)||void 0===n?void 0:n["aria-expanded"]);return"label"===x?"string"==typeof _.content.children?$["aria-label"]=_.content.children:($["aria-labelledby"]=_.content.id,_.shouldRenderTooltip=!0):"description"===x&&($["aria-describedby"]=_.content.id,_.shouldRenderTooltip=!0),(c||j)&&(_.shouldRenderTooltip=!1),_.children=To(g,Oo(Oo(Oo({},$),null==z?void 0:z.props),{},{ref:Kr(null==z?void 0:z.ref,M,void 0===S.target?F:void 0),onPointerEnter:Jn(Ao(null==z||null===(i=z.props)||void 0===i?void 0:i.onPointerEnter,I)),onPointerLeave:Jn(Ao(null==z||null===(a=z.props)||void 0===a?void 0:a.onPointerLeave,P)),onFocus:Jn(Ao(null==z||null===(o=z.props)||void 0===o?void 0:o.onFocus,I)),onBlur:Jn(Ao(null==z||null===(s=z.props)||void 0===s?void 0:s.onBlur,P))})),_};function Lo(e,t){if(e){var r=e;r._virtual||(r._virtual={}),r._virtual.parent=t}}var Io=e.createContext(void 0);Io.Provider;var Ro=e.createContext(void 0);Ro.Provider,":global([".concat("data-keyboard-nav","])");var Mo="data-fui-focus-visible",Po="data-fui-focus-within";function zo(e,t){if($o(e))return()=>{};var r={current:void 0},n=wo(t);function i(e){n.isNavigatingWithKeyboard()&&eo(e)&&(r.current=e,e.setAttribute(Mo,""))}function a(){r.current&&(r.current.removeAttribute(Mo),r.current=void 0)}n.subscribe((e=>{e||a()}));var o=e=>{a(),i(e.composedPath()[0])},s=t=>{(!t.relatedTarget||eo(t.relatedTarget)&&!e.contains(t.relatedTarget))&&a()};return e.addEventListener(po,o),e.addEventListener("focusout",s),e.focusVisible=!0,e.contains(t.document.activeElement)&&i(t.document.activeElement),()=>{a(),e.removeEventListener(po,o),e.removeEventListener("focusout",s),delete e.focusVisible,Do(n)}}function $o(e){return!!e&&(!!e.focusVisible||$o(null==e?void 0:e.parentElement))}var jo=wr({root:{qhf8xq:"f1euv43f",Bhzewxz:"f15twtuk",oyh7mz:["f1vgc2s3","f1e31b4d"],j35jbq:["f1e31b4d","f1vgc2s3"],Bj3rh1h:"f494woh"}},{d:[".f1euv43f{position:absolute;}",".f15twtuk{top:0;}",".f1vgc2s3{left:0;}",".f1e31b4d{right:0;}",".f494woh{z-index:1000000;}"]}),Ko=t.useInsertionEffect,qo=t=>{var r,{targetDocument:n,dir:i}=Xt(),a=e.useContext(Io),o=function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Xt(),i=e.useRef(null),a=null!==(t=r.targetDocument)&&void 0!==t?t:n.targetDocument;return e.useEffect((()=>{if((null==a?void 0:a.defaultView)&&i.current)return zo(i.current,a.defaultView)}),[i,a]),i}(),s=jo(),l=kr(null!==(r=e.useContext(Ro))&&void 0!==r?r:"",s.root,t.className),u=null!=a?a:null==n?void 0:n.body,c=function(r,n){var i,a=e.useMemo,o=e.useEffect,[s,l]=null!=(i=a((()=>(()=>{if(void 0===u||t.disabled)return[null,()=>null];var e=u.ownerDocument.createElement("div");return u.appendChild(e),[e,()=>e.remove()]})()),n))?i:[null,()=>null];return o((()=>l),n),s}(0,[u]);return Ko?Ko((()=>{if(c){var e=l.split(" ").filter(Boolean);return c.classList.add(...e),c.setAttribute("dir",i),c.setAttribute("data-portal-node","true"),o.current=c,()=>{c.classList.remove(...e),c.removeAttribute("dir")}}}),[l,i,c,o]):e.useMemo((()=>{c&&(c.className=l,c.setAttribute("dir",i),c.setAttribute("data-portal-node","true"),o.current=c)}),[l,i,c,o]),c},Uo=i(4060),Ho=t=>{return r=(t=>{var{element:r,className:n}=function(e){return eo(e)?{element:e}:"object"==typeof e?null===e?{element:null}:e:{}}(t.mountNode),i=e.useRef(null),a=qo({disabled:!!r,className:n}),o=null!=r?r:a,s={children:t.children,mountNode:o,virtualParentRootRef:i};return e.useEffect((()=>{if(o){var e=i.current,t=o.contains(e);return e&&!t?(Lo(o,e),()=>{Lo(o,void 0)}):void 0}}),[i,o]),s})(t),e.createElement("span",{hidden:!0,ref:r.virtualParentRootRef},r.mountNode&&Uo.createPortal(r.children,r.mountNode));var r};Ho.displayName="Portal";var Wo=wr({root:{mc9l5x:"fjseox",B7ck84d:"f1ewtqcl",B2u0y6b:"f132xexn",Bceei9c:"f158kwzp",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bg96gwp:"fwrc4pm",Btd35i7:"fokg9q4",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Bgfg5da:0,B9xav0g:0,oivjwe:0,Bn0qgzm:0,B4g9neb:0,zhjwy3:0,wvpqe5:0,ibv6hh:0,u1mtju:0,h3c5rm:0,vrafjx:0,Bekrc4i:0,i8vvqc:0,g2u3we:0,icvyot:0,B4j52fo:0,irswps:"f9ggezi",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1bzqsji",De3pzq:"fxugw4r",sj55zd:"f19n0e5",Bhu2qc9:"fxeb0a7"},visible:{mc9l5x:"ftgm304"},inverted:{De3pzq:"fg3r6xk",sj55zd:"fonrgv7"},arrow:{B7ck84d:"f1ewtqcl",qhf8xq:"f1euv43f",Bj3rh1h:"f1bsuimh",rhnwrx:"f1s3jn22",Bdy53xb:"fv40uqz",De3pzq:"f1u2r49w",B2eet1l:"fqhgnl",Beyfa6y:"f17bz04i",Bz10aip:"f36o3x3",Bqenvij:"fzofk8q",a9b677:"f1wbx1ie",Ftih45:"f1wl9k8s",Br0sdwz:"f1aocrix",cmx5o7:"f1ljr5q2",susq4k:0,Biibvgv:0,Bicfajf:0,qehafq:0,Brs5u8j:"f155f1qt",Ccq8qp:"f9mhzq7",Baz25je:"fr6rhvx",Bcgcnre:0,Bqjgrrk:0,qa3bma:0,y0oebl:0,Biqmznv:0,Bm6vgfq:0,Bbv0w2i:0,uvfttm:0,eqrjj:0,Bk5zm6e:0,m598lv:0,B4f6apu:0,ydt019:0,Bq4z7u6:0,Bdkvgpv:0,B0qfbqy:0,kj8mxx:"f1kc0wz4",r59vdv:"fgq90dz",Bkw5xw4:"fq0y47f",hl6cv3:"f1pwrbz6",aea9ga:"f1hxxcvm",yayu3t:"fw8rgyo",Bhsv975:"f1wnzycx",rhl9o9:"f1730wal",B7gxrvb:"f1fy4ixr",B6q6orb:"fobkauc",B0lu1f8:"f16bqv1l"}},{d:[".fjseox{display:none;}",".f1ewtqcl{box-sizing:border-box;}",".f132xexn{max-width:240px;}",".f158kwzp{cursor:default;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".fokg9q4{overflow-wrap:break-word;}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".f9ggezi{border:1px solid var(--colorTransparentStroke);}",{p:-2}],[".f1bzqsji{padding:4px 11px 6px 11px;}",{p:-1}],".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f19n0e5{color:var(--colorNeutralForeground1);}",".fxeb0a7{filter:drop-shadow(0 0 2px var(--colorNeutralShadowAmbient)) drop-shadow(0 4px 8px var(--colorNeutralShadowKey));}",".ftgm304{display:block;}",".fg3r6xk{background-color:var(--colorNeutralBackgroundStatic);}",".fonrgv7{color:var(--colorNeutralForegroundStaticInverted);}",".f1euv43f{position:absolute;}",".f1bsuimh{z-index:-1;}",".f1s3jn22{--fui-positioning-arrow-height:8.484px;}",".fv40uqz{--fui-positioning-arrow-offset:-4.242px;}",".f1u2r49w{background-color:inherit;}",".fqhgnl{background-clip:content-box;}",".f17bz04i{border-bottom-left-radius:var(--borderRadiusSmall);}",".f36o3x3{transform:rotate(var(--fui-positioning-arrow-angle));}",".fzofk8q{height:var(--fui-positioning-arrow-height);}",".f1wbx1ie{width:var(--fui-positioning-arrow-height);}",'.f1wl9k8s::before{content:"";}',".f1aocrix::before{display:block;}",".f1ljr5q2::before{background-color:inherit;}",[".f155f1qt::before{margin:-1px;}",{p:-1}],".f9mhzq7::before{width:100%;}",".fr6rhvx::before{height:100%;}",[".f1kc0wz4::before{border:1px solid var(--colorTransparentStroke);}",{p:-2}],".fgq90dz::before{border-bottom-left-radius:var(--borderRadiusSmall);}",".fq0y47f::before{clip-path:polygon(0% 0%, 100% 100%, 0% 100%);}",'[data-popper-placement^="top"] .f1pwrbz6{bottom:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="top"] .f1hxxcvm{--fui-positioning-arrow-angle:-45deg;}','[data-popper-placement^="right"] .fw8rgyo{left:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="right"] .f1wnzycx{--fui-positioning-arrow-angle:45deg;}','[data-popper-placement^="bottom"] .f1730wal{top:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="bottom"] .f1fy4ixr{--fui-positioning-arrow-angle:135deg;}','[data-popper-placement^="left"] .fobkauc{right:var(--fui-positioning-arrow-offset);}','[data-popper-placement^="left"] .f16bqv1l{--fui-positioning-arrow-angle:225deg;}']}),Go=t=>{var r=No(t);return(e=>{var t=Wo();e.content.className=kr("fui-Tooltip__content",t.root,"inverted"===e.appearance&&t.inverted,e.visible&&t.visible,e.content.className),e.arrowClassName=t.arrow})(r),_r("useTooltipStyles_unstable")(r),(t=>xr(e.Fragment,{children:[t.children,t.shouldRenderTooltip&&br(Ho,{mountNode:t.mountNode,children:xr(t.content,{children:[t.withArrow&&br("div",{ref:t.arrowRef,className:t.arrowClassName}),t.content.children]})})]}))(r)};Go.displayName="Tooltip",Go.isFluentTriggerComponent=!0;var Vo=e.createContext(void 0),Yo=(Vo.Provider,()=>e.useContext(Vo));function Xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zo(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qo(e,t){return function(e,t,r){if(!e)return t;t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(r),!0).forEach((function(t){Zo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t);var n,i,a,o,s,l,u,c,h,d,f,p,g,{generatedControlId:m,hintId:y,labelFor:v,labelId:b,required:x,validationMessageId:w,validationState:D}=e;(m&&(null!==(i=(n=t).id)&&void 0!==i||(n.id=m)),!b||(null==r?void 0:r.supportsLabelFor)&&v===t.id||null!==(s=(a=t)[o="aria-labelledby"])&&void 0!==s||(a[o]=b),(w||y)&&(t["aria-describedby"]=[w,y,null==t?void 0:t["aria-describedby"]].filter(Boolean).join(" ")),"error"===D&&(null!==(u=(l=t)["aria-invalid"])&&void 0!==u||(l["aria-invalid"]=!0)),x)&&((null==r?void 0:r.supportsRequired)?null!==(f=(d=t).required)&&void 0!==f||(d.required=!0):null!==(g=(p=t)["aria-required"])&&void 0!==g||(p["aria-required"]=!0));return(null==r?void 0:r.supportsSize)&&(null!==(h=(c=t).size)&&void 0!==h||(c.size=e.size)),t}(Yo(),e,t)}var Jo=(e,t,r)=>Math.max(t,Math.min(r,e||0)),es={sliderDirectionVar:"--fui-Slider--direction",sliderProgressVar:"--fui-Slider--progress",sliderStepsPercentVar:"--fui-Slider--steps-percent"},{sliderDirectionVar:ts,sliderStepsPercentVar:rs,sliderProgressVar:ns}=es,is=wr({root:{qhf8xq:"f10pi13n",mc9l5x:"fwk3njj",lpbzjs:"f1sdsnyy",Bt984gj:"f122n59",B7hvi0a:"f1oiokrs"},small:{Bi64ftq:"f1agqo6f",Bslxy2k:"f1mmvox9",Ba19x4e:"f1i7ztpd",sshi5w:"f1pha7fy"},medium:{Bi64ftq:"f1a78h9h",Bslxy2k:"fh1udnr",Ba19x4e:"fuok0yf",sshi5w:"f1nxs5xn"},horizontal:{Bf4jedk:"fyvtabn",wkccdc:"fgfd48t",Budl1dq:"f4t5rw1"},vertical:{sshi5w:"f1pzv1zu",wkccdc:"fktlcaf",Budl1dq:"fiadc6h"},enabled:{B7wi8oa:"f4l8x3l",B250r6j:"f671q34",Bpmy4es:"fvfzmw5",Buw9y6v:"faw1t00",Bq939m0:"fxdgx5",gjzr1t:"fii04fa",tg7hqu:"f36hzz8",ypdvl1:"f1volkfw",Bw5jdd4:"f1xddb6",Bdjie01:"fcdikl",Bvh9j6m:"fhpzgm6",Bvsvvpo:"f1q6pm3h"},disabled:{Bpmy4es:"foojseg",B7wi8oa:"f1lgdqhv",B250r6j:"f1veetlj",ypdvl1:"fu12m3e",Bw5jdd4:"fi9guym",Bdjie01:"fcdjl4u"},focusIndicatorHorizontal:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",Bssx7fj:"f1b1k54r",uh7if5:["f4ne723","fqqcjud"],clntm0:"fh7aioi",Dlk2r6:["fqqcjud","f4ne723"],Bm3wd5j:"f1k55ka9",Bbrhkcr:["fgclinu","f16pcs8n"],f1oku:"fycbxed",aywvf2:["f16pcs8n","fgclinu"],B2j2mmj:"ffht0p2",wigs8:"f1p0ul1q",pbfy6t:"f1c901ms",B0v4ure:"f1alokd7",Byrf0fs:0,Bsiemmq:0,Bwckmig:0,skfxo0:0,Iidy0u:0,B98u21t:0,Bvwlmkc:0,jo1ztg:0,Ba1iezr:0,Blmvk6g:0,B24cy0v:0,Bil7v7r:0,Br3gin4:0,nr063g:0,ghq09:0,Bbgo44z:0,Bseh09z:"fmj8fco",az1dzo:0,Ba3ybja:0,B6352mv:0,vppk2z:0,Biaj6j7:"f1iwowo3",B2pnrqr:"f1pffoy2",B29w5g4:["f1bmyog6","f15fv2gd"],Bhhzhcn:"fs6b7xr",Bec0n69:["f15fv2gd","f1bmyog6"]},focusIndicatorVertical:{Brovlpu:"ftqa4ok",B486eqv:"f2hkw1w",Bssx7fj:"f1b1k54r",uh7if5:["f4ne723","fqqcjud"],clntm0:"fh7aioi",Dlk2r6:["fqqcjud","f4ne723"],Bm3wd5j:"f1k55ka9",Bbrhkcr:["fgclinu","f16pcs8n"],f1oku:"fycbxed",aywvf2:["f16pcs8n","fgclinu"],B2j2mmj:"ffht0p2",wigs8:"f1p0ul1q",pbfy6t:"f1c901ms",B0v4ure:"f1alokd7",Byrf0fs:0,Bsiemmq:0,Bwckmig:0,skfxo0:0,Iidy0u:0,B98u21t:0,Bvwlmkc:0,jo1ztg:0,Ba1iezr:0,Blmvk6g:0,B24cy0v:0,Bil7v7r:0,Br3gin4:0,nr063g:0,ghq09:0,Bbgo44z:0,Bseh09z:"fmj8fco",az1dzo:0,Ba3ybja:0,B6352mv:0,vppk2z:0,Biaj6j7:"f1iwowo3",B2pnrqr:"f1hxpdv8",B29w5g4:["fm5xmfm","femsgmt"],Bhhzhcn:"f1dmxpeg",Bec0n69:["femsgmt","fm5xmfm"]}},{d:[".f10pi13n{position:relative;}",".fwk3njj{display:inline-grid;}",".f1sdsnyy{touch-action:none;}",".f122n59{align-items:center;}",".f1oiokrs{justify-items:center;}",".f1agqo6f{--fui-Slider__thumb--size:16px;}",".f1mmvox9{--fui-Slider__inner-thumb--radius:5px;}",".f1i7ztpd{--fui-Slider__rail--size:2px;}",".f1pha7fy{min-height:24px;}",".f1a78h9h{--fui-Slider__thumb--size:20px;}",".fh1udnr{--fui-Slider__inner-thumb--radius:6px;}",".fuok0yf{--fui-Slider__rail--size:4px;}",".f1nxs5xn{min-height:32px;}",".fyvtabn{min-width:120px;}",".fgfd48t{grid-template-rows:1fr var(--fui-Slider__thumb--size) 1fr;}",".f4t5rw1{grid-template-columns:1fr calc(100% - var(--fui-Slider__thumb--size)) 1fr;}",".f1pzv1zu{min-height:120px;}",".fktlcaf{grid-template-rows:1fr calc(100% - var(--fui-Slider__thumb--size)) 1fr;}",".fiadc6h{grid-template-columns:1fr var(--fui-Slider__thumb--size) 1fr;}",".f4l8x3l{--fui-Slider__rail--color:var(--colorNeutralStrokeAccessible);}",".f671q34{--fui-Slider__progress--color:var(--colorCompoundBrandBackground);}",".fvfzmw5{--fui-Slider__thumb--color:var(--colorCompoundBrandBackground);}",".foojseg{--fui-Slider__thumb--color:var(--colorNeutralForegroundDisabled);}",".f1lgdqhv{--fui-Slider__rail--color:var(--colorNeutralBackgroundDisabled);}",".f1veetlj{--fui-Slider__progress--color:var(--colorNeutralForegroundDisabled);}",".f1b1k54r[data-fui-focus-within]:focus-within{border-top-color:transparent;}",".f4ne723[data-fui-focus-within]:focus-within{border-right-color:transparent;}",".fqqcjud[data-fui-focus-within]:focus-within{border-left-color:transparent;}",".fh7aioi[data-fui-focus-within]:focus-within{border-bottom-color:transparent;}",'.ffht0p2[data-fui-focus-within]:focus-within::after{content:"";}',".f1p0ul1q[data-fui-focus-within]:focus-within::after{position:absolute;}",".f1c901ms[data-fui-focus-within]:focus-within::after{pointer-events:none;}",".f1alokd7[data-fui-focus-within]:focus-within::after{z-index:1;}",[".fmj8fco[data-fui-focus-within]:focus-within::after{border:2px solid var(--colorStrokeFocus2);}",{p:-2}],[".f1iwowo3[data-fui-focus-within]:focus-within::after{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1pffoy2[data-fui-focus-within]:focus-within::after{top:calc(0px - 2px - -2px);}",".f1bmyog6[data-fui-focus-within]:focus-within::after{right:calc(0px - 2px - 8px);}",".f15fv2gd[data-fui-focus-within]:focus-within::after{left:calc(0px - 2px - 8px);}",".fs6b7xr[data-fui-focus-within]:focus-within::after{bottom:calc(0px - 2px - -2px);}",[".fmj8fco[data-fui-focus-within]:focus-within::after{border:2px solid var(--colorStrokeFocus2);}",{p:-2}],[".f1iwowo3[data-fui-focus-within]:focus-within::after{border-radius:var(--borderRadiusMedium);}",{p:-1}],".f1hxpdv8[data-fui-focus-within]:focus-within::after{top:calc(0px - 2px - 6px);}",".fm5xmfm[data-fui-focus-within]:focus-within::after{right:calc(0px - 2px - 4px);}",".femsgmt[data-fui-focus-within]:focus-within::after{left:calc(0px - 2px - 4px);}",".f1dmxpeg[data-fui-focus-within]:focus-within::after{bottom:calc(0px - 2px - 6px);}"],h:[".faw1t00:hover{--fui-Slider__thumb--color:var(--colorCompoundBrandBackgroundHover);}",".fxdgx5:hover{--fui-Slider__progress--color:var(--colorCompoundBrandBackgroundHover);}"],a:[".fii04fa:active{--fui-Slider__thumb--color:var(--colorCompoundBrandBackgroundPressed);}",".f36hzz8:active{--fui-Slider__progress--color:var(--colorCompoundBrandBackgroundPressed);}"],m:[["@media (forced-colors: active){.f1volkfw{--fui-Slider__rail--color:CanvasText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1xddb6{--fui-Slider__thumb--color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcdikl{--fui-Slider__progress--color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fhpzgm6:hover{--fui-Slider__thumb--color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1q6pm3h:hover{--fui-Slider__progress--color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fu12m3e{--fui-Slider__rail--color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fi9guym{--fui-Slider__thumb--color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fcdjl4u{--fui-Slider__progress--color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1k55ka9[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f16pcs8n[data-fui-focus-within]:focus-within::after{border-left-color:Highlight;}.fgclinu[data-fui-focus-within]:focus-within::after{border-right-color:Highlight;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fycbxed[data-fui-focus-within]:focus-within::after{border-bottom-color:Highlight;}}",{m:"(forced-colors: active)"}]],f:[".ftqa4ok:focus{outline-style:none;}"],i:[".f2hkw1w:focus-visible{outline-style:none;}"]}),as=wr({rail:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1kijzfu",Bkecrkj:"f1aehjj5",Ijaq50:"faunodf",nk6f5a:"f88nxoq",Br312pm:"fd46tj4",Bw0ie65:"f1e2fz10",qhf8xq:"f10pi13n",Bvjb7m6:"fdgv6k0",Bcmaq0h:"fizngqt",Bpd4iqm:"fpvhumw",oeaueh:"f1yog68k",Bw0xxkn:"f13sgyd8",Ftih45:"fzhtfnv",Brfgrao:"f1j7ml58",Bbn5juq:"fx36ao7",Brdvuy1:"fux3rle"},horizontal:{a9b677:"fly5x3f",Bqenvij:"f1cy86ho",Fbdkly:["f1heqfse","fkh49vu"],mdwyqc:["fkh49vu","f1heqfse"],Baz25je:"f16tdq4e"},vertical:{a9b677:"fqxfnkd",Bqenvij:"f1l02sjl",Ccq8qp:"f1rik0od",Bciustq:"f14xwovp",lawp4y:"fdehrcx"}},{d:[[".f1kijzfu{border-radius:var(--borderRadiusXLarge);}",{p:-1}],".f1aehjj5{pointer-events:none;}",".faunodf{grid-row-start:2;}",".f88nxoq{grid-row-end:2;}",".fd46tj4{grid-column-start:2;}",".f1e2fz10{grid-column-end:2;}",".f10pi13n{position:relative;}",".fdgv6k0{forced-color-adjust:none;}",".fizngqt{background-image:linear-gradient(\n      var(--fui-Slider--direction),\n      var(--fui-Slider__progress--color) 0%,\n      var(--fui-Slider__progress--color) var(--fui-Slider--progress),\n      var(--fui-Slider__rail--color) var(--fui-Slider--progress)\n    );}",".fpvhumw{outline-width:1px;}",".f1yog68k{outline-style:solid;}",".f13sgyd8{outline-color:var(--colorTransparentStroke);}",".fzhtfnv::before{content:'';}",".f1j7ml58::before{position:absolute;}",".fx36ao7::before{background-image:repeating-linear-gradient(\n        var(--fui-Slider--direction),\n        #0000 0%,\n        #0000 calc(var(--fui-Slider--steps-percent) - 1px),\n        var(--colorNeutralBackground1) calc(var(--fui-Slider--steps-percent) - 1px),\n        var(--colorNeutralBackground1) var(--fui-Slider--steps-percent)\n      );}",".fly5x3f{width:100%;}",".f1cy86ho{height:var(--fui-Slider__rail--size);}",".f1heqfse::before{left:-1px;}",".fkh49vu::before{right:-1px;}",".f16tdq4e::before{height:var(--fui-Slider__rail--size);}",".fqxfnkd{width:var(--fui-Slider__rail--size);}",".f1l02sjl{height:100%;}",".f1rik0od::before{width:var(--fui-Slider__rail--size);}",".f14xwovp::before{top:-1px;}",".fdehrcx::before{bottom:-1px;}"],m:[["@media (forced-colors: active){.fux3rle::before{background-image:repeating-linear-gradient(\n          var(--fui-Slider--direction),\n          #0000 0%,\n          #0000 calc(var(--fui-Slider--steps-percent) - 1px),\n          HighlightText calc(var(--fui-Slider--steps-percent) - 1px),\n          HighlightText var(--fui-Slider--steps-percent)\n        );}}",{m:"(forced-colors: active)"}]]}),os=wr({thumb:{B2lzsem:"ftx3jue",Ijaq50:"faunodf",nk6f5a:"f88nxoq",Br312pm:"fd46tj4",Bw0ie65:"f1e2fz10",qhf8xq:"f1euv43f",a9b677:"f174ca62",Bqenvij:"f1yfdkfd",Bkecrkj:"f1aehjj5",oeaueh:"f1s6fcnf",Bvjb7m6:"fdgv6k0",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9",E5pizo:"fof7hq0",De3pzq:"foksa45",Brfgrao:"f1j7ml58",Bciustq:"f14u7mkt",Fbdkly:["f5zrw40","f1ks5ppg"],lawp4y:"fto0uou",mdwyqc:["f1ks5ppg","f5zrw40"],r59vdv:0,Budzafs:0,ck0cow:0,n07z76:0,Gng75u:"fielpny",Bcvre1j:"fyl8oag",Ftih45:"fzhtfnv",Bcgcnre:0,Bqjgrrk:0,qa3bma:0,y0oebl:0,Biqmznv:0,Bm6vgfq:0,Bbv0w2i:0,uvfttm:0,eqrjj:0,Bk5zm6e:0,m598lv:0,B4f6apu:0,ydt019:0,Bq4z7u6:0,Bdkvgpv:0,B0qfbqy:0,kj8mxx:"f1fsco4d"},disabled:{Bcgcnre:0,Bqjgrrk:0,qa3bma:0,y0oebl:0,Biqmznv:0,Bm6vgfq:0,Bbv0w2i:0,uvfttm:0,eqrjj:0,Bk5zm6e:0,m598lv:0,B4f6apu:0,ydt019:0,Bq4z7u6:0,Bdkvgpv:0,B0qfbqy:0,kj8mxx:"f1pv9hn4"},horizontal:{Bz10aip:["f13gfj74","f1nfknbn"],oyh7mz:["foa2ioz","fjmilum"]},vertical:{Bz10aip:"f5cv5a3",B5kzvoi:"f1k2fpdo"}},{d:[".ftx3jue{--fui-Slider__thumb--position:clamp(var(--fui-Slider__inner-thumb--radius), var(--fui-Slider--progress), calc(100% - var(--fui-Slider__inner-thumb--radius)));}",".faunodf{grid-row-start:2;}",".f88nxoq{grid-row-end:2;}",".fd46tj4{grid-column-start:2;}",".f1e2fz10{grid-column-end:2;}",".f1euv43f{position:absolute;}",".f174ca62{width:var(--fui-Slider__thumb--size);}",".f1yfdkfd{height:var(--fui-Slider__thumb--size);}",".f1aehjj5{pointer-events:none;}",".f1s6fcnf{outline-style:none;}",".fdgv6k0{forced-color-adjust:none;}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}],".fof7hq0{box-shadow:0 0 0 calc(var(--fui-Slider__thumb--size) * .2) var(--colorNeutralBackground1) inset;}",".foksa45{background-color:var(--fui-Slider__thumb--color);}",".f1j7ml58::before{position:absolute;}",".f14u7mkt::before{top:0px;}",".f5zrw40::before{left:0px;}",".f1ks5ppg::before{right:0px;}",".fto0uou::before{bottom:0px;}",[".fielpny::before{border-radius:var(--borderRadiusCircular);}",{p:-1}],".fyl8oag::before{box-sizing:border-box;}",".fzhtfnv::before{content:'';}",[".f1fsco4d::before{border:calc(var(--fui-Slider__thumb--size) * .05) solid var(--colorNeutralStroke1);}",{p:-2}],[".f1pv9hn4::before{border:calc(var(--fui-Slider__thumb--size) * .05) solid var(--colorNeutralForegroundDisabled);}",{p:-2}],".f13gfj74{transform:translateX(-50%);}",".f1nfknbn{transform:translateX(50%);}",".foa2ioz{left:var(--fui-Slider__thumb--position);}",".fjmilum{right:var(--fui-Slider__thumb--position);}",".f5cv5a3{transform:translateY(50%);}",".f1k2fpdo{bottom:var(--fui-Slider__thumb--position);}"]}),ss=wr({input:{Bceei9c:"f1k6fduh",abs64n:"fk73vx1",Ijaq50:"f16hsg94",nk6f5a:"f1nzqi2z",Br312pm:"fwpfdsa",Bw0ie65:"fuur7zz",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1mk8lai",jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao"},disabled:{Bceei9c:"f158kwzp"},horizontal:{Bqenvij:"f1yfdkfd",a9b677:"fly5x3f"},vertical:{Bqenvij:"f1l02sjl",a9b677:"f174ca62",Brp00wb:"f1r9mf01"}},{d:[".f1k6fduh{cursor:pointer;}",".fk73vx1{opacity:0;}",".f16hsg94{grid-row-start:1;}",".f1nzqi2z{grid-row-end:-1;}",".fwpfdsa{grid-column-start:1;}",".fuur7zz{grid-column-end:-1;}",[".f1mk8lai{padding:0;}",{p:-1}],[".f1s184ao{margin:0;}",{p:-1}],".f158kwzp{cursor:default;}",".f1yfdkfd{height:var(--fui-Slider__thumb--size);}",".fly5x3f{width:100%;}",".f1l02sjl{height:100%;}",".f174ca62{width:var(--fui-Slider__thumb--size);}",".f1r9mf01{-webkit-appearance:slider-vertical;}"]});function ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ls(Object(r),!0).forEach((function(t){cs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ls(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cs(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var{sliderStepsPercentVar:hs,sliderProgressVar:ds,sliderDirectionVar:fs}=es;function ps(e){e.removeAttribute(Po)}function gs(e){return!!e&&Boolean(e&&"object"==typeof e&&"classList"in e&&"contains"in e)}function ms(){var{targetDocument:t}=Xt(),r=e.useRef(null);return e.useEffect((()=>{if((null==t?void 0:t.defaultView)&&r.current)return function(e,t){var r=wo(t);r.subscribe((t=>{t||ps(e)}));var n=t=>{r.isNavigatingWithKeyboard()&&gs(t.target)&&e.setAttribute(Po,"")},i=t=>{(!t.relatedTarget||gs(t.relatedTarget)&&!e.contains(t.relatedTarget))&&ps(e)};return e.addEventListener(po,n),e.addEventListener("focusout",i),()=>{e.removeEventListener(po,n),e.removeEventListener("focusout",i),Do(r)}}(r.current,t.defaultView)}),[r,t]),r}function ys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(r),!0).forEach((function(t){bs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bs(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xs=e.forwardRef(((e,t)=>{var r=((e,t)=>{e=Qo(e,{supportsLabelFor:!0});var r=Wt({props:e,primarySlotTagName:"input",excludedPropNames:["onChange","size"]}),{disabled:n,vertical:i,size:a="medium",root:o,input:s,rail:l,thumb:u}=e,c={disabled:n,size:a,vertical:i,components:{input:"input",rail:"div",root:"div",thumb:"div"},root:St(o,{defaultProps:r.root,elementType:"div"}),input:St(s,{defaultProps:vs(vs({id:kt("slider-",e.id),ref:t},r.primary),{},{type:"range",orient:i?"vertical":void 0}),elementType:"input"}),rail:St(l,{elementType:"div"}),thumb:St(u,{elementType:"div"})};return c.root.ref=Kr(c.root.ref,ms()),((e,t)=>{var{min:r=0,max:n=100,step:i}=t,{dir:a}=Xt(),[o,s]=ko({state:t.value,defaultState:t.defaultValue,initialState:0}),l=Jo(o,r,n),u=((e,t,r)=>r===t?0:(e-t)/(r-t)*100)(l,r,n),c=e.input.onChange,h=t.onChange,d=Jn((e=>{var t=Number(e.target.value);s(Jo(t,r,n)),c&&c!==h?c(e):h&&h(e,{value:t})})),f={[fs]:e.vertical?"0deg":"ltr"===a?"90deg":"270deg",[hs]:i&&i>0?"".concat(100*i/(n-r),"%"):"",[ds]:"".concat(u,"%")};e.root.style=us(us({},f),e.root.style),e.input.value=l,e.input.onChange=d})(c,e),c})(e,t);return(e=>{var t=is(),r=as(),n=os(),i=ss(),a=e.vertical;e.root.className=kr("fui-Slider",t.root,a?t.focusIndicatorVertical:t.focusIndicatorHorizontal,t[e.size],a?t.vertical:t.horizontal,e.disabled?t.disabled:t.enabled,e.root.className),e.rail.className=kr("fui-Slider__rail",r.rail,a?r.vertical:r.horizontal,e.rail.className),e.thumb.className=kr("fui-Slider__thumb",n.thumb,a?n.vertical:n.horizontal,e.disabled&&n.disabled,e.thumb.className),e.input.className=kr("fui-Slider__input",i.input,a?i.vertical:i.horizontal,e.disabled&&i.disabled,e.input.className)})(r),_r("useSliderStyles_unstable")(r),(e=>xr(e.root,{children:[br(e.input,{}),br(e.rail,{}),br(e.thumb,{})]}))(r)}));xs.displayName="Slider";var ws=i(3173),Ds=i(9464),ks=(i(2641),function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))}),Es=["parentValue"];function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?As(Object(r),!0).forEach((function(t){_s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _s(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ts="__fuiHeadlessTreeRoot";function*Ss(e,t){var r=t.get(e);if(r&&0!==r.childrenValues.length)for(var n of r.childrenValues)yield t.get(n),yield*Ss(n,t)}function Fs(e,t,r){if(1===e.level)return!0;for(;e.parentValue&&e.parentValue!==r.root.value;){if(!t.has(e.parentValue))return!1;var n=r.get(e.parentValue);if(!n)return!1;e=n}return!0}var Os="ArrowLeft",Bs="ArrowRight",Ns=Zn,Ls="Click",Is="End",Rs="Home",Ms="ArrowUp",Ps="ArrowDown",zs="TypeAhead";function $s(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function js(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){$s(a,n,i,o,s,"next",e)}function s(e){$s(a,n,i,o,s,"throw",e)}o(void 0)}))}}function Ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ks(Object(r),!0).forEach((function(t){Us(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Us(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hs="data-tabster",Ws=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]","details > summary","audio[controls]","video[controls]"].join(", "),Gs=1,Vs=2,Ys=3;function Xs(e,t){var r;return null===(r=e.storageEntry(t))||void 0===r?void 0:r.tabster}function Zs(e,t,r){var n,i,a,o=r||e._noop?void 0:t.getAttribute(Hs),s=e.storageEntry(t);if(o){if(o===(null===(n=null==s?void 0:s.attr)||void 0===n?void 0:n.string))return;try{var l=JSON.parse(o);if("object"!=typeof l)throw new Error("Value is not a JSON object, got '".concat(o,"'."));a={string:o,object:l}}catch(e){}}else if(!s)return;s||(s=e.storageEntry(t,!0)),s.tabster||(s.tabster={});var u=s.tabster||{},c=(null===(i=s.attr)||void 0===i?void 0:i.object)||{},h=(null==a?void 0:a.object)||{};for(var d of Object.keys(c))if(!h[d]){if("root"===d){var f=u[d];f&&e.root.onRoot(f,!0)}switch(d){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":var p=u[d];p&&(p.dispose(),delete u[d]);break;case"observed":delete u[d],e.observedElement&&e.observedElement.onObservedElementUpdate(t);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete u[d]}}for(var g of Object.keys(h)){var m=h.sys;switch(g){case"deloser":u.deloser?u.deloser.setProps(h.deloser):e.deloser&&(u.deloser=e.deloser.createDeloser(t,h.deloser));break;case"root":u.root?u.root.setProps(h.root):u.root=e.root.createRoot(t,h.root,m),e.root.onRoot(u.root);break;case"modalizer":u.modalizer?u.modalizer.setProps(h.modalizer):e.modalizer&&(u.modalizer=e.modalizer.createModalizer(t,h.modalizer,m));break;case"restorer":u.restorer?u.restorer.setProps(h.restorer):e.restorer&&h.restorer&&(u.restorer=e.restorer.createRestorer(t,h.restorer));break;case"focusable":u.focusable=h.focusable;break;case"groupper":u.groupper?u.groupper.setProps(h.groupper):e.groupper&&(u.groupper=e.groupper.createGroupper(t,h.groupper,m));break;case"mover":u.mover?u.mover.setProps(h.mover):e.mover&&(u.mover=e.mover.createMover(t,h.mover,m));break;case"observed":e.observedElement&&(u.observed=h.observed,e.observedElement.onObservedElementUpdate(t));break;case"uncontrolled":u.uncontrolled=h.uncontrolled;break;case"outline":e.outline&&(u.outline=h.outline);break;case"sys":u.sys=h.sys;break;default:console.error("Unknown key '".concat(g,"' in data-tabster attribute value."))}}a?s.attr=a:(0===Object.keys(u).length&&(delete s.tabster,delete s.attr),e.storageEntry(t,!1))}var Qs="tabster:mover:movefocus",Js="tabster:mover:memorized-element",el="undefined"!=typeof CustomEvent?CustomEvent:function(){};class tl extends el{constructor(e,t){super(e,{bubbles:!0,cancelable:!0,composed:!0,detail:t}),this.details=t}}class rl extends tl{constructor(e){super("tabster:focusin",e)}}class nl extends tl{constructor(e){super("tabster:focusout",e)}}class il extends tl{constructor(e){super("tabster:movefocus",e)}}class al extends tl{constructor(e){super("tabster:mover:state",e)}}class ol extends tl{constructor(e){super("tabster:root:focus",e)}}class sl extends tl{constructor(e){super("tabster:root:blur",e)}}var ll,ul={createMutationObserver:e=>new MutationObserver(e),createTreeWalker:(e,t,r,n)=>e.createTreeWalker(t,r,n),getParentNode:e=>e?e.parentNode:null,getParentElement:e=>e?e.parentElement:null,nodeContains:(e,t)=>!(!t||!(null==e?void 0:e.contains(t))),getActiveElement:e=>e.activeElement,querySelector:(e,t)=>e.querySelector(t),querySelectorAll:(e,t)=>Array.prototype.slice.call(e.querySelectorAll(t),0),getElementById:(e,t)=>e.getElementById(t),getFirstChild:e=>(null==e?void 0:e.firstChild)||null,getLastChild:e=>(null==e?void 0:e.lastChild)||null,getNextSibling:e=>(null==e?void 0:e.nextSibling)||null,getPreviousSibling:e=>(null==e?void 0:e.previousSibling)||null,getFirstElementChild:e=>(null==e?void 0:e.firstElementChild)||null,getLastElementChild:e=>(null==e?void 0:e.lastElementChild)||null,getNextElementSibling:e=>(null==e?void 0:e.nextElementSibling)||null,getPreviousElementSibling:e=>(null==e?void 0:e.previousElementSibling)||null,appendChild:(e,t)=>e.appendChild(t),insertBefore:(e,t,r)=>e.insertBefore(t,r),getSelection:e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.getSelection())||null},getElementsByName:(e,t)=>e.ownerDocument.getElementsByName(t)},cl="undefined"!=typeof DOMRect?DOMRect:class{constructor(e,t,r,n){this.left=e||0,this.top=t||0,this.right=(e||0)+(r||0),this.bottom=(t||0)+(n||0)}},hl=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),ll=!1}catch(e){ll=!0}function dl(e){var t=e(),r=t.__tabsterInstanceContext;return r||(r={elementByUId:{},basics:{Promise:t.Promise||void 0,WeakRef:t.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},t.__tabsterInstanceContext=r),r}class fl{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,t){return!e._target||!(!t&&El(e._target.ownerDocument,e._target))&&(delete e._target,!0)}}class pl{constructor(e,t,r){var n,i=dl(e);i.WeakRef?n=new i.WeakRef(t):(n=new fl(t),i.fakeWeakRefs.push(n)),this._ref=n,this._data=r}get(){var e,t=this._ref;return t&&((e=t.deref())||delete this._ref),e}getData(){return this._data}}function gl(e,t){var r=dl(e);r.fakeWeakRefs=r.fakeWeakRefs.filter((e=>!fl.cleanup(e,t)))}function ml(e){var t=dl(e);t.fakeWeakRefsStarted||(t.fakeWeakRefsStarted=!0,t.WeakRef=function(e){return e.basics.WeakRef}(t)),t.fakeWeakRefsTimer||(t.fakeWeakRefsTimer=e().setTimeout((()=>{t.fakeWeakRefsTimer=void 0,gl(e),ml(e)}),12e4))}function yl(e,t,r){if(t.nodeType===Node.ELEMENT_NODE){var n=ll?r:{acceptNode:r};return ul.createTreeWalker(e,t,NodeFilter.SHOW_ELEMENT,n,!1)}}function vl(e,t){var r=t.__tabsterCacheId,n=dl(e),i=r?n.containerBoundingRectCache[r]:void 0;if(i)return i.rect;var a=t.ownerDocument&&t.ownerDocument.documentElement;if(!a)return new cl;var o=0,s=0,l=a.clientWidth,u=a.clientHeight;if(t!==a){var c=t.getBoundingClientRect();o=Math.max(o,c.left),s=Math.max(s,c.top),l=Math.min(l,c.right),u=Math.min(u,c.bottom)}var h=new cl(o<l?o:-1,s<u?s:-1,o<l?l-o:0,s<u?u-s:0);return r||(r="r-"+ ++n.lastContainerBoundingRectCacheId,t.__tabsterCacheId=r),n.containerBoundingRectCache[r]={rect:h,element:t},n.containerBoundingRectCacheTimer||(n.containerBoundingRectCacheTimer=window.setTimeout((()=>{for(var e of(n.containerBoundingRectCacheTimer=void 0,Object.keys(n.containerBoundingRectCache)))delete n.containerBoundingRectCache[e].element.__tabsterCacheId;n.containerBoundingRectCache={}}),50)),h}function bl(e,t,r){var n=xl(t);if(!n)return!1;var i=vl(e,n),a=t.getBoundingClientRect(),o=a.height*(1-r),s=Math.max(0,i.top-a.top)+Math.max(0,a.bottom-i.bottom);return 0===s||s<=o}function xl(e){var t=e.ownerDocument;if(t){for(var r=ul.getParentElement(e);r;r=ul.getParentElement(r))if(r.scrollWidth>r.clientWidth||r.scrollHeight>r.clientHeight)return r;return t.documentElement}return null}function wl(e){return!!e.__shouldIgnoreFocus}function Dl(e,t){var r=dl(e),n=t.__tabsterElementUID;return n||(n=t.__tabsterElementUID=function(e){var t=new Uint32Array(4);if(e.crypto&&e.crypto.getRandomValues)e.crypto.getRandomValues(t);else if(e.msCrypto&&e.msCrypto.getRandomValues)e.msCrypto.getRandomValues(t);else for(var r=0;r<t.length;r++)t[r]=4294967295*Math.random();for(var n=[],i=0;i<t.length;i++)n.push(t[i].toString(36));return n.push("|"),n.push((++hl).toString(36)),n.push("|"),n.push(Date.now().toString(36)),n.join("")}(e())),!r.elementByUId[n]&&El(t.ownerDocument,t)&&(r.elementByUId[n]=new pl(e,t)),n}function kl(e,t){var r=dl(e);for(var n of Object.keys(r.elementByUId)){var i=r.elementByUId[n],a=i&&i.get();a&&t&&!ul.nodeContains(t,a)||delete r.elementByUId[n]}}function El(e,t){return ul.nodeContains(null==e?void 0:e.body,t)}function Al(e,t){var r=e.matches||e.matchesSelector||e.msMatchesSelector||e.webkitMatchesSelector;return r&&r.call(e,t)}var Cl=0;class _l{constructor(e,t,r){var n=e.getWindow;this._tabster=e,this._element=new pl(n,t),this._props=qs({},r),this.id="i"+ ++Cl}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props=qs({},e)}}class Tl{constructor(e,t,r,n,i){var a;this._focusIn=e=>{if(this._fixedTarget){var t=this._fixedTarget.get();t&&yo(t)}else{var r=this.input;if(this.onFocusIn&&r){var n=e.relatedTarget;this.onFocusIn(this,this._isBackward(!0,r,n),n)}}},this._focusOut=e=>{if(!this._fixedTarget){this.useDefaultAction=!1;var t=this.input;if(this.onFocusOut&&t){var r=e.relatedTarget;this.onFocusOut(this,this._isBackward(!1,t,r),r)}}};var o=e(),s=o.document.createElement("i");s.tabIndex=0,s.setAttribute("role","none"),s.setAttribute("data-tabster-dummy",""),s.setAttribute("aria-hidden","true");var l=s.style;l.position="fixed",l.width=l.height="1px",l.opacity="0.001",l.zIndex="-1",l.setProperty("content-visibility","hidden"),function(e){e.__shouldIgnoreFocus=!0}(s),this.input=s,this.isFirst=r.isFirst,this.isOutside=t,this._isPhantom=null!==(a=r.isPhantom)&&void 0!==a&&a,this._fixedTarget=i,s.addEventListener("focusin",this._focusIn),s.addEventListener("focusout",this._focusOut),s.__tabsterDummyContainer=n,this._isPhantom&&(this._disposeTimer=o.setTimeout((()=>{delete this._disposeTimer,this.dispose()}),0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(o.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();var t=this.input;t&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,t.removeEventListener("focusin",this._focusIn),t.removeEventListener("focusout",this._focusOut),delete t.__tabsterDummyContainer,null===(e=ul.getParentNode(t))||void 0===e||e.removeChild(t))}setTopLeft(e,t){var r,n=null===(r=this.input)||void 0===r?void 0:r.style;n&&(n.top="".concat(e,"px"),n.left="".concat(t,"px"))}_isBackward(e,t,r){return e&&!r?!this.isFirst:!!(r&&t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING)}}class Sl{constructor(e,t,r,n,i,a){this._element=t,this._instance=new Ol(e,t,this,r,n,i,a)}_setHandlers(e,t){this._onFocusIn=e,this._onFocusOut=t}moveOut(e){var t;null===(t=this._instance)||void 0===t||t.moveOut(e)}moveOutWithDefaultAction(e,t){var r;null===(r=this._instance)||void 0===r||r.moveOutWithDefaultAction(e,t)}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var t;null===(t=this._instance)||void 0===t||t.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(e,t,r,n,i){var a=new Tl(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(a){var o,s;if("BODY"===t.tagName)o=t,s=r&&n||!r&&!n?ul.getFirstElementChild(t):null;else{var l,u;r&&(!n||n&&!e.focusable.isFocusable(t,!1,!0,!0))?(o=t,s=n?t.firstElementChild:null):(o=ul.getParentElement(t),s=r&&n||!r&&!n?t:ul.getNextElementSibling(t));do{(u=Ll(l=r&&n||!r&&!n?ul.getPreviousElementSibling(s):s))===t?s=r&&n||!r&&!n?l:ul.getNextElementSibling(l):u=null}while(u)}(null==o?void 0:o.dispatchEvent(new il({by:"root",owner:o,next:null,relatedEvent:i})))&&(ul.insertBefore(o,a,s),yo(a))}}static addPhantomDummyWithTarget(e,t,r,n){var i,a,o=new Tl(e.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new pl(e.getWindow,n)).input;o&&(t.querySelector(Ws)&&!r?(i=t,a=ul.getFirstElementChild(t)):(i=ul.getParentElement(t),a=r?t:ul.getNextElementSibling(t)),i&&ul.insertBefore(i,o,a))}}class Fl{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=e=>{var t;this._changedParents.has(e)||(this._changedParents.add(e),this._updateDummyInputsTimer||(this._updateDummyInputsTimer=null===(t=this._win)||void 0===t?void 0:t.call(this).setTimeout((()=>{for(var e of(delete this._updateDummyInputsTimer,this._dummyElements)){var t=e.get();if(t){var r=this._dummyCallbacks.get(t);if(r){var n=ul.getParentNode(t);n&&!this._changedParents.has(n)||r()}}}this._changedParents=new WeakSet}),100)))},this._win=e}add(e,t){!this._dummyCallbacks.has(e)&&this._win&&(this._dummyElements.push(new pl(this._win,e)),this._dummyCallbacks.set(e,t),this.domChanged=this._domChanged)}remove(e){this._dummyElements=this._dummyElements.filter((t=>{var r=t.get();return r&&r!==e})),this._dummyCallbacks.delete(e),0===this._dummyElements.length&&delete this.domChanged}dispose(){var e,t=null===(e=this._win)||void 0===e?void 0:e.call(this);this._updateTimer&&(null==t||t.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(null==t||t.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=null===(e=this._win)||void 0===e?void 0:e.call(this).setTimeout((()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+100<=Date.now()){var e=new Map,t=[];for(var r of this._updateQueue)t.push(r(e));for(var n of(this._updateQueue.clear(),t))n();e.clear()}else this._scheduledUpdatePositions()}),100))}}class Ol{constructor(e,t,r,n,i,a,o){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(e,t,r)=>{this._onFocus(!0,e,t,r)},this._onFocusOut=(e,t,r)=>{this._onFocus(!1,e,t,r)},this.moveOut=e=>{var t,r=this._firstDummy,n=this._lastDummy;if(r&&n){this._ensurePosition();var i,a=r.input,o=n.input,s=null===(t=this._element)||void 0===t?void 0:t.get();a&&o&&s&&(e?(a.tabIndex=0,i=a):(o.tabIndex=0,i=o),i&&yo(i))}},this.moveOutWithDefaultAction=(e,t)=>{var r,n=this._firstDummy,i=this._lastDummy;if(n&&i){this._ensurePosition();var a,o=n.input,s=i.input,l=null===(r=this._element)||void 0===r?void 0:r.get();o&&s&&l&&(e?!n.isOutside&&this._tabster.focusable.isFocusable(l,!0,!0,!0)?a=l:(n.useDefaultAction=!0,o.tabIndex=0,a=o):(i.useDefaultAction=!0,s.tabIndex=0,a=s),a&&l.dispatchEvent(new il({by:"root",owner:l,next:null,relatedEvent:t}))&&yo(a))}},this.setTabbable=(e,t)=>{var r,n;for(var i of this._wrappers)if(i.manager===e){i.tabbable=t;break}var a=this._getCurrent();if(a){var o=a.tabbable?0:-1,s=null===(r=this._firstDummy)||void 0===r?void 0:r.input;s&&(s.tabIndex=o),(s=null===(n=this._lastDummy)||void 0===n?void 0:n.input)&&(s.tabIndex=o)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout((()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()}),0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=e=>{for(var t,r,n=(null===(t=this._firstDummy)||void 0===t?void 0:t.input)||(null===(r=this._lastDummy)||void 0===r?void 0:r.input),i=this._transformElements,a=new Set,o=0,s=0,l=this._getWindow(),u=n;u&&u.nodeType===Node.ELEMENT_NODE;u=ul.getParentElement(u)){var c=e.get(u);if(void 0===c){var h=l.getComputedStyle(u).transform;h&&"none"!==h&&(c={scrollTop:u.scrollTop,scrollLeft:u.scrollLeft}),e.set(u,c||null)}c&&(a.add(u),i.has(u)||u.addEventListener("scroll",this._addTransformOffsets),o+=c.scrollTop,s+=c.scrollLeft)}for(var d of i)a.has(d)||d.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=a,()=>{var e,t;null===(e=this._firstDummy)||void 0===e||e.setTopLeft(o,s),null===(t=this._lastDummy)||void 0===t||t.setTopLeft(o,s)}};var s=t.get();if(!s)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=o;var l=s.__tabsterDummy;if((l||this)._wrappers.push({manager:r,priority:n,tabbable:!0}),l)return l;s.__tabsterDummy=this;var u=null==i?void 0:i.dummyInputsPosition,c=s.tagName;this._isOutside=u?2===u:(a||"UL"===c||"OL"===c||"TABLE"===c)&&!("LI"===c||"TD"===c||"TH"===c),this._firstDummy=new Tl(this._getWindow,this._isOutside,{isFirst:!0},t),this._lastDummy=new Tl(this._getWindow,this._isOutside,{isFirst:!1},t);var h=this._firstDummy.input;h&&e._dummyObserver.add(h,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=t,this._addDummyInputs()}dispose(e,t){var r,n,i,a;if(0===(this._wrappers=this._wrappers.filter((r=>r.manager!==e&&!t))).length){for(var o of(delete(null===(r=this._element)||void 0===r?void 0:r.get()).__tabsterDummy,this._transformElements))o.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();var s=this._getWindow();this._addTimer&&(s.clearTimeout(this._addTimer),delete this._addTimer);var l=null===(n=this._firstDummy)||void 0===n?void 0:n.input;l&&this._tabster._dummyObserver.remove(l),null===(i=this._firstDummy)||void 0===i||i.dispose(),null===(a=this._lastDummy)||void 0===a||a.dispose()}}_onFocus(e,t,r,n){var i,a=this._getCurrent();!a||t.useDefaultAction&&!this._callForDefaultAction||null===(i=a.manager.getHandler(e))||void 0===i||i(t,r,n)}_getCurrent(){return this._wrappers.sort(((e,t)=>e.tabbable!==t.tabbable?e.tabbable?-1:1:e.priority-t.priority)),this._wrappers[0]}_ensurePosition(){var e,t,r,n=null===(e=this._element)||void 0===e?void 0:e.get(),i=null===(t=this._firstDummy)||void 0===t?void 0:t.input,a=null===(r=this._lastDummy)||void 0===r?void 0:r.input;if(n&&i&&a)if(this._isOutside){var o=ul.getParentNode(n);if(o){var s=ul.getNextSibling(n);s!==a&&ul.insertBefore(o,a,s),ul.getPreviousElementSibling(n)!==i&&ul.insertBefore(o,i,n)}}else{ul.getLastElementChild(n)!==a&&ul.appendChild(n,a);var l=ul.getFirstElementChild(n);l&&l!==i&&l.parentNode&&ul.insertBefore(l.parentNode,i,l)}}}function Bl(e){for(var t=null,r=ul.getLastElementChild(e);r;r=ul.getLastElementChild(r))t=r;return t||void 0}function Nl(e){return"INPUT"===e.tagName&&!!e.name&&"radio"===e.type}function Ll(e){var t;return(null===(t=null==e?void 0:e.__tabsterDummyContainer)||void 0===t?void 0:t.get())||null}function Il(e,t){var r=JSON.stringify(e);return!0===t?r:{[Hs]:r}}class Rl extends Sl{constructor(e,t,r,n){super(e,t,1,n,void 0,!0),this._onDummyInputFocus=e=>{var t;if(e.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);var r=this._element.get();if(r){this._setFocused(!0);var n=this._tabster.focusedElement.getFirstOrLastTabbable(e.isFirst,{container:r,ignoreAccessibility:!0});if(n)return void yo(n)}null===(t=e.input)||void 0===t||t.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=r}}class Ml extends _l{constructor(e,t,r,n,i){super(e,t,n),this._isFocused=!1,this._setFocused=e=>{var t;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused!==e){var r=this._element.get();r&&(e?(this._isFocused=!0,null===(t=this._dummyManager)||void 0===t||t.setTabbable(!1),r.dispatchEvent(new ol({element:r}))):this._setFocusedTimer=this._tabster.getWindow().setTimeout((()=>{var e;delete this._setFocusedTimer,this._isFocused=!1,null===(e=this._dummyManager)||void 0===e||e.setTabbable(!0),r.dispatchEvent(new sl({element:r}))}),0))}},this._onFocusIn=e=>{var t=this._tabster.getParent,r=this._element.get(),n=e.composedPath()[0];do{if(n===r)return void this._setFocused(!0);n=n&&t(n)}while(n)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=r;var a=e.getWindow;this.uid=Dl(a,t),this._sys=i,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs();var o=a().document;o.addEventListener(po,this._onFocusIn),o.addEventListener(go,this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new Rl(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);var t=this._tabster.getWindow(),r=t.document;r.removeEventListener(po,this._onFocusIn),r.removeEventListener(go,this._onFocusOut),this._setFocusedTimer&&(t.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),null===(e=this._dummyManager)||void 0===e||e.dispose(),this._remove()}moveOutWithDefaultAction(e,t){var r=this._dummyManager;if(r)r.moveOutWithDefaultAction(e,t);else{var n=this.getElement();n&&Rl.moveWithPhantomDummy(this._tabster,n,!0,e,t)}}_add(){}_remove(){}}class Pl{constructor(e,t){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var e,t=this._win().document,r=t.body;if(r){this._autoRootUnwait(t);var n=this._autoRoot;if(n)return function(e,t,r){var n;if(r){var i=e.getAttribute(Hs);if(i)try{n=JSON.parse(i)}catch(e){}}n||(n={}),function(e,t){for(var r of Object.keys(t)){var n=t[r];n?e[r]=n:delete e[r]}}(n,t),Object.keys(n).length>0?e.setAttribute(Hs,Il(n,!0)):e.removeAttribute(Hs)}(r,{root:n},!0),Zs(this._tabster,r),null===(e=Xs(this._tabster,r))||void 0===e?void 0:e.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,t.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=e=>{delete this._roots[e.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=t,e.queueInit((()=>{this._autoRoot&&this._autoRootCreate()}))}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){var e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach((e=>{this._roots[e]&&(this._roots[e].dispose(),delete this._roots[e])})),this.rootById={}}createRoot(e,t,r){var n=new Ml(this._tabster,e,this._onRootDispose,t,r);return this._roots[n.id]=n,this._forceDummy&&n.addDummyInputs(),n}addDummyInputs(){this._forceDummy=!0;var e=this._roots;for(var t of Object.keys(e))e[t].addDummyInputs()}static getRootByUId(e,t){var r=e().__tabsterInstance;return r&&r.root.rootById[t]}static getTabsterContext(e,t,r){var n,i,a,o;if(void 0===r&&(r={}),t.ownerDocument){var s,l,u,c,{checkRtl:h,referenceElement:d}=r,f=e.getParent;e.drainInitQueue();for(var p,g,m,y,v=!1,b=d||t,x={};b&&(!s||h);){var w=Xs(e,b);if(h&&void 0===m){var D=b.dir;D&&(m="rtl"===D.toLowerCase())}if(w){var k=b.tagName;(w.uncontrolled||"IFRAME"===k||"WEBVIEW"===k)&&(y=b),c||!(null===(n=w.focusable)||void 0===n?void 0:n.excludeFromMover)||u||(v=!0);var E=w.modalizer,A=w.groupper,C=w.mover;!l&&E&&(l=E),u||!A||l&&!E||(l?(!A.isActive()&&A.getProps().tabbability&&l.userId!==(null===(i=e.modalizer)||void 0===i?void 0:i.activeId)&&(l=void 0,u=A),g=A):u=A),c||!C||l&&!E||A&&b===t||!b.contains(t)||(c=C,p=!!u&&u!==A),w.root&&(s=w.root),(null===(a=w.focusable)||void 0===a?void 0:a.ignoreKeydown)&&Object.assign(x,w.focusable.ignoreKeydown),b=f(b)}else b=f(b)}if(!s){var _=e.root;_._autoRoot&&(null===(o=t.ownerDocument)||void 0===o?void 0:o.body)&&(s=_._autoRootCreate())}return u&&!c&&(p=!0),s?{root:s,modalizer:l,groupper:u,mover:c,groupperBeforeMover:p,modalizerInGroupper:g,rtl:h?!!m:void 0,uncontrolled:y,excludedFromMover:v,ignoreKeydown:e=>!!x[e.key]}:void 0}}static getRoot(e,t){for(var r,n=e.getParent,i=t;i;i=n(i)){var a=null===(r=Xs(e,i))||void 0===r?void 0:r.root;if(a)return a}}onRoot(e,t){t?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}class zl{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){var t=this._callbacks;t.indexOf(e)<0&&t.push(e)}subscribeFirst(e){var t=this._callbacks,r=t.indexOf(e);r>=0&&t.splice(r,1),t.unshift(e)}unsubscribe(e){var t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}setVal(e,t){this._val!==e&&(this._val=e,this._callCallbacks(e,t))}getVal(){return this._val}trigger(e,t){this._callCallbacks(e,t)}_callCallbacks(e,t){this._callbacks.forEach((r=>r(e,t)))}}class $l{constructor(e){this._tabster=e}dispose(){}getProps(e){var t=Xs(this._tabster,e);return t&&t.focusable||{}}isFocusable(e,t,r,n){return!(!Al(e,Ws)||!t&&-1===e.tabIndex)&&(r||this.isVisible(e))&&(n||this.isAccessible(e))}isVisible(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE)return!1;if(function(e){var t,r,n=e.ownerDocument,i=null===(t=n.defaultView)||void 0===t?void 0:t.getComputedStyle(e);if(null===e.offsetParent&&n.body!==e&&"fixed"!==(null==i?void 0:i.position))return!0;if("hidden"===(null==i?void 0:i.visibility))return!0;if("fixed"===(null==i?void 0:i.position)){if("none"===i.display)return!0;if(null===(null===(r=e.parentElement)||void 0===r?void 0:r.offsetParent)&&n.body!==e.parentElement)return!0}return!1}(e))return!1;var t=e.ownerDocument.body.getBoundingClientRect();return 0!==t.width||0!==t.height}isAccessible(e){for(var t,r=e;r;r=ul.getParentElement(r)){var n=Xs(this._tabster,r);if(this._isHidden(r))return!1;if(!(null===(t=null==n?void 0:n.focusable)||void 0===t?void 0:t.ignoreAriaDisabled)&&this._isDisabled(r))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var t,r=e.getAttribute("aria-hidden");return!(!r||"true"!==r.toLowerCase()||(null===(t=this._tabster.modalizer)||void 0===t?void 0:t.isAugmented(e)))}findFirst(e,t){return this.findElement(qs({},e),t)}findLast(e,t){return this.findElement(qs({isBackward:!0},e),t)}findNext(e,t){return this.findElement(qs({},e),t)}findPrev(e,t){return this.findElement(qs(qs({},e),{},{isBackward:!0}),t)}findDefault(e,t){return this.findElement(qs(qs({},e),{},{acceptCondition:t=>this.isFocusable(t,e.includeProgrammaticallyFocusable)&&!!this.getProps(t).isDefault}),t)||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e,t){var r=this._findElements(!1,e,t);return r?r[0]:r}_findElements(e,t,r){var n,i,a,{container:o,currentElement:s=null,includeProgrammaticallyFocusable:l,useActiveModalizer:u,ignoreAccessibility:c,modalizerId:h,isBackward:d,onElement:f}=t;r||(r={});var p=[],{acceptCondition:g}=t,m=!!g;if(!o)return null;g||(g=e=>this.isFocusable(e,l,!1,c));var y={container:o,modalizerUserId:void 0===h&&u?null===(n=this._tabster.modalizer)||void 0===n?void 0:n.activeId:h||(null===(a=null===(i=Pl.getTabsterContext(this._tabster,o))||void 0===i?void 0:i.modalizer)||void 0===a?void 0:a.userId),from:s||o,isBackward:d,isFindAll:e,acceptCondition:g,hasCustomCondition:m,includeProgrammaticallyFocusable:l,ignoreAccessibility:c,cachedGrouppers:{},cachedRadioGroups:{}},v=yl(o.ownerDocument,o,(e=>this._acceptElement(e,y)));if(!v)return null;var b=t=>{var n,i,a=null!==(n=y.foundElement)&&void 0!==n?n:y.foundBackward;return a&&p.push(a),e?!(a&&(y.found=!1,delete y.foundElement,delete y.foundBackward,delete y.fromCtx,y.from=a,f&&!f(a))||!a&&!t):(a&&r&&(r.uncontrolled=null===(i=Pl.getTabsterContext(this._tabster,a))||void 0===i?void 0:i.uncontrolled),!(!t||a))};if(s||(r.outOfDOMOrder=!0),s&&ul.nodeContains(o,s))v.currentNode=s;else if(d){var x=Bl(o);if(!x)return null;if(this._acceptElement(x,y)===NodeFilter.FILTER_ACCEPT&&!b(!0))return y.skippedFocusable&&(r.outOfDOMOrder=!0),p;v.currentNode=x}do{d?v.previousNode():v.nextNode()}while(b());return y.skippedFocusable&&(r.outOfDOMOrder=!0),p.length?p:null}_acceptElement(e,t){var r,n,i;if(t.found)return NodeFilter.FILTER_ACCEPT;var a=t.foundBackward;if(a&&(e===a||!ul.nodeContains(a,e)))return t.found=!0,t.foundElement=a,NodeFilter.FILTER_ACCEPT;var o=t.container;if(e===o)return NodeFilter.FILTER_SKIP;if(!ul.nodeContains(o,e))return NodeFilter.FILTER_REJECT;if(Ll(e))return NodeFilter.FILTER_REJECT;if(ul.nodeContains(t.rejectElementsFrom,e))return NodeFilter.FILTER_REJECT;var s,l=t.currentCtx=Pl.getTabsterContext(this._tabster,e);if(!l)return NodeFilter.FILTER_SKIP;if(wl(e))return this.isFocusable(e,void 0,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!t.hasCustomCondition&&("IFRAME"===e.tagName||"WEBVIEW"===e.tagName))return(null===(r=l.modalizer)||void 0===r?void 0:r.userId)===(null===(n=this._tabster.modalizer)||void 0===n?void 0:n.activeId)?(t.found=!0,t.rejectElementsFrom=t.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!t.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),NodeFilter.FILTER_REJECT;var u=t.fromCtx;u||(u=t.fromCtx=Pl.getTabsterContext(this._tabster,t.from));var c=null==u?void 0:u.mover,h=l.groupper,d=l.mover;if(void 0!==(s=null===(i=this._tabster.modalizer)||void 0===i?void 0:i.acceptElement(e,t))&&(t.skippedFocusable=!0),void 0===s&&(h||d||c)){var f=null==h?void 0:h.getElement(),p=null==c?void 0:c.getElement(),g=null==d?void 0:d.getElement();g&&ul.nodeContains(p,g)&&ul.nodeContains(o,p)&&(!f||!d||ul.nodeContains(p,f))&&(d=c,g=p),!f||f!==o&&ul.nodeContains(o,f)||(h=void 0),g&&!ul.nodeContains(o,g)&&(d=void 0),h&&d&&(g&&f&&!ul.nodeContains(f,g)?d=void 0:h=void 0),h&&(s=h.acceptElement(e,t)),d&&(s=d.acceptElement(e,t))}if(void 0===s&&(s=t.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(t.skippedFocusable=!0),s===NodeFilter.FILTER_ACCEPT&&!t.found){if(!t.isFindAll&&Nl(e)&&!e.checked){var m=e.name,y=t.cachedRadioGroups[m];if(y||(y=function(e){if(Nl(e)){var t,r=e.name,n=Array.from(ul.getElementsByName(e,r));return n=n.filter((e=>!!Nl(e)&&(e.checked&&(t=e),!0))),{name:r,buttons:new Set(n),checked:t}}}(e),y&&(t.cachedRadioGroups[m]=y)),(null==y?void 0:y.checked)&&y.checked!==e)return NodeFilter.FILTER_SKIP}t.isBackward?(t.foundBackward=e,s=NodeFilter.FILTER_SKIP):(t.found=!0,t.foundElement=e)}return s}}var jl="Home",Kl="ArrowLeft",ql="ArrowUp",Ul="ArrowRight",Hl="ArrowDown",Wl={[Vs]:0,[Ys]:1,[Gs]:2};class Gl extends zl{constructor(e,t){super(),this._init=()=>{var e=this._win(),t=e.document;t.addEventListener(po,this._onFocusIn,!0),t.addEventListener(go,this._onFocusOut,!0),e.addEventListener("keydown",this._onKeyDown,!0);var r=ul.getActiveElement(t);r&&r!==t.body&&this._setFocusedElement(r),this.subscribe(this._onChanged)},this._onFocusIn=e=>{var t=e.composedPath()[0];t&&this._setFocusedElement(t,e.detail.relatedTarget,e.detail.isFocusedProgrammatically)},this._onFocusOut=e=>{var t;this._setFocusedElement(void 0,null===(t=e.detail)||void 0===t?void 0:t.originalEvent.relatedTarget)},this._validateFocusedElement=e=>{},this._onKeyDown=e=>{if("Tab"===e.key&&!e.ctrlKey){var t=this.getVal();if(t&&t.ownerDocument&&"true"!==t.contentEditable){var r=this._tabster,n=r.controlTab,i=Pl.getTabsterContext(r,t);if(i&&!i.ignoreKeydown(e)){var a=e.shiftKey,o=Gl.findNextTabbable(r,i,void 0,t,void 0,a,!0),s=i.root.getElement();if(s){var l=null==o?void 0:o.element,u=function(e,t){var r,n=e.getParent,i=t;do{var a=null===(r=Xs(e,i))||void 0===r?void 0:r.uncontrolled;if(a&&e.uncontrolled.isUncontrolledCompletely(i,!!a.completely))return i;i=n(i)}while(i)}(r,t);if(l){var c=o.uncontrolled;if(i.uncontrolled||ul.nodeContains(c,t)){if(!o.outOfDOMOrder&&c===i.uncontrolled||u&&!ul.nodeContains(u,l))return;return void Sl.addPhantomDummyWithTarget(r,t,a,l)}if(c||"IFRAME"===l.tagName)return void(s.dispatchEvent(new il({by:"root",owner:s,next:l,relatedEvent:e}))&&Sl.moveWithPhantomDummy(this._tabster,null!=c?c:l,!1,a,e));(n||(null==o?void 0:o.outOfDOMOrder))&&s.dispatchEvent(new il({by:"root",owner:s,next:l,relatedEvent:e}))&&(e.preventDefault(),e.stopImmediatePropagation(),yo(l))}else!u&&s.dispatchEvent(new il({by:"root",owner:s,next:null,relatedEvent:e}))&&i.root.moveOutWithDefaultAction(a,e)}}}}},this._onChanged=(e,t)=>{var r,n;if(e)e.dispatchEvent(new rl(t));else{var i=null===(r=this._lastVal)||void 0===r?void 0:r.get();if(i){var a=qs({},t),o=Pl.getTabsterContext(this._tabster,i),s=null===(n=null==o?void 0:o.modalizer)||void 0===n?void 0:n.userId;s&&(a.modalizerId=s),i.dispatchEvent(new nl(a))}}},this._tabster=e,this._win=t,e.queueInit(this._init)}dispose(){super.dispose();var e=this._win(),t=e.document;t.removeEventListener(po,this._onFocusIn,!0),t.removeEventListener(go,this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged);var r=this._asyncFocus;r&&(e.clearTimeout(r.timeout),delete this._asyncFocus),delete Gl._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,t){var r,n,i=Gl._lastResetElement,a=i&&i.get();a&&ul.nodeContains(t,a)&&delete Gl._lastResetElement,(a=null===(n=null===(r=e._nextVal)||void 0===r?void 0:r.element)||void 0===n?void 0:n.get())&&ul.nodeContains(t,a)&&delete e._nextVal,(a=(i=e._lastVal)&&i.get())&&ul.nodeContains(t,a)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e,t=null===(e=this._lastVal)||void 0===e?void 0:e.get();return(!t||t&&!El(t.ownerDocument,t))&&(this._lastVal=t=void 0),t}focus(e,t,r,n){return!!this._tabster.focusable.isFocusable(e,t,!1,r)&&(e.focus({preventScroll:n}),!0)}focusDefault(e){var t=this._tabster.focusable.findDefault({container:e});return!!t&&(this._tabster.focusedElement.focus(t),!0)}getFirstOrLastTabbable(e,t){var r,n,{container:i,ignoreAccessibility:a}=t;if(i){var o=Pl.getTabsterContext(this._tabster,i);o&&(n=null===(r=Gl.findNextTabbable(this._tabster,o,i,void 0,void 0,!e,a))||void 0===r?void 0:r.element)}return n&&!ul.nodeContains(i,n)&&(n=void 0),n||void 0}_focusFirstOrLast(e,t){var r=this.getFirstOrLastTabbable(e,t);return!!r&&(this.focus(r,!1,!0),!0)}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{var t=e.getAttribute("tabindex"),r=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),Gl._lastResetElement=new pl(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",t),this._setOrRemoveAttribute(e,"aria-hidden",r)}return!0}requestAsyncFocus(e,t,r){var n=this._tabster.getWindow(),i=this._asyncFocus;if(i){if(Wl[e]>Wl[i.source])return;n.clearTimeout(i.timeout)}this._asyncFocus={source:e,callback:t,timeout:n.setTimeout((()=>{this._asyncFocus=void 0,t()}),r)}}cancelAsyncFocus(e){var t=this._asyncFocus;(null==t?void 0:t.source)===e&&(this._tabster.getWindow().clearTimeout(t.timeout),this._asyncFocus=void 0)}_setOrRemoveAttribute(e,t,r){null===r?e.removeAttribute(t):e.setAttribute(t,r)}_setFocusedElement(e,t,r){var n,i;if(!this._tabster._noop){var a={relatedTarget:t};if(e){var o=null===(n=Gl._lastResetElement)||void 0===n?void 0:n.get();if(Gl._lastResetElement=void 0,o===e||wl(e))return;a.isFocusedProgrammatically=r;var s=Pl.getTabsterContext(this._tabster,e),l=null===(i=null==s?void 0:s.modalizer)||void 0===i?void 0:i.userId;l&&(a.modalizerId=l)}var u=this._nextVal={element:e?new pl(this._win,e):void 0,detail:a};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===u&&this.setVal(e,a),this._nextVal=void 0}}setVal(e,t){super.setVal(e,t),e&&(this._lastVal=new pl(this._win,e))}static findNextTabbable(e,t,r,n,i,a,o){var s=r||t.root.getElement();if(!s)return null;var l=null,u=Gl._isTabbingTimer,c=e.getWindow();u&&c.clearTimeout(u),Gl.isTabbing=!0,Gl._isTabbingTimer=c.setTimeout((()=>{delete Gl._isTabbingTimer,Gl.isTabbing=!1}),0);var h=t.modalizer,d=t.groupper,f=t.mover,p=t=>{if(l=t.findNextTabbable(n,i,a,o),n&&!(null==l?void 0:l.element)){var s=t!==h&&ul.getParentElement(t.getElement());if(s){var u=Pl.getTabsterContext(e,n,{referenceElement:s});if(u){var c=t.getElement(),d=a?c:c&&Bl(c)||c;d&&(l=Gl.findNextTabbable(e,u,r,d,s,a,o))&&(l.outOfDOMOrder=!0)}}}};if(d&&f)p(t.groupperBeforeMover?d:f);else if(d)p(d);else if(f)p(f);else if(h)p(h);else{var g={container:s,currentElement:n,referenceElement:i,ignoreAccessibility:o,useActiveModalizer:!0},m={},y=e.focusable[a?"findPrev":"findNext"](g,m);l={element:y,outOfDOMOrder:m.outOfDOMOrder,uncontrolled:m.uncontrolled}}return l}}Gl.isTabbing=!1;class Vl extends zl{constructor(e){super(),this._onChange=e=>{this.setVal(e,void 0)},this._keyborg=wo(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),Do(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var t;null===(t=this._keyborg)||void 0===t||t.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(null===(e=this._keyborg)||void 0===e?void 0:e.isNavigatingWithKeyboard())}}var Yl=["input","textarea","*[contenteditable]"].join(", ");class Xl extends Sl{constructor(e,t,r,n){super(t,e,3,n),this._onFocusDummyInput=e=>{var t,r,n=this._element.get(),i=e.input;if(n&&i){var a,o=Pl.getTabsterContext(this._tabster,n);o&&(a=null===(t=Gl.findNextTabbable(this._tabster,o,void 0,i,void 0,!e.isFirst,!0))||void 0===t?void 0:t.element);var s=null===(r=this._getMemorized())||void 0===r?void 0:r.get();s&&this._tabster.focusable.isFocusable(s)&&(a=s),a&&yo(a)}},this._tabster=t,this._getMemorized=r,this._setHandlers(this._onFocusDummyInput)}}class Zl extends _l{constructor(e,t,r,n,i){var a;super(e,t,n),this._visible={},this._onIntersection=e=>{for(var t of e){var r=t.target,n=Dl(this._win,r),i=void 0,a=this._fullyVisible;if(t.intersectionRatio>=.25?2==(i=t.intersectionRatio>=.75?2:1)&&(a=n):i=0,this._visible[n]!==i){void 0===i?(delete this._visible[n],a===n&&delete this._fullyVisible):(this._visible[n]=i,this._fullyVisible=a);var o=this.getState(r);o&&r.dispatchEvent(new al(o))}}},this._win=e.getWindow,this.visibilityTolerance=null!==(a=n.visibilityTolerance)&&void 0!==a?a:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=r,e.controlTab||(this.dummyManager=new Xl(this._element,e,(()=>n.memorizeCurrent?this._current:void 0),i))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);var t=this._win();this._setCurrentTimer&&(t.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(t.clearTimeout(this._updateTimer),delete this._updateTimer),null===(e=this.dummyManager)||void 0===e||e.dispose(),delete this.dummyManager}setCurrent(e){this._current=e?new pl(this._win,e):void 0,!this._props.trackState&&!this._props.visibilityAware||this._setCurrentTimer||(this._setCurrentTimer=this._win().setTimeout((()=>{var e;delete this._setCurrentTimer;var t=[];for(var r of(this._current!==this._prevCurrent&&(t.push(this._current),t.push(this._prevCurrent),this._prevCurrent=this._current),t)){var n=null==r?void 0:r.get();if(n&&(null===(e=this._allElements)||void 0===e?void 0:e.get(n))===this){var i=this._props;if(n&&(void 0!==i.visibilityAware||i.trackState)){var a=this.getState(n);a&&n.dispatchEvent(new al(a))}}}})))}getCurrent(){var e;return(null===(e=this._current)||void 0===e?void 0:e.get())||null}findNextTabbable(e,t,r,n){var i=this.getElement(),a=i&&Ll(e)===i;if(!i)return null;var o,s=null,l=!1;if(this._props.tabbable||a||e&&!ul.nodeContains(i,e)){var u={currentElement:e,referenceElement:t,container:i,ignoreAccessibility:n,useActiveModalizer:!0},c={};s=this._tabster.focusable[r?"findPrev":"findNext"](u,c),l=!!c.outOfDOMOrder,o=c.uncontrolled}return{element:s,uncontrolled:o,outOfDOMOrder:l}}acceptElement(e,t){var r,n;if(!Gl.isTabbing)return(null===(r=t.currentCtx)||void 0===r?void 0:r.excludedFromMover)?NodeFilter.FILTER_REJECT:void 0;var{memorizeCurrent:i,visibilityAware:a,hasDefault:o=!0}=this._props,s=this.getElement();if(s&&(i||a||o)&&(!ul.nodeContains(s,t.from)||Ll(t.from)===s)){var l;if(i){var u=null===(n=this._current)||void 0===n?void 0:n.get();u&&t.acceptCondition(u)&&(l=u)}if(!l&&o&&(l=this._tabster.focusable.findDefault({container:s,useActiveModalizer:!0})),!l&&a&&(l=this._tabster.focusable.findElement({container:s,useActiveModalizer:!0,isBackward:t.isBackward,acceptCondition:e=>{var r,n=Dl(this._win,e),i=this._visible[n];return s!==e&&!!(null===(r=this._allElements)||void 0===r?void 0:r.get(e))&&t.acceptCondition(e)&&(2===i||1===i&&(1===a||!this._fullyVisible))}})),l)return t.found=!0,t.foundElement=l,t.rejectElementsFrom=s,t.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){var e=this.getElement();if(!this._unobserve&&e&&"undefined"!=typeof MutationObserver){var t=this._win(),r=this._allElements=new WeakMap,n=this._tabster.focusable,i=this._updateQueue=[],a=ul.createMutationObserver((e=>{for(var t of e){var r=t.target,n=t.removedNodes,a=t.addedNodes;if("attributes"===t.type)"tabindex"===t.attributeName&&i.push({element:r,type:2});else{for(var o=0;o<n.length;o++)i.push({element:n[o],type:3});for(var s=0;s<a.length;s++)i.push({element:a[s],type:1})}}c()})),o=(e,t)=>{var n,i,a=r.get(e);a&&t&&(null===(n=this._intersectionObserver)||void 0===n||n.unobserve(e),r.delete(e)),a||t||(r.set(e,this),null===(i=this._intersectionObserver)||void 0===i||i.observe(e))},s=e=>{var t=n.isFocusable(e);r.get(e)?t||o(e,!0):t&&o(e)},l=e=>{var{mover:r}=h(e);if(r&&r!==this){if(r.getElement()!==e||!n.isFocusable(e))return;o(e)}var i=yl(t.document,e,(e=>{var{mover:t,groupper:r}=h(e);if(t&&t!==this)return NodeFilter.FILTER_REJECT;var i=null==r?void 0:r.getFirst(!0);return r&&r.getElement()!==e&&i&&i!==e?NodeFilter.FILTER_REJECT:(n.isFocusable(e)&&o(e),NodeFilter.FILTER_SKIP)}));if(i)for(i.currentNode=e;i.nextNode(););},u=e=>{r.get(e)&&o(e,!0);for(var t=ul.getFirstElementChild(e);t;t=ul.getNextElementSibling(t))u(t)},c=()=>{!this._updateTimer&&i.length&&(this._updateTimer=t.setTimeout((()=>{for(var{element:e,type:t}of(delete this._updateTimer,i))switch(t){case 2:s(e);break;case 1:l(e);break;case 3:u(e)}i=this._updateQueue=[]}),0))},h=e=>{for(var t={},r=e;r;r=ul.getParentElement(r)){var n=Xs(this._tabster,r);if(n&&(n.groupper&&!t.groupper&&(t.groupper=n.groupper),n.mover)){t.mover=n.mover;break}}return t};i.push({element:e,type:1}),c(),a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{a.disconnect()}}}getState(e){var t=Dl(this._win,e);if(t in this._visible){var r=this._visible[t]||0;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:r}}}}class Ql{constructor(e,t){var r=this;this._init=()=>{var e=this._win();e.addEventListener("keydown",this._onKeyDown,!0),e.addEventListener(Qs,this._onMoveFocus),e.addEventListener(Js,this._onMemorizedElement),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=e=>{delete this._movers[e.id]},this._onFocus=e=>{for(var t,r=e,n=e,i=ul.getParentElement(e);i;i=ul.getParentElement(i)){var a=null===(t=Xs(this._tabster,i))||void 0===t?void 0:t.mover;a&&(a.setCurrent(n),r=void 0),!r&&this._tabster.focusable.isFocusable(i)&&(r=n=i)}},this._onKeyDown=function(){var e=js((function*(e){var t;if(r._ignoredInputTimer&&(r._win().clearTimeout(r._ignoredInputTimer),delete r._ignoredInputTimer),null===(t=r._ignoredInputResolve)||void 0===t||t.call(r,!1),!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)){var n,i=e.key;if(i===Hl?n=2:i===Ul?n=4:i===ql?n=1:i===Kl?n=3:"PageDown"===i?n=6:"PageUp"===i?n=5:i===jl?n=7:"End"===i&&(n=8),n){var a=r._tabster.focusedElement.getFocusedElement();a&&!(yield r._isIgnoredInput(a,i))&&r._moveFocus(a,n,e)}}}));return function(t){return e.apply(this,arguments)}}(),this._onMoveFocus=e=>{var t,r=e.composedPath()[0],n=null===(t=e.detail)||void 0===t?void 0:t.key;r&&void 0!==n&&!e.defaultPrevented&&(this._moveFocus(r,n),e.stopImmediatePropagation())},this._onMemorizedElement=e=>{var t,r=e.composedPath()[0],n=null===(t=e.detail)||void 0===t?void 0:t.memorizedElement;if(r){var i=Pl.getTabsterContext(this._tabster,r),a=null==i?void 0:i.mover;a&&(n&&!ul.nodeContains(a.getElement(),n)&&(n=void 0),a.setCurrent(n),e.stopImmediatePropagation())}},this._tabster=e,this._win=t,this._movers={},e.queueInit(this._init)}dispose(){var e,t=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),null===(e=this._ignoredInputResolve)||void 0===e||e.call(this,!1),this._ignoredInputTimer&&(t.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener(Qs,this._onMoveFocus),t.removeEventListener(Js,this._onMemorizedElement),Object.keys(this._movers).forEach((e=>{this._movers[e]&&(this._movers[e].dispose(),delete this._movers[e])}))}createMover(e,t,r){var n=new Zl(this._tabster,e,this._onMoverDispose,t,r);return this._movers[n.id]=n,n}moveFocus(e,t){return this._moveFocus(e,t)}_moveFocus(e,t,r){var n,i,a=this._tabster,o=Pl.getTabsterContext(a,e,{checkRtl:!0});if(!o||!o.mover||o.excludedFromMover||r&&o.ignoreKeydown(r))return null;var s=o.mover,l=s.getElement();if(o.groupperBeforeMover){var u=o.groupper;if(!u||u.isActive(!0))return null;for(var c=ul.getParentElement(u.getElement());c&&c!==l;c=ul.getParentElement(c))if(null===(i=null===(n=Xs(a,c))||void 0===n?void 0:n.groupper)||void 0===i?void 0:i.isActive(!0))return null}if(!l)return null;var h,d,f,p=a.focusable,g=s.getProps(),m=g.direction||0,y=0===m,v=y||1===m,b=y||2===m,x=4===m,w=x||3===m,D=g.cyclic,k=0,E=0;if(w&&(f=e.getBoundingClientRect(),k=Math.ceil(f.left),E=Math.floor(f.right)),o.rtl&&(4===t?t=3:3===t&&(t=4)),2===t&&v||4===t&&(b||w))if((h=p.findNext({currentElement:e,container:l,useActiveModalizer:!0}))&&w){var A=Math.ceil(h.getBoundingClientRect().left);!x&&E>A&&(h=void 0)}else!h&&D&&(h=p.findFirst({container:l,useActiveModalizer:!0}));else if(1===t&&v||3===t&&(b||w))if((h=p.findPrev({currentElement:e,container:l,useActiveModalizer:!0}))&&w){var C=Math.floor(h.getBoundingClientRect().right);!x&&C>k&&(h=void 0)}else!h&&D&&(h=p.findLast({container:l,useActiveModalizer:!0}));else if(7===t)w?p.findElement({container:l,currentElement:e,useActiveModalizer:!0,isBackward:!0,acceptCondition:t=>{var r;if(!p.isFocusable(t))return!1;var n=Math.ceil(null!==(r=t.getBoundingClientRect().left)&&void 0!==r?r:0);return t!==e&&k<=n||(h=t,!1)}}):h=p.findFirst({container:l,useActiveModalizer:!0});else if(8===t)w?p.findElement({container:l,currentElement:e,useActiveModalizer:!0,acceptCondition:t=>{var r;if(!p.isFocusable(t))return!1;var n=Math.ceil(null!==(r=t.getBoundingClientRect().left)&&void 0!==r?r:0);return t!==e&&k>=n||(h=t,!1)}}):h=p.findLast({container:l,useActiveModalizer:!0});else if(5===t){if(p.findElement({currentElement:e,container:l,useActiveModalizer:!0,isBackward:!0,acceptCondition:e=>!(!p.isFocusable(e)||bl(this._win,e,s.visibilityTolerance)&&(h=e,1))}),w&&h){var _=Math.ceil(h.getBoundingClientRect().left);p.findElement({currentElement:h,container:l,useActiveModalizer:!0,acceptCondition:e=>{if(!p.isFocusable(e))return!1;var t=Math.ceil(e.getBoundingClientRect().left);return k<t||_>=t||(h=e,!1)}})}d=!1}else if(6===t){if(p.findElement({currentElement:e,container:l,useActiveModalizer:!0,acceptCondition:e=>!(!p.isFocusable(e)||bl(this._win,e,s.visibilityTolerance)&&(h=e,1))}),w&&h){var T=Math.ceil(h.getBoundingClientRect().left);p.findElement({currentElement:h,container:l,useActiveModalizer:!0,isBackward:!0,acceptCondition:e=>{if(!p.isFocusable(e))return!1;var t=Math.ceil(e.getBoundingClientRect().left);return k>t||T<=t||(h=e,!1)}})}d=!0}else if(w){var S,F,O=1===t,B=k,N=Math.ceil(f.top),L=E,I=Math.floor(f.bottom),R=0;p.findAll({container:l,currentElement:e,isBackward:O,onElement:e=>{var t=e.getBoundingClientRect(),r=Math.ceil(t.left),n=Math.ceil(t.top),i=Math.floor(t.right),a=Math.floor(t.bottom);if(O&&N<a||!O&&I>n)return!0;var o=Math.ceil(Math.min(L,i))-Math.floor(Math.max(B,r)),s=Math.ceil(Math.min(L-B,i-r));if(o>0&&s>=o){var l=o/s;l>R&&(S=e,R=l)}else if(0===R){var u=function(e,t,r,n,i,a,o,s){var l=r<i?i-r:o<e?e-o:0,u=n<a?a-n:s<t?t-s:0;return 0===l?u:0===u?l:Math.sqrt(l*l+u*u)}(B,N,L,I,r,n,i,a);(void 0===F||u<F)&&(F=u,S=e)}else if(R>0)return!1;return!0}}),h=S}return h&&(!r||r&&l.dispatchEvent(new il({by:"mover",owner:l,next:h,relatedEvent:r})))?(void 0!==d&&function(e,t,r){var n=xl(t);if(n){var i=vl(e,n),a=t.getBoundingClientRect();n.scrollTop+=r?a.top-i.top:a.bottom-i.bottom}}(this._win,h,d),r&&(r.preventDefault(),r.stopImmediatePropagation()),yo(h),h):null}_isIgnoredInput(e,t){var r=this;return js((function*(){if("true"===e.getAttribute("aria-expanded")&&e.hasAttribute("aria-activedescendant"))return!0;if(Al(e,Yl)){var n,i=0,a=0,o=0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName){var s=e.type,l=e.value;if(o=(l||"").length,"email"===s||"number"===s){if(o){var u=ul.getSelection(e);if(u){var c=u.toString().length,h=t===Kl||t===ql;if(u.modify("extend",h?"backward":"forward","character"),c!==u.toString().length)return u.modify("extend",h?"forward":"backward","character"),!0;o=0}}}else{var d=e.selectionStart;if(null===d)return"hidden"===s;i=d||0,a=e.selectionEnd||0}}else"true"===e.contentEditable&&(n=new(function(e){var t=dl(e);if(t.basics.Promise)return t.basics.Promise;throw new Error("No Promise defined.")}(r._win))((t=>{r._ignoredInputResolve=e=>{delete r._ignoredInputResolve,t(e)};var n=r._win();r._ignoredInputTimer&&n.clearTimeout(r._ignoredInputTimer);var{anchorNode:s,focusNode:l,anchorOffset:u,focusOffset:c}=ul.getSelection(e)||{};r._ignoredInputTimer=n.setTimeout((()=>{var t,n,h;delete r._ignoredInputTimer;var{anchorNode:d,focusNode:f,anchorOffset:p,focusOffset:g}=ul.getSelection(e)||{};if(d===s&&f===l&&p===u&&g===c){if(i=p||0,a=g||0,o=(null===(n=e.textContent)||void 0===n?void 0:n.length)||0,d&&f&&ul.nodeContains(e,d)&&ul.nodeContains(e,f)&&d!==e){var m=!1,y=e=>{if(e===d)m=!0;else if(e===f)return!0;var t=e.textContent;if(t&&!ul.getFirstChild(e)){var r=t.length;m?f!==d&&(a+=r):(i+=r,a+=r)}for(var n=!1,o=ul.getFirstChild(e);o&&!n;o=o.nextSibling)n=y(o);return n};y(e)}null===(h=r._ignoredInputResolve)||void 0===h||h.call(r,!0)}else null===(t=r._ignoredInputResolve)||void 0===t||t.call(r,!1)}),0)})));if(n&&!(yield n))return!0;if(i!==a)return!0;if(i>0&&(t===Kl||t===ql||t===jl))return!0;if(i<o&&(t===Ul||t===Hl||"End"===t))return!0}return!1}))()}}class Jl{constructor(e){this._isUncontrolledCompletely=e}isUncontrolledCompletely(e,t){var r,n=null===(r=this._isUncontrolledCompletely)||void 0===r?void 0:r.call(this,e,t);return void 0===n?t:n}}class eu{constructor(e){this._stack=[],this._getWindow=e}push(e){var t;(null===(t=this._stack[this._stack.length-1])||void 0===t?void 0:t.get())!==e&&(this._stack.length>eu.DEPTH&&this._stack.shift(),this._stack.push(new pl(this._getWindow,e)))}pop(e){var t;void 0===e&&(e=()=>!0);for(var r=this._getWindow().document,n=this._stack.length-1;n>=0;n--){var i=null===(t=this._stack.pop())||void 0===t?void 0:t.get();if(i&&ul.nodeContains(r.body,ul.getParentElement(i))&&e(i))return i}}}eu.DEPTH=10;class tu{static _overrideAttachShadow(e){var t=e.Element.prototype.attachShadow;t.__origAttachShadow||(Element.prototype.attachShadow=function(e){var r=t.call(this,e);for(var n of tu._shadowObservers)n._addSubObserver(r);return r},Element.prototype.attachShadow.__origAttachShadow=t)}constructor(e){this._isObserving=!1,this._callbackWrapper=(e,t)=>{for(var r of e)if("childList"===r.type){for(var n=r.removedNodes,i=r.addedNodes,a=0;a<n.length;a++)this._walkShadows(n[a],!0);for(var o=0;o<i.length;o++)this._walkShadows(i[o])}this._callback(e,t)},this._callback=e,this._observer=new MutationObserver(this._callbackWrapper),this._subObservers=new Map}_addSubObserver(e){if(this._options&&this._callback&&!this._subObservers.has(e)&&this._options.subtree&&function(e,t){var r,n;if(!e||!t)return!1;for(var i=t;i;){if(i===e)return!0;i="function"!=typeof i.assignedElements&&(null===(r=i.assignedSlot)||void 0===r?void 0:r.parentNode)?null===(n=i.assignedSlot)||void 0===n?void 0:n.parentNode:i.nodeType===document.DOCUMENT_FRAGMENT_NODE?i.host:i.parentNode}return!1}(this._root,e)){var t=new MutationObserver(this._callbackWrapper);this._subObservers.set(e,t),this._isObserving&&t.observe(e,this._options),this._walkShadows(e)}}disconnect(){for(var e of(this._isObserving=!1,delete this._options,tu._shadowObservers.delete(this),this._subObservers.values()))e.disconnect();this._subObservers.clear(),this._observer.disconnect()}observe(e,t){var r=e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument,n=null==r?void 0:r.defaultView;r&&n&&(tu._overrideAttachShadow(n),tu._shadowObservers.add(this),this._root=e,this._options=t,this._isObserving=!0,this._observer.observe(e,t),this._walkShadows(e))}_walkShadows(e,t){var r=e.nodeType===Node.DOCUMENT_NODE?e:e.ownerDocument;if(r){if(e===r)e=r.body;else{var n=e.shadowRoot;if(n)return void this._addSubObserver(n)}r.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{if(e.nodeType===Node.ELEMENT_NODE)if(t){var r=this._subObservers.get(e);r&&(r.disconnect(),this._subObservers.delete(e))}else{var n=e.shadowRoot;n&&this._addSubObserver(n)}return NodeFilter.FILTER_SKIP}}).nextNode()}}takeRecords(){var e=this._observer.takeRecords();for(var t of this._subObservers.values())e.push(...t.takeRecords());return e}}tu._shadowObservers=new Set;class ru{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}}class nu{constructor(e,t){var r,n;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="8.2.0",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=function(e){var t=e.__tabsterInstanceContext;return new((null==t?void 0:t.basics.WeakMap)||WeakMap)}(e),this._win=e;var i=this.getWindow;(null==t?void 0:t.DOMAPI)&&function(e){for(var t of Object.keys(e))ul[t]=e[t]}(qs({},t.DOMAPI)),this.keyboardNavigation=new Vl(i),this.focusedElement=new Gl(this,i),this.focusable=new $l(this),this.root=new Pl(this,null==t?void 0:t.autoRoot),this.uncontrolled=new Jl((null==t?void 0:t.checkUncontrolledCompletely)||(null==t?void 0:t.checkUncontrolledTrappingFocus)),this.controlTab=null===(r=null==t?void 0:t.controlTab)||void 0===r||r,this.rootDummyInputs=!!(null==t?void 0:t.rootDummyInputs),this._dummyObserver=new Fl(i),this.getParent=null!==(n=null==t?void 0:t.getParent)&&void 0!==n?n:ul.getParentNode,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:e=>{if(!this._unobserve){var t=i().document;this._unobserve=function(e,t,r,n){if("undefined"==typeof MutationObserver)return()=>{};var i,a=t.getWindow;function o(t,r){i||(i=dl(a).elementByUId),s(t,r);var n=yl(e,t,(e=>s(e,r)));if(n)for(;n.nextNode(););}function s(e,n){var o;if(!e.getAttribute)return NodeFilter.FILTER_SKIP;var s=e.__tabsterElementUID;return s&&i&&(n?delete i[s]:null!==(o=i[s])&&void 0!==o||(i[s]=new pl(a,e))),(Xs(t,e)||e.hasAttribute(Hs))&&r(t,e,n),NodeFilter.FILTER_SKIP}var l=ul.createMutationObserver((e=>{var n,i,a,s,l,u=new Set;for(var c of e){var h=c.target,d=c.removedNodes,f=c.addedNodes;if("attributes"===c.type)c.attributeName===Hs&&(u.has(h)||r(t,h));else{for(var p=0;p<d.length;p++){var g=d[p];u.add(g),o(g,!0),null===(i=(n=t._dummyObserver).domChanged)||void 0===i||i.call(n,h)}for(var m=0;m<f.length;m++)o(f[m]),null===(s=(a=t._dummyObserver).domChanged)||void 0===s||s.call(a,h)}}u.clear(),null===(l=t.modalizer)||void 0===l||l.hiddenUpdate()}));return n&&o(a().document.body),l.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[Hs]}),()=>{l.disconnect()}}(t,this,Zs,e)}}},ml(i),this.queueInit((()=>{this.internal.resumeObserver(!0)}))}_mergeProps(e){var t;e&&(this.getParent=null!==(t=e.getParent)&&void 0!==t?t:this.getParent)}createTabster(e,t){var r=new ru(this);return e||this._wrappers.add(r),this._mergeProps(t),r}disposeTabster(e,t){t?this._wrappers.clear():this._wrappers.delete(e),0===this._wrappers.size&&this.dispose()}dispose(){var e,t,r,n,i,a,o,s;this.internal.stopObserver();var l,u,c=this._win;null==c||c.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],c&&this._forgetMemorizedTimer&&(c.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),null===(e=this.outline)||void 0===e||e.dispose(),null===(t=this.crossOrigin)||void 0===t||t.dispose(),null===(r=this.deloser)||void 0===r||r.dispose(),null===(n=this.groupper)||void 0===n||n.dispose(),null===(i=this.mover)||void 0===i||i.dispose(),null===(a=this.modalizer)||void 0===a||a.dispose(),null===(o=this.observedElement)||void 0===o||o.dispose(),null===(s=this.restorer)||void 0===s||s.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),(u=dl(l=this.getWindow)).fakeWeakRefsStarted=!1,u.fakeWeakRefsTimer&&(l().clearTimeout(u.fakeWeakRefsTimer),u.fakeWeakRefsTimer=void 0,u.fakeWeakRefs=[]),kl(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),c&&(function(e){var t=e.__tabsterInstanceContext;t&&(t.elementByUId={},delete t.WeakRef,t.containerBoundingRectCache={},t.containerBoundingRectCacheTimer&&e.clearTimeout(t.containerBoundingRectCacheTimer),t.fakeWeakRefsTimer&&e.clearTimeout(t.fakeWeakRefsTimer),t.fakeWeakRefs=[],delete e.__tabsterInstanceContext)}(c),delete c.__tabsterInstance,delete this._win)}storageEntry(e,t){var r=this._storage,n=r.get(e);return n?!1===t&&0===Object.keys(n).length&&r.delete(e):!0===t&&(n={},r.set(e,n)),n}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),this._forgetMemorizedTimer||(this._forgetMemorizedTimer=this._win.setTimeout((()=>{delete this._forgetMemorizedTimer;for(var e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())kl(this.getWindow,e),Gl.forgetMemorized(this.focusedElement,e)}),0),gl(this.getWindow,!0)))}queueInit(e){var t;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=null===(t=this._win)||void 0===t?void 0:t.setTimeout((()=>{delete this._initTimer,this.drainInitQueue()}),0)))}drainInitQueue(){if(this._win){var e=this._initQueue;this._initQueue=[],e.forEach((e=>e()))}}}function iu(e){if(!e)return null;if(!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipVirtual){var t=function(e){return(t=e)&&t._virtual&&e._virtual.parent||null;var t}(e);if(t)return t}var r=e.parentNode;return r&&r.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r.host:r}var au=()=>{var{targetDocument:t}=Xt(),r=(null==t?void 0:t.defaultView)||void 0,n=null==r?void 0:r.__tabsterShadowDOMAPI,i=e.useMemo((()=>r?function(e,t){var r=function(e){return e.__tabsterInstance}(e);return r?r.createTabster(!1,t):(r=new nu(e,t),e.__tabsterInstance=r,r.createTabster())}(r,{autoRoot:{},controlTab:!1,getParent:iu,checkUncontrolledTrappingFocus:e=>{var t;return!!(null===(t=e.firstElementChild)||void 0===t?void 0:t.hasAttribute("data-is-focus-trap-zone-bumper"))},DOMAPI:n}):null),[r,n]);return cn((()=>()=>{i&&function(e){e.core.disposeTabster(e,void 0)}(i)}),[i]),i};function ou(e,t){if(!e||!t)return!1;if(e===t)return!0;for(var r=new WeakSet;t;){var n=iu(t,{skipVirtual:r.has(t)});if(r.add(t),n===e)return!0;t=n}return!1}var su="data-fui-tree-item-value",lu=e=>"treeitem"===e.getAttribute("role")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;function uu(){var{walkerRef:t,rootRef:r}=function(){var{targetDocument:t}=Xt(),r=e.useRef(),n=e.useCallback((e=>{r.current=t&&e?function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>NodeFilter.FILTER_ACCEPT,i=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){if(!eo(e))return NodeFilter.FILTER_REJECT;var t,i=n(e);return i===NodeFilter.FILTER_ACCEPT&&null!==(t=null==r?void 0:r(e))&&void 0!==t?t:i}});return{get root(){return i.root},get currentElement(){return i.currentNode},set currentElement(e){i.currentNode=e},firstChild:e=>{r=e;var t=i.firstChild();return r=void 0,t},lastChild:e=>{r=e;var t=i.lastChild();return r=void 0,t},nextElement:e=>{r=e;var t=i.nextNode();return r=void 0,t},nextSibling:e=>{r=e;var t=i.nextSibling();return r=void 0,t},parentElement:e=>{r=e;var t=i.parentNode();return r=void 0,t},previousElement:e=>{r=e;var t=i.previousNode();return r=void 0,t},previousSibling:e=>{r=e;var t=i.previousSibling();return r=void 0,t}}}(e,t,lu):void 0}),[t]);return{walkerRef:r,rootRef:n}}(),{rove:n,forceUpdate:i,initialize:a}=function(){var t,r,n=e.useRef(null),i=e.useRef(null),{targetDocument:a}=Xt();t=e=>{"treeitem"===(null==e?void 0:e.getAttribute("role"))&&i.current&&ou(i.current.root,e)&&s(e)},r=au(),e.useEffect((()=>{if(r)return r.focusedElement.subscribe(t),()=>r.focusedElement.unsubscribe(t)}),[r,t]);var o=e.useCallback((e=>{i.current=e,e.currentElement=e.root;var t=e.firstChild((e=>0===e.tabIndex?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP));if(e.currentElement=e.root,null!=t||(t=e.firstChild()),t){t.tabIndex=0,n.current=t;for(var r=null;(r=e.nextElement())&&r!==t;)r.tabIndex=-1}}),[]),s=e.useCallback(((e,t)=>{n.current&&(n.current.tabIndex=-1,e.tabIndex=0,e.focus(t),n.current=e)}),[]),l=e.useCallback((()=>{null!==n.current&&(null==a?void 0:a.body.contains(n.current))||!i.current||o(i.current)}),[a,o]);return{rove:s,initialize:o,forceUpdate:l}}(),o=e.useCallback((e=>{t.current&&e&&a(t.current)}),[a,t]);return{navigate:Jn((e=>{var r=function(e){if(!t.current)return null;switch(e.type){case Ls:return e.target;case zs:return t.current.currentElement=e.target,function(e,t){var r=t.toLowerCase(),n=e=>{var t;return(null===(t=e.textContent)||void 0===t?void 0:t.trim().charAt(0).toLowerCase())===r?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},i=e.nextElement(n);return i||(e.currentElement=e.root,i=e.nextElement(n)),i}(t.current,e.event.key);case Os:return n=e.parentValue,i=t.current,void 0===n?null:i.root.querySelector("[".concat(su,'="').concat(n,'"]'));case Bs:t.current.currentElement=e.target;var r=function(e,t){var r=t.nextElement();if(!r)return null;var n=r.getAttribute("aria-posinset"),i=r.getAttribute("aria-level"),a=e.getAttribute("aria-level");return"1"===n&&Number(i)===Number(a)+1?r:null}(e.target,t.current);return r;case Is:return t.current.currentElement=t.current.root,t.current.lastChild();case Rs:return t.current.currentElement=t.current.root,t.current.firstChild();case Ps:return t.current.currentElement=e.target,t.current.nextElement();case Ms:return t.current.currentElement=e.target,t.current.previousElement()}var n,i}(e);r&&n(r)})),rootRef:Kr(r,o),forceUpdateRovingTabIndex:i}}function cu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hu=Symbol("#internalSet"),du=hu,fu=Symbol.hasInstance,pu=Symbol.iterator;class gu{static dangerouslyGetInternalSet(e){return e[hu]}static copy(e){return new gu(new Set(e[hu]))}static from(e){return void 0===e?this.empty:e instanceof this?e:new this(new Set(e))}static[fu](e){return Boolean("object"==typeof e&&e&&hu in e)}add(e){if(this.has(e))return this;var t=gu.copy(this);return t[hu].add(e),t}delete(e){if(!this.has(e))return this;var t=gu.copy(this);return t[hu].delete(e),t}has(e){return this[hu].has(e)}[pu](){return this[hu].values()}constructor(e){cu(this,"size",void 0),cu(this,du,void 0),this[hu]=e,this.size=this[hu].size}}function mu(e,t){return e.open?t.add(e.value):t.delete(e.value)}cu(gu,"empty",new gu(new Set));var yu=Symbol("#internalMap"),vu=yu,bu=Symbol.hasInstance,xu=Symbol.iterator;class wu{static dangerouslyGetInternalMap(e){return e[yu]}static copy(e){return this.from(e[yu])}static from(e,t){if(void 0===e)return this.empty;if(!t)return e instanceof this?e:new this(new Map(e));var r=new Map;for(var n of e)r.set(...t(n));return new this(r)}static[bu](e){return Boolean("object"==typeof e&&e&&yu in e)}delete(e){if(!this.has(e))return this;var t=wu.copy(this);return t[yu].delete(e),t}get(e){return this[yu].get(e)}has(e){return this[yu].has(e)}set(e,t){if(this.get(e)===t)return this;var r=wu.copy(this);return r[yu].set(e,t),r}[xu](){return this[yu].entries()}constructor(e){cu(this,"size",void 0),cu(this,vu,void 0),this[yu]=e,this.size=this[yu].size}}cu(wu,"empty",new wu(new Map));var Du=e=>Array.isArray(e)?e:[e,!0],ku=e=>wu.from(e,Du);function Eu(e,t,r){if("single"===e.selectionMode)return wu.from([[e.value,e.checked]]);var n=r.get(e.value);if(!n)return t;var i=t;for(var a of r.subtree(e.value))i=i.set(a.value,e.checked);i=i.set(e.value,e.checked);var o=!1;for(var s of r.ancestors(n.value))if(o)i=i.set(s.value,"mixed");else{var l=0;for(var u of r.children(s.value))(i.get(u.value)||!1)===e.checked&&l++;l===s.childrenValues.length?i=i.set(s.value,e.checked):(o=!0,i=i.set(s.value,"mixed"))}return i}function Au(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Au(Object(r),!0).forEach((function(t){_u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Au(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _u(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tu(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.useMemo((()=>function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={parentValue:void 0,value:Ts,itemType:"branch",getTreeItemProps:()=>({id:Ts,parentValue:void 0,value:Ts,"aria-setsize":-1,"aria-level":-1,"aria-posinset":-1,itemType:"branch"}),childrenValues:[],get index(){return-1},get position(){return-1},level:0},r=new Map([[t.value,t]]),n={root:t,get size(){return r.size},getParent:e=>{var n,i,a;return null!==(a=r.get(null!==(i=null===(n=r.get(e))||void 0===n?void 0:n.parentValue)&&void 0!==i?i:t.value))&&void 0!==a?a:t},get:e=>r.get(e),has:e=>r.has(e),add(e){var{parentValue:t=Ts}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Es),i=r.get(t);if(i){var a;i.itemType="branch";var o={value:e.value,getTreeItemProps:()=>Cs(Cs({},n),{},{parentValue:t,"aria-level":o.level,"aria-posinset":o.position,"aria-setsize":i.childrenValues.length,itemType:o.itemType}),itemType:null!==(a=n.itemType)&&void 0!==a?a:"leaf",level:i.level+1,parentValue:t,childrenValues:[],index:-1,position:i.childrenValues.push(e.value)};r.set(o.value,o)}},subtree:e=>Ss(e,n),children:e=>function*(e,t){var r=t.get(e);if(r&&0!==r.childrenValues.length)for(var n of r.childrenValues)yield t.get(n)}(e,n),ancestors:e=>function*(e,t){for(var r=t.getParent(e);r!==t.root;)yield r,r=t.getParent(r.value)}(e,n),visibleItems:e=>function*(e,t){var r=0;for(var n of Ss(t.root.value,t))Fs(n,e,t)&&(n.index=r++,yield n)}(e,n)};return e.forEach(n.add),n}(t)),[t]),[i,a]=function(t){return ko({state:e.useMemo((()=>t.openItems&&gu.from(t.openItems)),[t.openItems]),defaultState:t.defaultOpenItems&&(()=>gu.from(t.defaultOpenItems)),initialState:gu.empty})}(r),[o,s]=function(t,r){return ko({initialState:wu.empty,state:e.useMemo((()=>t.selectionMode?t.checkedItems&&ku(t.checkedItems):void 0),[t.checkedItems,t.selectionMode]),defaultState:t.defaultCheckedItems?()=>function(e,t){if(!e.selectionMode)return wu.empty;var r=ku(e.defaultCheckedItems);if("multiselect"===e.selectionMode)for(var[n,i]of r)r=Eu({value:n,checked:i,selectionMode:e.selectionMode},r,t);return r}(t,r):void 0})}(r,n),l=uu(),u=e.useRef(null),c=Jn(((e,t)=>{var n,o=mu(t,i);null===(n=r.onOpenChange)||void 0===n||n.call(r,e,Cu(Cu({},t),{},{openItems:gu.dangerouslyGetInternalSet(o)})),a(o)})),h=Jn(((e,t)=>{var i,a=Eu(t,o,n);null===(i=r.onCheckedChange)||void 0===i||i.call(r,e,Cu(Cu({},t),{},{checkedItems:wu.dangerouslyGetInternalMap(a)})),s(a)})),d=Jn(((e,t)=>{var r=n.get(t.value);if(r)switch(t.type){case zs:return r;case Os:return n.get(r.parentValue);case Bs:return e[r.index+1];case Is:return e[e.length-1];case Rs:return e[0];case Ps:return e[r.index+1];case Ms:return e[r.index-1]}})),f=e.useCallback((e=>{var t;return null===(t=u.current)||void 0===t?void 0:t.querySelector("[".concat(su,'="').concat(e.value,'"]'))}),[]),p=Kr(u,l.rootRef),g=e.useCallback((()=>{var e;return{ref:p,openItems:i,selectionMode:r.selectionMode,checkedItems:o,onOpenChange:c,onCheckedChange:h,onNavigation:null!==(e=r.onNavigation)&&void 0!==e?e:Su}}),[i,o,r.selectionMode,r.onNavigation]),m=e.useCallback((()=>n.visibleItems(i)),[i,n]),y=e.useCallback((e=>n.get(e)),[n]);return e.useMemo((()=>({navigate:l.navigate,getTreeProps:g,getNextNavigableItem:d,getElementFromItem:f,items:m,getItem:y})),[l.navigate,g,d,f,m,y])}function Su(){}var Fu=e.createContext(void 0);function Ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ou(Object(r),!0).forEach((function(t){Nu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ou(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nu(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Fu.Provider;var Lu=("calc(".concat("var(--spacingHorizontalM)"," + ").concat("var(--spacingHorizontalSNudge)",")"),Lr("r1oeeo9n","r9sxh5",{r:[".r1oeeo9n{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;vertical-align:middle;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r1oeeo9n::after{box-sizing:border-box;content:"";position:absolute;left:-1px;bottom:-1px;right:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-left-radius:var(--borderRadiusMedium);border-bottom-right-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r1oeeo9n:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r1oeeo9n:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r1oeeo9n:focus-within{outline:2px solid transparent;}",".r9sxh5{display:inline-flex;align-items:center;flex-wrap:nowrap;gap:var(--spacingHorizontalXXS);border-radius:var(--borderRadiusMedium);position:relative;box-sizing:border-box;vertical-align:middle;min-height:32px;font-family:var(--fontFamilyBase);font-size:var(--fontSizeBase300);font-weight:var(--fontWeightRegular);line-height:var(--lineHeightBase300);background-color:var(--colorNeutralBackground1);border:1px solid var(--colorNeutralStroke1);border-bottom-color:var(--colorNeutralStrokeAccessible);}",'.r9sxh5::after{box-sizing:border-box;content:"";position:absolute;right:-1px;bottom:-1px;left:-1px;height:max(2px, var(--borderRadiusMedium));border-bottom-right-radius:var(--borderRadiusMedium);border-bottom-left-radius:var(--borderRadiusMedium);border-bottom:2px solid var(--colorCompoundBrandStroke);clip-path:inset(calc(100% - 2px) 0 0 0);transform:scaleX(0);transition-property:transform;transition-duration:var(--durationUltraFast);transition-delay:var(--curveAccelerateMid);}',".r9sxh5:focus-within::after{transform:scaleX(1);transition-property:transform;transition-duration:var(--durationNormal);transition-delay:var(--curveDecelerateMid);}",".r9sxh5:focus-within:active::after{border-bottom-color:var(--colorCompoundBrandStrokePressed);}",".r9sxh5:focus-within{outline:2px solid transparent;}"],s:["@media screen and (prefers-reduced-motion: reduce){.r1oeeo9n::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r1oeeo9n:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r9sxh5::after{transition-duration:0.01ms;transition-delay:0.01ms;}}","@media screen and (prefers-reduced-motion: reduce){.r9sxh5:focus-within::after{transition-duration:0.01ms;transition-delay:0.01ms;}}"]})),Iu=wr({small:{sshi5w:"f1pha7fy",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},medium:{},large:{sshi5w:"f1w5jphr",Bahqtrf:"fk6fouc",Be2twd7:"fod5ikn",Bhrd7zp:"figsok6",Bg96gwp:"faaz57k",i8kkvl:0,Belr9w4:0,rmohyg:"f1eyhf9v"},outline:{},outlineInteractive:{Bgoe8wy:"fvcxoqz",Bwzppfd:["f1ub3y4t","f1m52nbi"],oetu4i:"f1l4zc64",gg5e9n:["f1m52nbi","f1ub3y4t"],Drbcw7:"f8vnjqi",udz0bu:["fz1etlk","f1hc16gm"],Be8ivqh:"f1klwx88",ofdepl:["f1hc16gm","fz1etlk"]},underline:{De3pzq:"f1c21dwh",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779",icvyot:"f1ern45e",vrafjx:["f1n71otn","f1deefiw"],wvpqe5:["f1deefiw","f1n71otn"],Eqx8gd:["f1n6gb5g","f15yvnhg"],B1piin3:["f15yvnhg","f1n6gb5g"]},underlineInteractive:{oetu4i:"f1l4zc64",Be8ivqh:"f1klwx88",d9w3h3:0,B3778ie:0,B4j8arr:0,Bl18szs:0,Blrzh8d:"f2ale1x"},filled:{g2u3we:"fghlq4f",h3c5rm:["f1gn591s","fjscplz"],B9xav0g:"fb073pr",zhjwy3:["fjscplz","f1gn591s"]},filledInteractive:{q7v0qe:"ftmjh5b",kmh5ft:["f17blpuu","fsrcdbj"],nagaa4:"f1tpwn32",B1yhkcb:["fsrcdbj","f17blpuu"]},invalid:{tvckwq:"fs4k3qj",gk2u95:["fcee079","fmyw78r"],hhx65j:"f1fgmyf4",Bxowmz0:["fmyw78r","fcee079"]},"filled-darker":{De3pzq:"f16xq7d1"},"filled-lighter":{De3pzq:"fxugw4r"},"filled-darker-shadow":{De3pzq:"f16xq7d1",E5pizo:"fyed02w"},"filled-lighter-shadow":{De3pzq:"fxugw4r",E5pizo:"fyed02w"},disabled:{Bceei9c:"fdrzuqr",De3pzq:"f1c21dwh",g2u3we:"f1jj8ep1",h3c5rm:["f15xbau","fy0fskl"],B9xav0g:"f4ikngz",zhjwy3:["fy0fskl","f15xbau"],Bjwas2f:"fg455y9",Bn1d65q:["f1rvyvqg","f14g86mu"],Bxeuatn:"f1cwzwz",n51gp8:["f14g86mu","f1rvyvqg"],Bsft5z2:"fhr9occ",Bduesf4:"f99w1ws"},smallWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},smallWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},mediumWithContentBefore:{uwmqm3:["f1ng84yb","f11gcy0p"]},mediumWithContentAfter:{z189sj:["f11gcy0p","f1ng84yb"]},largeWithContentBefore:{uwmqm3:["f1uw59to","fw5db7e"]},largeWithContentAfter:{z189sj:["fw5db7e","f1uw59to"]}},{d:[".f1pha7fy{min-height:24px;}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fy9rknc{font-size:var(--fontSizeBase200);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1w5jphr{min-height:40px;}",".fod5ikn{font-size:var(--fontSizeBase400);}",".faaz57k{line-height:var(--lineHeightBase400);}",[".f1eyhf9v{gap:var(--spacingHorizontalSNudge);}",{p:-1}],".f1c21dwh{background-color:var(--colorTransparentBackground);}",[".fokr779{border-radius:0;}",{p:-1}],".f1ern45e{border-top-style:none;}",".f1n71otn{border-right-style:none;}",".f1deefiw{border-left-style:none;}",".f1n6gb5g::after{left:0;}",".f15yvnhg::after{right:0;}",[".f2ale1x::after{border-radius:0;}",{p:-1}],".fghlq4f{border-top-color:var(--colorTransparentStroke);}",".f1gn591s{border-right-color:var(--colorTransparentStroke);}",".fjscplz{border-left-color:var(--colorTransparentStroke);}",".fb073pr{border-bottom-color:var(--colorTransparentStroke);}",".fs4k3qj:not(:focus-within),.fs4k3qj:hover:not(:focus-within){border-top-color:var(--colorPaletteRedBorder2);}",".fcee079:not(:focus-within),.fcee079:hover:not(:focus-within){border-right-color:var(--colorPaletteRedBorder2);}",".fmyw78r:not(:focus-within),.fmyw78r:hover:not(:focus-within){border-left-color:var(--colorPaletteRedBorder2);}",".f1fgmyf4:not(:focus-within),.f1fgmyf4:hover:not(:focus-within){border-bottom-color:var(--colorPaletteRedBorder2);}",".f16xq7d1{background-color:var(--colorNeutralBackground3);}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".fyed02w{box-shadow:var(--shadow2);}",".fdrzuqr{cursor:not-allowed;}",".f1jj8ep1{border-top-color:var(--colorNeutralStrokeDisabled);}",".f15xbau{border-right-color:var(--colorNeutralStrokeDisabled);}",".fy0fskl{border-left-color:var(--colorNeutralStrokeDisabled);}",".f4ikngz{border-bottom-color:var(--colorNeutralStrokeDisabled);}",".fhr9occ::after{content:unset;}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1ng84yb{padding-left:var(--spacingHorizontalMNudge);}",".f11gcy0p{padding-right:var(--spacingHorizontalMNudge);}",".f1uw59to{padding-left:var(--spacingHorizontalM);}",".fw5db7e{padding-right:var(--spacingHorizontalM);}"],h:[".fvcxoqz:hover{border-top-color:var(--colorNeutralStroke1Hover);}",".f1ub3y4t:hover{border-right-color:var(--colorNeutralStroke1Hover);}",".f1m52nbi:hover{border-left-color:var(--colorNeutralStroke1Hover);}",".f1l4zc64:hover{border-bottom-color:var(--colorNeutralStrokeAccessibleHover);}",".ftmjh5b:hover,.ftmjh5b:focus-within{border-top-color:var(--colorTransparentStrokeInteractive);}",".f17blpuu:hover,.f17blpuu:focus-within{border-right-color:var(--colorTransparentStrokeInteractive);}",".fsrcdbj:hover,.fsrcdbj:focus-within{border-left-color:var(--colorTransparentStrokeInteractive);}",".f1tpwn32:hover,.f1tpwn32:focus-within{border-bottom-color:var(--colorTransparentStrokeInteractive);}"],a:[".f8vnjqi:active,.f8vnjqi:focus-within{border-top-color:var(--colorNeutralStroke1Pressed);}",".fz1etlk:active,.fz1etlk:focus-within{border-right-color:var(--colorNeutralStroke1Pressed);}",".f1hc16gm:active,.f1hc16gm:focus-within{border-left-color:var(--colorNeutralStroke1Pressed);}",".f1klwx88:active,.f1klwx88:focus-within{border-bottom-color:var(--colorNeutralStrokeAccessiblePressed);}"],m:[["@media (forced-colors: active){.fg455y9{border-top-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f14g86mu{border-left-color:GrayText;}.f1rvyvqg{border-right-color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.f1cwzwz{border-bottom-color:GrayText;}}",{m:"(forced-colors: active)"}]],w:[".f99w1ws:focus-within{outline-style:none;}"]}),Ru=Lr("r12stul0",null,[".r12stul0{align-self:stretch;box-sizing:border-box;flex-grow:1;min-width:0;border-style:none;padding:0 var(--spacingHorizontalM);color:var(--colorNeutralForeground1);background-color:transparent;outline-style:none;font-family:inherit;font-size:inherit;font-weight:inherit;line-height:inherit;}",".r12stul0::-webkit-input-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::-moz-placeholder{color:var(--colorNeutralForeground4);opacity:1;}",".r12stul0::placeholder{color:var(--colorNeutralForeground4);opacity:1;}"]),Mu=wr({small:{uwmqm3:["f1f5gg8d","f1vdfbxk"],z189sj:["f1vdfbxk","f1f5gg8d"]},medium:{},large:{uwmqm3:["fnphzt9","flt1dlf"],z189sj:["flt1dlf","fnphzt9"]},smallWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},smallWithContentAfter:{z189sj:["ffczdla","fgiv446"]},mediumWithContentBefore:{uwmqm3:["fgiv446","ffczdla"]},mediumWithContentAfter:{z189sj:["ffczdla","fgiv446"]},largeWithContentBefore:{uwmqm3:["fk8j09s","fdw0yi8"]},largeWithContentAfter:{z189sj:["fdw0yi8","fk8j09s"]},disabled:{sj55zd:"f1s2aq7o",De3pzq:"f1c21dwh",Bceei9c:"fdrzuqr",yvdlaj:"fahhnxm"}},{d:[".f1f5gg8d{padding-left:var(--spacingHorizontalS);}",".f1vdfbxk{padding-right:var(--spacingHorizontalS);}",".fnphzt9{padding-left:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".flt1dlf{padding-right:calc(var(--spacingHorizontalM) + var(--spacingHorizontalSNudge));}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}",".fk8j09s{padding-left:var(--spacingHorizontalSNudge);}",".fdw0yi8{padding-right:var(--spacingHorizontalSNudge);}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".fdrzuqr{cursor:not-allowed;}",".fahhnxm::-webkit-input-placeholder{color:var(--colorNeutralForegroundDisabled);}",".fahhnxm::-moz-placeholder{color:var(--colorNeutralForegroundDisabled);}"]}),Pu=Lr("r1572tok",null,[".r1572tok{box-sizing:border-box;color:var(--colorNeutralForeground3);display:flex;}",".r1572tok>svg{font-size:20px;}"]),zu=wr({disabled:{sj55zd:"f1s2aq7o"},small:{Duoase:"f3qv9w"},medium:{},large:{Duoase:"f16u2scb"}},{d:[".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f3qv9w>svg{font-size:16px;}",".f16u2scb>svg{font-size:24px;}"]}),$u=e.forwardRef(((t,r)=>{var n=((t,r)=>{t=Qo(t,{supportsLabelFor:!0,supportsRequired:!0,supportsSize:!0});var n,i,a=null!==(n=e.useContext(Fu))&&void 0!==n?n:{},{size:o="medium",appearance:s=(null!==(i=a.inputDefaultAppearance)&&void 0!==i?i:"outline"),onChange:l}=t,[u,c]=ko({state:t.value,defaultState:t.defaultValue,initialState:""}),h=Wt({props:t,primarySlotTagName:"input",excludedPropNames:["size","onChange","value","defaultValue"]}),d={size:o,appearance:s,components:{root:"span",input:"input",contentBefore:"span",contentAfter:"span"},input:St(t.input,{defaultProps:Bu({type:"text",ref:r},h.primary),elementType:"input"}),contentAfter:Ft(t.contentAfter,{elementType:"span"}),contentBefore:Ft(t.contentBefore,{elementType:"span"}),root:St(t.root,{defaultProps:h.root,elementType:"span"})};return d.input.value=u,d.input.onChange=Jn((e=>{var t=e.target.value;null==l||l(e,{value:t}),c(t)})),d})(t,r);return(e=>{var{size:t,appearance:r}=e,n=e.input.disabled,i="true"==="".concat(e.input["aria-invalid"]),a=r.startsWith("filled"),o=Iu(),s=Mu(),l=zu();e.root.className=kr("fui-Input",Lu(),o[t],e.contentBefore&&o["".concat(t,"WithContentBefore")],e.contentAfter&&o["".concat(t,"WithContentAfter")],o[r],!n&&"outline"===r&&o.outlineInteractive,!n&&"underline"===r&&o.underlineInteractive,!n&&a&&o.filledInteractive,a&&o.filled,!n&&i&&o.invalid,n&&o.disabled,e.root.className),e.input.className=kr("fui-Input__input",Ru(),s[t],e.contentBefore&&s["".concat(t,"WithContentBefore")],e.contentAfter&&s["".concat(t,"WithContentAfter")],n&&s.disabled,e.input.className);var u=[Pu(),n&&l.disabled,l[t]];e.contentBefore&&(e.contentBefore.className=kr("fui-Input__contentBefore",...u,e.contentBefore.className)),e.contentAfter&&(e.contentAfter.className=kr("fui-Input__contentAfter",...u,e.contentAfter.className))})(n),_r("useInputStyles_unstable")(n),(e=>xr(e.root,{children:[e.contentBefore&&br(e.contentBefore,{}),br(e.input,{}),e.contentAfter&&br(e.contentAfter,{})]}))(n)}));function ju(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ju(Object(r),!0).forEach((function(t){qu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ju(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qu(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}$u.displayName="Input";var Uu={durationUltraFast:50,durationFaster:100,durationFast:150,durationNormal:200,durationGentle:250,durationSlow:300,durationSlower:400,durationUltraSlow:500},Hu={curveAccelerateMax:"cubic-bezier(0.9,0.1,1,0.2)",curveAccelerateMid:"cubic-bezier(1,0,1,1)",curveAccelerateMin:"cubic-bezier(0.8,0,0.78,1)",curveDecelerateMax:"cubic-bezier(0.1,0.9,0.2,1)",curveDecelerateMid:"cubic-bezier(0,0,0,1)",curveDecelerateMin:"cubic-bezier(0.33,0,0.1,1)",curveEasyEaseMax:"cubic-bezier(0.8,0,0.2,1)",curveEasyEase:"cubic-bezier(0.33,0,0.67,1)",curveLinear:"cubic-bezier(0,0,1,1)"},Wu=Ku(Ku({},Uu),Hu);function Gu(){var t=e.useRef(!0);return t.current?(t.current=!1,!0):t.current}var Vu=e.createContext(void 0),Yu=["keyframes"];function Xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xu(Object(r),!0).forEach((function(t){Qu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Qu(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ju=e.createContext(void 0),ec=(Ju.Provider,["appear","children","imperativeRef","onExit","onMotionFinish","onMotionStart","onMotionCancel","visible","unmountOnExit"]);function tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(r),!0).forEach((function(t){nc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nc(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ic=Symbol("MOTION_DEFINITION");function ac(t){return Object.assign((r=>{var n,i=rc(rc({},e.useContext(Vu)),r),a="skip"===(null!==(n=e.useContext(Ju))&&void 0!==n?n:"default"),{appear:o,children:s,imperativeRef:l,onExit:u,onMotionFinish:c,onMotionStart:h,onMotionCancel:d,visible:f,unmountOnExit:p}=i,g=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(i,ec),[m,y]=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.useRef(!r||t),i=e.useReducer((e=>e+1),0)[1],a=e.useCallback((e=>{n.current!==e&&(n.current=e,i())}),[i]);return e.useEffect((()=>{t&&(n.current=t)})),[t||n.current,a]}(f,p),v=function(t){try{var r=e.Children.only(t);if("string"==typeof r.type||sr.isForwardRef(r))return r}catch(e){}throw new Error(["@fluentui/react-motion: Invalid child element.","\n","Motion factories require a single child element to be passed. ","That element element should support ref forwarding i.e. it should be either an intrinsic element (e.g. div) or a component that uses React.forwardRef()."].join(""))}(s),b=function(t){var r=e.useRef();return e.useImperativeHandle(t,(()=>({setPlayState:e=>{var t,n;"running"===e&&(null===(t=r.current)||void 0===t||t.play()),"paused"===e&&(null===(n=r.current)||void 0===n||n.pause())},setPlaybackRate:e=>{r.current&&(r.current.playbackRate=e)}}))),r}(l),x=e.useRef(),w=Kr(x,v.ref),D=e.useRef({appear:o,params:g,skipMotions:a}),k=e.useCallback(((e,t,r)=>{var n=Array.isArray(t)?t:[t],{isReducedMotion:i}=r,a=n.map((t=>{var{keyframes:r}=t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,Yu),a=e.animate(r,Zu(Zu({fill:"forwards"},n),i&&{duration:1}));return a.persist(),a}));return{set playbackRate(e){a.forEach((t=>{t.playbackRate=e}))},setMotionEndCallbacks(e,t){var r=a.map((e=>new Promise(((t,r)=>{e.onfinish=()=>t(),e.oncancel=()=>r()}))));Promise.all(r).then((()=>{e()})).catch((()=>{t()}))},cancel:()=>{a.forEach((e=>{e.cancel()}))},pause:()=>{a.forEach((e=>{e.pause()}))},play:()=>{a.forEach((e=>{e.play()}))},finish:()=>{a.forEach((e=>{e.finish()}))}}}),[]),E=Gu(),A=function(){var t,{targetDocument:r}=Xt(),n=null!==(t=null==r?void 0:r.defaultView)&&void 0!==t?t:null,i=e.useRef(!1),a=e.useCallback((()=>i.current),[]);return cn((()=>{if(null!==n&&"function"==typeof n.matchMedia){var e=n.matchMedia("screen and (prefers-reduced-motion: reduce)");e.matches&&(i.current=!0);var t=e=>{i.current=e.matches};return e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}}),[n]),a}(),C=Jn((e=>{null==h||h(null,{direction:e})})),_=Jn((e=>{null==c||c(null,{direction:e}),"exit"===e&&p&&(y(!1),null==u||u())})),T=Jn((e=>{null==d||d(null,{direction:e})}));return cn((()=>{D.current={appear:o,params:g,skipMotions:a}})),cn((()=>{var e=x.current;if(e&&!function(e,t,r){return!e&&t&&!!r}(D.current.appear,E,f)){var r="function"==typeof t?t(rc({element:e},D.current.params)):t,n=f?r.enter:r.exit,i=f?"enter":"exit",a=!f&&E,o=D.current.skipMotions;a||C(i);var s=k(e,n,{isReducedMotion:A()});if(!a)return b.current=s,s.setMotionEndCallbacks((()=>_(i)),(()=>T(i))),o&&s.finish(),()=>{s.cancel()};s.finish()}}),[k,b,A,_,C,T,f]),m?e.cloneElement(v,{ref:w}):null}),{[ic]:"function"==typeof t?t:()=>t})}var oc=(e,t)=>{var r="horizontal"===e?"maxWidth":"maxHeight",n="horizontal"===e?"overflowX":"overflowY",i="horizontal"===e?t.scrollWidth:t.scrollHeight;return{sizeName:r,overflowName:n,toSize:"".concat(i,"px")}},sc=e=>{var{orientation:t,duration:r,easing:n,element:i,fromSize:a="0"}=e,{sizeName:o,overflowName:s,toSize:l}=oc(t,i);return{keyframes:[{[o]:a,[s]:"hidden"},{[o]:l,offset:.9999,[s]:"hidden"},{[o]:"unset",[s]:"unset"}],duration:r,easing:n}},lc=e=>"horizontal"===e?{paddingStart:"paddingInlineStart",paddingEnd:"paddingInlineEnd",marginStart:"marginInlineStart",marginEnd:"marginInlineEnd"}:{paddingStart:"paddingBlockStart",paddingEnd:"paddingBlockEnd",marginStart:"marginBlockStart",marginEnd:"marginBlockEnd"},uc=e=>{var{orientation:t,duration:r,easing:n}=e,{paddingStart:i,paddingEnd:a,marginStart:o,marginEnd:s}=lc(t);return{keyframes:[{[i]:"0",[a]:"0",[o]:"0",[s]:"0",offset:0}],duration:r,easing:n}},cc=function(){var{enterSizeDuration:e=Wu.durationNormal,enterOpacityDuration:t=e,enterEasing:r=Wu.curveEasyEaseMax,enterDelay:n=0,exitSizeDuration:i=e,exitOpacityDuration:a=t,exitEasing:o=r,exitDelay:s=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l=>{var{element:u,animateOpacity:c=!0,orientation:h="vertical"}=l,d=[sc({orientation:h,duration:e,easing:r,element:u}),uc({orientation:h,duration:e,easing:r})];c&&d.push((e=>{var{duration:t,easing:r,delay:n=0,fromOpacity:i=0,toOpacity:a=1}=e;return{keyframes:[{opacity:i},{opacity:a}],duration:t,easing:r,delay:n,fill:"both"}})({duration:t,easing:r,delay:n}));var f=[];return c&&f.push((e=>{var{duration:t,easing:r,fromOpacity:n=0,toOpacity:i=1}=e;return{keyframes:[{opacity:i},{opacity:n}],duration:t,easing:r}})({duration:a,easing:o})),f.push((e=>{var{orientation:t,duration:r,easing:n,element:i,delay:a=0,fromSize:o="0"}=e,{sizeName:s,overflowName:l,toSize:u}=oc(t,i);return{keyframes:[{[s]:u,[l]:"hidden"},{[s]:o,[l]:"hidden"}],duration:r,easing:n,fill:"both",delay:a}})({orientation:h,duration:i,easing:o,element:u,delay:s})),f.push((e=>{var{orientation:t,duration:r,easing:n,delay:i=0}=e,{paddingStart:a,paddingEnd:o,marginStart:s,marginEnd:l}=lc(t);return{keyframes:[{[a]:"0",[o]:"0",[s]:"0",[l]:"0",offset:1}],duration:r,easing:n,fill:"forwards",delay:i}})({orientation:h,duration:i,easing:o,delay:s})),{enter:d,exit:f}}},hc=function(){var{enterDuration:e=Wu.durationNormal,enterEasing:t=Wu.curveEasyEaseMax,exitDuration:r=e,exitEasing:n=t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return cc({enterSizeDuration:e,enterEasing:t,exitSizeDuration:r,exitEasing:n})},dc=ac(hc());function fc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fc(Object(r),!0).forEach((function(t){gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gc(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ac(hc({enterDuration:Wu.durationFast})),ac(hc({enterDuration:Wu.durationSlower})),ac(cc({enterSizeDuration:Wu.durationNormal,enterOpacityDuration:Wu.durationSlower,enterDelay:Wu.durationNormal,exitDelay:Wu.durationSlower,enterEasing:Wu.curveEasyEase}));var mc=i(2571),yc=t=>{var r,n=e.createContext({value:{current:t},version:{current:-1},listeners:[]});return n.Provider=(r=n.Provider,t=>{var n=e.useRef(t.value),i=e.useRef(0),a=e.useRef();return a.current||(a.current={value:n,version:i,listeners:[]}),cn((()=>{n.current=t.value,i.current+=1,(0,mc.unstable_runWithPriority)(mc.unstable_NormalPriority,(()=>{a.current.listeners.forEach((e=>{e([i.current,t.value])}))}))}),[t.value]),e.createElement(r,{value:a.current},t.children)}),delete n.Consumer,n},vc=(t,r)=>{var n=e.useContext(t),{value:{current:i},version:{current:a},listeners:o}=n,s=r(i),[l,u]=e.useState([i,s]),c=e=>{u((t=>{if(!e)return[i,s];if(e[0]<=a)return Object.is(t[1],s)?t:[i,s];try{if(Object.is(t[0],e[1]))return t;var n=r(e[1]);return Object.is(t[1],n)?t:[e[1],n]}catch(e){}return[t[0],t[1]]}))};Object.is(l[1],s)||c(void 0);var h=Jn(c);return cn((()=>(o.push(h),()=>{var e=o.indexOf(h);o.splice(e,1)})),[h,o]),l[1]},bc={value:Ts,selectionRef:e.createRef(),layoutRef:e.createRef(),treeItemRef:e.createRef(),subtreeRef:e.createRef(),actionsRef:e.createRef(),expandIconRef:e.createRef(),isActionsVisible:!1,isAsideVisible:!1,itemType:"leaf",open:!1,checked:!1},xc=yc(void 0),{Provider:wc}=xc,Dc=e=>vc(xc,(function(){return e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc)})),kc={level:0,contextType:"subtree"},Ec=e.createContext(void 0),Ac=()=>{var t;return null!==(t=e.useContext(Ec))&&void 0!==t?t:kc},Cc=["as","children"];function _c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(r),!0).forEach((function(t){Sc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sc(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fc(t,r){var n=null!=t?t:{},{as:i,children:a}=n,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,Cc);if(null===t){var s=!r.defaultProps.visible&&r.defaultProps.unmountOnExit;return{[Et]:(t,r)=>s?null:e.createElement(e.Fragment,null,r.children),[At]:r.elementType}}var l=Tc(Tc(Tc({},r.defaultProps),o),{},{[At]:r.elementType});return"function"==typeof a&&(l[Et]=a),l}function Oc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(r),!0).forEach((function(t){Nc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nc(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lc(Object(r),!0).forEach((function(t){Rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rc(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mc=(t,r)=>void 0===e.useContext(Ec)?function(t,r){var n=uu();return Object.assign(function(t,r){var{appearance:n="subtle",size:i="medium",selectionMode:a="none"}=t,o=e.useMemo((()=>gu.from(t.openItems)),[t.openItems]),s=e.useMemo((()=>ku(t.checkedItems)),[t.checkedItems]),l=Jn((e=>{switch(e.requestType){case"navigate":return(e=>{var r,n=!1;switch(null===(r=t.onNavigation)||void 0===r||r.call(t,e.event,pc(pc({},e),{},{preventScroll:()=>{n=!0},isScrollPrevented:()=>n})),e.type){case Ps:case Ms:case Rs:case Is:e.event.preventDefault()}})(e);case"open":return(e=>{var r;null===(r=t.onOpenChange)||void 0===r||r.call(t,e.event,pc(pc({},e),{},{openItems:gu.dangerouslyGetInternalSet(mu(e,o))}))})(e);case"selection":return(e=>{var r;"none"!==a&&(null===(r=t.onCheckedChange)||void 0===r||r.call(t,e.event,pc(pc({},e),{},{selectionMode:a,checkedItems:wu.dangerouslyGetInternalMap(s)})))})(e)}}));return{components:{root:"div",collapseMotion:dc},contextType:"root",selectionMode:a,open:!0,appearance:n,size:i,level:1,openItems:o,checkedItems:s,requestTreeResponse:l,forceUpdateRovingTabIndex:()=>{},root:St(Gt("div",pc({ref:r,role:"tree","aria-multiselectable":"multiselect"===a||void 0},t)),{elementType:"div"}),collapseMotion:void 0}}(Ic(Ic({},t),{},{onNavigation:Jn(((e,r)=>{var i;null===(i=t.onNavigation)||void 0===i||i.call(t,e,r),e.isDefaultPrevented()||n.navigate(r)}))}),Kr(r,n.rootRef)),{treeType:"flat",forceUpdateRovingTabIndex:n.forceUpdateRovingTabIndex})}(t,r):function(e,t){return Ic(Ic({},function(e,t){var r=Dc((e=>e.subtreeRef)),{level:n}=Ac(),i=Dc((e=>e.open));return{contextType:"subtree",open:i,components:{root:"div",collapseMotion:dc},level:n+1,root:St(Gt("div",Bc({ref:Kr(t,r),role:"group"},e)),{elementType:"div"}),collapseMotion:Fc(e.collapseMotion,{elementType:dc,defaultProps:{visible:i,unmountOnExit:!0}})}}(e,t)),{},{level:0,contextType:"root",treeType:"nested",selectionMode:"none",openItems:gu.empty,checkedItems:wu.empty,requestTreeResponse:Pc,forceUpdateRovingTabIndex:Pc,appearance:"subtle",size:"medium",open:!1})}(t,r);function Pc(){}var zc=Lr("rnv2ez3",null,[".rnv2ez3{display:flex;flex-direction:column;row-gap:var(--spacingVerticalXXS);}"]),$c={level:0,contextType:"root",treeType:"nested",selectionMode:"none",openItems:gu.empty,checkedItems:wu.empty,requestTreeResponse:jc,forceUpdateRovingTabIndex:jc,appearance:"subtle",size:"medium"};function jc(){}var Kc=yc(void 0),qc=e=>vc(Kc,(function(){return e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$c)})),Uc={level:1,contextType:"subtree"},Hc=t=>"subtree"===t.value.contextType?e.createElement(Ec.Provider,{value:t.value},t.children):e.createElement(Kc.Provider,{value:t.value},e.createElement(Ec.Provider,{value:Uc},t.children));Hc.displayName="TreeProvider";var Wc=e.forwardRef(((e,t)=>{var r=Mc(e,t),n=(e=>{var{openItems:t,level:r,contextType:n,treeType:i,checkedItems:a,selectionMode:o,appearance:s,size:l,requestTreeResponse:u,forceUpdateRovingTabIndex:c}=e;return{tree:{treeType:i,size:l,openItems:t,appearance:s,checkedItems:a,selectionMode:o,contextType:n,level:r,requestTreeResponse:u,forceUpdateRovingTabIndex:c}}})(r);return(e=>{var t=zc();e.root.className=kr("fui-FlatTree",t,e.root.className)})(r),((e,t)=>br(Hc,{value:t.tree,children:e.collapseMotion?br(e.collapseMotion,{children:br(e.root,{})}):br(e.root,{})}))(r,n)}));Wc.displayName="FlatTree";var Gc=["onClick","onKeyDown","onChange","as","itemType","aria-level","aria-selected","aria-expanded"];function Vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vc(Object(r),!0).forEach((function(t){Xc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xc(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zc=Lr("r15xhw3a","r2f6k57",[".r15xhw3a{position:relative;cursor:pointer;display:flex;flex-direction:column;box-sizing:border-box;background-color:var(--colorSubtleBackground);color:var(--colorNeutralForeground2);padding-right:var(--spacingHorizontalNone);}",".r15xhw3a:focus{outline-style:none;}",".r15xhw3a:focus-visible{outline-style:none;}",".r15xhw3a[data-fui-focus-visible]>.fui-TreeItemLayout,.r15xhw3a[data-fui-focus-visible]>.fui-TreeItemPersonaLayout{border-radius:var(--borderRadiusMedium);outline-color:var(--colorStrokeFocus2);outline-radius:var(--borderRadiusMedium);outline-width:2px;outline-style:solid;}",".r2f6k57{position:relative;cursor:pointer;display:flex;flex-direction:column;box-sizing:border-box;background-color:var(--colorSubtleBackground);color:var(--colorNeutralForeground2);padding-left:var(--spacingHorizontalNone);}",".r2f6k57:focus{outline-style:none;}",".r2f6k57:focus-visible{outline-style:none;}",".r2f6k57[data-fui-focus-visible]>.fui-TreeItemLayout,.r2f6k57[data-fui-focus-visible]>.fui-TreeItemPersonaLayout{border-radius:var(--borderRadiusMedium);outline-color:var(--colorStrokeFocus2);outline-radius:var(--borderRadiusMedium);outline-width:2px;outline-style:solid;}"]),Qc=wr({level1:{iytv0q:"f10bgyvd"},level2:{iytv0q:"f1h0rod3"},level3:{iytv0q:"fgoqafk"},level4:{iytv0q:"f75dvuh"},level5:{iytv0q:"fqk7yw6"},level6:{iytv0q:"f1r3z17b"},level7:{iytv0q:"f1hrpd1h"},level8:{iytv0q:"f1iy65d0"},level9:{iytv0q:"ftg42e5"},level10:{iytv0q:"fyat3t"}},{d:[".f10bgyvd{--fluent-TreeItem--level:1;}",".f1h0rod3{--fluent-TreeItem--level:2;}",".fgoqafk{--fluent-TreeItem--level:3;}",".f75dvuh{--fluent-TreeItem--level:4;}",".fqk7yw6{--fluent-TreeItem--level:5;}",".f1r3z17b{--fluent-TreeItem--level:6;}",".f1hrpd1h{--fluent-TreeItem--level:7;}",".f1iy65d0{--fluent-TreeItem--level:8;}",".ftg42e5{--fluent-TreeItem--level:9;}",".fyat3t{--fluent-TreeItem--level:10;}"]}),Jc=e.forwardRef(((t,r)=>{var n=function(t,r){qc((e=>e.treeType));var n,i=qc((e=>e.requestTreeResponse)),a=qc((e=>e.forceUpdateRovingTabIndex)),{level:o}=Ac(),s=Dc((e=>{var r;return null!==(r=t.parentValue)&&void 0!==r?r:e.value})),l=kt("fuiTreeItemValue-"),u=null!==(n=t.value)&&void 0!==n?n:l,{onClick:c,onKeyDown:h,onChange:d,as:f="div",itemType:p="leaf","aria-level":g=o,"aria-selected":m,"aria-expanded":y}=t,v=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,Gc),b=e.useRef(null),x=e.useRef(null),w=e.useRef(null),D=e.useRef(null),k=e.useRef(null),E=e.useRef(null);e.useEffect((()=>{var e=E.current;return()=>{e&&0===e.tabIndex&&(null==a||a())}}),[a]);var A=qc((e=>{var r;return null!==(r=t.open)&&void 0!==r?r:e.openItems.has(u)})),C=()=>"branch"===p?!A:A,_=qc((e=>e.selectionMode)),T=qc((e=>{var t;return null!==(t=e.checkedItems.get(u))&&void 0!==t&&t})),S=Jn((e=>{var r,n,a=null===(r=x.current)||void 0===r?void 0:r.contains(e.target);b.current&&ou(b.current,e.target)||D.current&&ou(D.current,e.target)||(null===(n=k.current)||void 0===n?void 0:n.contains(e.target))||(a||null==c||c(e),e.isDefaultPrevented()||"leaf"===p||Uo.unstable_batchedUpdates((()=>{var r,n={event:e,value:u,open:C(),target:e.currentTarget,type:a?"ExpandIconClick":Ls};null===(r=t.onOpenChange)||void 0===r||r.call(t,e,n),i(Yc(Yc({},n),{},{itemType:p,requestType:"open"})),i(Yc(Yc({},n),{},{itemType:p,parentValue:s,requestType:"navigate",type:Ls}))})))})),F=Jn((e=>{if(null==h||h(e),!e.isDefaultPrevented()&&e.currentTarget===e.target){switch(e.key){case Qn:var r;return void("none"!==_&&(null===(r=k.current)||void 0===r||r.click(),e.preventDefault()));case Ns:return e.currentTarget.click();case Is:case Rs:case Ms:case Ps:return i({requestType:"navigate",event:e,value:u,itemType:p,parentValue:s,type:e.key,target:e.currentTarget});case Os:if(e.altKey)return;if(1===g&&!A)return;var n,a={value:u,event:e,open:C(),type:e.key,target:e.currentTarget};return A&&(null===(n=t.onOpenChange)||void 0===n||n.call(t,e,a)),void i(Yc(Yc({},a),{},{itemType:p,parentValue:s,requestType:A?"open":"navigate"}));case Bs:if(e.altKey)return;if("leaf"===p)return;var o,l={value:u,event:e,open:C(),type:e.key,target:e.currentTarget};return A||null===(o=t.onOpenChange)||void 0===o||o.call(t,e,l),void i(Yc(Yc({},l),{},{itemType:p,parentValue:s,requestType:A?"navigate":"open"}))}1===e.key.length&&e.key.match(/\w/)&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&i({requestType:"navigate",event:e,target:e.currentTarget,value:u,itemType:p,type:zs,parentValue:s})}})),O=Jn((e=>{null==d||d(e),e.isDefaultPrevented()||D.current&&ou(D.current,e.target)||i({requestType:"selection",event:e,value:u,itemType:p,type:"Change",target:e.currentTarget,checked:"mixed"===T||!T})}));return{value:u,open:A,checked:T,subtreeRef:D,layoutRef:w,selectionRef:k,expandIconRef:x,treeItemRef:E,actionsRef:b,itemType:p,level:g,components:{root:"div"},isAsideVisible:!1,isActionsVisible:!1,root:St(Gt(f,Yc(Yc({tabIndex:-1,[su]:u,role:"treeitem"},v),{},{ref:Kr(r,E),"aria-level":g,"aria-checked":"multiselect"===_?T:void 0,"aria-selected":void 0!==m?m:"single"===_?!!T:void 0,"aria-expanded":void 0!==y?y:"branch"===p?A:void 0,onClick:S,onKeyDown:F,onChange:O})),{elementType:"div"})}}(t,r);(e=>{var t=Zc(),r=Qc(),{level:n}=e;e.root.className=kr("fui-TreeItem",t,function(e){return e>=1&&e<=10}(n)&&r["level".concat(n)],e.root.className)})(n);var i=function(e){var{value:t,itemType:r,layoutRef:n,subtreeRef:i,open:a,expandIconRef:o,actionsRef:s,treeItemRef:l,isActionsVisible:u,isAsideVisible:c,selectionRef:h,checked:d}=e;return{treeItem:{value:t,checked:d,itemType:r,layoutRef:n,subtreeRef:i,open:a,selectionRef:h,isActionsVisible:u,isAsideVisible:c,actionsRef:s,treeItemRef:l,expandIconRef:o}}}(n);return((e,t)=>br(e.root,{children:br(wc,{value:t.treeItem,children:e.root.children})}))(n,i)}));Jc.displayName="TreeItem";var eh=Jc;function th(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)&&!e.isValidElement(t)}var rh=tn("Square12Filled","12",["M2 4c0-1.1.9-2 2-2h4a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Z"]),nh=tn("Square16Filled","16",["M2 4.5A2.5 2.5 0 0 1 4.5 2h7A2.5 2.5 0 0 1 14 4.5v7a2.5 2.5 0 0 1-2.5 2.5h-7A2.5 2.5 0 0 1 2 11.5v-7Z"]),ih=tn("Checkmark12Filled","12",["M9.76 3.2c.3.29.32.76.04 1.06l-4.25 4.5a.75.75 0 0 1-1.08.02L2.22 6.53a.75.75 0 0 1 1.06-1.06l1.7 1.7L8.7 3.24a.75.75 0 0 1 1.06-.04Z"]),ah=tn("Checkmark16Filled","16",["M14.05 3.49c.28.3.27.77-.04 1.06l-7.93 7.47A.85.85 0 0 1 4.9 12L2.22 9.28a.75.75 0 1 1 1.06-1.06l2.24 2.27 7.47-7.04a.75.75 0 0 1 1.06.04Z"]),oh=tn("ChevronRight12Regular","12",["M4.65 2.15a.5.5 0 0 0 0 .7L7.79 6 4.65 9.15a.5.5 0 1 0 .7.7l3.5-3.5a.5.5 0 0 0 0-.7l-3.5-3.5a.5.5 0 0 0-.7 0Z"]);function sh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sh(Object(r),!0).forEach((function(t){uh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uh(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ch=Lr("r1q22k1j","r18ze4k2",{r:[".r1q22k1j{position:relative;display:inline-flex;cursor:pointer;vertical-align:middle;color:var(--colorNeutralForeground3);}",".r1q22k1j:focus{outline-style:none;}",".r1q22k1j:focus-visible{outline-style:none;}",".r1q22k1j[data-fui-focus-within]:focus-within{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r1q22k1j[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".r18ze4k2{position:relative;display:inline-flex;cursor:pointer;vertical-align:middle;color:var(--colorNeutralForeground3);}",".r18ze4k2:focus{outline-style:none;}",".r18ze4k2:focus-visible{outline-style:none;}",".r18ze4k2[data-fui-focus-within]:focus-within{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.r18ze4k2[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r1q22k1j[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.r18ze4k2[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),hh=wr({unchecked:{Bi91k9c:"f3p8bqa",pv5h1i:"fium13f",lj723h:"f1r2dosr",Hnthvo:"f1729es6"},checked:{sj55zd:"f19n0e5",wkncrt:"f35ds98",zxk7z7:"f12mnkne",Hmsnfy:"fei9a8h",e6czan:"fix56y3",pv5h1i:"f1bcv2js",qbydtz:"f7dr4go",Hnthvo:"f1r5cpua"},mixed:{sj55zd:"f19n0e5",Hmsnfy:"f1l27tf0",zxk7z7:"fcilktj",pv5h1i:"f1lphd54",Bunfa6h:"f1obkvq7",Hnthvo:"f2gmbuh",B15ykmv:"f1oy4fa1"},disabled:{Bceei9c:"f158kwzp",sj55zd:"f1s2aq7o",Hmsnfy:"f1w7mfl5",zxk7z7:"fcoafq6",Bbusuzp:"f1dcs8yz",mrqfp9:"fxb3eh3"}},{h:[".f3p8bqa:hover{color:var(--colorNeutralForeground2);}",".fium13f:hover{--fui-Checkbox__indicator--borderColor:var(--colorNeutralStrokeAccessibleHover);}",".fix56y3:hover{--fui-Checkbox__indicator--backgroundColor:var(--colorCompoundBrandBackgroundHover);}",".f1bcv2js:hover{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandBackgroundHover);}",".f1lphd54:hover{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandStrokeHover);}",".f1obkvq7:hover{--fui-Checkbox__indicator--color:var(--colorCompoundBrandForeground1Hover);}"],a:[".f1r2dosr:active{color:var(--colorNeutralForeground1);}",".f1729es6:active{--fui-Checkbox__indicator--borderColor:var(--colorNeutralStrokeAccessiblePressed);}",".f7dr4go:active{--fui-Checkbox__indicator--backgroundColor:var(--colorCompoundBrandBackgroundPressed);}",".f1r5cpua:active{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandBackgroundPressed);}",".f2gmbuh:active{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandStrokePressed);}",".f1oy4fa1:active{--fui-Checkbox__indicator--color:var(--colorCompoundBrandForeground1Pressed);}"],d:[".f19n0e5{color:var(--colorNeutralForeground1);}",".f35ds98{--fui-Checkbox__indicator--backgroundColor:var(--colorCompoundBrandBackground);}",".f12mnkne{--fui-Checkbox__indicator--color:var(--colorNeutralForegroundInverted);}",".fei9a8h{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandBackground);}",".f1l27tf0{--fui-Checkbox__indicator--borderColor:var(--colorCompoundBrandStroke);}",".fcilktj{--fui-Checkbox__indicator--color:var(--colorCompoundBrandForeground1);}",".f158kwzp{cursor:default;}",".f1s2aq7o{color:var(--colorNeutralForegroundDisabled);}",".f1w7mfl5{--fui-Checkbox__indicator--borderColor:var(--colorNeutralStrokeDisabled);}",".fcoafq6{--fui-Checkbox__indicator--color:var(--colorNeutralForegroundDisabled);}"],m:[["@media (forced-colors: active){.f1dcs8yz{color:GrayText;}}",{m:"(forced-colors: active)"}],["@media (forced-colors: active){.fxb3eh3{--fui-Checkbox__indicator--color:GrayText;}}",{m:"(forced-colors: active)"}]]}),dh=Lr("ruo9svu",null,[".ruo9svu{box-sizing:border-box;cursor:inherit;height:100%;margin:0;opacity:0;position:absolute;top:0;width:calc(16px + 2 * var(--spacingHorizontalS));}"]),fh=wr({before:{j35jbq:["f1e31b4d","f1vgc2s3"]},after:{oyh7mz:["f1vgc2s3","f1e31b4d"]},large:{a9b677:"f1mq5jt6"}},{d:[".f1e31b4d{right:0;}",".f1vgc2s3{left:0;}",".f1mq5jt6{width:calc(20px + 2 * var(--spacingHorizontalS));}"]}),ph=Lr("rl7ci6d",null,[".rl7ci6d{align-self:flex-start;box-sizing:border-box;flex-shrink:0;display:flex;align-items:center;justify-content:center;overflow:hidden;color:var(--fui-Checkbox__indicator--color);background-color:var(--fui-Checkbox__indicator--backgroundColor);border-color:var(--fui-Checkbox__indicator--borderColor, var(--colorNeutralStrokeAccessible));border-style:solid;border-width:var(--strokeWidthThin);border-radius:var(--borderRadiusSmall);margin:var(--spacingVerticalS) var(--spacingHorizontalS);fill:currentColor;pointer-events:none;font-size:12px;height:16px;width:16px;}"]),gh=wr({large:{Be2twd7:"f4ybsrx",Bqenvij:"fjamq6b",a9b677:"f64fuq3"},circular:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f44lkw9"}},{d:[".f4ybsrx{font-size:16px;}",".fjamq6b{height:20px;}",".f64fuq3{width:20px;}",[".f44lkw9{border-radius:var(--borderRadiusCircular);}",{p:-1}]]}),mh=wr({base:{qb2dma:"f7nlbp4",sj55zd:"f1ym3bx4",Bceei9c:"fpo1scq",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1f5q0n8"},before:{z189sj:["f7x41pl","fruq291"]},after:{uwmqm3:["fruq291","f7x41pl"]},medium:{B6of3ja:"fjzwpt6",jrapky:"fh6j2fo"},large:{B6of3ja:"f1xlvstr",jrapky:"f49ad5g"}},{d:[".f7nlbp4{align-self:center;}",".f1ym3bx4{color:inherit;}",".fpo1scq{cursor:inherit;}",[".f1f5q0n8{padding:var(--spacingVerticalS) var(--spacingHorizontalS);}",{p:-1}],".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".fjzwpt6{margin-top:calc((16px - var(--lineHeightBase300)) / 2);}",".fh6j2fo{margin-bottom:calc((16px - var(--lineHeightBase300)) / 2);}",".f1xlvstr{margin-top:calc((20px - var(--lineHeightBase300)) / 2);}",".f49ad5g{margin-bottom:calc((20px - var(--lineHeightBase300)) / 2);}"]}),yh=e.forwardRef(((t,r)=>{var n=((t,r)=>{t=Qo(t,{supportsLabelFor:!0,supportsRequired:!0});var n,{disabled:i=!1,required:a,shape:o="square",size:s="medium",labelPosition:l="after",onChange:u}=t,[c,h]=ko({defaultState:t.defaultChecked,state:t.checked,initialState:!1}),d=Wt({props:t,primarySlotTagName:"input",excludedPropNames:["checked","defaultChecked","size","onChange"]}),f="mixed"===c,p=kt("checkbox-",d.primary.id);f?n="circular"===o?e.createElement(on,null):"large"===s?e.createElement(nh,null):e.createElement(rh,null):c&&(n="large"===s?e.createElement(ah,null):e.createElement(ih,null));var g={shape:o,checked:c,disabled:i,size:s,labelPosition:l,components:{root:"span",input:"input",indicator:"div",label:Tr},root:St(t.root,{defaultProps:lh({ref:ms()},d.root),elementType:"span"}),input:St(t.input,{defaultProps:lh({type:"checkbox",id:p,ref:r,checked:!0===c},d.primary),elementType:"input"}),label:Ft(t.label,{defaultProps:{htmlFor:p,disabled:i,required:a,size:"medium"},elementType:Tr}),indicator:Ft(t.indicator,{renderByDefault:!0,defaultProps:{"aria-hidden":!0,children:n},elementType:"div"})};g.input.onChange=Jn((e=>{var t=e.currentTarget.indeterminate?"mixed":e.currentTarget.checked;null==u||u(e,{checked:t}),h(t)}));var m=Kr(g.input.ref);return g.input.ref=m,cn((()=>{m.current&&(m.current.indeterminate=f)}),[m,f]),g})(t,r);return(e=>{var{checked:t,disabled:r,labelPosition:n,shape:i,size:a}=e,o=ch(),s=hh();e.root.className=kr("fui-Checkbox",o,r?s.disabled:"mixed"===t?s.mixed:t?s.checked:s.unchecked,e.root.className);var l=dh(),u=fh();e.input.className=kr("fui-Checkbox__input",l,"large"===a&&u.large,u[n],e.input.className);var c=ph(),h=gh();e.indicator&&(e.indicator.className=kr("fui-Checkbox__indicator",c,"large"===a&&h.large,"circular"===i&&h.circular,e.indicator.className));var d=mh();e.label&&(e.label.className=kr("fui-Checkbox__label",d.base,d[a],d[n],e.label.className))})(n),_r("useCheckboxStyles_unstable")(n),(e=>xr(e.root,{children:[br(e.input,{}),"before"===e.labelPosition&&e.label&&br(e.label,{}),e.indicator&&br(e.indicator,{}),"after"===e.labelPosition&&e.label&&br(e.label,{})]}))(n)}));yh.displayName="Checkbox";var vh=e.createContext(void 0),bh={},xh=(vh.Provider,()=>e.useContext(vh)||bh);function wh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wh(Object(r),!0).forEach((function(t){kh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kh(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eh=Lr("r1siqwd8","rmnplyc",{r:[".r1siqwd8{display:inline-flex;position:relative;}",".r1siqwd8:focus{outline-style:none;}",".r1siqwd8:focus-visible{outline-style:none;}",".r1siqwd8[data-fui-focus-within]:focus-within{border-top-color:transparent;border-right-color:transparent;border-bottom-color:transparent;border-left-color:transparent;}",'.r1siqwd8[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);right:calc(2px * -1);bottom:calc(2px * -1);left:calc(2px * -1);}',".rmnplyc{display:inline-flex;position:relative;}",".rmnplyc:focus{outline-style:none;}",".rmnplyc:focus-visible{outline-style:none;}",".rmnplyc[data-fui-focus-within]:focus-within{border-top-color:transparent;border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;}",'.rmnplyc[data-fui-focus-within]:focus-within::after{content:"";position:absolute;pointer-events:none;z-index:1;border:2px solid var(--colorStrokeFocus2);border-radius:var(--borderRadiusMedium);top:calc(2px * -1);left:calc(2px * -1);bottom:calc(2px * -1);right:calc(2px * -1);}'],s:["@media (forced-colors: active){.r1siqwd8[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-right-color:Highlight;border-bottom-color:Highlight;border-left-color:Highlight;}}","@media (forced-colors: active){.rmnplyc[data-fui-focus-within]:focus-within::after{border-top-color:Highlight;border-left-color:Highlight;border-bottom-color:Highlight;border-right-color:Highlight;}}"]}),Ah=wr({vertical:{Beiy3e4:"f1vx9l62",Bt984gj:"f122n59"}},{d:[".f1vx9l62{flex-direction:column;}",".f122n59{align-items:center;}"]}),Ch=Lr("rg1upok","rzwdzb4",{r:[".rg1upok{position:absolute;left:0;top:0;width:calc(16px + 2 * var(--spacingHorizontalS));height:100%;box-sizing:border-box;margin:0;opacity:0;}",".rg1upok:enabled{cursor:pointer;}",".rg1upok:enabled~.fui-Radio__label{cursor:pointer;}",".rg1upok:enabled:not(:checked)~.fui-Radio__label{color:var(--colorNeutralForeground3);}",".rg1upok:enabled:not(:checked)~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessible);}",".rg1upok:enabled:not(:checked):hover~.fui-Radio__label{color:var(--colorNeutralForeground2);}",".rg1upok:enabled:not(:checked):hover~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessibleHover);}",".rg1upok:enabled:not(:checked):hover:active~.fui-Radio__label{color:var(--colorNeutralForeground1);}",".rg1upok:enabled:not(:checked):hover:active~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessiblePressed);}",".rg1upok:enabled:checked~.fui-Radio__label{color:var(--colorNeutralForeground1);}",".rg1upok:enabled:checked~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStroke);color:var(--colorCompoundBrandForeground1);}",".rg1upok:enabled:checked:hover~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStrokeHover);color:var(--colorCompoundBrandForeground1Hover);}",".rg1upok:enabled:checked:hover:active~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStrokePressed);color:var(--colorCompoundBrandForeground1Pressed);}",".rg1upok:disabled~.fui-Radio__label{color:var(--colorNeutralForegroundDisabled);cursor:default;}",".rg1upok:disabled~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeDisabled);color:var(--colorNeutralForegroundDisabled);}",".rzwdzb4{position:absolute;right:0;top:0;width:calc(16px + 2 * var(--spacingHorizontalS));height:100%;box-sizing:border-box;margin:0;opacity:0;}",".rzwdzb4:enabled{cursor:pointer;}",".rzwdzb4:enabled~.fui-Radio__label{cursor:pointer;}",".rzwdzb4:enabled:not(:checked)~.fui-Radio__label{color:var(--colorNeutralForeground3);}",".rzwdzb4:enabled:not(:checked)~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessible);}",".rzwdzb4:enabled:not(:checked):hover~.fui-Radio__label{color:var(--colorNeutralForeground2);}",".rzwdzb4:enabled:not(:checked):hover~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessibleHover);}",".rzwdzb4:enabled:not(:checked):hover:active~.fui-Radio__label{color:var(--colorNeutralForeground1);}",".rzwdzb4:enabled:not(:checked):hover:active~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeAccessiblePressed);}",".rzwdzb4:enabled:checked~.fui-Radio__label{color:var(--colorNeutralForeground1);}",".rzwdzb4:enabled:checked~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStroke);color:var(--colorCompoundBrandForeground1);}",".rzwdzb4:enabled:checked:hover~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStrokeHover);color:var(--colorCompoundBrandForeground1Hover);}",".rzwdzb4:enabled:checked:hover:active~.fui-Radio__indicator{border-color:var(--colorCompoundBrandStrokePressed);color:var(--colorCompoundBrandForeground1Pressed);}",".rzwdzb4:disabled~.fui-Radio__label{color:var(--colorNeutralForegroundDisabled);cursor:default;}",".rzwdzb4:disabled~.fui-Radio__indicator{border-color:var(--colorNeutralStrokeDisabled);color:var(--colorNeutralForegroundDisabled);}"],s:["@media (forced-colors: active){.rg1upok:enabled:not(:checked)~.fui-Radio__indicator{border-color:ButtonBorder;}}","@media (forced-colors: active){.rg1upok:enabled:checked~.fui-Radio__indicator{border-color:Highlight;color:Highlight;}.rg1upok:enabled:checked~.fui-Radio__indicator::after{background-color:Highlight;}}","@media (forced-colors: active){.rg1upok:disabled~.fui-Radio__label{color:GrayText;}}","@media (forced-colors: active){.rg1upok:disabled~.fui-Radio__indicator{border-color:GrayText;color:GrayText;}.rg1upok:disabled~.fui-Radio__indicator::after{background-color:GrayText;}}","@media (forced-colors: active){.rzwdzb4:enabled:not(:checked)~.fui-Radio__indicator{border-color:ButtonBorder;}}","@media (forced-colors: active){.rzwdzb4:enabled:checked~.fui-Radio__indicator{border-color:Highlight;color:Highlight;}.rzwdzb4:enabled:checked~.fui-Radio__indicator::after{background-color:Highlight;}}","@media (forced-colors: active){.rzwdzb4:disabled~.fui-Radio__label{color:GrayText;}}","@media (forced-colors: active){.rzwdzb4:disabled~.fui-Radio__indicator{border-color:GrayText;color:GrayText;}.rzwdzb4:disabled~.fui-Radio__indicator::after{background-color:GrayText;}}"]}),_h=wr({below:{a9b677:"fly5x3f",Bqenvij:"f1je6zif"},defaultIndicator:{Blbys7f:"f9ma1gx"},customIndicator:{Bj53wkj:"f12zxao0"}},{d:[".fly5x3f{width:100%;}",".f1je6zif{height:calc(16px + 2 * var(--spacingVerticalS));}",'.f9ma1gx:checked~.fui-Radio__indicator::after{content:"";}',".f12zxao0:not(:checked)~.fui-Radio__indicator>*{opacity:0;}"]}),Th=Lr("rwtekvw",null,[".rwtekvw{position:relative;width:16px;height:16px;font-size:12px;box-sizing:border-box;flex-shrink:0;display:flex;align-items:center;justify-content:center;overflow:hidden;border:var(--strokeWidthThin) solid;border-radius:var(--borderRadiusCircular);margin:var(--spacingVerticalS) var(--spacingHorizontalS);fill:currentColor;pointer-events:none;}",".rwtekvw::after{position:absolute;width:16px;height:16px;border-radius:var(--borderRadiusCircular);transform:scale(0.625);background-color:currentColor;}"]),Sh=wr({base:{qb2dma:"f7nlbp4",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1f5q0n8"},after:{uwmqm3:["fruq291","f7x41pl"],B6of3ja:"fjzwpt6",jrapky:"fh6j2fo"},below:{z8tnut:"f1ywm7hm",fsow6f:"f17mccla"}},{d:[".f7nlbp4{align-self:center;}",[".f1f5q0n8{padding:var(--spacingVerticalS) var(--spacingHorizontalS);}",{p:-1}],".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fjzwpt6{margin-top:calc((16px - var(--lineHeightBase300)) / 2);}",".fh6j2fo{margin-bottom:calc((16px - var(--lineHeightBase300)) / 2);}",".f1ywm7hm{padding-top:var(--spacingVerticalXS);}",".f17mccla{text-align:center;}"]}),Fh=e.forwardRef(((e,t)=>{var r=((e,t)=>{var r=xh(),{name:n=r.name,checked:i=(void 0!==r.value?r.value===e.value:void 0),defaultChecked:a=(void 0!==r.defaultValue?r.defaultValue===e.value:void 0),labelPosition:o=("horizontal-stacked"===r.layout?"below":"after"),disabled:s=r.disabled,required:l=r.required,"aria-describedby":u=r["aria-describedby"],onChange:c}=e,h=Wt({props:e,primarySlotTagName:"input",excludedPropNames:["checked","defaultChecked","onChange"]}),d=St(e.root,{defaultProps:Dh({ref:ms()},h.root),elementType:"span"}),f=St(e.input,{defaultProps:Dh({ref:t,type:"radio",id:kt("radio-",h.primary.id),name:n,checked:i,defaultChecked:a,disabled:s,required:l,"aria-describedby":u},h.primary),elementType:"input"});f.onChange=Ao(f.onChange,(e=>null==c?void 0:c(e,{value:e.currentTarget.value})));var p=Ft(e.label,{defaultProps:{htmlFor:f.id,disabled:f.disabled},elementType:Tr}),g=St(e.indicator,{defaultProps:{"aria-hidden":!0},elementType:"div"});return{labelPosition:o,components:{root:"span",input:"input",label:Tr,indicator:"div"},root:d,input:f,label:p,indicator:g}})(e,t);return(e=>{var{labelPosition:t}=e,r=Eh(),n=Ah();e.root.className=kr("fui-Radio",r,"below"===t&&n.vertical,e.root.className);var i=Ch(),a=_h();e.input.className=kr("fui-Radio__input",i,"below"===t&&a.below,e.indicator.children?a.customIndicator:a.defaultIndicator,e.input.className);var o=Th();e.indicator.className=kr("fui-Radio__indicator",o,e.indicator.className);var s=Sh();e.label&&(e.label.className=kr("fui-Radio__label",s.base,s[t],e.label.className))})(r),_r("useRadioStyles_unstable")(r),(e=>xr(e.root,{children:[br(e.input,{}),br(e.indicator,{}),e.label&&br(e.label,{})]}))(r)}));function Oh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oh(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nh(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Fh.displayName="Radio";var Lh=e.memo((()=>{var t=Dc((e=>e.open)),{dir:r}=Xt(),n=t?90:"rtl"!==r?0:180;return e.createElement(oh,{style:Bh(Bh({},Ih[n]),{},{transition:"transform ".concat(Uu.durationNormal,"ms ").concat(Hu.curveEasyEaseMax)})})}));Lh.displayName="TreeItemChevron";var Ih={90:{transform:"rotate(90deg)"},0:{transform:"rotate(0deg)"},180:{transform:"rotate(180deg)"}};function Rh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mh(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ph=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{circular:r,axis:n,memorizeCurrent:i=!0,tabbable:a,ignoreDefaultKeydown:o,unstable_hasDefault:s}=t,l=au();return l&&function(e){var t=e.core;t.mover||(t.mover=new Ql(t,t.getWindow)),t.mover}(l),(t=>{au();var r=Il(t,!0);return e.useMemo((()=>({[Hs]:r})),[r])})(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rh(Object(r),!0).forEach((function(t){Mh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({mover:{cyclic:!!r,direction:zh(null!=n?n:"vertical"),memorizeCurrent:i,tabbable:a,hasDefault:s}},o&&{focusable:{ignoreKeydown:o}}))};function zh(e){switch(e){case"horizontal":return 2;case"grid":return 3;case"grid-linear":return 4;case"both":return 0;default:return 1}}function $h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$h(Object(r),!0).forEach((function(t){Kh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kh(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qh=Lr("r1bx0xiv",null,[".r1bx0xiv{display:flex;align-items:center;min-height:32px;box-sizing:border-box;grid-area:layout;}",".r1bx0xiv:active{color:var(--colorNeutralForeground2Pressed);background-color:var(--colorSubtleBackgroundPressed);}",".r1bx0xiv:active .fui-TreeItemLayout__expandIcon{color:var(--colorNeutralForeground3Pressed);}",".r1bx0xiv:hover{color:var(--colorNeutralForeground2Hover);background-color:var(--colorSubtleBackgroundHover);}",".r1bx0xiv:hover .fui-TreeItemLayout__expandIcon{color:var(--colorNeutralForeground3Hover);}"]),Uh=wr({leaf:{uwmqm3:["f1k1erfc","faevyjx"]},branch:{uwmqm3:["fo100m9","f6yw3pu"]},medium:{Bahqtrf:"fk6fouc",Be2twd7:"fkhj508",Bhrd7zp:"figsok6",Bg96gwp:"f1i3iumi"},small:{sshi5w:"f1pha7fy",Bahqtrf:"fk6fouc",Be2twd7:"fy9rknc",Bhrd7zp:"figsok6",Bg96gwp:"fwrc4pm"},subtle:{},"subtle-alpha":{Jwef8y:"f146ro5n",ecr2s2:"fkam630"},transparent:{De3pzq:"f1c21dwh",Jwef8y:"fjxutwb",ecr2s2:"fophhak"}},{d:[".f1k1erfc{padding-left:calc(var(--fluent-TreeItem--level, 1) * var(--spacingHorizontalXXL));}",".faevyjx{padding-right:calc(var(--fluent-TreeItem--level, 1) * var(--spacingHorizontalXXL));}",".fo100m9{padding-left:calc((var(--fluent-TreeItem--level, 1) - 1) * var(--spacingHorizontalXXL));}",".f6yw3pu{padding-right:calc((var(--fluent-TreeItem--level, 1) - 1) * var(--spacingHorizontalXXL));}",".fk6fouc{font-family:var(--fontFamilyBase);}",".fkhj508{font-size:var(--fontSizeBase300);}",".figsok6{font-weight:var(--fontWeightRegular);}",".f1i3iumi{line-height:var(--lineHeightBase300);}",".f1pha7fy{min-height:24px;}",".fy9rknc{font-size:var(--fontSizeBase200);}",".fwrc4pm{line-height:var(--lineHeightBase200);}",".f1c21dwh{background-color:var(--colorTransparentBackground);}"],h:[".f146ro5n:hover{background-color:var(--colorSubtleBackgroundLightAlphaHover);}",".fjxutwb:hover{background-color:var(--colorTransparentBackgroundHover);}"],a:[".fkam630:active{background-color:var(--colorSubtleBackgroundLightAlphaPressed);}",".fophhak:active{background-color:var(--colorTransparentBackgroundPressed);}"]}),Hh=Lr("rzvs2in","r17h8a29",[".rzvs2in{display:flex;margin-left:auto;position:relative;z-index:1;grid-area:aside;padding:0 var(--spacingHorizontalS);}",".r17h8a29{display:flex;margin-right:auto;position:relative;z-index:1;grid-area:aside;padding:0 var(--spacingHorizontalS);}"]),Wh=Lr("r1825u21","rezy0yk",[".r1825u21{display:flex;margin-left:auto;align-items:center;z-index:0;grid-area:aside;padding:0 var(--spacingHorizontalM);gap:var(--spacingHorizontalXS);}",".rezy0yk{display:flex;margin-right:auto;align-items:center;z-index:0;grid-area:aside;padding:0 var(--spacingHorizontalM);gap:var(--spacingHorizontalXS);}"]),Gh=Lr("rh4pu5o",null,[".rh4pu5o{display:flex;align-items:center;justify-content:center;min-width:24px;box-sizing:border-box;color:var(--colorNeutralForeground3);flex:0 0 auto;padding:var(--spacingVerticalXS) 0;}"]),Vh=Lr("rklbe47",null,[".rklbe47{padding:0 var(--spacingHorizontalXXS);}"]),Yh=Lr("rphzgg1",null,[".rphzgg1{display:flex;align-items:center;color:var(--colorNeutralForeground2);line-height:var(--lineHeightBase500);font-size:var(--fontSizeBase500);}"]),Xh=wr({medium:{z189sj:["f7x41pl","fruq291"]},small:{z189sj:["ffczdla","fgiv446"]}},{d:[".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fruq291{padding-left:var(--spacingHorizontalXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}"]}),Zh=wr({medium:{uwmqm3:["fruq291","f7x41pl"]},small:{uwmqm3:["fgiv446","ffczdla"]}},{d:[".fruq291{padding-left:var(--spacingHorizontalXS);}",".f7x41pl{padding-right:var(--spacingHorizontalXS);}",".fgiv446{padding-left:var(--spacingHorizontalXXS);}",".ffczdla{padding-right:var(--spacingHorizontalXXS);}"]}),Qh=e.forwardRef(((t,r)=>{var n=((t,r)=>{var{main:n,iconAfter:i,iconBefore:a}=t,o=Dc((e=>e.layoutRef)),s=qc((e=>e.selectionMode)),[l,u]=th(t.actions)?[t.actions.visible,t.actions.onVisibilityChange]:[void 0,void 0],[c,h]=ko({state:l,initialState:!1}),d=Dc((e=>e.selectionRef)),f=Dc((e=>e.expandIconRef)),p=Dc((e=>e.actionsRef)),g=e.useRef(null),m=Dc((e=>e.treeItemRef)),y=Dc((e=>e.subtreeRef)),v=Dc((e=>e.checked)),b=Dc((e=>"branch"===e.itemType)),x=e.useCallback((e=>{if(!Boolean(y.current&&ou(y.current,e.target))){if(null==u||u(e,{visible:!0,event:e,type:e.type}),e.defaultPrevented)return;h(!0)}}),[y,h,u]),w=e.useCallback((e=>{if(Boolean(g.current&&ou(g.current,e.relatedTarget))){if(null==u||u(e,{visible:!0,event:e,type:e.type}),e.defaultPrevented)return;h(!0)}else{var t;Boolean(null===(t=g.current)||void 0===t?void 0:t.contains(e.target))&&Boolean(m.current&&ou(m.current,e.relatedTarget))||(null==u||u(e,{visible:!1,event:e,type:e.type}),e.defaultPrevented||h(!1))}}),[h,u,m]),D=Ft(t.expandIcon,{renderByDefault:b,defaultProps:{children:e.createElement(Lh,null),"aria-hidden":!0},elementType:"div"}),k=Kr(null==D?void 0:D.ref,f);D&&(D.ref=k);var E=Ph({circular:!0,axis:"horizontal"}),A=c?Ft(t.actions,{defaultProps:jh(jh({},E),{},{role:"toolbar"}),elementType:"div"}):void 0;null==A||delete A.visible,null==A||delete A.onVisibilityChange;var C=Kr(null==A?void 0:A.ref,p,g),_=Jn((e=>{var r,n;th(t.actions)&&(null===(r=(n=t.actions).onBlur)||void 0===r||r.call(n,e));var i=Boolean(ou(e.currentTarget,e.relatedTarget));null==u||u(e,{visible:i,event:e,type:e.type}),h(i)}));A&&(A.ref=C,A.onBlur=_);var T=Boolean(t.actions);return e.useEffect((()=>{if(m.current&&T){var e=m.current,t=x,r=w,n=x,i=w;return e.addEventListener("mouseover",t),e.addEventListener("mouseout",r),e.addEventListener("focus",n),e.addEventListener("blur",i),()=>{e.removeEventListener("mouseover",t),e.removeEventListener("mouseout",r),e.removeEventListener("focus",n),e.removeEventListener("blur",i)}}}),[T,m,x,w]),{components:{root:"div",expandIcon:"div",iconBefore:"div",main:"div",iconAfter:"div",actions:"div",aside:"div",selector:"multiselect"===s?yh:Fh},buttonContextValue:{size:"small"},root:St(Gt("div",jh(jh({},t),{},{ref:Kr(r,o)})),{elementType:"div"}),iconBefore:Ft(a,{elementType:"div"}),main:St(n,{elementType:"div"}),iconAfter:Ft(i,{elementType:"div"}),aside:c?void 0:Ft(t.aside,{elementType:"div"}),actions:A,expandIcon:D,selector:Ft(t.selector,{renderByDefault:"none"!==s,defaultProps:{checked:v,tabIndex:-1,"aria-hidden":!0,ref:d},elementType:"multiselect"===s?yh:Fh})}})(t,r);return(e=>{var{main:t,iconAfter:r,iconBefore:n,expandIcon:i,root:a,aside:o,actions:s,selector:l}=e,u=Uh(),c=qh(),h=Hh(),d=Wh(),f=Vh(),p=Gh(),g=Yh(),m=Xh(),y=Zh(),v=qc((e=>e.size)),b=qc((e=>e.appearance)),x=Dc((e=>e.itemType));a.className=kr("fui-TreeItemLayout",c,u[b],u[v],u[x],a.className),t.className=kr("fui-TreeItemLayout__main",f,t.className),i&&(i.className=kr("fui-TreeItemLayout__expandIcon",p,i.className)),n&&(n.className=kr("fui-TreeItemLayout__iconBefore",g,m[v],n.className)),r&&(r.className=kr("fui-TreeItemLayout__iconAfter",g,y[v],r.className)),s&&(s.className=kr("fui-TreeItemLayout__actions",h,s.className)),o&&(o.className=kr("fui-TreeItemLayout__aside",d,o.className)),l&&(l.className=kr("fui-TreeItemLayout__selector",l.className))})(n),(e=>xr(e.root,{children:[e.expandIcon&&br(e.expandIcon,{}),e.selector&&br(e.selector,{}),e.iconBefore&&br(e.iconBefore,{}),br(e.main,{children:e.root.children}),e.iconAfter&&br(e.iconAfter,{}),xr(Hn,{value:e.buttonContextValue,children:[e.actions&&br(e.actions,{}),e.aside&&br(e.aside,{})]})]}))(n)}));Qh.displayName="TreeItemLayout";var Jh=e.memo((t=>{var{items:r,onConfigChange:n}=t,[i,a]=e.useState(new Map(r.filter((e=>e.defaultChecked)).map((e=>[e.value,!0])))),o=Tu(r,{defaultOpenItems:r.filter((e=>!e.parentValue)).map((e=>e.value)),selectionMode:"multiselect",checkedItems:i,onCheckedChange:(e,t)=>{(e=>{var t=new Map(e);r.forEach((e=>{if(e.parentValue){var n=r.filter((t=>t.parentValue===e.parentValue)),i=n.every((e=>!0===t.get(e.value))),a=n.every((e=>!1===t.get(e.value)));i?t.set(e.parentValue,!0):a?t.set(e.parentValue,!1):t.set(e.parentValue,"mixed")}})),a(t);var i=Array.from(t.entries()).filter((e=>{var[,t]=e;return!0===t})).map((e=>{var[t]=e;return r.find((e=>e.value===t))})).filter((e=>void 0!==e));n(i)})(t.checkedItems)}});return e.createElement("div",{style:{padding:"20px",width:"300px",backgroundColor:"#FFFFFF",border:"1px solid #D0D0D0"}},e.createElement($u,{placeholder:"Search components",style:{marginBottom:"20px"}}),e.createElement(Wc,Object.assign({},o.getTreeProps(),{"aria-label":"Flat Tree Selectable"}),Array.from(o.items(),(t=>{var r=t.getTreeItemProps(),{content:n}=r,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(r,["content"]);return e.createElement(eh,Object.assign({},i,{key:t.value}),e.createElement(Qh,null,n))}))))}));Jh.displayName="SidePane";var ed=tn("Dismiss20Regular","20",["m4.09 4.22.06-.07a.5.5 0 0 1 .63-.06l.07.06L10 9.29l5.15-5.14a.5.5 0 0 1 .63-.06l.07.06c.18.17.2.44.06.63l-.06.07L10.71 10l5.14 5.15c.18.17.2.44.06.63l-.06.07a.5.5 0 0 1-.63.06l-.07-.06L10 10.71l-5.15 5.14a.5.5 0 0 1-.63.06l-.07-.06a.5.5 0 0 1-.06-.63l.06-.07L9.29 10 4.15 4.85a.5.5 0 0 1-.06-.63l.06-.07-.06.07Z"]),td=gt({branchItem:{color:mt,fontWeight:"var(--fontWeightBold)"},leafItem:{color:"var(--colorNeutralForeground1)"},toggleButton:{position:"absolute",left:"10px",top:"20px",height:"40px",width:"40px"},navigationContainer:{display:"flex",flexDirection:"column",padding:"10px"},flatTreeWrapper:{marginTop:"45px"},navHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px",borderBottom:"1px solid ".concat(yt),fontWeight:"bold",gap:"10px"},closeButton:{marginLeft:"auto"}}),rd=e.memo((t=>{var{contentHTML:r,isNavPaneVisible:n,toggleNavPane:i}=t,[a,o]=e.useState([]),[s,l]=e.useState([]),u=td();e.useEffect((()=>{if(r){var e=(e=>{var t=(new DOMParser).parseFromString(e,"text/html"),r=Array.from(t.body.querySelectorAll("*")),n=[],i=null;return r.forEach((e=>{var t,r;if("H1"===e.tagName&&e.id)i=e.id||"h1-".concat(n.length+1),n.push({value:i,content:(null===(t=e.textContent)||void 0===t?void 0:t.trim())||""});else if("H2"===e.tagName&&i){var a=e.id||"h2-".concat(n.length+1);n.push({value:a,parentValue:i,content:(null===(r=e.textContent)||void 0===r?void 0:r.trim())||""})}})),n})(r);o(e);var t=e.filter((e=>void 0===e.parentValue)).map((e=>e.value));l(t)}}),[r]);var c=Tu(a,{openItems:s,onOpenChange:(e,t)=>{t.open?l((e=>[...e,t.value])):l((e=>e.filter((e=>e!==t.value))))}});return e.createElement("div",{className:u.navigationContainer},n&&e.createElement("div",{className:u.navHeader},e.createElement("span",null,"Navigation"),e.createElement(pi,{icon:e.createElement(ed,null),appearance:"subtle",onClick:i,className:u.closeButton})),e.createElement("div",{className:u.flatTreeWrapper},e.createElement(Wc,Object.assign({"aria-label":"Solution Sections"},c.getTreeProps()),Array.from(c.items(),(t=>{var r=t.getTreeItemProps(),{content:n,itemType:i}=r,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(r,["content","itemType"]),o="branch"===i?u.branchItem:u.leafItem;return e.createElement(eh,Object.assign({key:a.value},t.getTreeItemProps(),{onClick:()=>(e=>{var t=document.getElementById("document-preview"),r=document.getElementById(e);if(t&&r){var n=t.getBoundingClientRect(),i=r.getBoundingClientRect().top-n.top+t.scrollTop;t.scrollTo({top:i,behavior:"smooth"})}})(t.value.toString()),className:o}),e.createElement(Qh,null,n))})))))}));rd.displayName="NavigationPane";var nd=yc(void 0),id={itemVisibility:{},groupVisibility:{},hasOverflow:!1,registerItem:()=>()=>null,updateOverflow:()=>null,registerOverflowMenu:()=>()=>null,registerDivider:()=>()=>null};var ad=e.forwardRef(((t,r)=>{var{id:n,groupId:i,priority:a,children:o}=t,s=function(t,r,n){var i,a=e.useRef(null),o=(i=e=>e.registerItem,vc(nd,(function(){return i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:id)})));return cn((()=>{if(a.current)return o({element:a.current,id:t,priority:null!=r?r:0,groupId:n})}),[t,r,o,n]),a}(n,a,i),l=_o(o);return To(o,{ref:Kr(s,r,null==l?void 0:l.ref)})}));ad.isFluentTriggerComponent=!0;var od=wr({vertical:{Beiy3e4:"f1vx9l62"},verticalIcon:{Be2twd7:"f1rt2boy",jrapky:0,Frg6f3:0,t21cq0:0,B6of3ja:0,B74szlk:"f1s184ao"}},{d:[".f1vx9l62{flex-direction:column;}",".f1rt2boy{font-size:24px;}",[".f1s184ao{margin:0;}",{p:-1}]]}),sd=["vertical"];function ld(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ud(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ld(Object(r),!0).forEach((function(t){cd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ld(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cd(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hd=e.forwardRef(((e,t)=>{var r=((e,t)=>{var{vertical:r=!1}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,sd),i=ai(ud(ud({appearance:"subtle"},n),{},{size:"medium"}),t);return ud({vertical:r},i)})(e,t);return(e=>{fi(e);var t=od();e.root.className=kr(e.root.className,e.vertical&&t.vertical),e.icon&&(e.icon.className=kr(e.icon.className,e.vertical&&t.verticalIcon))})(r),_r("useToolbarButtonStyles_unstable")(r),Xn(r)}));hd.displayName="ToolbarButton";var dd="data-overflowing",fd="data-overflow-group";function pd(e){var t=[],r=0,n=e=>Math.floor((e-1)/2),i=(e,r)=>{var n=t[e];t[e]=t[r],t[r]=n},a=n=>{var o=n,s=(e=>2*e+1)(n),l=(e=>2*e+2)(n);s<r&&e(t[s],t[o])<0&&(o=s),l<r&&e(t[l],t[o])<0&&(o=l),o!==n&&(i(o,n),a(o))};return{all:()=>t.slice(0,r),clear:()=>{r=0},contains:e=>{var n=t.indexOf(e);return n>=0&&n<r},dequeue:()=>{if(0===r)throw new Error("Priority queue empty");var e=t[0];return t[0]=t[--r],a(0),e},enqueue:a=>{t[r++]=a;for(var o=r-1,s=n(o);o>0&&e(t[s],t[o])>0;)i(s,o),s=n(o=s)},peek:()=>0===r?null:t[0],remove:e=>{var n=t.indexOf(e);-1===n||n>=r||(t[n]=t[--r],a(n))},size:()=>r}}function gd(){var e,t,r=new Map,n=!1,i=!0,a={padding:10,overflowAxis:"horizontal",overflowDirection:"end",minimumVisible:0,onUpdateItemVisibility:()=>{},onUpdateOverflow:()=>{}},o={},s={},l=()=>null,u=(e,t)=>{var r=e.dequeue();return t.enqueue(r),o[r]},c=md();function h(e,t){if(!e||!t)return 0;var r=o[e],n=o[t];if(r.priority!==n.priority)return r.priority>n.priority?1:-1;var i="end"===a.overflowDirection?Node.DOCUMENT_POSITION_FOLLOWING:Node.DOCUMENT_POSITION_PRECEDING;return r.element.compareDocumentPosition(n.element)&i?1:-1}function d(e,t,n){return r.has(n)||r.set(n,"horizontal"===a.overflowAxis?n[e]:n[t]),r.get(n)}var f=d.bind(null,"offsetWidth","offsetHeight"),p=d.bind(null,"clientWidth","clientHeight"),g=pd(((e,t)=>-1*h(e,t))),m=pd(h);function y(){return m.all().map((e=>o[e].element)).map(f).reduce(((e,t)=>e+t),0)+Object.entries(c.groupVisibility()).reduce(((e,t)=>{var[r,n]=t;return e+("hidden"!==n&&s[r]?f(s[r].element):0)}),0)+(g.size()>0&&t?f(t):0)}var v,b,x=()=>{var e,t=u(m,g);(a.onUpdateItemVisibility({item:t,visible:!1}),t.groupId)&&(c.isSingleItemVisible(t.id,t.groupId)&&(null===(e=s[t.groupId])||void 0===e||e.element.setAttribute(dd,"")),c.hideItem(t.id,t.groupId))},w=()=>{var t,n,l,d;((()=>{if(!e)return!1;r.clear();for(var t,n,i=p(e)-a.padding,o=m.peek(),l=g.peek();h(g.peek(),m.peek())>0;)x();for(var d=0;d<2;d++){for(;y()<i&&g.size()>0||1===g.size();)t=void 0,void 0,n=u(g,m),a.onUpdateItemVisibility({item:n,visible:!0}),n.groupId&&(c.showItem(n.id,n.groupId),c.isSingleItemVisible(n.id,n.groupId)&&(null===(t=s[n.groupId])||void 0===t||t.element.removeAttribute(dd)));for(;y()>i&&m.size()>a.minimumVisible;)x()}return m.peek()!==o||g.peek()!==l})()||i)&&(i=!1,t=m.all(),n=g.all(),l=t.map((e=>o[e])),d=n.map((e=>o[e])),a.onUpdateOverflow({visibleItems:l,invisibleItems:d,groupVisibility:c.groupVisibility()}))},D=(v=w,()=>{b||(b=!0,queueMicrotask((()=>{b=!1,v()})))}),k=()=>{t=void 0},E=e=>{if(s[e]){var t=s[e];t.groupId&&(delete s[e],t.element.removeAttribute(fd))}},A=e=>{if(o[e]){n&&(i=!0);var t=o[e];m.remove(e),g.remove(e),t.groupId&&(c.removeItem(t.id,t.groupId),t.element.removeAttribute(fd)),r.delete(t.element),delete o[e],D()}};return{addItem:e=>{o[e.id]||(o[e.id]=e,n&&(i=!0,m.enqueue(e.id)),e.groupId&&(c.addItem(e.id,e.groupId),e.element.setAttribute(fd,e.groupId)),D())},disconnect:()=>{l(),e=void 0,n=!1,i=!0,Object.keys(o).forEach((e=>A(e))),Object.keys(s).forEach((e=>E(e))),k(),r.clear()},forceUpdate:w,observe:(t,r)=>{Object.assign(a,r),n=!0,Object.values(o).forEach((e=>m.enqueue(e.id))),l=function(t){var r,n=null===(r=t.ownerDocument.defaultView)||void 0===r?void 0:r.ResizeObserver;if(!n)return()=>null;var i=new n((t=>{t[0]&&e&&D()}));return i.observe(t),()=>{null==i||i.disconnect(),i=void 0}}(e=t)},removeItem:A,update:D,addOverflowMenu:e=>{t=e},removeOverflowMenu:k,addDivider:e=>{e.groupId&&!s[e.groupId]&&(e.element.setAttribute(fd,e.groupId),s[e.groupId]=e)},removeDivider:E}}var md=()=>{var e={},t={};function r(r){var n=t[r];n.invisibleItemIds.size&&n.visibleItemIds.size?e[r]="overflow":0===n.visibleItemIds.size?e[r]="hidden":e[r]="visible"}return{groupVisibility:()=>e,isSingleItemVisible:(r,n)=>function(t){return"visible"===e[t]||"overflow"===e[t]}(n)&&t[n].visibleItemIds.has(r)&&1===t[n].visibleItemIds.size,addItem(e,n){var i,a,o;null!==(o=(i=t)[a=n])&&void 0!==o||(i[a]={visibleItemIds:new Set,invisibleItemIds:new Set}),t[n].visibleItemIds.add(e),r(n)},removeItem(e,n){t[n].invisibleItemIds.delete(e),t[n].visibleItemIds.delete(e),r(n)},showItem(e,n){t[n].invisibleItemIds.delete(e),t[n].visibleItemIds.add(e),r(n)},hideItem(e,n){t[n].invisibleItemIds.add(e),t[n].visibleItemIds.delete(e),r(n)}}},yd="data-overflowing",vd="data-overflow-item",bd="data-overflow-menu",xd="data-overflow-divider",wd=()=>null,Dd=e=>{var{item:t,visible:r}=e;r?t.element.removeAttribute(yd):t.element.setAttribute(yd,"")},kd=wr({overflowMenu:{Brvla84:"fyfkpbf"},overflowingItems:{zb22lx:"f10570jf"}},{d:[".fyfkpbf [data-overflow-menu]{flex-shrink:0;}",".f10570jf [data-overflowing]{display:none;}"]});function Ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ad(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cd=e.forwardRef(((t,r)=>{var n=kd(),{children:i,minimumVisible:a,overflowAxis:o="horizontal",overflowDirection:s,padding:l,onOverflowChange:u}=t,[c,h]=e.useState({hasOverflow:!1,itemVisibility:{},groupVisibility:{}}),{containerRef:d,registerItem:f,updateOverflow:p,registerOverflowMenu:g,registerDivider:m}=((t,r)=>{var{overflowAxis:n="horizontal",overflowDirection:i="end",padding:a=10,minimumVisible:o=0,onUpdateItemVisibility:s=wd}=r,l=Jn((e=>{var{visibleItems:t,invisibleItems:r,groupVisibility:n}=e,i={};t.forEach((e=>{i[e.id]=!0})),r.forEach((e=>i[e.id]=!1));var a={hasOverflow:e.invisibleItems.length>0,itemVisibility:i,groupVisibility:n};null==u||u(null,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ed(Object(r),!0).forEach((function(t){Ad(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ed(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},a)),h(a)})),c=e.useMemo((()=>({overflowAxis:n,overflowDirection:i,padding:a,minimumVisible:o,onUpdateItemVisibility:s,onUpdateOverflow:l})),[o,s,n,i,a,l]),d=Gu(),f=e.useRef(null),[p,g]=e.useState((()=>vt()?gd():null));return cn((()=>{d&&f.current&&(null==p||p.observe(f.current,c))}),[d,p,c]),cn((()=>{if(f.current&&vt()&&!d){var e=gd();e.observe(f.current,c),g(e)}}),[c]),e.useEffect((()=>()=>{null==p||p.disconnect()}),[p]),{registerItem:e.useCallback((e=>(null==p||p.addItem(e),e.element.setAttribute(vd,""),()=>{e.element.removeAttribute(yd),e.element.removeAttribute(vd),null==p||p.removeItem(e.id)})),[p]),registerDivider:e.useCallback((e=>{var t=e.element;return null==p||p.addDivider(e),t.setAttribute(xd,""),()=>{e.groupId&&(null==p||p.removeDivider(e.groupId)),t.removeAttribute(xd)}}),[p]),registerOverflowMenu:e.useCallback((e=>(null==p||p.addOverflowMenu(e),e.setAttribute(bd,""),()=>{null==p||p.removeOverflowMenu(),e.removeAttribute(bd)})),[p]),updateOverflow:e.useCallback((()=>{null==p||p.update()}),[p]),containerRef:f}})(0,{overflowDirection:s,overflowAxis:o,padding:l,minimumVisible:a,onUpdateItemVisibility:Dd}),y=_o(i),v=To(i,{ref:Kr(d,r,null==y?void 0:y.ref),className:kr("fui-Overflow",n.overflowMenu,n.overflowingItems,i.props.className)});return e.createElement(nd.Provider,{value:{itemVisibility:c.itemVisibility,groupVisibility:c.groupVisibility,hasOverflow:c.hasOverflow,registerItem:f,updateOverflow:p,registerOverflowMenu:g,registerDivider:m}},v)}));function _d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(r),!0).forEach((function(t){Sd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sd(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fd=yc(void 0),Od=wr({root:{mc9l5x:"f22iagw",Bt984gj:"f122n59",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1yqiaad"},vertical:{Beiy3e4:"f1vx9l62",a9b677:"f1acs6jw"},small:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fvz760z"},medium:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1yqiaad"},large:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f1ms6bdn"}},{d:[".f22iagw{display:flex;}",".f122n59{align-items:center;}",[".f1yqiaad{padding:4px 8px;}",{p:-1}],".f1vx9l62{flex-direction:column;}",".f1acs6jw{width:fit-content;}",[".fvz760z{padding:0px 4px;}",{p:-1}],[".f1yqiaad{padding:4px 8px;}",{p:-1}],[".f1ms6bdn{padding:4px 20px;}",{p:-1}]]}),Bd=e.forwardRef(((e,t)=>{var r=((e,t)=>{var{size:r="medium",vertical:n=!1}=e,i=Ph({circular:!0,axis:"both"}),a={size:r,vertical:n,components:{root:"div"},root:St(Gt("div",Td(Td(Td({role:"toolbar",ref:t},n&&{"aria-orientation":"vertical"}),i),e)),{elementType:"div"})},[o,s]=(e=>{var[t,r]=ko({state:e.checkedValues,defaultState:e.defaultCheckedValues,initialState:{}}),{onCheckedValueChange:n}=e;return[t,Jn(((e,t)=>{var{name:i,checkedItems:a}=t;n&&n(e,{name:i,checkedItems:a}),r((e=>e?Td(Td({},e),{},{[i]:a}):{[i]:a}))}))]})({checkedValues:e.checkedValues,defaultCheckedValues:e.defaultCheckedValues,onCheckedValueChange:e.onCheckedValueChange}),l=Jn(((e,t,r,n)=>{if(t&&r){var i=[...(null==o?void 0:o[t])||[]];n?i.splice(i.indexOf(r),1):i.push(r),null==s||s(e,{name:t,checkedItems:i})}})),u=Jn(((e,t,r,n)=>{t&&r&&(null==s||s(e,{name:t,checkedItems:[r]}))}));return Td(Td({},a),{},{handleToggleButton:l,handleRadio:u,checkedValues:null!=o?o:{}})})(e,t),n=function(e){var{size:t,handleToggleButton:r,vertical:n,checkedValues:i,handleRadio:a}=e;return{toolbar:{size:t,vertical:n,handleToggleButton:r,handleRadio:a,checkedValues:i}}}(r);return(e=>{var t=Od(),{vertical:r,size:n}=e;e.root.className=kr("fui-Toolbar",t.root,r&&t.vertical,"small"===n&&!r&&t.small,"medium"===n&&!r&&t.medium,"large"===n&&!r&&t.large,e.root.className)})(r),_r("useToolbarStyles_unstable")(r),((e,t)=>br(Fd.Provider,{value:t.toolbar,children:br(e.root,{children:e.root.children})}))(r,n)}));Bd.displayName="Toolbar";var Nd=tn("OptionsRegular","1em",["M14.95 5a2.5 2.5 0 0 0-4.9 0H2.5a.5.5 0 0 0 0 1h7.55a2.5 2.5 0 0 0 4.9 0h2.55a.5.5 0 0 0 0-1h-2.55ZM12.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm-2.55 7a2.5 2.5 0 0 0-4.9 0H2.5a.5.5 0 0 0 0 1h2.55a2.5 2.5 0 0 0 4.9 0h7.55a.5.5 0 0 0 0-1H9.95ZM7.5 16a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z"]),Ld=tn("PanelLeftHeaderFilled","1em",["M5 3a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm12 3v1H8.5V4H15a2 2 0 0 1 2 2Zm-2 9H8.5V8H17v5a2 2 0 0 1-2 2Z"],{flipInRtl:!0}),Id=tn("Save20Regular","20",["M3 5c0-1.1.9-2 2-2h8.38a2 2 0 0 1 1.41.59l1.62 1.62A2 2 0 0 1 17 6.62V15a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm2-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1v-4.5c0-.83.67-1.5 1.5-1.5h7c.83 0 1.5.67 1.5 1.5V16a1 1 0 0 0 1-1V6.62a1 1 0 0 0-.3-.7L14.1 4.28a1 1 0 0 0-.71-.29H13v2.5c0 .83-.67 1.5-1.5 1.5h-4A1.5 1.5 0 0 1 6 6.5V4H5Zm2 0v2.5c0 .28.22.5.5.5h4a.5.5 0 0 0 .5-.5V4H7Zm7 12v-4.5a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0-.5.5V16h8Z"]),Rd=gt({toolbarContainer:{marginBottom:"20px",display:"flex",justifyContent:"flex-end",alignItems:"flex-start"},toolbar:{gap:"10px"}}),Md=t=>{var{overflowId:r}=t,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(t,["overflowId"]);return e.createElement(ad,{id:r},e.createElement(hd,Object.assign({},n)))},Pd=e.memo((t=>{var{onExportWord:r,onConfigure:n,onSave:i,disabled:a}=t,o=Rd();return e.createElement("div",{className:o.toolbarContainer},e.createElement(Cd,null,e.createElement(Bd,{className:o.toolbar,"aria-label":"Document Toolbar"},e.createElement(Md,{overflowId:"export-word",icon:e.createElement("img",{src:"data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOm5vbmU7fS5jbHMtMntmaWxsOiM0MWE1ZWU7fS5jbHMtM3tmaWxsOiMyYjdjZDM7fS5jbHMtNHtmaWxsOiMxODVhYmQ7fS5jbHMtNXtmaWxsOiMxMDNmOTE7fS5jbHMtNntvcGFjaXR5OjAuNTt9LmNscy03e2ZpbGw6I2ZmZjt9PC9zdHlsZT48L2RlZnM+PHRpdGxlPldvcmRfMjR4PC90aXRsZT48ZyBpZD0iV29yZCI+PGcgaWQ9Il8yNCIgZGF0YS1uYW1lPSIyNCI+PHJlY3QgY2xhc3M9ImNscy0xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Ik0yNCw3VjJhMSwxLDAsMCwwLTEtMUg3QTEsMSwwLDAsMCw2LDJWN2w5LDJaIi8+PHBvbHlnb24gY2xhc3M9ImNscy0zIiBwb2ludHM9IjI0IDcgNiA3IDYgMTIgMTUuNSAxNCAyNCAxMiAyNCA3Ii8+PHBvbHlnb24gY2xhc3M9ImNscy00IiBwb2ludHM9IjI0IDEyIDYgMTIgNiAxNyAxNSAxOC41IDI0IDE3IDI0IDEyIi8+PHBhdGggY2xhc3M9ImNscy01IiBkPSJNNiwxN0gyNGEwLDAsMCwwLDEsMCwwdjVhMSwxLDAsMCwxLTEsMUg3YTEsMSwwLDAsMS0xLTFWMTdhMCwwLDAsMCwxLDAsMFoiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Ik0xMy44Myw2SDZWMjBoNy42QTEuNSwxLjUsMCwwLDAsMTUsMTguNjVWNy4xN0ExLjE4LDEuMTgsMCwwLDAsMTMuODMsNloiLz48cmVjdCBpZD0iQmFja19QbGF0ZSIgZGF0YS1uYW1lPSJCYWNrIFBsYXRlIiBjbGFzcz0iY2xzLTQiIHk9IjUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgcng9IjEuMTciLz48cGF0aCBpZD0iTGV0dGVyIiBjbGFzcz0iY2xzLTciIGQ9Ik0xMC4xNiwxNkg4LjcyTDcsMTAuNDgsNS4yOCwxNkgzLjg0TDIuMjQsOEgzLjY4TDQuOCwxMy42LDYuNDgsOC4xNmgxLjJsMS42LDUuNDRMMTAuNCw4aDEuMzZaIi8+PC9nPjwvZz48L3N2Zz4=",alt:"Word Icon",style:{width:"18px",height:"18px"}}),"aria-label":"Export Word",onClick:r,appearance:"subtle",disabled:a},"Export Word"),e.createElement(Md,{overflowId:"configure",icon:e.createElement(Nd,null),"aria-label":"Configure",onClick:n,appearance:void 0,disabled:a},"Configure"),e.createElement(Md,{overflowId:"save",icon:e.createElement(Id,null),"aria-label":"Save",onClick:i,appearance:"primary",disabled:a},"Save"))))}));Pd.displayName="ToolbarComponent";var zd=()=>{var e;return"function"==typeof(null==(e=document)?void 0:e.mozSetImageElement)},$d=()=>{var e;return"function"==typeof(null==(e=document)?void 0:e.getCSSCanvasContext)},jd=()=>"undefined"!=typeof window&&window.CSS&&"paintWorklet"in CSS&&"registerProperty"in CSS,Kd="".concat("https://res-1.cdn.office.net/files/fabric-cdn-prod_20240228.001","/assets/animations/flair/"),qd="flair.min.js",Ud={};(()=>{if(jd())try{CSS.registerProperty({name:"--fai-flair-angle",syntax:"<number>",inherits:!0,initialValue:String(3*Math.PI/4)}),CSS.registerProperty({name:"--fai-flair-color-1",syntax:"<color>",inherits:!0,initialValue:"transparent"}),CSS.registerProperty({name:"--fai-flair-color-2",syntax:"<color>",inherits:!0,initialValue:"transparent"}),CSS.registerProperty({name:"--fai-flair-color-3",syntax:"<color>",inherits:!0,initialValue:"transparent"}),CSS.registerProperty({name:"--fai-flair-stroke-width",syntax:"<length>",inherits:!0,initialValue:"2px"})}catch(e){}})();var Hd=wr({base:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1kijzfu",Bcmaq0h:"fvrkw42"}},{d:[[".f1kijzfu{border-radius:var(--borderRadiusXLarge);}",{p:-1}],".fvrkw42{background-image:paint(flair);}"]}),Wd=Lr("r1x1johe","rpvaigb",{r:[".r1x1johe{animation-duration:2000ms,1200ms,1200ms,1200ms;animation-delay:0ms,0ms,200ms,400ms;animation-timing-function:linear,linear,linear,linear;animation-fill-mode:forwards,forwards,forwards,forwards;animation-name:rcttjya,r1qhzb60,rxwm6xz,r1ule99e;}","@keyframes rcttjya{0%{--fai-flair-angle:2.356194490192345;}100%{--fai-flair-angle:8.63937979737193;}}","@keyframes r1qhzb60{0%{--fai-flair-color-1:var(--fai-colorBrandFlair1Transparent);}33%{--fai-flair-color-1:var(--fai-colorBrandFlair1);}83%{--fai-flair-color-1:var(--fai-colorBrandFlair1);}100%{--fai-flair-color-1:var(--fai-colorBrandFlair1Transparent);}}","@keyframes rxwm6xz{0%{--fai-flair-color-2:var(--fai-colorBrandFlair2Transparent);}33%{--fai-flair-color-2:var(--fai-colorBrandFlair2);}83%{--fai-flair-color-2:var(--fai-colorBrandFlair2);}100%{--fai-flair-color-2:var(--fai-colorBrandFlair2Transparent);}}","@keyframes r1ule99e{0%{--fai-flair-color-3:var(--fai-colorBrandFlair3Transparent);}33%{--fai-flair-color-3:var(--fai-colorBrandFlair3);}83%{--fai-flair-color-3:var(--fai-colorBrandFlair3);}100%{--fai-flair-color-3:var(--fai-colorBrandFlair3Transparent);}}",".rpvaigb{animation-duration:2000ms,1200ms,1200ms,1200ms;animation-delay:0ms,0ms,200ms,400ms;animation-timing-function:linear,linear,linear,linear;animation-fill-mode:forwards,forwards,forwards,forwards;animation-name:rcttjya,r1qhzb60,rxwm6xz,r1ule99e;}"],s:["@media (forced-colors: active){.r1x1johe{forced-color-adjust:none;background-color:Canvas;color:CanvasText;animation-duration:2000ms,1200ms,1200ms,1200ms;animation-delay:0ms,0ms,200ms,400ms;animation-timing-function:linear,linear,linear,linear;animation-fill-mode:forwards,forwards,forwards,forwards;animation-name:rcttjya,r1c3vx44,r9mtrlt,rkmtvhk;}@keyframes rcttjya{0%{--fai-flair-angle:2.356194490192345;}100%{--fai-flair-angle:8.63937979737193;}}@keyframes r1c3vx44{0%{--fai-flair-color-1:var(--fai-colorBrandFlair3Transparent);}33%{--fai-flair-color-1:var(--fai-colorHCFlair1);}83%{--fai-flair-color-1:var(--fai-colorHCFlair1);}100%{--fai-flair-color-1:var(--fai-colorBrandFlair3Transparent);}}@keyframes r9mtrlt{0%{--fai-flair-color-2:var(--fai-colorBrandFlair3Transparent);}33%{--fai-flair-color-2:var(--fai-colorHCFlair2);}83%{--fai-flair-color-2:var(--fai-colorHCFlair2);}100%{--fai-flair-color-2:var(--fai-colorBrandFlair3Transparent);}}@keyframes rkmtvhk{0%{--fai-flair-color-3:var(--fai-colorBrandFlair3Transparent);}33%{--fai-flair-color-3:var(--fai-colorHCFlair3);}83%{--fai-flair-color-3:var(--fai-colorHCFlair3);}100%{--fai-flair-color-3:var(--fai-colorBrandFlair3Transparent);}}}","@media (forced-colors: active){.rpvaigb{forced-color-adjust:none;background-color:Canvas;color:CanvasText;animation-duration:2000ms,1200ms,1200ms,1200ms;animation-delay:0ms,0ms,200ms,400ms;animation-timing-function:linear,linear,linear,linear;animation-fill-mode:forwards,forwards,forwards,forwards;animation-name:rcttjya,r1c3vx44,r9mtrlt,rkmtvhk;}}"]}),Gd=(e,t,r)=>{var n=e+(t-e)*r;return e>t?Math.max(n,t):Math.min(n,t)},Vd=e=>{var t,[,r]=null!=(t=e.match(/(\d+)%/))?t:[];return void 0===r?"to"===e?1:0:parseFloat(r)/100},Yd=e=>parseFloat(e.trim().replace(/m?s/,"")),Xd=()=>"linear",Zd=e=>{var t=e.match(/rgba\((\d+),\s?(\d+),\s?(\d+),\s(\d*\.?\d+)\)/);return t?null==t?void 0:t.slice(1,5).map(parseFloat):(t=e.match(/#([0-9a-fA-F]{3,8})/))?(e=>{var t="#"===e.charAt(0)?e.substring(1):e,r=t.length;return 8===r||(6===r?t="".concat(t,"ff"):3===r?t="".concat(t[0]).concat(t[0]).concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2],"ff"):4===r&&(t="".concat(t[0]).concat(t[0]).concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2]).concat(t[3]).concat(t[3]))),(e=>{var t=parseInt(e,16),r=255&t;return[t>>24&255,t>>16&255,t>>8&255,Math.trunc(r/255*100)/100]})(t)})(t[1]):void 0},Qd=(e,t,r)=>{var n=parseFloat(e);if(!Number.isNaN(n))return n;var i=Zd(e);if(i)return i;var a=e.match(/var\(([-a-zA-Z0-9]+)\)/);if(a){var[,o]=a,s=r.getPropertyValue(o);return s||console.error("Could not parse value",e,"varName",o),Zd(s)}console.error("Could not parse value",e,"key",t)},Jd={linear:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=i+n;return r<=i?e:r>=a?t:"number"==typeof e?Gd(e,t,r/a):e.map(((e,n)=>Gd(e,t[n],r/a)))}},ef=["onComplete","isStopped","onUpdate"],tf=e=>"number"==typeof e?String(e):(e=>{var[t,r,n,i]=e;return"rgba(".concat(t,", ").concat(r,", ").concat(n,", ").concat(i,")")})(e),rf=(e,t,r,n,i)=>{var a=performance.now(),o=new Map,s=1,l=function(){var u=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now())-a;o.clear();var c=e=>{for(var[t,r]of Object.entries(e.keyframes[0].startValues))o.set(t,tf(r))},h=e=>{for(var[t,r]of Object.entries(e.keyframes[e.keyframes.length-1].endValues))o.set(t,tf(r))},d=e=>{var t=e.keyframes.find((e=>u>=e.startTime&&u<=e.endTime));if(t)for(var r of Object.keys(t.startValues)){var n=t.startValues[r],i=t.endValues[r],a=t.ease(n,i,u-t.startTime,t.duration);e.currentValues[r]=a,o.set(r,tf(a))}else console.error("Could not find animData for currentDuration",u)};for(var f of e)s>f.keyframes[0].iterationCount?h(f):u<=f.keyframes[0].startTime?c(f):u>=f.keyframes[f.keyframes.length-1].endTime?h(f):d(f);if(i()){for(var p of e)c(p);r(o)}else u>=t&&e.some((e=>e.keyframes.some((e=>s<e.iterationCount))))?(s++,a=performance.now(),requestAnimationFrame(l)):u>=t?r(o):requestAnimationFrame(l);n(o)};l()},nf=e=>{var t=document.createElement("canvas");t.id=e;var r=t.getContext("2d");return r?(r.canvas.style.position="absolute",r.canvas.style.top="-99999px",r.canvas.style.left="-99999px",r):(console.error("Unable to create moz-element rendering context"),null)},af=(e,t)=>{t.isConnected||e.appendChild(t)},of=(e,t,r,n,i)=>{if(!t){var a=((e,t,r)=>{var n,i=null!=(n=null==document.getCSSCanvasContext?void 0:document.getCSSCanvasContext.call(document,"2d",e,t,r))?n:null;return i?(i.canvas.style.position="absolute",i):null})(r,n,i);return a?(af(e,a.canvas),a):null}var o=t.canvas;return o.width=n,o.height=i,t};function sf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sf(Object(r),!0).forEach((function(t){uf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cf={id:"",canvas:null,play:()=>{},cleanup:()=>{},stop:()=>{}},hf=0,df=(e,t,r)=>{var n,i,a={target:e,ctx:null,mode:"to-data-url",id:"houdini-fallback-".concat(++hf),wrapper:null,running:!1};if(a.wrapper||(a.wrapper=function(e){var t=(e=>{var t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,t.style.position="fixed",t.style.overflow="hidden",t.style.width="1px",t.style.height="1px",t.style.left="0",t.style.top="0",t.style.opacity="0",t.style.contain="strict",t.style.userSelect="none",t.tabIndex=-1),t})(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"foo");return t.isConnected||e.appendChild(t),t}(document.body)),zd()){var o=nf(a.id);if(!o)return cf;a.ctx=o,a.mode="moz-element",af(a.wrapper,a.ctx.canvas)}else if($d())a.mode="webkit-canvas";else{var s=(i=a.id,nf(i));if(!s)return cf;a.ctx=s,a.mode="to-data-url",af(a.wrapper,a.ctx.canvas)}var l,u=((e,t,r)=>{var n=new Map,i=getComputedStyle(e.target),a={width:0,height:0},o=new ResizeObserver((t=>{for(var r of t)if(r.target===e.target){if(Array.isArray(r.borderBoxSize))a.width=r.borderBoxSize[0].inlineSize,a.height=r.borderBoxSize[0].blockSize;else{var{width:n,height:i}=r.target.getBoundingClientRect();a.width=n,a.height=i}e.ctx=of(e.wrapper,e.ctx,e.id,a.width,a.height)}}));return(s,l)=>{e.running=!0,o.observe(e.target),(e=>{var{onComplete:t,isStopped:r,onUpdate:n}=e,i=(e=>{for(var{animations:t,delay:r,duration:n,timingFunction:i,iterationCount:a=[1],target:o}=e,s=a,l=n.split(",").map(Yd),u=r.split(",").map(Yd),c=i.split(",").map(Xd),h=[],d=0,f=getComputedStyle(o),p=0;p<t.length;p++){var g,m=t[p],y=Object.entries(m);if(y.length<2)return void console.error("Animation must have at least 2 steps");var v,b,x,w=null!=(g=s[p])?g:1,D=null!=(v=u[p])?v:0,k=null!=(b=l[p])?b:0,E=D+k;E>d&&(d=E);var A=null!=(x=c[p])?x:"linear",C={currentValues:{},keyframes:[]};h.push(C);for(var _=1;_<y.length;_++){var T=_-1,[S,F]=y[T],[O,B]=y[_],N=Vd(S),L=Vd(O),I=k*N+D,R=Math.min(k*L+D,d),M={},P={};for(var z of Object.keys(F)){var $,j,K,q,U=Qd(F[z],z,f);if(void 0===U)return;null!=($=C.currentValues)[j=z]||($[j]=U),null!=(K=M)[q=z]||(K[q]=U)}for(var H of Object.keys(B)){var W,G,V=Qd(B[H],H,f);if(void 0===V)return;null!=(W=P)[G=H]||(W[G]=V)}C.keyframes.push({iterationCount:w,startTime:I,endTime:R,duration:R-I,ease:Jd[A],startValues:M,endValues:P})}}return{anims:h,overallDuration:d}})(function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,ef));if(i){var{anims:a,overallDuration:o}=i;rf(a,o,t,n,r)}else console.error("Unable to create keyframe animation.")})(lf(lf({},r),{},{target:e.target,isStopped:()=>!e.running,onUpdate:r=>{var o,s=null!=(o=t.constructor.inputProperties)?o:[];for(var u of s)n.set(u,i.getPropertyValue(u));if(e.ctx){for(var[c,h]of r.entries())n.set(c,h);if(t.paint(e.ctx,a,n),zd())e.target.style.backgroundImage="-moz-element(#".concat(e.id,")");else if($d())e.target.style.backgroundImage="-webkit-canvas(#".concat(e.id,")");else{var d="url(".concat(e.ctx.canvas.toDataURL("image/png"),")");e.target.style.backgroundImage=d}null==l||l(r)}},onComplete:t=>{e.running=!1,o.unobserve(e.target),s(t)}}))}})(a,t,r);return{id:a.id,canvas:null!=(l=null==(n=a.ctx)?void 0:n.canvas)?l:null,play:u,cleanup:()=>{var e,t;null==(e=a.ctx)||e.canvas.remove(),0===(null==(t=a.wrapper)?void 0:t.childElementCount)&&a.wrapper.remove()},stop:()=>{a.running=!1}}},ff=[0,0,0,0];class pf{static get inputProperties(){return["--fai-flair-angle","--fai-flair-color-1","--fai-flair-color-2","--fai-flair-color-3","--fai-flair-stroke-width","border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]}paint(e,t,r){var n=parseFloat(String(r.get("--fai-flair-angle"))),{width:i,height:a}=t,o=i/2,s=a/2,l=Math.sqrt(o*o+s*s),u=Math.cos(n)*l,c=Math.sin(n)*l,h=o-u,d=s-c,f=o+u,p=s+c,g=e.createLinearGradient(h,d,f,p);g.addColorStop(0,String(r.get("--fai-flair-color-1"))),g.addColorStop(.5,String(r.get("--fai-flair-color-2"))),g.addColorStop(1,String(r.get("--fai-flair-color-3"))),e.clearRect(0,0,i,a),e.fillStyle=g,e.fillRect(0,0,i,a);var m=e.globalCompositeOperation;e.globalCompositeOperation="destination-out";var y=parseFloat(String(r.get("--fai-flair-stroke-width"))),v={top:y,right:y,bottom:y,left:y},b=[Math.max(parseFloat(String(r.get("border-top-left-radius")))-y,0),Math.max(parseFloat(String(r.get("border-top-right-radius")))-y,0),Math.max(parseFloat(String(r.get("border-bottom-right-radius")))-y,0),Math.max(parseFloat(String(r.get("border-bottom-left-radius")))-y,0)];e.fillStyle="blue",e.beginPath(),e.roundRect?e.roundRect(v.left,v.top,i-2*v.right,a-2*v.bottom,b):((e,t,r,n,i,a)=>{var o=ff;Array.isArray(a)?4===a.length?o=a:1===a.length?o=new Array(4).fill(a[0]):2===a.length?o=[a[0],a[1],a[0],a[1]]:3===a.length&&(o=[a[0],a[1],a[2],a[1]]):"number"==typeof a&&(o=new Array(4).fill(a)),e.moveTo(t+o[0],r),e.arcTo(t+n,r,t+n,r+i,o[1]),e.arcTo(t+n,r+i,t,r+i,o[2]),e.arcTo(t,r+i,t,r,o[3]),e.arcTo(t,r,t+n,r,o[0]),e.closePath()})(e,v.left,v.top,i-2*v.right,a-2*v.bottom,b),e.fill(),e.globalCompositeOperation=m}}try{registerPaint("flair",pf)}catch(e){}var gf=3*Math.PI/4,mf={startAngle:String(gf),endAngle:String(gf+2*Math.PI),color1Transparent:"var(--fai-colorBrandFlair1Transparent)",color2Transparent:"var(--fai-colorBrandFlair2Transparent)",color3Transparent:"var(--fai-colorBrandFlair3Transparent)",color1Opaque:"var(--fai-colorBrandFlair1)",color2Opaque:"var(--fai-colorBrandFlair2)",color3Opaque:"var(--fai-colorBrandFlair3)",color1HC:"var(--fai-colorHCFlair1)",color2HC:"var(--fai-colorHCFlair2)",color3HC:"var(--fai-colorHCFlair3)",backgroundImage:"paint(flair)",flairAnimationDuration:"2000ms, 1200ms, 1200ms, 1200ms",flairAnimationDelay:"0ms, 0ms, 200ms, 400ms",flairAnimationTimingFunction:"linear, linear, linear, linear",flairColorStop1:"0%",flairColorStop2:"33%",flairColorStop3:"83%",flairColorStop4:"100%"},yf={angleAnimation:{"0%":{"--fai-flair-angle":mf.startAngle},"100%":{"--fai-flair-angle":mf.endAngle}},color1Animation:{[mf.flairColorStop1]:{"--fai-flair-color-1":mf.color1Transparent},[mf.flairColorStop2]:{"--fai-flair-color-1":mf.color1Opaque},[mf.flairColorStop3]:{"--fai-flair-color-1":mf.color1Opaque},[mf.flairColorStop4]:{"--fai-flair-color-1":mf.color1Transparent}},color2Animation:{[mf.flairColorStop1]:{"--fai-flair-color-2":mf.color2Transparent},[mf.flairColorStop2]:{"--fai-flair-color-2":mf.color2Opaque},[mf.flairColorStop3]:{"--fai-flair-color-2":mf.color2Opaque},[mf.flairColorStop4]:{"--fai-flair-color-2":mf.color2Transparent}},color3Animation:{[mf.flairColorStop1]:{"--fai-flair-color-3":mf.color3Transparent},[mf.flairColorStop2]:{"--fai-flair-color-3":mf.color3Opaque},[mf.flairColorStop3]:{"--fai-flair-color-3":mf.color3Opaque},[mf.flairColorStop4]:{"--fai-flair-color-3":mf.color3Transparent}},colorHC1Animation:{[mf.flairColorStop1]:{"--fai-flair-color-1":mf.color3Transparent},[mf.flairColorStop2]:{"--fai-flair-color-1":mf.color1HC},[mf.flairColorStop3]:{"--fai-flair-color-1":mf.color1HC},[mf.flairColorStop4]:{"--fai-flair-color-1":mf.color3Transparent}},colorHC2Animation:{[mf.flairColorStop1]:{"--fai-flair-color-2":mf.color3Transparent},[mf.flairColorStop2]:{"--fai-flair-color-2":mf.color2HC},[mf.flairColorStop3]:{"--fai-flair-color-2":mf.color2HC},[mf.flairColorStop4]:{"--fai-flair-color-2":mf.color3Transparent}},colorHC3Animation:{[mf.flairColorStop1]:{"--fai-flair-color-3":mf.color3Transparent},[mf.flairColorStop2]:{"--fai-flair-color-3":mf.color3HC},[mf.flairColorStop3]:{"--fai-flair-color-3":mf.color3HC},[mf.flairColorStop4]:{"--fai-flair-color-3":mf.color3Transparent}}};function vf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vf(Object(r),!0).forEach((function(t){xf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wf=wr({base:{Em4edj:"f13vsbc6",Bjfw52h:"fam6ru7",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1kijzfu",Bcmaq0h:"feli345"}},{d:[".f13vsbc6{--fai-flair-stroke-width:var(--strokeWidthThick);}",".fam6ru7{--fai-flair-background-image:none;}",[".f1kijzfu{border-radius:var(--borderRadiusXLarge);}",{p:-1}],".feli345{background-image:var(--fai-flair-background-image);}"]}),Df=()=>{},kf=jd()?function(){var{baseUrl:t=Kd,fileName:r=qd}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.useEffect((()=>{var e="".concat(t).concat(r);Ud[e]||((e,t)=>{if(jd()){var r="".concat(e).concat(t);return CSS.paintWorklet.addModule(r)}return Promise.resolve()})(t,r).then((()=>{Ud[e]=!0})).catch((t=>{Ud[e]=!1}))}),[t,r]);var n=Wd(),i=Hd(),a=e.useRef(null),o={rest:"",play:n},[s,l]=e.useState("rest");return{className:kr(i.base,o[s],s),play:()=>{if("rest"===s&&a.current){var e,t,r;l("play");var n=0,i=()=>{n++},o=()=>{var e,t,r;--n<=0&&(l("rest"),null===(e=a.current)||void 0===e||e.removeEventListener("animationstart",i),null===(t=a.current)||void 0===t||t.removeEventListener("animationend",o),null===(r=a.current)||void 0===r||r.removeEventListener("animationcancel",u))},u=()=>{var e,t,r;l("rest"),null===(e=a.current)||void 0===e||e.removeEventListener("animationstart",i),null===(t=a.current)||void 0===t||t.removeEventListener("animationend",o),null===(r=a.current)||void 0===r||r.removeEventListener("animationcancel",u)};null===(e=a.current)||void 0===e||e.addEventListener("animationstart",i),null===(t=a.current)||void 0===t||t.addEventListener("animationend",o),null===(r=a.current)||void 0===r||r.addEventListener("animationcancel",u)}},targetRef:a}}:()=>{var t=wf(),r=e.useRef("rest"),n=e.useCallback((()=>kr(t.base,"fallback-flair",r.current)),[t.base]),i=e.useCallback((e=>{var t={className:n(),targetRef:i};if(e){var{play:a}=df(e,new pf,{animations:[yf.angleAnimation,yf.color1Animation,yf.color2Animation,yf.color3Animation],delay:mf.flairAnimationDelay,duration:mf.flairAnimationDuration,timingFunction:mf.flairAnimationTimingFunction}),s=()=>{r.current="rest",o(bf(bf({},t),{},{className:n()}))};t.play=()=>{"rest"===r.current&&(r.current="play",o(bf(bf({},t),{},{className:n()})),a(s,(()=>!0)))}}else t.style={},t.play=Df;o(bf(bf({},t),{},{className:n()}))}),[n]),[a,o]=e.useState({className:n(),play:Df,targetRef:i});return a},Ef={colorBrandFlair1:"rgba(24, 90, 189, 1)",colorBrandFlair2:"rgba(71, 207, 250, 1)",colorBrandFlair3:"rgba(180, 124, 248, 1)",colorBrandFlair1Transparent:"rgba(24, 90, 189, 0)",colorBrandFlair2Transparent:"rgba(71, 207, 250, 0)",colorBrandFlair3Transparent:"rgba(180, 124, 248, 0)",colorHCFlair1:"Highlight",colorHCFlair2:"HighlightText",colorHCFlair3:"Highlight"},Af=e.createContext(void 0),Cf=()=>{},_f=Af.Provider,Tf=e=>Math.floor((e-1)/2),Sf={clip:"rect(0px, 0px, 0px, 0px)",height:"1px",margin:"-1px",width:"1px",position:"absolute",overflow:"hidden",textWrap:"nowrap"},Ff=["announce","themeExtension","mode","customStyleHooks"];function Of(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Of(Object(r),!0).forEach((function(t){Nf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Of(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Lf=t=>{var{announce:r,themeExtension:n,mode:i,customStyleHooks:a}=t,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,Ff),s=(()=>{var{targetDocument:t}=Xt(),r=e.useRef(void 0),[n,i]=Jt(),a=e.useRef(null),o=e.useRef(0),s=e.useRef([]),[l]=e.useState((()=>{return e=(e,t)=>e.priority!==t.priority?t.priority-e.priority:e.createdAt-t.createdAt,t=[],r=0,n=(e,r)=>{var n=t[e];t[e]=t[r],t[r]=n},i=a=>{var o=a,s=(e=>2*e+1)(a),l=(e=>2*e+2)(a);s<r&&e(t[s],t[o])<0&&(o=s),l<r&&e(t[l],t[o])<0&&(o=l),o!==a&&(n(o,a),i(o))},{all:()=>t.slice(0,r),clear:()=>{r=0},contains:e=>{var n=t.indexOf(e);return n>=0&&n<r},dequeue:()=>{if(0===r)throw new Error("Priority queue empty");var e=t[0];return t[0]=t[--r],i(0),e},enqueue:i=>{t[r++]=i;for(var a=r-1,o=Tf(a);a>0&&e(t[o],t[a])>0;)n(o,a),o=Tf(a=o)},peek:()=>0===r?null:t[0],remove:e=>{var n=t.indexOf(e);-1===n||n>=r||(t[n]=t[--r],i(n))},size:()=>r};var e,t,r,n,i})),u=e.useCallback((()=>{if(!r.current){var e=()=>{if(a.current)if(t&&l.peek()){var o=t.createElement("span");o.innerText=l.all().filter((e=>e.message.trim().length>0)).reduce(((e,t)=>e+t.message+". "),""),a.current.innerText="",a.current.appendChild(o),l.clear(),s.current=[],r.current=n((()=>{e()}),500)}else a.current.textContent="",i(),r.current=void 0};e()}}),[i,l,n,t]),c=e.useMemo((()=>function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{alert:r=!1,priority:n=0,batchId:i}=t,a={message:e,createdAt:o.current++,priority:n,batchId:i};if(i){var c=s.current.find((e=>e.batchId===i));c?(l.remove(c.message),c.message=a):s.current=[...s.current,{batchId:i,message:a}]}l.enqueue(a),u()}),[l,u]);return e.useEffect((()=>{if(!a.current&&t)return a.current=t.createElement("div"),a.current.setAttribute("aria-live","assertive"),Object.assign(a.current.style,Sf),t.body.append(a.current),()=>{var e;null===(e=a.current)||void 0===e||e.remove(),a.current=null}}),[t]),c})(),l=e.useMemo((()=>{var e=If(Ef,n),t={};for(var[r,i]of Object.entries(e))t["--fai-".concat(r)]=i;return If(t,o.style)}),[n,o.style]);return e.createElement("div",Bf(Bf({className:t.className},o),{},{style:l}),e.createElement(Rf.Provider,{value:{mode:null!=i?i:"canvas"}},e.createElement(Ur,{value:{announce:null!=r?r:s}},e.createElement(_f,{value:a},t.children))))};function If(e,t){return e&&t?Bf(Bf({},e),t):e||t}var Rf=e.createContext({mode:"canvas"}),Mf=t=>{var r,n=e.useContext(Rf).mode;return null!==(r=null!=t?t:n)&&void 0!==r?r:"canvas"};function Pf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Lf.displayName="CopilotProvider";function $f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kf=wr({root:{mc9l5x:"ftgm304",De3pzq:"f18f03hv",a9b677:"fly5x3f",B68tc82:0,Bmxbyg5:0,Bpg54ce:"f1a3p1vp",Bpep1pd:"fu42dvn"},rounded:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5"},square:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1fabniw"},medium:{Bqenvij:"f4t8t6x"},large:{Bqenvij:"f6ywr7j"}},{d:[".ftgm304{display:block;}",".f18f03hv{background-color:var(--colorNeutralBackground6);}",".fly5x3f{width:100%;}",[".f1a3p1vp{overflow:hidden;}",{p:-1}],[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".f1fabniw{border-radius:var(--borderRadiusNone);}",{p:-1}],".f4t8t6x{height:2px;}",".f6ywr7j{height:4px;}"],m:[["@media screen and (forced-colors: active){.fu42dvn{background-color:CanvasText;}}",{m:"screen and (forced-colors: active)"}]]}),qf=wr({base:{Bpep1pd:"f1neahkh",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f12b9xdw",Bqenvij:"f1l02sjl"},nonZeroDeterminate:{Bmy1vo4:"fjt6zfz",B3o57yi:"f1wofebd",Bkqvd7p:"fv71qf3"},indeterminate:{B2u0y6b:"fa0wk36",qhf8xq:"f10pi13n",Bcmaq0h:["fpo0yib","f1u5hf6c"],Bv12yb3:["fwd2bol","f14gig94"],vin17d:"f1a27w2r",Ezkn3b:"f452v7t",w3vfg9:"f1cpbl36",Gqtpxc:"f4akx1t",B3vm3ge:"f18p5put"},brand:{De3pzq:"ftywsgz"},error:{De3pzq:"fdl5y0r"},warning:{De3pzq:"f1s438gw"},success:{De3pzq:"flxk52p"}},{m:[["@media screen and (forced-colors: active){.f1neahkh{background-color:Highlight;}}",{m:"screen and (forced-colors: active)"}],["@media screen and (prefers-reduced-motion: reduce){.f4akx1t{animation-duration:0.01ms;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f18p5put{animation-iteration-count:1;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],d:[[".f12b9xdw{border-radius:inherit;}",{p:-1}],".f1l02sjl{height:100%;}",".fjt6zfz{transition-property:width;}",".f1wofebd{transition-duration:0.3s;}",".fv71qf3{transition-timing-function:ease;}",".fa0wk36{max-width:33%;}",".f10pi13n{position:relative;}",".fpo0yib{background-image:linear-gradient(\n      to right,\n      var(--colorNeutralBackground6) 0%,\n      var(--colorTransparentBackground) 50%,\n      var(--colorNeutralBackground6) 100%\n    );}",".f1u5hf6c{background-image:linear-gradient(\n      to left,\n      var(--colorNeutralBackground6) 0%,\n      var(--colorTransparentBackground) 50%,\n      var(--colorNeutralBackground6) 100%\n    );}",".fwd2bol{animation-name:f1keuaan;}",".f14gig94{animation-name:f10x8f8u;}",".f1a27w2r{animation-duration:3s;}",".f452v7t{animation-timing-function:linear;}",".f1cpbl36{animation-iteration-count:infinite;}",".ftywsgz{background-color:var(--colorCompoundBrandBackground);}",".fdl5y0r{background-color:var(--colorPaletteRedBackground3);}",".f1s438gw{background-color:var(--colorPaletteDarkOrangeBackground3);}",".flxk52p{background-color:var(--colorPaletteGreenBackground3);}"],k:["@keyframes f1keuaan{0%{left:-33%;}100%{left:100%;}}","@keyframes f10x8f8u{0%{right:-33%;}100%{right:100%;}}"]}),Uf=e.forwardRef(((e,t)=>{var r=((e,t)=>{var r,n=Yo(),i=null==n?void 0:n.validationState,{color:a=("error"===i||"warning"===i||"success"===i?i:"brand"),shape:o="rounded",thickness:s="medium"}=e,l=(e=>e<=0?1:e)(null!==(r=e.max)&&void 0!==r?r:1),u=((e,t)=>void 0===e?e:e<0?0:e>t?t:e)(e.value,l),c=St(Gt("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pf(Object(r),!0).forEach((function(t){zf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ref:t,role:"progressbar","aria-valuemin":void 0!==u?0:void 0,"aria-valuemax":void 0!==u?l:void 0,"aria-valuenow":u,"aria-labelledby":null==n?void 0:n.labelId},e)),{elementType:"div"});return n&&(n.validationMessageId||n.hintId)&&(c["aria-describedby"]=[null==n?void 0:n.validationMessageId,null==n?void 0:n.hintId,c["aria-describedby"]].filter(Boolean).join(" ")),{color:a,max:l,shape:o,thickness:s,value:u,components:{root:"div",bar:"div"},root:c,bar:St(e.bar,{elementType:"div"})}})(e,t);return(e=>{var{color:t,max:r,shape:n,thickness:i,value:a}=e,o=Kf(),s=qf();e.root.className=kr("fui-ProgressBar",o.root,o[n],o[i],e.root.className),e.bar&&(e.bar.className=kr("fui-ProgressBar__bar",s.base,s.brand,void 0===a&&s.indeterminate,void 0!==a&&a>.01&&s.nonZeroDeterminate,t&&void 0!==a&&s[t],e.bar.className)),e.bar&&void 0!==a&&(e.bar.style=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$f(Object(r),!0).forEach((function(t){jf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({width:Math.min(100,Math.max(0,a/r*100))+"%"},e.bar.style))})(r),_r("useProgressBarStyles_unstable")(r),(e=>br(e.root,{children:e.bar&&br(e.bar,{})}))(r)}));Uf.displayName="ProgressBar";var Hf=["play","targetRef"];function Wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(r),!0).forEach((function(t){Vf(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vf(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yf=wr({root:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"f1kijzfu",mc9l5x:"f22iagw",Beiy3e4:"f1vx9l62",qhf8xq:"f10pi13n",Bj3rh1h:"f11zp4z2",De3pzq:"fxugw4r",B7ck84d:"f1ewtqcl",E5pizo:"f1whvlc6",Bw0xxkn:0,oeaueh:0,Bpd4iqm:0,Befb4lg:"f1iepc6i"},sidecar:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fdgaxb"},canvas:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"f6lrzt8"},progressRoot:{B68tc82:"f1p9o1ba",Bmxbyg5:"f1sil6mw",Bpg54ce:"f1a3p1vp",a9b677:"f14z66ap",qhf8xq:"f1euv43f",B5kzvoi:"f1yab3r1",oyh7mz:["f1vgc2s3","f1e31b4d"],j35jbq:["f1e31b4d","f1vgc2s3"],Bqenvij:"fniina8",Beyfa6y:["frrelxk","f1ldthgs"],Bbmb7ep:["f1ldthgs","frrelxk"],Bgl5zvf:"f5aapo6",Bn62ygk:0,Cwk7ip:0,B3o57yi:0,Bmy1vo4:0,Bkqvd7p:0,Bi2q7bf:"fxqei6h"},progressIsLoading:{Bqenvij:"f1x82gua"},bar:{Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"fokr779"},regularProgressBarStyles:{Bqenvij:"f1l02sjl",Bcmaq0h:"fx7worf"},indeterminateProgressBarStyles:{vin17d:"f1a27w2r",Bqenvij:"f1l02sjl",De3pzq:"f1c21dwh",Bcmaq0h:"f1hxqsn5",jpy9cc:"f3z2g5w",Bqo2lbl:"fz5izi4",I82g5a:"f1uj6jbf",B6plc1d:"fv40pdu"},indeterminateBarNotIsLoading:{Bh6m77q:"f1yav1uu"}},{d:[[".f1kijzfu{border-radius:var(--borderRadiusXLarge);}",{p:-1}],".f22iagw{display:flex;}",".f1vx9l62{flex-direction:column;}",".f10pi13n{position:relative;}",".f11zp4z2{z-index:0;}",".fxugw4r{background-color:var(--colorNeutralBackground1);}",".f1ewtqcl{box-sizing:border-box;}",".f1whvlc6{box-shadow:var(--shadow4);}",[".f1iepc6i{outline:1px solid var(--colorTransparentStroke);}",{p:-1}],[".fdgaxb{padding:var(--spacingVerticalM) var(--spacingHorizontalL);}",{p:-1}],[".f6lrzt8{padding:var(--spacingVerticalL) var(--spacingVerticalXL);}",{p:-1}],[".f1a3p1vp{overflow:hidden;}",{p:-1}],".f14z66ap{width:auto;}",".f1p9o1ba{overflow-x:hidden;}",".f1sil6mw{overflow-y:hidden;}",".f1euv43f{position:absolute;}",".f1yab3r1{bottom:0;}",".f1vgc2s3{left:0;}",".f1e31b4d{right:0;}",".fniina8{height:0;}",".frrelxk{border-bottom-left-radius:var(--borderRadiusLarge);}",".f1ldthgs{border-bottom-right-radius:var(--borderRadiusLarge);}",".f5aapo6{clip-path:polygon(0px 4px, 100% 4px, 100% 8px, 0px 8px);}",[".fxqei6h{transition:height var(--durationSlow) var(--curveDecelerateMin);}",{p:-1}],".f1x82gua{height:8px;}",[".fokr779{border-radius:0;}",{p:-1}],".f1l02sjl{height:100%;}",".fx7worf{background-image:linear-gradient(90deg, var(--fai-colorBrandFlair1) 35%, var(--fai-colorBrandFlair2) 70%, var(--fai-colorBrandFlair3) 92%);}",".f1a27w2r{animation-duration:3s;}",".f1c21dwh{background-color:var(--colorTransparentBackground);}",".f1hxqsn5{background-image:linear-gradient(90deg, rgba(0,0,0,0) 0%, var(--fai-colorBrandFlair1) 35%, var(--fai-colorBrandFlair2) 70%, var(--fai-colorBrandFlair3) 92%,  rgba(0,0,0,0));}",".f1yav1uu{animation-play-state:paused;}"],m:[["@media screen and (prefers-reduced-motion: reduce){.f3z2g5w{max-width:100%;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.fz5izi4{animation-iteration-count:infinite;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.f1uj6jbf{animation-name:ftc26vs;}}",{m:"screen and (prefers-reduced-motion: reduce)"}],["@media screen and (prefers-reduced-motion: reduce){.fv40pdu{animation-duration:3s;}}",{m:"screen and (prefers-reduced-motion: reduce)"}]],k:["@keyframes ftc26vs{0%{opacity:.2;}50%{opacity:1;}100%{opacity:.2;}}"]}),Xf=e.forwardRef(((t,r)=>{var n,i,a=((t,r)=>{var n,i=kf(),{play:a,targetRef:o}=i,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(i,Hf),l={isLoading:null!==(n=t.isLoading)&&void 0!==n&&n,mode:Mf(t.mode),components:{root:"div",progress:Uf},root:St(Gf(Gf(Gf({},Gt("div",Gf({ref:Kr(o,r)},t))),s),{},{className:kr(s.className,t.className),style:Gf(Gf({},s.style),t.style)}),{elementType:"div"}),progress:Ft(t.progress,{defaultProps:{shape:"square",thickness:"large","aria-label":"Loading"},elementType:Uf,renderByDefault:!1})},u=(t=>{var r=e.useRef(null);return e.useEffect((()=>{r.current=t}),[t]),r.current})(l.isLoading);return e.useEffect((()=>{!l.isLoading&&u&&a()}),[l.isLoading,u,a]),l})(t,r);return(e=>{var t=Yf();if(e.root.className=kr("fai-OutputCard",t.root,t[e.mode],e.root.className),e.progress){e.progress.className=kr("fai-OutputCard__progress",t.progressRoot,e.isLoading&&t.progressIsLoading,e.progress.className);var r=Ft(e.progress.bar,{elementType:"div",renderByDefault:!0});r&&(void 0===e.progress.value?r.className=kr(t.bar,t.indeterminateProgressBarStyles,!e.isLoading&&t.indeterminateBarNotIsLoading,r.className):r.className=kr(t.regularProgressBarStyles,t.bar,r.className),e.progress.bar=r)}})(a),(null!==(i=null===(n=e.useContext(Af))||void 0===n?void 0:n.useOutputCardStyles)&&void 0!==i?i:Cf)(a),(e=>xr(e.root,{children:[e.root.children," ",e.progress&&br(e.progress,{})]}))(a)}));Xf.displayName="OutputCard";var Zf=wr({root:{Bahqtrf:"fk6fouc",Be2twd7:"f13mqy1h",Bhrd7zp:"figsok6",Bg96gwp:"fcpl73t",Beyfa6y:0,Bbmb7ep:0,Btl43ni:0,B7oj6ja:0,Dimara:"ft85np5",Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fy44vh6",mc9l5x:"f14t3ns0",sj55zd:"f11d4kpn",De3pzq:"f3vzo32"},canvas:{Byoj8tv:0,uwmqm3:0,z189sj:0,z8tnut:0,B0ocmuz:"fza2tcr"}},{d:[".fk6fouc{font-family:var(--fontFamilyBase);}",".f13mqy1h{font-size:var(--fontSizeBase100);}",".figsok6{font-weight:var(--fontWeightRegular);}",".fcpl73t{line-height:var(--lineHeightBase100);}",[".ft85np5{border-radius:var(--borderRadiusMedium);}",{p:-1}],[".fy44vh6{padding:calc(var(--spacingVerticalXXS) / 2) var(--spacingHorizontalXS) calc(var(--spacingVerticalXXS) / 2) var(--spacingHorizontalXS);}",{p:-1}],".f14t3ns0{display:inline-block;}",".f11d4kpn{color:var(--colorNeutralForeground3);}",".f3vzo32{background-color:var(--colorNeutralBackground5);}",[".fza2tcr{padding:calc(var(--spacingVerticalSNudge) / 2) var(--spacingHorizontalSNudge) calc(var(--spacingVerticalSNudge) / 2)var(--spacingHorizontalSNudge);}",{p:-1}]]});function Qf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(r),!0).forEach((function(t){ep(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ep(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rp(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var np=e.forwardRef(((e,t)=>{var r=((e,t)=>{var{wrap:r,truncate:n,block:i,italic:a,underline:o,strikethrough:s,size:l,font:u,weight:c,align:h}=e;return{align:null!=h?h:"start",block:null!=i&&i,font:null!=u?u:"base",italic:null!=a&&a,size:null!=l?l:300,strikethrough:null!=s&&s,truncate:null!=n&&n,underline:null!=o&&o,weight:null!=c?c:"regular",wrap:null==r||r,components:{root:"span"},root:St(Gt("span",Jf({ref:t},e)),{elementType:"span"})}})(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tp(Object(r),!0).forEach((function(t){rp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({as:"span"},e),t);return r.mode=Mf(e.mode),(e=>{var t=Zf();e.root.className=kr("fai-AiGeneratedDisclaimer",t.root,"canvas"===e.mode&&t.canvas,e.root.className)})(r),(e=>br(e.root,{}))(r)}));function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(this,arguments)}np.displayName="AiGeneratedDisclaimer";var ap={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(e){},onComplete:function(e){},preStringTyped:function(e,t){},onStringTyped:function(e,t){},onLastStringBackspaced:function(e){},onTypingPaused:function(e,t){},onTypingResumed:function(e,t){},onReset:function(e){},onStop:function(e,t){},onStart:function(e,t){},onDestroy:function(e){}},op=new(function(){function e(){}var t=e.prototype;return t.load=function(e,t,r){if(e.el="string"==typeof r?document.querySelector(r):r,e.options=ip({},ap,t),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map((function(e){return e.trim()})),e.stringsElement="string"==typeof e.options.stringsElement?document.querySelector(e.options.stringsElement):e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var n=Array.prototype.slice.apply(e.stringsElement.children),i=n.length;if(i)for(var a=0;a<i;a+=1)e.strings.push(n[a].innerHTML.trim())}for(var o in e.strPos=0,e.currentElContent=this.getCurrentElContent(e),e.currentElContent&&e.currentElContent.length>0&&(e.strPos=e.currentElContent.length-1,e.strings.unshift(e.currentElContent)),e.sequence=[],e.strings)e.sequence[o]=o;e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.autoInsertCss=e.options.autoInsertCss,e.autoInsertCss&&(this.appendCursorAnimationCss(e),this.appendFadeOutAnimationCss(e))},t.getCurrentElContent=function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent},t.appendCursorAnimationCss=function(e){var t="data-typed-js-cursor-css";if(e.showCursor&&!document.querySelector("["+t+"]")){var r=document.createElement("style");r.setAttribute(t,"true"),r.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(r)}},t.appendFadeOutAnimationCss=function(e){var t="data-typed-fadeout-js-css";if(e.fadeOut&&!document.querySelector("["+t+"]")){var r=document.createElement("style");r.setAttribute(t,"true"),r.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(r)}},e}()),sp=new(function(){function e(){}var t=e.prototype;return t.typeHtmlChars=function(e,t,r){if("html"!==r.contentType)return t;var n=e.substring(t).charAt(0);if("<"===n||"&"===n){var i;for(i="<"===n?">":";";e.substring(t+1).charAt(0)!==i&&!(1+ ++t>e.length););t++}return t},t.backSpaceHtmlChars=function(e,t,r){if("html"!==r.contentType)return t;var n=e.substring(t).charAt(0);if(">"===n||";"===n){var i;for(i=">"===n?"<":"&";e.substring(t-1).charAt(0)!==i&&!(--t<0););t--}return t},e}()),lp=function(){function e(e,t){op.load(this,t,e),this.begin()}var t=e.prototype;return t.toggle=function(){this.pause.status?this.start():this.stop()},t.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},t.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},t.destroy=function(){this.reset(!1),this.options.onDestroy(this)},t.reset=function(e){void 0===e&&(e=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())},t.begin=function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout((function(){0===e.strPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos):e.backspace(e.strings[e.sequence[e.arrayPos]],e.strPos)}),this.startDelay)},t.typewrite=function(e,t){var r=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var n=this.humanizer(this.typeSpeed),i=1;!0!==this.pause.status?this.timeout=setTimeout((function(){t=sp.typeHtmlChars(e,t,r);var n=0,a=e.substring(t);if("^"===a.charAt(0)&&/^\^\d+/.test(a)){var o=1;o+=(a=/\d+/.exec(a)[0]).length,n=parseInt(a),r.temporaryPause=!0,r.options.onTypingPaused(r.arrayPos,r),e=e.substring(0,t)+e.substring(t+o),r.toggleBlinking(!0)}if("`"===a.charAt(0)){for(;"`"!==e.substring(t+i).charAt(0)&&(i++,!(t+i>e.length)););var s=e.substring(0,t),l=e.substring(s.length+1,t+i),u=e.substring(t+i+1);e=s+l+u,i--}r.timeout=setTimeout((function(){r.toggleBlinking(!1),t>=e.length?r.doneTyping(e,t):r.keepTyping(e,t,i),r.temporaryPause&&(r.temporaryPause=!1,r.options.onTypingResumed(r.arrayPos,r))}),n)}),n):this.setPauseStatus(e,t,!0)},t.keepTyping=function(e,t,r){0===t&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var n=e.substring(0,t+=r);this.replaceText(n),this.typewrite(e,t)},t.doneTyping=function(e,t){var r=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout((function(){r.backspace(e,t)}),this.backDelay))},t.backspace=function(e,t){var r=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var n=this.humanizer(this.backSpeed);this.timeout=setTimeout((function(){t=sp.backSpaceHtmlChars(e,t,r);var n=e.substring(0,t);if(r.replaceText(n),r.smartBackspace){var i=r.strings[r.arrayPos+1];r.stopNum=i&&n===i.substring(0,t)?t:0}t>r.stopNum?(t--,r.backspace(e,t)):t<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.options.onLastStringBackspaced(),r.shuffleStringsIfNeeded(),r.begin()):r.typewrite(r.strings[r.sequence[r.arrayPos]],t))}),n)}else this.setPauseStatus(e,t,!1)},t.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},t.setPauseStatus=function(e,t,r){this.pause.typewrite=r,this.pause.curString=e,this.pause.curStrPos=t},t.toggleBlinking=function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},t.humanizer=function(e){return Math.round(Math.random()*e/2)+e},t.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort((function(){return Math.random()-.5})))},t.initFadeOut=function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout((function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)}),this.fadeOutDelay)},t.replaceText=function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e},t.bindFocusEvents=function(){var e=this;this.isInput&&(this.el.addEventListener("focus",(function(t){e.stop()})),this.el.addEventListener("blur",(function(t){e.el.value&&0!==e.el.value.length||e.start()})))},t.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},e}(),up=["style","className","typedRef","parseRef","stopped","children","startWhenVisible"];function cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hp(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dp=(0,e.memo)((t=>{var{style:r,className:n,typedRef:i,parseRef:a,stopped:o,children:s,startWhenVisible:l}=t,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,up),c=(0,e.useRef)(null),h=(0,e.useMemo)((()=>{var e;return[...Object.values(u).filter((e=>"boolean"==typeof e||"number"==typeof e||"string"==typeof e)),null===(e=u.strings)||void 0===e?void 0:e.join(",")]}),[u]);(0,e.useEffect)((()=>{var e=a&&a(c)||c.current,t=new lp(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(r),!0).forEach((function(t){hp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},u));if((o||l)&&(null==t||t.stop()),l){var r=new IntersectionObserver((e=>{var[n]=e;n.isIntersecting&&(null==t||t.start(),r.disconnect())}));r.observe(e)}return i&&t&&i(t),()=>{t.destroy()}}),h);var d=s?e.cloneElement(s,{ref:c}):e.createElement("span",{style:r,ref:c});return e.createElement("span",{style:r,className:n,"data-testid":"react-typed"},d)})),fp=e.memo((t=>e.createElement(dp,{strings:[t.contentHTML],typeSpeed:3,loop:!1,showCursor:!0,cursorChar:"|",contentType:"html"})));fp.displayName="TypingEffect";var pp={TechnicalDesignDocument:"Technical Design Document"},gp=(e,t,r,n,i,a,o)=>new Promise(((t,s)=>{var l,u,c,h;l=void 0,u=void 0,h=function*(){try{var l="cat_docupilotdocumentgenerationrequest",u="cat_solutiondocument",c="cat_configurationkeys",h="cat_documentstatus",d="cat_solutiondocumenturl",f=yield(0,ws.M)(e),p=f instanceof Blob?f:new Blob([f],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});console.log("Received Dataset Object:",a);var g=function(e){var t=JSON.stringify(e,null,2);return new Blob([t],{type:"application/json"})}(a);console.log("Final Dataset JSON:",g);var m="".concat(r,"/api/data/v9.2/").concat(l,"s(").concat(i,")/").concat(u);console.log("Uploading DOCX file:",m);var y=yield fetch(m,{method:"PATCH",headers:{"Content-Type":"application/octet-stream","OData-Version":"4.0","OData-MaxVersion":"4.0","x-ms-file-name":n},body:p});if(!y.ok){var v=yield y.json();return console.error("Error uploading DOCX file:",v.error.message),void s(new Error("Failed to upload the DOCX file."))}console.log('DOCX document "'.concat(n,'" uploaded successfully.'));var b="".concat(r,"/api/data/v9.2/").concat(l,"s(").concat(i,")/").concat(u,"/$value"),x="".concat(r,"/api/data/v9.2/").concat(l,"s(").concat(i,")/").concat("cat_documenthtmldataset");console.log("Uploading JSON dataset file:",x);var w=yield fetch(x,{method:"PATCH",headers:{"Content-Type":"application/octet-stream","OData-Version":"4.0","OData-MaxVersion":"4.0","x-ms-file-name":"dataset.json"},body:g});if(!w.ok){var D=yield w.json();return console.error("Error uploading JSON dataset file:",D.error.message),void s(new Error("Failed to upload the JSON dataset file."))}console.log("JSON dataset file uploaded successfully.");var k="".concat(r,"/api/data/v9.2/").concat(l,"s(").concat(i,")");console.log("Updating record with config keys and document status:",k),console.log("List of configuration keys : ",o);var E=yield fetch(k,{method:"PATCH",headers:{"Content-Type":"application/json","OData-Version":"4.0","OData-MaxVersion":"4.0"},body:JSON.stringify({[c]:o,[h]:764860001,[d]:b})});if(!E.ok){var A=yield E.json();return console.error("Error updating config keys and document status:",A.error.message),void s(new Error("Failed to update the configuration keys and document status."))}console.log("Config Keys and Document Status updated successfully."),t()}catch(e){console.error("Error saving to Dataverse:",e),s(e)}},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{i(h.next(e))}catch(e){t(e)}}function n(e){try{i(h.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof c?i:new c((function(e){e(i)}))).then(r,n)}i((h=h.apply(l,u||[])).next())}))}));function mp(e){return pp.TechnicalDesignDocument.concat(" - ",e.displayName," - ",e.version,".docx")}var yp=tn("ArrowLeft20Regular","20",["M9.16 16.87a.5.5 0 1 0 .67-.74L3.67 10.5H17.5a.5.5 0 0 0 0-1H3.67l6.16-5.63a.5.5 0 0 0-.67-.74L2.24 9.44a.75.75 0 0 0 0 1.11l6.92 6.32Z"]),vp=tn("ArrowAutofitWidthRegular","1em",["m16.37 15-1.18 1.14a.5.5 0 1 0 .7.72l1.88-1.82c.3-.3.3-.78 0-1.08l-1.88-1.82a.5.5 0 1 0-.7.72L16.38 14H12.5a.5.5 0 1 0 0 1h3.87ZM15 3a2 2 0 0 1 2 2v4.5a.5.5 0 0 1-1 0V5a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v4.5a.5.5 0 0 1-1 0V5c0-1.1.9-2 2-2h10ZM4.81 16.14 3.63 15H7.5a.5.5 0 1 0 0-1H3.63l1.18-1.14a.5.5 0 0 0-.7-.72l-1.88 1.82c-.3.3-.3.79 0 1.08l1.89 1.82a.5.5 0 1 0 .69-.72Z"]),bp=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))},xp=gt({container:{display:"grid",gridTemplateColumns:"auto 1fr auto",gridTemplateRows:"auto 1fr",height:"100vh",transition:"grid-template-columns 0.3s ease-in-out",backgroundColor:"#F4F4F4",flexDirection:"column",position:"relative",overflow:"hidden"},paper:{boxShadow:"var(--shadow16)",padding:"20px",overflowY:"auto",maxHeight:"calc(100vh - 60px)"},navbar:{padding:"20px",overflowY:"auto",transition:"width 0.3s ease-in-out",backgroundColor:"#EDEBE9",borderRight:"1px solid ".concat(yt)},navbarHidden:{width:"0px",overflow:"hidden"},documentContainer:{flexGrow:1,display:"flex",flexDirection:"column",backgroundColor:"#F4F4F4",padding:"20px",overflowY:"auto"},toolbarContainer:{marginBottom:"20px",display:"flex",justifyContent:"flex-end"},toolbar:{gap:"10px"},toggleButton:{marginBottom:"10px",zIndex:1e3,position:"absolute",height:"40px",width:"40px",maxWidth:"50px",left:"10px",top:"20px",boxShadow:"var(--shadow8)"},sidePane:{backgroundColor:"#FFFFFF",borderLeft:"1px solid ".concat(yt),padding:"20px",width:"300px",position:"relative",transition:"width 0.3s ease-in-out"},closeIcon:{position:"absolute",top:"10px",right:"10px"},spinnerOverlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1001,display:"flex",alignItems:"center",justifyContent:"center"},a4ContainerStyle:{background:"transparent",overflowY:"auto",position:"relative",boxShadow:"none"},a4PageStyle:{width:"21cm",height:"29.7cm",margin:"10px auto",padding:"2cm",boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff",overflowY:"auto",pageBreakAfter:"always",boxSizing:"border-box"},treeViewContainer:{marginTop:"20px",padding:"0 10px"},lastPageStyle:{width:"21cm",height:"29.7cm",margin:"10px auto",padding:"2cm",boxShadow:"0 0 10px rgba(26, 17, 17, 0.1)",backgroundColor:"#fff",overflow:"hidden",pageBreakAfter:"auto",boxSizing:"border-box"},outputCardContainer:{flexGrow:1,display:"flex",justifyContent:"center",alignItems:"center",transformOrigin:"top center",transition:"transform 0.3s ease-in-out"},sidePaneCollapsed:{width:"0",overflow:"hidden"},sliderContainer:{gridColumn:"1 / -1",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",backgroundColor:"#FFFFFF",padding:"10px",paddingRight:"50px",borderTop:"1px solid #ccc",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.2)",height:"5px",zIndex:100,gap:"6px"},slider:{maxWidth:"200px"},sliderInput:{width:"100px !important"},toolbarWrapper:{display:"flex",alignItems:"self-start",justifyContent:"space-between",width:"100%",height:"45px",padding:"10px 10px",gridColumn:"1 / -1",gridRow:"1",zIndex:100},backButtonFixed:{position:"relative",left:"50px"},pageTitle:{fontSize:"20px",fontWeight:"bold",marginLeft:"50px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block"},messageBarContainer:{position:"fixed",left:0,width:"100%",zIndex:2e3}}),wp=e.memo((t=>{var{height:r,width:n,webAPI:i,clientUrl:a,contentHTML:o,isAuthoringMode:s,solutionDetails:l,sidePaneItems:u,datasetObjects:c,getPopoverRoot:h,onConfigChange:d,onFlairComplete:f,onBackClick:p,showFlair:g,enableTyping:m,recordId:y,disabled:v}=t,b=xp(),{play:x,className:w,targetRef:D}=kf(),[k,E]=(0,e.useState)(!1),[A,C]=(0,e.useState)(!1),[_,T]=(0,e.useState)(null),[S,F]=(0,e.useState)("success"),[O,B]=(0,e.useState)(),[N,L]=(0,e.useState)(),[I,R]=(0,e.useState)(!1),[M,P]=(0,e.useState)(!1),[z,$]=(0,e.useState)(s),[j,K]=(0,e.useState)(1);(0,e.useEffect)((()=>{B(h())}),[h]);var q=()=>{P(!M)};return e.useEffect((()=>{z||bp(void 0,void 0,void 0,(function*(){$(yield(e=>ks(void 0,void 0,void 0,(function*(){try{return yield e.execute({getMetadata:()=>({boundParameter:null,operationType:0,operationName:"WhoAmI",parameterTypes:{}})}),!1}catch(e){if(e instanceof Error){if("PCFNonImplementedError"===e.name)return console.warn("Detected Test Harness mode via PCFNonImplementedError."),!0;if(e.message.includes("No HTTP resource was found"))throw console.error("Invalid API endpoint or operation. Verify WebAPI configuration."),new Error("Invalid API endpoint or operation. Please verify your environment.");if(e.message.includes("Authorization has been denied"))throw console.error("Permission issue detected. Ensure the user has the necessary permissions."),new Error("Permission issue. Check user roles and privileges in Dataverse.");console.error("Unexpected error during WhoAmI action:",e)}return!1}})))(i))}))}),[i,z]),e.useEffect((()=>{g&&(x(),setTimeout((()=>{null==f||f()}),200))}),[x,g]),e.useEffect((()=>{l.sortedRecordIds.forEach((e=>{var t,r,n,i,a,o=l.records[e];if("SolutionDetails"===(null===(t=null==o?void 0:o.getValue)||void 0===t?void 0:t.call(o,"SolutionDetailItemKey"))){var s=null===(r=o.getValue)||void 0===r?void 0:r.call(o,"SolutionDetailItemValue");if(console.log(s),s){var u=null==s?void 0:s.solutionOverview;console.log(u),u&&L({displayName:null!==(n=null==u?void 0:u.displayName)&&void 0!==n?n:"",uniqueName:null!==(i=null==u?void 0:u.uniqueName)&&void 0!==i?i:"",version:null!==(a=null==u?void 0:u.version)&&void 0!==a?a:"0.0.0"})}}}))}),[l]),e.createElement("div",null,e.createElement(Lf,null,e.createElement("div",{className:b.container,style:{width:n,height:r}},A&&e.createElement("div",{className:b.spinnerOverlay},e.createElement(jr,{label:"Saving to Dataverse...",size:"large"})),_&&e.createElement("div",{className:b.messageBarContainer},e.createElement(Tn,{key:S,intent:S},e.createElement(Ln,null,e.createElement(zn,null,S.toUpperCase()," : "),_),e.createElement(Yn,{containerAction:e.createElement(pi,{appearance:"transparent",icon:e.createElement(sn,null),onClick:()=>T(null)})}))),!M&&e.createElement(Go,Object.assign({mountNode:O,content:"Open Navigation",relationship:"label"},t),e.createElement(pi,{icon:e.createElement(Ld,{color:mt}),appearance:"secondary",onClick:q,disabled:v,className:b.toggleButton})),e.createElement("div",{className:M?b.navbar:b.navbarHidden},e.createElement(rd,{contentHTML:o,isNavPaneVisible:M,toggleNavPane:q})),e.createElement("div",{className:b.documentContainer},e.createElement("div",{className:b.toolbarWrapper},e.createElement(pi,{disabled:v,icon:e.createElement(yp,null),appearance:"transparent",onClick:p,className:b.backButtonFixed}),e.createElement(Pd,{disabled:v,onExportMarkdown:()=>{},onExportWord:()=>{return e=o,t=mp(N),bp(void 0,void 0,void 0,(function*(){try{var r=yield(0,ws.M)(e),n=r instanceof Blob?r:new Blob([r],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});(0,Ds.saveAs)(n,"".concat(t,".docx"))}catch(e){console.error("Error exporting to Word:",e)}}));var e,t},onConfigure:()=>E(!k),onSave:()=>bp(void 0,void 0,void 0,(function*(){C(!0),T(null);try{yield gp(o,0,a,mp(N),y,c,u.map((e=>e.value)).join(";")),T("Document saved successfully!"),F("success")}catch(e){console.error("Error saving to Dataverse:",e),T("Failed to save document. Please try again."),F("error")}finally{C(!1)}}))})),e.createElement("div",{className:b.outputCardContainer,style:{width:I?"100%":"auto",transform:"scale(".concat(j,")")}},e.createElement(Xf,{id:"document-preview",ref:D,className:kr(w,b.paper,b.a4PageStyle)},m?e.createElement(fp,{contentHTML:o}):e.createElement("div",{dangerouslySetInnerHTML:{__html:o}})))),k&&e.createElement(Jh,{items:u,onConfigChange:d}),e.createElement("div",{className:b.sliderContainer},e.createElement(np,null,"AI-generated content may be incorrect"),e.createElement(Tr,{size:"small"},"Zoom"),e.createElement(xs,{min:50,max:300,className:b.slider,input:{className:b.sliderInput},onChange:(e,t)=>{return 1.99!==(r=t.value)&&R(!1),void K(r/100);var r},"aria-label":"Zoom Slider",size:"small",value:100*j}),e.createElement("span",null,Math.round(100*j),"%"),e.createElement(Go,Object.assign({mountNode:O,content:"Zoom to fit page width",relationship:"label"},t),e.createElement(pi,{size:"small",icon:e.createElement(vp,null),appearance:"subtle",disabled:I,onClick:()=>{I||K(1.99)}}))))))}));wp.displayName="DocGenerator";var Dp=i(6741),kp=i(9874),Ep=i(7308),Ap=(i(7938),i(1282),i(1099)),Cp=(i(7588),i(3115),i(8945),i(8159)),_p=i(6144),Tp=i(7286),Sp=i(7692),Fp=i(7412),Op=i(5763),Bp=i(9418),Np=i(3958),Lp={id:"c4",detector:(0,Sp.K2)((e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,2664));return{id:"c4",diagram:e}}),"loader")},Ip="flowchart",Rp={id:Ip,detector:(0,Sp.K2)(((e,t)=>"dagre-wrapper"!==t?.flowchart?.defaultRenderer&&"elk"!==t?.flowchart?.defaultRenderer&&/^\s*graph/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,4485));return{id:Ip,diagram:e}}),"loader")},Mp="flowchart-v2",Pp={id:Mp,detector:(0,Sp.K2)(((e,t)=>"dagre-d3"!==t?.flowchart?.defaultRenderer&&("elk"===t?.flowchart?.defaultRenderer&&(t.layout="elk"),!(!/^\s*graph/.test(e)||"dagre-wrapper"!==t?.flowchart?.defaultRenderer)||/^\s*flowchart/.test(e))),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,4485));return{id:Mp,diagram:e}}),"loader")},zp={id:"er",detector:(0,Sp.K2)((e=>/^\s*erDiagram/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,7402));return{id:"er",diagram:e}}),"loader")},$p="gitGraph",jp={id:$p,detector:(0,Sp.K2)((e=>/^\s*gitGraph/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,5978));return{id:$p,diagram:e}}),"loader")},Kp="gantt",qp={id:Kp,detector:(0,Sp.K2)((e=>/^\s*gantt/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,6244));return{id:Kp,diagram:e}}),"loader")},Up="info",Hp={id:Up,detector:(0,Sp.K2)((e=>/^\s*info/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,7354));return{id:Up,diagram:e}}),"loader")},Wp={id:"pie",detector:(0,Sp.K2)((e=>/^\s*pie/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,1825));return{id:"pie",diagram:e}}),"loader")},Gp="quadrantChart",Vp={id:Gp,detector:(0,Sp.K2)((e=>/^\s*quadrantChart/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,4632));return{id:Gp,diagram:e}}),"loader")},Yp="xychart",Xp={id:Yp,detector:(0,Sp.K2)((e=>/^\s*xychart-beta/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,545));return{id:Yp,diagram:e}}),"loader")},Zp="requirement",Qp={id:Zp,detector:(0,Sp.K2)((e=>/^\s*requirement(Diagram)?/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,8413));return{id:Zp,diagram:e}}),"loader")},Jp="sequence",eg={id:Jp,detector:(0,Sp.K2)((e=>/^\s*sequenceDiagram/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,8540));return{id:Jp,diagram:e}}),"loader")},tg="class",rg={id:tg,detector:(0,Sp.K2)(((e,t)=>"dagre-wrapper"!==t?.class?.defaultRenderer&&/^\s*classDiagram/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,391));return{id:tg,diagram:e}}),"loader")},ng="classDiagram",ig={id:ng,detector:(0,Sp.K2)(((e,t)=>!(!/^\s*classDiagram/.test(e)||"dagre-wrapper"!==t?.class?.defaultRenderer)||/^\s*classDiagram-v2/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,3056));return{id:ng,diagram:e}}),"loader")},ag="state",og={id:ag,detector:(0,Sp.K2)(((e,t)=>"dagre-wrapper"!==t?.state?.defaultRenderer&&/^\s*stateDiagram/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,9732));return{id:ag,diagram:e}}),"loader")},sg="stateDiagram",lg={id:sg,detector:(0,Sp.K2)(((e,t)=>!!/^\s*stateDiagram-v2/.test(e)||!(!/^\s*stateDiagram/.test(e)||"dagre-wrapper"!==t?.state?.defaultRenderer)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,5110));return{id:sg,diagram:e}}),"loader")},ug="journey",cg={id:ug,detector:(0,Sp.K2)((e=>/^\s*journey/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,6237));return{id:ug,diagram:e}}),"loader")},hg={draw:(0,Sp.K2)(((e,t,r)=>{Sp.Rm.debug("rendering svg for syntax error\n");const n=(0,Tp.D)(t),i=n.append("g");n.attr("viewBox","0 0 2412 512"),(0,Sp.a$)(n,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)}),"draw")},dg=hg,fg={db:{},renderer:hg,parser:{parse:(0,Sp.K2)((()=>{}),"parse")}},pg="flowchart-elk",gg={id:pg,detector:(0,Sp.K2)(((e,t={})=>!!(/^\s*flowchart-elk/.test(e)||/^\s*flowchart|graph/.test(e)&&"elk"===t?.flowchart?.defaultRenderer)&&(t.layout="elk",!0)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,4485));return{id:pg,diagram:e}}),"loader")},mg="timeline",yg={id:mg,detector:(0,Sp.K2)((e=>/^\s*timeline/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,7691));return{id:mg,diagram:e}}),"loader")},vg="mindmap",bg={id:vg,detector:(0,Sp.K2)((e=>/^\s*mindmap/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,6383));return{id:vg,diagram:e}}),"loader")},xg="kanban",wg={id:xg,detector:(0,Sp.K2)((e=>/^\s*kanban/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,6355));return{id:xg,diagram:e}}),"loader")},Dg="sankey",kg={id:Dg,detector:(0,Sp.K2)((e=>/^\s*sankey-beta/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,1893));return{id:Dg,diagram:e}}),"loader")},Eg="packet",Ag={id:Eg,detector:(0,Sp.K2)((e=>/^\s*packet-beta/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,7357));return{id:Eg,diagram:e}}),"loader")},Cg="block",_g={id:Cg,detector:(0,Sp.K2)((e=>/^\s*block-beta/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,5410));return{id:Cg,diagram:e}}),"loader")},Tg="architecture",Sg={id:Tg,detector:(0,Sp.K2)((e=>/^\s*architecture/.test(e)),"detector"),loader:(0,Sp.K2)((async()=>{const{diagram:e}=await Promise.resolve().then(i.bind(i,3175));return{id:Tg,diagram:e}}),"loader")},Fg=!1,Og=(0,Sp.K2)((()=>{Fg||(Fg=!0,(0,Sp.Js)("error",fg,(e=>"error"===e.toLowerCase().trim())),(0,Sp.Js)("---",{db:{clear:(0,Sp.K2)((()=>{}),"clear")},styles:{},renderer:{draw:(0,Sp.K2)((()=>{}),"draw")},parser:{parse:(0,Sp.K2)((()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}),"parse")},init:(0,Sp.K2)((()=>null),"init")},(e=>e.toLowerCase().trimStart().startsWith("---"))),(0,Sp.Xd)(Lp,wg,ig,rg,zp,qp,Hp,Wp,Qp,eg,gg,Pp,Rp,bg,yg,jp,lg,og,cg,Vp,kg,Ag,Xp,_g,Sg))}),"addDiagrams"),Bg=(0,Sp.K2)((async()=>{Sp.Rm.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Sp.mW).map((async([e,{detector:t,loader:r}])=>{if(r)try{(0,Sp.Gs)(e)}catch{try{const{diagram:e,id:n}=await r();(0,Sp.Js)(n,e,t)}catch(t){throw Sp.Rm.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete Sp.mW[e],t}}})))).filter((e=>"rejected"===e.status));if(e.length>0){Sp.Rm.error(`Failed to load ${e.length} external diagrams`);for(const t of e)Sp.Rm.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}}),"loadRegisteredDiagrams");function Ng(e,t){e.attr("role","graphics-document document"),""!==t&&e.attr("aria-roledescription",t)}function Lg(e,t,r,n){if(void 0!==e.insert){if(r){const t=`chart-desc-${n}`;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(r)}if(t){const r=`chart-title-${n}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}(0,Sp.K2)(Ng,"setA11yDiagramInfo"),(0,Sp.K2)(Lg,"addSVGa11yTitleDescription");var Ig=class e{constructor(e,t,r,n,i){this.type=e,this.text=t,this.db=r,this.parser=n,this.renderer=i}static{(0,Sp.K2)(this,"Diagram")}static async fromText(t,r={}){const n=(0,Sp.zj)(),i=(0,Sp.Ch)(t,n);t=(0,Cp.C4)(t)+"\n";try{(0,Sp.Gs)(i)}catch{const e=(0,Sp.J$)(i);if(!e)throw new Sp.C0(`Diagram ${i} not found.`);const{id:t,diagram:r}=await e();(0,Sp.Js)(t,r)}const{db:a,parser:o,renderer:s,init:l}=(0,Sp.Gs)(i);return o.parser&&(o.parser.yy=a),a.clear?.(),l?.(n),r.title&&a.setDiagramTitle?.(r.title),await o.parse(t),new e(i,t,a,o,s)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},Rg=[],Mg=(0,Sp.K2)((()=>{Rg.forEach((e=>{e()})),Rg=[]}),"attachFunctions"),Pg=(0,Sp.K2)((e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart()),"cleanupComments");function zg(e){const t=e.match(Sp.EJ);if(!t)return{text:e,metadata:{}};let r=(0,kp.H)(t[1],{schema:kp.r})??{};r="object"!=typeof r||Array.isArray(r)?{}:r;const n={};return r.displayMode&&(n.displayMode=r.displayMode.toString()),r.title&&(n.title=r.title.toString()),r.config&&(n.config=r.config),{text:e.slice(t[0].length),metadata:n}}(0,Sp.K2)(zg,"extractFrontMatter");var $g=(0,Sp.K2)((e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,((e,t,r)=>"<"+t+r.replace(/="([^"]*)"/g,"='$1'")+">"))),"cleanupText"),jg=(0,Sp.K2)((e=>{const{text:t,metadata:r}=zg(e),{displayMode:n,title:i,config:a={}}=r;return n&&(a.gantt||(a.gantt={}),a.gantt.displayMode=n),{title:i,config:a,text:t}}),"processFrontmatter"),Kg=(0,Sp.K2)((e=>{const t=Cp._K.detectInit(e)??{},r=Cp._K.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some((({type:e})=>"wrap"===e)):"wrap"===r?.type&&(t.wrap=!0),{text:(0,Cp.vU)(e),directive:t}}),"processDirectives");function qg(e){const t=$g(e),r=jg(t),n=Kg(r.text),i=(0,Cp.$t)(r.config,n.directive);return{code:e=Pg(n.text),title:r.title,config:i}}function Ug(e){const t=(new TextEncoder).encode(e),r=Array.from(t,(e=>String.fromCodePoint(e))).join("");return btoa(r)}(0,Sp.K2)(qg,"preprocessDiagram"),(0,Sp.K2)(Ug,"toBase64");var Hg=["foreignobject"],Wg=["dominant-baseline"];function Gg(e){const t=qg(e);return(0,Sp.cL)(),(0,Sp.xA)(t.config??{}),t}async function Vg(e,t){Og();try{const{code:t,config:r}=Gg(e);return{diagramType:(await am(t)).type,config:r}}catch(e){if(t?.suppressErrors)return!1;throw e}}(0,Sp.K2)(Gg,"processAndSetConfigs"),(0,Sp.K2)(Vg,"parse");var Yg=(0,Sp.K2)(((e,t,r=[])=>`\n.${e} ${t} { ${r.join(" !important; ")} !important; }`),"cssImportantStyles"),Xg=(0,Sp.K2)(((e,t=new Map)=>{let r="";if(void 0!==e.themeCSS&&(r+=`\n${e.themeCSS}`),void 0!==e.fontFamily&&(r+=`\n:root { --mermaid-font-family: ${e.fontFamily}}`),void 0!==e.altFontFamily&&(r+=`\n:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){const n=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach((e=>{(0,Np.A)(e.styles)||n.forEach((t=>{r+=Yg(e.id,t,e.styles)})),(0,Np.A)(e.textStyles)||(r+=Yg(e.id,"tspan",(e?.textStyles||[]).map((e=>e.replace("color","fill")))))}))}return r}),"createCssStyles"),Zg=(0,Sp.K2)(((e,t,r,n)=>{const i=Xg(e,r);return Z(xe(`${n}{${(0,Sp.tM)(t,i,e.themeVariables)}}`),Q)}),"createUserStyles"),Qg=(0,Sp.K2)(((e="",t,r)=>{let n=e;return r||t||(n=n.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),n=(0,Cp.Sm)(n),n=n.replace(/<br>/g,"<br/>"),n}),"cleanUpSvgCode"),Jg=(0,Sp.K2)(((e="",t)=>`<iframe style="width:100%;height:${t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${Ug(`<body style="margin:0">${e}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The "iframe" tag is not supported by your browser.\n</iframe>`),"putIntoIFrame"),em=(0,Sp.K2)(((e,t,r,n,i)=>{const a=e.append("div");a.attr("id",r),n&&a.attr("style",n);const o=a.append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return i&&o.attr("xmlns:xlink",i),o.append("g"),e}),"appendDivSvgG");function tm(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,Sp.K2)(tm,"sandboxedIframe");var rm=(0,Sp.K2)(((e,t,r,n)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(n)?.remove()}),"removeExistingElements"),nm=(0,Sp.K2)((async function(e,t,r){Og();const n=Gg(t);t=n.code;const i=(0,Sp.zj)();Sp.Rm.debug(i),t.length>(i?.maxTextSize??5e4)&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");const a="#"+e,o="i"+e,s="#"+o,l="d"+e,u="#"+l,c=(0,Sp.K2)((()=>{const e=d?s:u,t=(0,Op.Ltv)(e).node();t&&"remove"in t&&t.remove()}),"removeTempElements");let h=(0,Op.Ltv)("body");const d="sandbox"===i.securityLevel,f="loose"===i.securityLevel,p=i.fontFamily;if(void 0!==r){if(r&&(r.innerHTML=""),d){const e=tm((0,Op.Ltv)(r),o);h=(0,Op.Ltv)(e.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=(0,Op.Ltv)(r);em(h,e,l,`font-family: ${p}`,"http://www.w3.org/1999/xlink")}else{if(rm(document,e,l,o),d){const e=tm((0,Op.Ltv)("body"),o);h=(0,Op.Ltv)(e.nodes()[0].contentDocument.body),h.node().style.margin=0}else h=(0,Op.Ltv)("body");em(h,e,l)}let g,m;try{g=await Ig.fromText(t,{title:n.title})}catch(e){if(i.suppressErrorRendering)throw c(),e;g=await Ig.fromText("error"),m=e}const y=h.select(u).node(),v=g.type,b=y.firstChild,x=b.firstChild,w=g.renderer.getClasses?.(t,g),D=Zg(i,v,w,a),k=document.createElement("style");k.innerHTML=D,b.insertBefore(k,x);try{await g.renderer.draw(t,e,_p.r,g)}catch(r){throw i.suppressErrorRendering?c():dg.draw(t,e,_p.r),r}const E=h.select(`${u} svg`),A=g.db.getAccTitle?.(),C=g.db.getAccDescription?.();om(v,E,A,C),h.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let _=h.select(u).node().innerHTML;if(Sp.Rm.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),_=Qg(_,d,(0,Sp._3)(i.arrowMarkerAbsolute)),d){const e=h.select(u+" svg").node();_=Jg(_,e)}else f||(_=Bp.A.sanitize(_,{ADD_TAGS:Hg,ADD_ATTR:Wg,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Mg(),m)throw m;return c(),{diagramType:v,svg:_,bindFunctions:g.db.bindFunctions}}),"render");function im(e={}){const t=(0,Sp.hH)({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),(0,Sp.wZ)(t),t?.theme&&t.theme in Sp.H$?t.themeVariables=Sp.H$[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=Sp.H$.default.getThemeVariables(t.themeVariables));const r="object"==typeof t?(0,Sp.UU)(t):(0,Sp.Q2)();(0,Sp.He)(r.logLevel),Og()}(0,Sp.K2)(im,"initialize");var am=(0,Sp.K2)(((e,t={})=>{const{code:r}=qg(e);return Ig.fromText(r,t)}),"getDiagramFromText");function om(e,t,r,n){Ng(t,e),Lg(t,r,n,t.attr("id"))}(0,Sp.K2)(om,"addA11yInfo");var sm=Object.freeze({render:nm,parse:Vg,getDiagramFromText:am,initialize:im,getConfig:Sp.zj,setConfig:Sp.Nk,getSiteConfig:Sp.Q2,updateSiteConfig:Sp.B6,reset:(0,Sp.K2)((()=>{(0,Sp.cL)()}),"reset"),globalReset:(0,Sp.K2)((()=>{(0,Sp.cL)(Sp.sb)}),"globalReset"),defaultConfig:Sp.sb});(0,Sp.He)((0,Sp.zj)().logLevel),(0,Sp.cL)((0,Sp.zj)());var lm=(0,Sp.K2)(((e,t,r)=>{Sp.Rm.warn(e),(0,Cp.dq)(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))}),"handleError"),um=(0,Sp.K2)((async function(e={querySelector:".mermaid"}){try{await cm(e)}catch(t){if((0,Cp.dq)(t)&&Sp.Rm.error(t.str),wm.parseError&&wm.parseError(t),!e.suppressErrors)throw Sp.Rm.error("Use the suppressErrors option to suppress these errors"),t}}),"run"),cm=(0,Sp.K2)((async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){const n=sm.getConfig();let i;if(Sp.Rm.debug((e?"":"No ")+"Callback function found"),r)i=r;else{if(!t)throw new Error("Nodes and querySelector are both undefined");i=document.querySelectorAll(t)}Sp.Rm.debug(`Found ${i.length} diagrams`),void 0!==n?.startOnLoad&&(Sp.Rm.debug("Start On Load: "+n?.startOnLoad),sm.updateSiteConfig({startOnLoad:n?.startOnLoad}));const a=new Cp._K.InitIDGenerator(n.deterministicIds,n.deterministicIDSeed);let o;const s=[];for(const t of Array.from(i)){if(Sp.Rm.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");const r=`mermaid-${a.next()}`;o=t.innerHTML,o=(0,Fp.T)(Cp._K.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const n=Cp._K.detectInit(o);n&&Sp.Rm.debug("Detected early reinit: ",n);try{const{svg:n,bindFunctions:i}=await xm(r,o,t);t.innerHTML=n,e&&await e(r),i&&i(t)}catch(e){lm(e,s,wm.parseError)}}if(s.length>0)throw s[0]}),"runThrowsErrors"),hm=(0,Sp.K2)((function(e){sm.initialize(e)}),"initialize"),dm=(0,Sp.K2)((async function(e,t,r){Sp.Rm.warn("mermaid.init is deprecated. Please use run instead."),e&&hm(e);const n={postRenderCallback:r,querySelector:".mermaid"};"string"==typeof t?n.querySelector=t:t&&(t instanceof HTMLElement?n.nodes=[t]:n.nodes=t),await um(n)}),"init"),fm=(0,Sp.K2)((async(e,{lazyLoad:t=!0}={})=>{Og(),(0,Sp.Xd)(...e),!1===t&&await Bg()}),"registerExternalDiagrams"),pm=(0,Sp.K2)((function(){if(wm.startOnLoad){const{startOnLoad:e}=sm.getConfig();e&&wm.run().catch((e=>Sp.Rm.error("Mermaid failed to initialize",e)))}}),"contentLoaded");"undefined"!=typeof document&&window.addEventListener("load",pm,!1);var gm=(0,Sp.K2)((function(e){wm.parseError=e}),"setParseErrorHandler"),mm=[],ym=!1,vm=(0,Sp.K2)((async()=>{if(!ym){for(ym=!0;mm.length>0;){const e=mm.shift();if(e)try{await e()}catch(e){Sp.Rm.error("Error executing queue",e)}}ym=!1}}),"executeQueue"),bm=(0,Sp.K2)((async(e,t)=>new Promise(((r,n)=>{const i=(0,Sp.K2)((()=>new Promise(((i,a)=>{sm.parse(e,t).then((e=>{i(e),r(e)}),(e=>{Sp.Rm.error("Error parsing",e),wm.parseError?.(e),a(e),n(e)}))}))),"performCall");mm.push(i),vm().catch(n)}))),"parse"),xm=(0,Sp.K2)(((e,t,r)=>new Promise(((n,i)=>{const a=(0,Sp.K2)((()=>new Promise(((a,o)=>{sm.render(e,t,r).then((e=>{a(e),n(e)}),(e=>{Sp.Rm.error("Error parsing",e),wm.parseError?.(e),o(e),i(e)}))}))),"performCall");mm.push(a),vm().catch(i)}))),"render"),wm={startOnLoad:!0,mermaidAPI:sm,parse:bm,render:xm,init:dm,run:um,registerExternalDiagrams:fm,registerLayoutLoaders:Ep.sO,initialize:hm,parseError:void 0,contentLoaded:pm,setParseErrorHandler:gm,detectType:Sp.Ch,registerIconPacks:Ap.pC},Dm=wm;Dm.initialize({startOnLoad:!0,theme:"default",themeVariables:{fontFamily:"Arial, sans-serif"}});var km=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}l((n=n.apply(e,t||[])).next())}))};function Em(e){return km(this,void 0,void 0,(function*(){console.log("Raw Mermaid Code Before:",JSON.stringify(e));var t=yield function(e){return t=this,r=void 0,i=function*(){console.log("Raw Mermaid code:",e);var t="mermaid-".concat(Date.now());try{var{svg:r}=yield Dm.render(t,"\n    graph TD\n        A[Start] --\x3e B[Process]\n        B --\x3e C{Decision?}\n        C --\x3e|Yes| D[Task]\n        C --\x3e|No| E[End]\n");return Dm.render(t,e).then((e=>{console.log(e.svg)})),console.log("Generated SVG:",r),r}catch(e){throw e instanceof Error?(console.error("Mermaid rendering failed:",e.message),new Error("Mermaid rendering failed: "+e.message)):(console.error("Unknown error during Mermaid rendering:",e),new Error("Unknown error during Mermaid rendering"))}},new((n=void 0)||(n=Promise))((function(e,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(o,s)}l((i=i.apply(t,r||[])).next())}));var t,r,n,i}(e);return console.log(t),'\n        <div id="architecture-diagram">\n            '.concat(t,"\n        </div>\n    ")}))}Dm.initialize({startOnLoad:!1,theme:"default",themeVariables:{fontFamily:"Arial, sans-serif"}});class Am{constructor(){this.componentKey="powercat-docGenerator"}init(e,t,r,n){this.context=e,this.notifyOutputChanged=t,e.mode.trackContainerResize(!0),n&&n instanceof HTMLDivElement?(this.theContainer=n,this.root=(0,Dp.H)(this.theContainer)):console.error("The container is not a valid DOM element.")}updateView(t){var r,n,i,a,o=parseInt(t.mode.allocatedWidth),s=parseInt(t.mode.allocatedHeight);this.isAuthoringMode="{00000000-0000-0000-0000-000000000000}"===t.userSettings.userId,this.triggerEvent&&this.triggerEvents(),(t.updatedProperties.indexOf("dataset")>-1||!this.configDetails)&&(this.configDetails=(a=null!==(r=t.parameters.ConfigItems)&&void 0!==r?r:[]).error||void 0===a.paging.totalResultCount?[{value:"technical",content:"Technical"},{value:"solutionDetails",parentValue:"technical",content:"Solution details"},{value:"architectureDiagram",parentValue:"technical",content:"Architecture diagram"},{value:"prerequisites",parentValue:"technical",content:"Prerequisites"},{value:"interface",content:"Interface"},{value:"canvasApps",parentValue:"interface",content:"Canvas apps"},{value:"automationLogic",content:"Automation and logic"},{value:"powerAutomate",parentValue:"automationLogic",content:"PowerAutomate"},{value:"agents",parentValue:"automationLogic",content:"Agents"}]:a.sortedRecordIds.map((e=>{var t,r,n,i=a.records[e];return{value:null!==(t=i.getFormattedValue("ConfigItemValue"))&&void 0!==t?t:"",parentValue:null!==(r=i.getFormattedValue("ConfigItemParentValue"))&&void 0!==r?r:void 0,content:null!==(n=i.getFormattedValue("ConfigItemDisplayName"))&&void 0!==n?n:"",defaultChecked:!0===i.getValue("ConfigItemChecked"),data:i}})));var l=null!==(n=t.parameters.InputEvent.raw)&&void 0!==n?n:"";l.startsWith("ShowFlair")&&l!==this.inputEventValue&&(this.inputEventValue=l,this.showFlair=!0),(t.updatedProperties.indexOf("SolutionDetails_dataset")>-1||!this.solutionDetails)&&this.solutionDetails!==t.parameters.SolutionDetails&&(this.solutionDetails=t.parameters.SolutionDetails,function(e,t){(function(e){return km(this,void 0,void 0,(function*(){if(e.error||void 0===e.paging.totalResultCount)return"<p>Error loading content</p>";var t=e.sortedRecordIds.map((t=>km(this,void 0,void 0,(function*(){var r,n,i,a=e.records[t],o=a.getValue("SolutionDetailItemKey"),s=a.getFormattedValue("SolutionDetailItemDisplayName"),l=a.getValue("SolutionDetailItemValue"),u=a.getValue("SolutionDetailItemVisible"),c=a.getValue("SolutionDetailItemHTML");if(!u)return"";if(Dm.initialize({startOnLoad:!0}),c)r=c;else switch(o.toLowerCase()){case"solutionoverview":r='\n        <div class="solution-overview">\n            <p>'.concat((i=l).description||"","</p>\n            <ul>\n                <li><strong>Solution Name:</strong> ").concat(i.displayName,"</li>\n                <li><strong>Unique Name:</strong> ").concat(i.uniqueName,"</li>\n                <li><strong>Version:</strong> ").concat(i.version,"</li>\n            </ul>\n        </div>\n    ");break;case"canvasapps":n=l.canvasApps,console.log(n),r=n.map(((e,t)=>{var r='\n                <div class="canvas-app">\n                    <h3>'.concat(e.appName,"</h3>\n                    <p>").concat(e.description||"","</p>\n                </div>\n            ");return t<n.length-1?"".concat(r,"<hr>"):r})).join("");break;case"solutionarchitecture":r=yield Em(l.mermaidCode);break;case"entityRelationshipDiagram":r=yield Em(l);break;default:r="<span>".concat(l,"</span>")}return'\n        <div class="solution-section">\n            '.concat(s?'\n                <h2 id="'.concat(o,'" style="\n                    font-size: 24px;\n                    font-weight: 400;\n                    color: #134D67;\n                    margin: 10px 0;\n                    font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n                ">\n                    ').concat(s,"\n                </h2>\n            "):"","\n            ").concat(r,"\n        </div>\n    ")})))),r=yield Promise.all(t);return"".concat(r.join(""))}))})(e).then((r=>{var n=e.sortedRecordIds.map((t=>{var r=e.records[t];return{SolutionDetailItemKey:r.getValue("SolutionDetailItemKey"),SolutionDetailItemDisplayName:r.getFormattedValue("SolutionDetailItemDisplayName"),SolutionDetailItemValue:r.getValue("SolutionDetailItemValue"),SolutionDetailItemVisible:r.getValue("SolutionDetailItemVisible"),SolutionDetailItemHTML:r.getValue("SolutionDetailItemHTML")}}));t(r,n)}))}(this.solutionDetails,((e,t)=>{this.contentHTML=e,this.datasetObjects=t}))),this.root.render(e.createElement(wp,{width:o,height:s,webAPI:t.webAPI,clientUrl:this.getEnvironmentURL(),isAuthoringMode:this.isAuthoringMode,sidePaneItems:this.configDetails,key:this.componentKey,contentHTML:this.contentHTML,datasetObjects:this.datasetObjects,solutionDetails:t.parameters.SolutionDetails,onConfigChange:this.onConfigChange.bind(this),onBackClick:this.onBackClick.bind(this),showFlair:this.showFlair,onFlairComplete:this.onFlairComplete.bind(this),enableTyping:t.parameters.EnableTyping.raw,recordId:null!==(i=t.parameters.RecordID.raw)&&void 0!==i?i:"",getPopoverRoot:this.getPopoverRoot,disabled:t.parameters.DisabledPreview.raw}))}onFlairComplete(){this.showFlair=!1}getEnvironmentURL(){try{return this.context.page.getClientUrl()}catch(e){return console.warn("Error retrieving client URL:",e),""}}triggerEvents(){try{this.eventstobeTriggered.includes("OnConfigChange")&&this.context.events.OnConfigChange(),this.eventstobeTriggered.includes("OnBackClick")&&this.context.events.OnBackClick()}catch(e){console.error("Error triggering event:",e)}this.triggerEvent=!1}onConfigChange(e){e&&e.length>0&&(this.eventstobeTriggered="OnConfigChange",this.selectedConfigValues=e.map((e=>e.value)).join(", "),this.triggerEvent=!0,this.notifyOutputChanged())}onBackClick(){this.triggerEvent=!0,this.eventstobeTriggered="OnBackClick".concat(Math.random().toString(36).substring(2,12)),console.log(this.eventstobeTriggered),this.notifyOutputChanged()}getPopoverRoot(){return document.querySelector("#__fluentv9popover__")||document.querySelector(".fui-FluentProvider")||document.body}getOutputs(){return{SelectedConfigValue:this.selectedConfigValues,TriggerEvents:this.eventstobeTriggered}}destroy(){}}})(),pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad=a})();
if (window.ComponentFramework && window.ComponentFramework.registerControl) {
	ComponentFramework.registerControl('PowerCAT.DocPreview', pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.DocPreview);
} else {
	var PowerCAT = PowerCAT || {};
	PowerCAT.DocPreview = pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad.DocPreview;
	pcf_tools_652ac3f36e1e4bca82eb3c1dc44e6fad = undefined;
}